var HM=Object.defineProperty,jM=Object.defineProperties,GM=Object.getOwnPropertyDescriptors,mw=Object.getOwnPropertySymbols,zM=Object.prototype.hasOwnProperty,$M=Object.prototype.propertyIsEnumerable,gw=(In,mt,D)=>mt in In?HM(In,mt,{enumerable:!0,configurable:!0,writable:!0,value:D}):In[mt]=D,_w=(In,mt)=>{for(var D in mt||(mt={}))zM.call(mt,D)&&gw(In,D,mt[D]);if(mw)for(var D of mw(mt))$M.call(mt,D)&&gw(In,D,mt[D]);return In},yw=(In,mt)=>jM(In,GM(mt));(self.webpackChunkfuncional_thai=self.webpackChunkfuncional_thai||[]).push([[179],{8255:In=>{function mt(D){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+D+"'");throw _.code="MODULE_NOT_FOUND",_})}mt.keys=()=>[],mt.resolve=mt,mt.id=8255,In.exports=mt},7238:(In,mt,D)=>{"use strict";D.d(mt,{l3:()=>y,_j:()=>_,LC:()=>m,ZN:()=>Qe,jt:()=>he,pV:()=>Ye,F4:()=>se,IO:()=>Xe,vP:()=>De,SB:()=>Ee,oB:()=>le,eR:()=>Te,X$:()=>d,ZE:()=>Qt,k1:()=>hn});class _{}class m{}const y="*";function d(Gt,Et){return{type:7,name:Gt,definitions:Et,options:{}}}function he(Gt,Et=null){return{type:4,styles:Et,timings:Gt}}function De(Gt,Et=null){return{type:2,steps:Gt,options:Et}}function le(Gt){return{type:6,styles:Gt,offset:null}}function Ee(Gt,Et,ut){return{type:0,name:Gt,styles:Et,options:ut}}function se(Gt){return{type:5,steps:Gt}}function Te(Gt,Et,ut=null){return{type:1,expr:Gt,animation:Et,options:ut}}function Ye(Gt=null){return{type:9,options:Gt}}function Xe(Gt,Et,ut=null){return{type:11,selector:Gt,animation:Et,options:ut}}function Me(Gt){Promise.resolve(null).then(Gt)}class Qe{constructor(Et=0,ut=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Et+ut}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Et=>Et()),this._onDoneFns=[])}onStart(Et){this._onStartFns.push(Et)}onDone(Et){this._onDoneFns.push(Et)}onDestroy(Et){this._onDestroyFns.push(Et)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Me(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Et=>Et()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Et=>Et()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Et){this._position=this.totalTime?Et*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Et){const ut="start"==Et?this._onStartFns:this._onDoneFns;ut.forEach(Ke=>Ke()),ut.length=0}}class Qt{constructor(Et){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Et;let ut=0,Ke=0,ze=0;const be=this.players.length;0==be?Me(()=>this._onFinish()):this.players.forEach(q=>{q.onDone(()=>{++ut==be&&this._onFinish()}),q.onDestroy(()=>{++Ke==be&&this._onDestroy()}),q.onStart(()=>{++ze==be&&this._onStart()})}),this.totalTime=this.players.reduce((q,ke)=>Math.max(q,ke.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Et=>Et()),this._onDoneFns=[])}init(){this.players.forEach(Et=>Et.init())}onStart(Et){this._onStartFns.push(Et)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Et=>Et()),this._onStartFns=[])}onDone(Et){this._onDoneFns.push(Et)}onDestroy(Et){this._onDestroyFns.push(Et)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Et=>Et.play())}pause(){this.players.forEach(Et=>Et.pause())}restart(){this.players.forEach(Et=>Et.restart())}finish(){this._onFinish(),this.players.forEach(Et=>Et.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Et=>Et.destroy()),this._onDestroyFns.forEach(Et=>Et()),this._onDestroyFns=[])}reset(){this.players.forEach(Et=>Et.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Et){const ut=Et*this.totalTime;this.players.forEach(Ke=>{const ze=Ke.totalTime?Math.min(1,ut/Ke.totalTime):1;Ke.setPosition(ze)})}getPosition(){const Et=this.players.reduce((ut,Ke)=>null===ut||Ke.totalTime>ut.totalTime?Ke:ut,null);return null!=Et?Et.getPosition():0}beforeDestroy(){this.players.forEach(Et=>{Et.beforeDestroy&&Et.beforeDestroy()})}triggerCallback(Et){const ut="start"==Et?this._onStartFns:this._onDoneFns;ut.forEach(Ke=>Ke()),ut.length=0}}const hn="!"},9238:(In,mt,D)=>{"use strict";D.d(mt,{rt:()=>Nt,s1:()=>jn,$s:()=>yt,Qr:()=>ft,kH:()=>Ct,mK:()=>We,Em:()=>ii,tE:()=>ln,qV:()=>je,qm:()=>_t,Kd:()=>Jn,X6:()=>ae,yG:()=>Le});var _=D(8583),m=D(7716),y=D(9765),d=D(5319),he=D(6215),U=D(5917),De=D(6461),le=D(3342),Ee=D(4395),se=D(5435),Te=D(8002),oe=D(5257),Ye=D(3653),tt=D(7519),Xe=D(6782),nt=D(9490),Me=D(521),Qe=D(8553);function Et(pe,we){return(pe.getAttribute(we)||"").match(/\S+/g)||[]}const ut="cdk-describedby-message-container",Ke="cdk-describedby-message",ze="cdk-describedby-host";let be=0;const q=new Map;let ke=null,yt=(()=>{class pe{constructor(Oe){this._document=Oe}describe(Oe,Tt,tn){if(!this._canBeDescribed(Oe,Tt))return;const Wn=Ot(Tt,tn);"string"!=typeof Tt?(un(Tt),q.set(Wn,{messageElement:Tt,referenceCount:0})):q.has(Wn)||this._createMessageElement(Tt,tn),this._isElementDescribedByMessage(Oe,Wn)||this._addMessageReference(Oe,Wn)}removeDescription(Oe,Tt,tn){if(!Tt||!this._isElementNode(Oe))return;const Wn=Ot(Tt,tn);if(this._isElementDescribedByMessage(Oe,Wn)&&this._removeMessageReference(Oe,Wn),"string"==typeof Tt){const hi=q.get(Wn);hi&&0===hi.referenceCount&&this._deleteMessageElement(Wn)}ke&&0===ke.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const Oe=this._document.querySelectorAll(`[${ze}]`);for(let Tt=0;Tt<Oe.length;Tt++)this._removeCdkDescribedByReferenceIds(Oe[Tt]),Oe[Tt].removeAttribute(ze);ke&&this._deleteMessagesContainer(),q.clear()}_createMessageElement(Oe,Tt){const tn=this._document.createElement("div");un(tn),tn.textContent=Oe,Tt&&tn.setAttribute("role",Tt),this._createMessagesContainer(),ke.appendChild(tn),q.set(Ot(Oe,Tt),{messageElement:tn,referenceCount:0})}_deleteMessageElement(Oe){const Tt=q.get(Oe),tn=Tt&&Tt.messageElement;ke&&tn&&ke.removeChild(tn),q.delete(Oe)}_createMessagesContainer(){if(!ke){const Oe=this._document.getElementById(ut);Oe&&Oe.parentNode&&Oe.parentNode.removeChild(Oe),ke=this._document.createElement("div"),ke.id=ut,ke.style.visibility="hidden",ke.classList.add("cdk-visually-hidden"),this._document.body.appendChild(ke)}}_deleteMessagesContainer(){ke&&ke.parentNode&&(ke.parentNode.removeChild(ke),ke=null)}_removeCdkDescribedByReferenceIds(Oe){const Tt=Et(Oe,"aria-describedby").filter(tn=>0!=tn.indexOf(Ke));Oe.setAttribute("aria-describedby",Tt.join(" "))}_addMessageReference(Oe,Tt){const tn=q.get(Tt);(function(pe,we,Oe){const Tt=Et(pe,we);Tt.some(tn=>tn.trim()==Oe.trim())||(Tt.push(Oe.trim()),pe.setAttribute(we,Tt.join(" ")))})(Oe,"aria-describedby",tn.messageElement.id),Oe.setAttribute(ze,""),tn.referenceCount++}_removeMessageReference(Oe,Tt){const tn=q.get(Tt);tn.referenceCount--,function(pe,we,Oe){const tn=Et(pe,we).filter(Wn=>Wn!=Oe.trim());tn.length?pe.setAttribute(we,tn.join(" ")):pe.removeAttribute(we)}(Oe,"aria-describedby",tn.messageElement.id),Oe.removeAttribute(ze)}_isElementDescribedByMessage(Oe,Tt){const tn=Et(Oe,"aria-describedby"),Wn=q.get(Tt),hi=Wn&&Wn.messageElement.id;return!!hi&&-1!=tn.indexOf(hi)}_canBeDescribed(Oe,Tt){if(!this._isElementNode(Oe))return!1;if(Tt&&"object"==typeof Tt)return!0;const tn=null==Tt?"":`${Tt}`.trim(),Wn=Oe.getAttribute("aria-label");return!(!tn||Wn&&Wn.trim()===tn)}_isElementNode(Oe){return Oe.nodeType===this._document.ELEMENT_NODE}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.LFG(_.K0))},pe.\u0275prov=m.Yz7({factory:function(){return new pe(m.LFG(_.K0))},token:pe,providedIn:"root"}),pe})();function Ot(pe,we){return"string"==typeof pe?`${we||""}/${pe}`:pe}function un(pe){pe.id||(pe.id=`${Ke}-${be++}`)}class Ut{constructor(we){this._items=we,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new y.xQ,this._typeaheadSubscription=d.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Oe=>Oe.disabled,this._pressedLetters=[],this.tabOut=new y.xQ,this.change=new y.xQ,we instanceof m.n_E&&we.changes.subscribe(Oe=>{if(this._activeItem){const tn=Oe.toArray().indexOf(this._activeItem);tn>-1&&tn!==this._activeItemIndex&&(this._activeItemIndex=tn)}})}skipPredicate(we){return this._skipPredicateFn=we,this}withWrap(we=!0){return this._wrap=we,this}withVerticalOrientation(we=!0){return this._vertical=we,this}withHorizontalOrientation(we){return this._horizontal=we,this}withAllowedModifierKeys(we){return this._allowedModifierKeys=we,this}withTypeAhead(we=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,le.b)(Oe=>this._pressedLetters.push(Oe)),(0,Ee.b)(we),(0,se.h)(()=>this._pressedLetters.length>0),(0,Te.U)(()=>this._pressedLetters.join(""))).subscribe(Oe=>{const Tt=this._getItemsArray();for(let tn=1;tn<Tt.length+1;tn++){const Wn=(this._activeItemIndex+tn)%Tt.length,hi=Tt[Wn];if(!this._skipPredicateFn(hi)&&0===hi.getLabel().toUpperCase().trim().indexOf(Oe)){this.setActiveItem(Wn);break}}this._pressedLetters=[]}),this}withHomeAndEnd(we=!0){return this._homeAndEnd=we,this}setActiveItem(we){const Oe=this._activeItem;this.updateActiveItem(we),this._activeItem!==Oe&&this.change.next(this._activeItemIndex)}onKeydown(we){const Oe=we.keyCode,tn=["altKey","ctrlKey","metaKey","shiftKey"].every(Wn=>!we[Wn]||this._allowedModifierKeys.indexOf(Wn)>-1);switch(Oe){case De.Mf:return void this.tabOut.next();case De.JH:if(this._vertical&&tn){this.setNextItemActive();break}return;case De.LH:if(this._vertical&&tn){this.setPreviousItemActive();break}return;case De.SV:if(this._horizontal&&tn){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case De.oh:if(this._horizontal&&tn){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case De.Sd:if(this._homeAndEnd&&tn){this.setFirstItemActive();break}return;case De.uR:if(this._homeAndEnd&&tn){this.setLastItemActive();break}return;default:return void((tn||(0,De.Vb)(we,"shiftKey"))&&(we.key&&1===we.key.length?this._letterKeyStream.next(we.key.toLocaleUpperCase()):(Oe>=De.A&&Oe<=De.Z||Oe>=De.xE&&Oe<=De.aO)&&this._letterKeyStream.next(String.fromCharCode(Oe))))}this._pressedLetters=[],we.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(we){const Oe=this._getItemsArray(),Tt="number"==typeof we?we:Oe.indexOf(we),tn=Oe[Tt];this._activeItem=null==tn?null:tn,this._activeItemIndex=Tt}_setActiveItemByDelta(we){this._wrap?this._setActiveInWrapMode(we):this._setActiveInDefaultMode(we)}_setActiveInWrapMode(we){const Oe=this._getItemsArray();for(let Tt=1;Tt<=Oe.length;Tt++){const tn=(this._activeItemIndex+we*Tt+Oe.length)%Oe.length;if(!this._skipPredicateFn(Oe[tn]))return void this.setActiveItem(tn)}}_setActiveInDefaultMode(we){this._setActiveItemByIndex(this._activeItemIndex+we,we)}_setActiveItemByIndex(we,Oe){const Tt=this._getItemsArray();if(Tt[we]){for(;this._skipPredicateFn(Tt[we]);)if(!Tt[we+=Oe])return;this.setActiveItem(we)}}_getItemsArray(){return this._items instanceof m.n_E?this._items.toArray():this._items}}class jn extends Ut{setActiveItem(we){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(we),this.activeItem&&this.activeItem.setActiveStyles()}}class ii extends Ut{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(we){return this._origin=we,this}setActiveItem(we){super.setActiveItem(we),this.activeItem&&this.activeItem.focus(this._origin)}}let Qn=(()=>{class pe{constructor(Oe){this._platform=Oe}isDisabled(Oe){return Oe.hasAttribute("disabled")}isVisible(Oe){return function(pe){return!!(pe.offsetWidth||pe.offsetHeight||"function"==typeof pe.getClientRects&&pe.getClientRects().length)}(Oe)&&"visible"===getComputedStyle(Oe).visibility}isTabbable(Oe){if(!this._platform.isBrowser)return!1;const Tt=function(pe){try{return pe.frameElement}catch(we){return null}}(function(pe){return pe.ownerDocument&&pe.ownerDocument.defaultView||window}(Oe));if(Tt&&(-1===bt(Tt)||!this.isVisible(Tt)))return!1;let tn=Oe.nodeName.toLowerCase(),Wn=bt(Oe);return Oe.hasAttribute("contenteditable")?-1!==Wn:!("iframe"===tn||"object"===tn||this._platform.WEBKIT&&this._platform.IOS&&!function(pe){let we=pe.nodeName.toLowerCase(),Oe="input"===we&&pe.type;return"text"===Oe||"password"===Oe||"select"===we||"textarea"===we}(Oe))&&("audio"===tn?!!Oe.hasAttribute("controls")&&-1!==Wn:"video"===tn?-1!==Wn&&(null!==Wn||this._platform.FIREFOX||Oe.hasAttribute("controls")):Oe.tabIndex>=0)}isFocusable(Oe,Tt){return function(pe){return!function(pe){return function(pe){return"input"==pe.nodeName.toLowerCase()}(pe)&&"hidden"==pe.type}(pe)&&(function(pe){let we=pe.nodeName.toLowerCase();return"input"===we||"select"===we||"button"===we||"textarea"===we}(pe)||function(pe){return function(pe){return"a"==pe.nodeName.toLowerCase()}(pe)&&pe.hasAttribute("href")}(pe)||pe.hasAttribute("contenteditable")||Pe(pe))}(Oe)&&!this.isDisabled(Oe)&&((null==Tt?void 0:Tt.ignoreVisibility)||this.isVisible(Oe))}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.LFG(Me.t4))},pe.\u0275prov=m.Yz7({factory:function(){return new pe(m.LFG(Me.t4))},token:pe,providedIn:"root"}),pe})();function Pe(pe){if(!pe.hasAttribute("tabindex")||void 0===pe.tabIndex)return!1;let we=pe.getAttribute("tabindex");return"-32768"!=we&&!(!we||isNaN(parseInt(we,10)))}function bt(pe){if(!Pe(pe))return null;const we=parseInt(pe.getAttribute("tabindex")||"",10);return isNaN(we)?-1:we}class rt{constructor(we,Oe,Tt,tn,Wn=!1){this._element=we,this._checker=Oe,this._ngZone=Tt,this._document=tn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Wn||this.attachAnchors()}get enabled(){return this._enabled}set enabled(we){this._enabled=we,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(we,this._startAnchor),this._toggleAnchorTabIndex(we,this._endAnchor))}destroy(){const we=this._startAnchor,Oe=this._endAnchor;we&&(we.removeEventListener("focus",this.startAnchorListener),we.parentNode&&we.parentNode.removeChild(we)),Oe&&(Oe.removeEventListener("focus",this.endAnchorListener),Oe.parentNode&&Oe.parentNode.removeChild(Oe)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(we){return new Promise(Oe=>{this._executeOnStable(()=>Oe(this.focusInitialElement(we)))})}focusFirstTabbableElementWhenReady(we){return new Promise(Oe=>{this._executeOnStable(()=>Oe(this.focusFirstTabbableElement(we)))})}focusLastTabbableElementWhenReady(we){return new Promise(Oe=>{this._executeOnStable(()=>Oe(this.focusLastTabbableElement(we)))})}_getRegionBoundary(we){let Oe=this._element.querySelectorAll(`[cdk-focus-region-${we}], [cdkFocusRegion${we}], [cdk-focus-${we}]`);for(let Tt=0;Tt<Oe.length;Tt++)Oe[Tt].hasAttribute(`cdk-focus-${we}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${we}', use 'cdkFocusRegion${we}' instead. The deprecated attribute will be removed in 8.0.0.`,Oe[Tt]):Oe[Tt].hasAttribute(`cdk-focus-region-${we}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${we}', use 'cdkFocusRegion${we}' instead. The deprecated attribute will be removed in 8.0.0.`,Oe[Tt]);return"start"==we?Oe.length?Oe[0]:this._getFirstTabbableElement(this._element):Oe.length?Oe[Oe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(we){const Oe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Oe){if(Oe.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",Oe),!this._checker.isFocusable(Oe)){const Tt=this._getFirstTabbableElement(Oe);return null==Tt||Tt.focus(we),!!Tt}return Oe.focus(we),!0}return this.focusFirstTabbableElement(we)}focusFirstTabbableElement(we){const Oe=this._getRegionBoundary("start");return Oe&&Oe.focus(we),!!Oe}focusLastTabbableElement(we){const Oe=this._getRegionBoundary("end");return Oe&&Oe.focus(we),!!Oe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(we){if(this._checker.isFocusable(we)&&this._checker.isTabbable(we))return we;let Oe=we.children||we.childNodes;for(let Tt=0;Tt<Oe.length;Tt++){let tn=Oe[Tt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Oe[Tt]):null;if(tn)return tn}return null}_getLastTabbableElement(we){if(this._checker.isFocusable(we)&&this._checker.isTabbable(we))return we;let Oe=we.children||we.childNodes;for(let Tt=Oe.length-1;Tt>=0;Tt--){let tn=Oe[Tt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Oe[Tt]):null;if(tn)return tn}return null}_createAnchor(){const we=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,we),we.classList.add("cdk-visually-hidden"),we.classList.add("cdk-focus-trap-anchor"),we.setAttribute("aria-hidden","true"),we}_toggleAnchorTabIndex(we,Oe){we?Oe.setAttribute("tabindex","0"):Oe.removeAttribute("tabindex")}toggleAnchors(we){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(we,this._startAnchor),this._toggleAnchorTabIndex(we,this._endAnchor))}_executeOnStable(we){this._ngZone.isStable?we():this._ngZone.onStable.pipe((0,oe.q)(1)).subscribe(we)}}let je=(()=>{class pe{constructor(Oe,Tt,tn){this._checker=Oe,this._ngZone=Tt,this._document=tn}create(Oe,Tt=!1){return new rt(Oe,this._checker,this._ngZone,this._document,Tt)}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.LFG(Qn),m.LFG(m.R0b),m.LFG(_.K0))},pe.\u0275prov=m.Yz7({factory:function(){return new pe(m.LFG(Qn),m.LFG(m.R0b),m.LFG(_.K0))},token:pe,providedIn:"root"}),pe})(),We=(()=>{class pe{constructor(Oe,Tt,tn){this._elementRef=Oe,this._focusTrapFactory=Tt,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(Oe){this.focusTrap.enabled=(0,nt.Ig)(Oe)}get autoCapture(){return this._autoCapture}set autoCapture(Oe){this._autoCapture=(0,nt.Ig)(Oe)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Oe){const Tt=Oe.autoCapture;Tt&&!Tt.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,Me.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.Y36(m.SBq),m.Y36(je),m.Y36(_.K0))},pe.\u0275dir=m.lG2({type:pe,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[m.TTD]}),pe})();function ae(pe){return 0===pe.offsetX&&0===pe.offsetY}function Le(pe){const we=pe.touches&&pe.touches[0]||pe.changedTouches&&pe.changedTouches[0];return!(!we||-1!==we.identifier||null!=we.radiusX&&1!==we.radiusX||null!=we.radiusY&&1!==we.radiusY)}"undefined"!=typeof Element&&Element;const ge=new m.OlP("cdk-input-modality-detector-options"),Ue={ignoreKeys:[De.zL,De.jx,De.b2,De.MW,De.JU]},an=(0,Me.i$)({passive:!0,capture:!0});let Tn=(()=>{class pe{constructor(Oe,Tt,tn,Wn){this._platform=Oe,this._mostRecentTarget=null,this._modality=new he.X(null),this._lastTouchMs=0,this._onKeydown=hi=>{var xi,Ui;(null===(Ui=null===(xi=this._options)||void 0===xi?void 0:xi.ignoreKeys)||void 0===Ui?void 0:Ui.some(Wi=>Wi===hi.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,Me.sA)(hi))},this._onMousedown=hi=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ae(hi)?"keyboard":"mouse"),this._mostRecentTarget=(0,Me.sA)(hi))},this._onTouchstart=hi=>{Le(hi)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,Me.sA)(hi))},this._options=Object.assign(Object.assign({},Ue),Wn),this.modalityDetected=this._modality.pipe((0,Ye.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,tt.x)()),Oe.isBrowser&&Tt.runOutsideAngular(()=>{tn.addEventListener("keydown",this._onKeydown,an),tn.addEventListener("mousedown",this._onMousedown,an),tn.addEventListener("touchstart",this._onTouchstart,an)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,an),document.removeEventListener("mousedown",this._onMousedown,an),document.removeEventListener("touchstart",this._onTouchstart,an))}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.LFG(Me.t4),m.LFG(m.R0b),m.LFG(_.K0),m.LFG(ge,8))},pe.\u0275prov=m.Yz7({factory:function(){return new pe(m.LFG(Me.t4),m.LFG(m.R0b),m.LFG(_.K0),m.LFG(ge,8))},token:pe,providedIn:"root"}),pe})();const Nn=new m.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),ei=new m.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Jn=(()=>{class pe{constructor(Oe,Tt,tn,Wn){this._ngZone=Tt,this._defaultOptions=Wn,this._document=tn,this._liveElement=Oe||this._createLiveElement()}announce(Oe,...Tt){const tn=this._defaultOptions;let Wn,hi;return 1===Tt.length&&"number"==typeof Tt[0]?hi=Tt[0]:[Wn,hi]=Tt,this.clear(),clearTimeout(this._previousTimeout),Wn||(Wn=tn&&tn.politeness?tn.politeness:"polite"),null==hi&&tn&&(hi=tn.duration),this._liveElement.setAttribute("aria-live",Wn),this._ngZone.runOutsideAngular(()=>new Promise(xi=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Oe,xi(),"number"==typeof hi&&(this._previousTimeout=setTimeout(()=>this.clear(),hi))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const Oe="cdk-live-announcer-element",Tt=this._document.getElementsByClassName(Oe),tn=this._document.createElement("div");for(let Wn=0;Wn<Tt.length;Wn++)Tt[Wn].parentNode.removeChild(Tt[Wn]);return tn.classList.add(Oe),tn.classList.add("cdk-visually-hidden"),tn.setAttribute("aria-atomic","true"),tn.setAttribute("aria-live","polite"),this._document.body.appendChild(tn),tn}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.LFG(Nn,8),m.LFG(m.R0b),m.LFG(_.K0),m.LFG(ei,8))},pe.\u0275prov=m.Yz7({factory:function(){return new pe(m.LFG(Nn,8),m.LFG(m.R0b),m.LFG(_.K0),m.LFG(ei,8))},token:pe,providedIn:"root"}),pe})(),ft=(()=>{class pe{constructor(Oe,Tt,tn,Wn){this._elementRef=Oe,this._liveAnnouncer=Tt,this._contentObserver=tn,this._ngZone=Wn,this._politeness="polite"}get politeness(){return this._politeness}set politeness(Oe){this._politeness="off"===Oe||"assertive"===Oe?Oe:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const Tt=this._elementRef.nativeElement.textContent;Tt!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(Tt,this._politeness),this._previousAnnouncedText=Tt)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.Y36(m.SBq),m.Y36(Jn),m.Y36(Qe.yq),m.Y36(m.R0b))},pe.\u0275dir=m.lG2({type:pe,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),pe})();const gt=new m.OlP("cdk-focus-monitor-default-options"),wt=(0,Me.i$)({passive:!0,capture:!0});let ln=(()=>{class pe{constructor(Oe,Tt,tn,Wn,hi){this._ngZone=Oe,this._platform=Tt,this._inputModalityDetector=tn,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new y.xQ,this._rootNodeFocusAndBlurListener=xi=>{const Ui=(0,Me.sA)(xi),Wi="focus"===xi.type?this._onFocus:this._onBlur;for(let Ai=Ui;Ai;Ai=Ai.parentElement)Wi.call(this,xi,Ai)},this._document=Wn,this._detectionMode=(null==hi?void 0:hi.detectionMode)||0}monitor(Oe,Tt=!1){const tn=(0,nt.fI)(Oe);if(!this._platform.isBrowser||1!==tn.nodeType)return(0,U.of)(null);const Wn=(0,Me.kV)(tn)||this._getDocument(),hi=this._elementInfo.get(tn);if(hi)return Tt&&(hi.checkChildren=!0),hi.subject;const xi={checkChildren:Tt,subject:new y.xQ,rootNode:Wn};return this._elementInfo.set(tn,xi),this._registerGlobalListeners(xi),xi.subject}stopMonitoring(Oe){const Tt=(0,nt.fI)(Oe),tn=this._elementInfo.get(Tt);tn&&(tn.subject.complete(),this._setClasses(Tt),this._elementInfo.delete(Tt),this._removeGlobalListeners(tn))}focusVia(Oe,Tt,tn){const Wn=(0,nt.fI)(Oe);Wn===this._getDocument().activeElement?this._getClosestElementsInfo(Wn).forEach(([xi,Ui])=>this._originChanged(xi,Tt,Ui)):(this._setOrigin(Tt),"function"==typeof Wn.focus&&Wn.focus(tn))}ngOnDestroy(){this._elementInfo.forEach((Oe,Tt)=>this.stopMonitoring(Tt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(Oe,Tt,tn){tn?Oe.classList.add(Tt):Oe.classList.remove(Tt)}_getFocusOrigin(Oe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Oe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(Oe){return 1===this._detectionMode||!!(null==Oe?void 0:Oe.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(Oe,Tt){this._toggleClass(Oe,"cdk-focused",!!Tt),this._toggleClass(Oe,"cdk-touch-focused","touch"===Tt),this._toggleClass(Oe,"cdk-keyboard-focused","keyboard"===Tt),this._toggleClass(Oe,"cdk-mouse-focused","mouse"===Tt),this._toggleClass(Oe,"cdk-program-focused","program"===Tt)}_setOrigin(Oe,Tt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Oe,this._originFromTouchInteraction="touch"===Oe&&Tt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Oe,Tt){const tn=this._elementInfo.get(Tt),Wn=(0,Me.sA)(Oe);!tn||!tn.checkChildren&&Tt!==Wn||this._originChanged(Tt,this._getFocusOrigin(Wn),tn)}_onBlur(Oe,Tt){const tn=this._elementInfo.get(Tt);!tn||tn.checkChildren&&Oe.relatedTarget instanceof Node&&Tt.contains(Oe.relatedTarget)||(this._setClasses(Tt),this._emitOrigin(tn.subject,null))}_emitOrigin(Oe,Tt){this._ngZone.run(()=>Oe.next(Tt))}_registerGlobalListeners(Oe){if(!this._platform.isBrowser)return;const Tt=Oe.rootNode,tn=this._rootNodeFocusListenerCount.get(Tt)||0;tn||this._ngZone.runOutsideAngular(()=>{Tt.addEventListener("focus",this._rootNodeFocusAndBlurListener,wt),Tt.addEventListener("blur",this._rootNodeFocusAndBlurListener,wt)}),this._rootNodeFocusListenerCount.set(Tt,tn+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Xe.R)(this._stopInputModalityDetector)).subscribe(Wn=>{this._setOrigin(Wn,!0)}))}_removeGlobalListeners(Oe){const Tt=Oe.rootNode;if(this._rootNodeFocusListenerCount.has(Tt)){const tn=this._rootNodeFocusListenerCount.get(Tt);tn>1?this._rootNodeFocusListenerCount.set(Tt,tn-1):(Tt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wt),Tt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wt),this._rootNodeFocusListenerCount.delete(Tt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Oe,Tt,tn){this._setClasses(Oe,Tt),this._emitOrigin(tn.subject,Tt),this._lastFocusOrigin=Tt}_getClosestElementsInfo(Oe){const Tt=[];return this._elementInfo.forEach((tn,Wn)=>{(Wn===Oe||tn.checkChildren&&Wn.contains(Oe))&&Tt.push([Wn,tn])}),Tt}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.LFG(m.R0b),m.LFG(Me.t4),m.LFG(Tn),m.LFG(_.K0,8),m.LFG(gt,8))},pe.\u0275prov=m.Yz7({factory:function(){return new pe(m.LFG(m.R0b),m.LFG(Me.t4),m.LFG(Tn),m.LFG(_.K0,8),m.LFG(gt,8))},token:pe,providedIn:"root"}),pe})(),Ct=(()=>{class pe{constructor(Oe,Tt){this._elementRef=Oe,this._focusMonitor=Tt,this.cdkFocusChange=new m.vpe}ngAfterViewInit(){const Oe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Oe,1===Oe.nodeType&&Oe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Tt=>this.cdkFocusChange.emit(Tt))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.Y36(m.SBq),m.Y36(ln))},pe.\u0275dir=m.lG2({type:pe,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),pe})();const nn="cdk-high-contrast-black-on-white",Rn="cdk-high-contrast-white-on-black",Bn="cdk-high-contrast-active";let _t=(()=>{class pe{constructor(Oe,Tt){this._platform=Oe,this._document=Tt}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Oe=this._document.createElement("div");Oe.style.backgroundColor="rgb(1,2,3)",Oe.style.position="absolute",this._document.body.appendChild(Oe);const Tt=this._document.defaultView||window,tn=Tt&&Tt.getComputedStyle?Tt.getComputedStyle(Oe):null,Wn=(tn&&tn.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(Oe),Wn){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Oe=this._document.body.classList;Oe.remove(Bn),Oe.remove(nn),Oe.remove(Rn),this._hasCheckedHighContrastMode=!0;const Tt=this.getHighContrastMode();1===Tt?(Oe.add(Bn),Oe.add(nn)):2===Tt&&(Oe.add(Bn),Oe.add(Rn))}}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.LFG(Me.t4),m.LFG(_.K0))},pe.\u0275prov=m.Yz7({factory:function(){return new pe(m.LFG(Me.t4),m.LFG(_.K0))},token:pe,providedIn:"root"}),pe})(),Nt=(()=>{class pe{constructor(Oe){Oe._applyBodyHighContrastModeCssClasses()}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(m.LFG(_t))},pe.\u0275mod=m.oAB({type:pe}),pe.\u0275inj=m.cJS({imports:[[Me.ud,Qe.Q8]]}),pe})()},946:(In,mt,D)=>{"use strict";D.d(mt,{vT:()=>De,Is:()=>he});var _=D(7716),m=D(8583);const y=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,_.f3M)(m.K0)}});let he=(()=>{class le{constructor(se){if(this.value="ltr",this.change=new _.vpe,se){const oe=se.documentElement?se.documentElement.dir:null,Ye=(se.body?se.body.dir:null)||oe;this.value="ltr"===Ye||"rtl"===Ye?Ye:"ltr"}}ngOnDestroy(){this.change.complete()}}return le.\u0275fac=function(se){return new(se||le)(_.LFG(y,8))},le.\u0275prov=_.Yz7({factory:function(){return new le(_.LFG(y,8))},token:le,providedIn:"root"}),le})(),De=(()=>{class le{}return le.\u0275fac=function(se){return new(se||le)},le.\u0275mod=_.oAB({type:le}),le.\u0275inj=_.cJS({}),le})()},8345:(In,mt,D)=>{"use strict";D.d(mt,{P3:()=>De,o2:()=>he,Ov:()=>se,yy:()=>le,eX:()=>Ee,k:()=>Ye,Z9:()=>U});var _=D(5639),m=D(5917),y=D(9765),d=D(7716);class he{}function U(tt){return tt&&"function"==typeof tt.connect}class De extends he{constructor(Xe){super(),this._data=Xe}connect(){return(0,_.b)(this._data)?this._data:(0,m.of)(this._data)}disconnect(){}}class le{applyChanges(Xe,nt,Me,Qe,Qt){Xe.forEachOperation((hn,Gt,Et)=>{let ut,Ke;if(null==hn.previousIndex){const ze=Me(hn,Gt,Et);ut=nt.createEmbeddedView(ze.templateRef,ze.context,ze.index),Ke=1}else null==Et?(nt.remove(Gt),Ke=3):(ut=nt.get(Gt),nt.move(ut,Et),Ke=2);Qt&&Qt({context:null==ut?void 0:ut.context,operation:Ke,record:hn})})}detach(){}}class Ee{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Xe,nt,Me,Qe,Qt){Xe.forEachOperation((hn,Gt,Et)=>{let ut,Ke;null==hn.previousIndex?(ut=this._insertView(()=>Me(hn,Gt,Et),Et,nt,Qe(hn)),Ke=ut?1:0):null==Et?(this._detachAndCacheView(Gt,nt),Ke=3):(ut=this._moveView(Gt,Et,nt,Qe(hn)),Ke=2),Qt&&Qt({context:null==ut?void 0:ut.context,operation:Ke,record:hn})})}detach(){for(const Xe of this._viewCache)Xe.destroy();this._viewCache=[]}_insertView(Xe,nt,Me,Qe){const Qt=this._insertViewFromCache(nt,Me);if(Qt)return void(Qt.context.$implicit=Qe);const hn=Xe();return Me.createEmbeddedView(hn.templateRef,hn.context,hn.index)}_detachAndCacheView(Xe,nt){const Me=nt.detach(Xe);this._maybeCacheView(Me,nt)}_moveView(Xe,nt,Me,Qe){const Qt=Me.get(Xe);return Me.move(Qt,nt),Qt.context.$implicit=Qe,Qt}_maybeCacheView(Xe,nt){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Xe);else{const Me=nt.indexOf(Xe);-1===Me?Xe.destroy():nt.remove(Me)}}_insertViewFromCache(Xe,nt){const Me=this._viewCache.pop();return Me&&nt.insert(Me,Xe),Me||null}}class se{constructor(Xe=!1,nt,Me=!0){this._multiple=Xe,this._emitChanges=Me,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new y.xQ,nt&&nt.length&&(Xe?nt.forEach(Qe=>this._markSelected(Qe)):this._markSelected(nt[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Xe){this._verifyValueAssignment(Xe),Xe.forEach(nt=>this._markSelected(nt)),this._emitChangeEvent()}deselect(...Xe){this._verifyValueAssignment(Xe),Xe.forEach(nt=>this._unmarkSelected(nt)),this._emitChangeEvent()}toggle(Xe){this.isSelected(Xe)?this.deselect(Xe):this.select(Xe)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(Xe){return this._selection.has(Xe)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Xe){this._multiple&&this.selected&&this._selected.sort(Xe)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Xe){this.isSelected(Xe)||(this._multiple||this._unmarkAll(),this._selection.add(Xe),this._emitChanges&&this._selectedToEmit.push(Xe))}_unmarkSelected(Xe){this.isSelected(Xe)&&(this._selection.delete(Xe),this._emitChanges&&this._deselectedToEmit.push(Xe))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Xe=>this._unmarkSelected(Xe))}_verifyValueAssignment(Xe){}}const Ye=new d.OlP("_ViewRepeater")},6461:(In,mt,D)=>{"use strict";D.d(mt,{A:()=>Zt,zL:()=>le,ZH:()=>m,jx:()=>De,JH:()=>hn,uR:()=>Xe,K5:()=>he,hY:()=>Te,Sd:()=>nt,oh:()=>Me,b2:()=>mr,MW:()=>Bt,aO:()=>ii,VM:()=>tt,Ku:()=>Ye,SV:()=>Qt,JU:()=>U,L_:()=>oe,Mf:()=>y,LH:()=>Qe,Z:()=>Ue,xE:()=>ze,Vb:()=>Wr});const m=8,y=9,he=13,U=16,De=17,le=18,Te=27,oe=32,Ye=33,tt=34,Xe=35,nt=36,Me=37,Qe=38,Qt=39,hn=40,ze=48,ii=57,Zt=65,Ue=90,Bt=91,mr=224;function Wr(Es,...Mr){return Mr.length?Mr.some(lr=>Es[lr]):Es.altKey||Es.shiftKey||Es.ctrlKey||Es.metaKey}},8553:(In,mt,D)=>{"use strict";D.d(mt,{wD:()=>le,yq:()=>De,Q8:()=>Ee});var _=D(9490),m=D(7716),y=D(7574),d=D(9765),he=D(4395);let U=(()=>{class se{create(oe){return"undefined"==typeof MutationObserver?null:new MutationObserver(oe)}}return se.\u0275fac=function(oe){return new(oe||se)},se.\u0275prov=m.Yz7({factory:function(){return new se},token:se,providedIn:"root"}),se})(),De=(()=>{class se{constructor(oe){this._mutationObserverFactory=oe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((oe,Ye)=>this._cleanupObserver(Ye))}observe(oe){const Ye=(0,_.fI)(oe);return new y.y(tt=>{const nt=this._observeElement(Ye).subscribe(tt);return()=>{nt.unsubscribe(),this._unobserveElement(Ye)}})}_observeElement(oe){if(this._observedElements.has(oe))this._observedElements.get(oe).count++;else{const Ye=new d.xQ,tt=this._mutationObserverFactory.create(Xe=>Ye.next(Xe));tt&&tt.observe(oe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(oe,{observer:tt,stream:Ye,count:1})}return this._observedElements.get(oe).stream}_unobserveElement(oe){this._observedElements.has(oe)&&(this._observedElements.get(oe).count--,this._observedElements.get(oe).count||this._cleanupObserver(oe))}_cleanupObserver(oe){if(this._observedElements.has(oe)){const{observer:Ye,stream:tt}=this._observedElements.get(oe);Ye&&Ye.disconnect(),tt.complete(),this._observedElements.delete(oe)}}}return se.\u0275fac=function(oe){return new(oe||se)(m.LFG(U))},se.\u0275prov=m.Yz7({factory:function(){return new se(m.LFG(U))},token:se,providedIn:"root"}),se})(),le=(()=>{class se{constructor(oe,Ye,tt){this._contentObserver=oe,this._elementRef=Ye,this._ngZone=tt,this.event=new m.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(oe){this._disabled=(0,_.Ig)(oe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(oe){this._debounce=(0,_.su)(oe),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const oe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?oe.pipe((0,he.b)(this.debounce)):oe).subscribe(this.event)})}_unsubscribe(){var oe;null===(oe=this._currentSubscription)||void 0===oe||oe.unsubscribe()}}return se.\u0275fac=function(oe){return new(oe||se)(m.Y36(De),m.Y36(m.SBq),m.Y36(m.R0b))},se.\u0275dir=m.lG2({type:se,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),se})(),Ee=(()=>{class se{}return se.\u0275fac=function(oe){return new(oe||se)},se.\u0275mod=m.oAB({type:se}),se.\u0275inj=m.cJS({providers:[U]}),se})()},625:(In,mt,D)=>{"use strict";D.d(mt,{pI:()=>fn,xu:()=>at,_G:()=>Ae,aV:()=>rt,X_:()=>q,Xj:()=>Qn,U8:()=>Ln});var _=D(2692),m=D(7716),y=D(521),d=D(946),he=D(8583),U=D(9490),De=D(7636),le=D(9765),Ee=D(5319),se=D(6682),Te=D(7393);class Ye{constructor(B,H){this.predicate=B,this.inclusive=H}call(B,H){return H.subscribe(new tt(B,this.predicate,this.inclusive))}}class tt extends Te.L{constructor(B,H,ae){super(B),this.predicate=H,this.inclusive=ae,this.index=0}_next(B){const H=this.destination;let ae;try{ae=this.predicate(B,this.index++)}catch(Le){return void H.error(Le)}this.nextOrComplete(B,ae)}nextOrComplete(B,H){const ae=this.destination;Boolean(H)?ae.next(B):(this.inclusive&&ae.next(B),ae.complete())}}var Xe=D(5257),nt=D(6782),Me=D(6461);const Qe=(0,y.Mq)();class Qt{constructor(B,H){this._viewportRuler=B,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=H}attach(){}enable(){if(this._canBeEnabled()){const B=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=B.style.left||"",this._previousHTMLStyles.top=B.style.top||"",B.style.left=(0,U.HM)(-this._previousScrollPosition.left),B.style.top=(0,U.HM)(-this._previousScrollPosition.top),B.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const B=this._document.documentElement,ae=B.style,Le=this._document.body.style,ge=ae.scrollBehavior||"",Ue=Le.scrollBehavior||"";this._isEnabled=!1,ae.left=this._previousHTMLStyles.left,ae.top=this._previousHTMLStyles.top,B.classList.remove("cdk-global-scrollblock"),Qe&&(ae.scrollBehavior=Le.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Qe&&(ae.scrollBehavior=ge,Le.scrollBehavior=Ue)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const H=this._document.body,ae=this._viewportRuler.getViewportSize();return H.scrollHeight>ae.height||H.scrollWidth>ae.width}}class Gt{constructor(B,H,ae,Le){this._scrollDispatcher=B,this._ngZone=H,this._viewportRuler=ae,this._config=Le,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(B){this._overlayRef=B}enable(){if(this._scrollSubscription)return;const B=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=B.subscribe(()=>{const H=this._viewportRuler.getViewportScrollPosition().top;Math.abs(H-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=B.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Et{enable(){}disable(){}attach(){}}function ut(ue,B){return B.some(H=>ue.bottom<H.top||ue.top>H.bottom||ue.right<H.left||ue.left>H.right)}function Ke(ue,B){return B.some(H=>ue.top<H.top||ue.bottom>H.bottom||ue.left<H.left||ue.right>H.right)}class ze{constructor(B,H,ae,Le){this._scrollDispatcher=B,this._viewportRuler=H,this._ngZone=ae,this._config=Le,this._scrollSubscription=null}attach(B){this._overlayRef=B}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const H=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ae,height:Le}=this._viewportRuler.getViewportSize();ut(H,[{width:ae,height:Le,bottom:Le,right:ae,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let be=(()=>{class ue{constructor(H,ae,Le,ge){this._scrollDispatcher=H,this._viewportRuler=ae,this._ngZone=Le,this.noop=()=>new Et,this.close=Ue=>new Gt(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ue),this.block=()=>new Qt(this._viewportRuler,this._document),this.reposition=Ue=>new ze(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ue),this._document=ge}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(_.mF),m.LFG(_.rL),m.LFG(m.R0b),m.LFG(he.K0))},ue.\u0275prov=m.Yz7({factory:function(){return new ue(m.LFG(_.mF),m.LFG(_.rL),m.LFG(m.R0b),m.LFG(he.K0))},token:ue,providedIn:"root"}),ue})();class q{constructor(B){if(this.scrollStrategy=new Et,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,B){const H=Object.keys(B);for(const ae of H)void 0!==B[ae]&&(this[ae]=B[ae])}}}class ke{constructor(B,H,ae,Le,ge){this.offsetX=ae,this.offsetY=Le,this.panelClass=ge,this.originX=B.originX,this.originY=B.originY,this.overlayX=H.overlayX,this.overlayY=H.overlayY}}class Ot{constructor(B,H){this.connectionPair=B,this.scrollableViewProperties=H}}let jn=(()=>{class ue{constructor(H){this._attachedOverlays=[],this._document=H}ngOnDestroy(){this.detach()}add(H){this.remove(H),this._attachedOverlays.push(H)}remove(H){const ae=this._attachedOverlays.indexOf(H);ae>-1&&this._attachedOverlays.splice(ae,1),0===this._attachedOverlays.length&&this.detach()}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(he.K0))},ue.\u0275prov=m.Yz7({factory:function(){return new ue(m.LFG(he.K0))},token:ue,providedIn:"root"}),ue})(),ii=(()=>{class ue extends jn{constructor(H){super(H),this._keydownListener=ae=>{const Le=this._attachedOverlays;for(let ge=Le.length-1;ge>-1;ge--)if(Le[ge]._keydownEvents.observers.length>0){Le[ge]._keydownEvents.next(ae);break}}}add(H){super.add(H),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(he.K0))},ue.\u0275prov=m.Yz7({factory:function(){return new ue(m.LFG(he.K0))},token:ue,providedIn:"root"}),ue})(),Gn=(()=>{class ue extends jn{constructor(H,ae){super(H),this._platform=ae,this._cursorStyleIsSet=!1,this._pointerDownListener=Le=>{this._pointerDownEventTarget=(0,y.sA)(Le)},this._clickListener=Le=>{const ge=(0,y.sA)(Le),Ue="click"===Le.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ge;this._pointerDownEventTarget=null;const Bt=this._attachedOverlays.slice();for(let an=Bt.length-1;an>-1;an--){const Tn=Bt[an];if(!(Tn._outsidePointerEvents.observers.length<1)&&Tn.hasAttached()){if(Tn.overlayElement.contains(ge)||Tn.overlayElement.contains(Ue))break;Tn._outsidePointerEvents.next(Le)}}}}add(H){if(super.add(H),!this._isAttached){const ae=this._document.body;ae.addEventListener("pointerdown",this._pointerDownListener,!0),ae.addEventListener("click",this._clickListener,!0),ae.addEventListener("auxclick",this._clickListener,!0),ae.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ae.style.cursor,ae.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const H=this._document.body;H.removeEventListener("pointerdown",this._pointerDownListener,!0),H.removeEventListener("click",this._clickListener,!0),H.removeEventListener("auxclick",this._clickListener,!0),H.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(H.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(he.K0),m.LFG(y.t4))},ue.\u0275prov=m.Yz7({factory:function(){return new ue(m.LFG(he.K0),m.LFG(y.t4))},token:ue,providedIn:"root"}),ue})(),Qn=(()=>{class ue{constructor(H,ae){this._platform=ae,this._document=H}ngOnDestroy(){const H=this._containerElement;H&&H.parentNode&&H.parentNode.removeChild(H)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const H="cdk-overlay-container";if(this._platform.isBrowser||(0,y.Oy)()){const Le=this._document.querySelectorAll(`.${H}[platform="server"], .${H}[platform="test"]`);for(let ge=0;ge<Le.length;ge++)Le[ge].parentNode.removeChild(Le[ge])}const ae=this._document.createElement("div");ae.classList.add(H),(0,y.Oy)()?ae.setAttribute("platform","test"):this._platform.isBrowser||ae.setAttribute("platform","server"),this._document.body.appendChild(ae),this._containerElement=ae}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(he.K0),m.LFG(y.t4))},ue.\u0275prov=m.Yz7({factory:function(){return new ue(m.LFG(he.K0),m.LFG(y.t4))},token:ue,providedIn:"root"}),ue})();class kn{constructor(B,H,ae,Le,ge,Ue,Bt,an,Tn){this._portalOutlet=B,this._host=H,this._pane=ae,this._config=Le,this._ngZone=ge,this._keyboardDispatcher=Ue,this._document=Bt,this._location=an,this._outsideClickDispatcher=Tn,this._backdropElement=null,this._backdropClick=new le.xQ,this._attachments=new le.xQ,this._detachments=new le.xQ,this._locationChanges=Ee.w.EMPTY,this._backdropClickHandler=Nn=>this._backdropClick.next(Nn),this._keydownEvents=new le.xQ,this._outsidePointerEvents=new le.xQ,Le.scrollStrategy&&(this._scrollStrategy=Le.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Le.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(B){let H=this._portalOutlet.attach(B);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Xe.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),H}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const B=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),B}dispose(){const B=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,B&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(B){B!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=B,this.hasAttached()&&(B.attach(this),this.updatePosition()))}updateSize(B){this._config=Object.assign(Object.assign({},this._config),B),this._updateElementSize()}setDirection(B){this._config=Object.assign(Object.assign({},this._config),{direction:B}),this._updateElementDirection()}addPanelClass(B){this._pane&&this._toggleClasses(this._pane,B,!0)}removePanelClass(B){this._pane&&this._toggleClasses(this._pane,B,!1)}getDirection(){const B=this._config.direction;return B?"string"==typeof B?B:B.value:"ltr"}updateScrollStrategy(B){B!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=B,this.hasAttached()&&(B.attach(this),B.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const B=this._pane.style;B.width=(0,U.HM)(this._config.width),B.height=(0,U.HM)(this._config.height),B.minWidth=(0,U.HM)(this._config.minWidth),B.minHeight=(0,U.HM)(this._config.minHeight),B.maxWidth=(0,U.HM)(this._config.maxWidth),B.maxHeight=(0,U.HM)(this._config.maxHeight)}_togglePointerEvents(B){this._pane.style.pointerEvents=B?"":"none"}_attachBackdrop(){const B="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(B)})}):this._backdropElement.classList.add(B)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const B=this._backdropElement;if(!B)return;let H;const ae=()=>{B&&(B.removeEventListener("click",this._backdropClickHandler),B.removeEventListener("transitionend",ae),this._disposeBackdrop(B)),this._config.backdropClass&&this._toggleClasses(B,this._config.backdropClass,!1),clearTimeout(H)};B.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{B.addEventListener("transitionend",ae)}),B.style.pointerEvents="none",H=this._ngZone.runOutsideAngular(()=>setTimeout(ae,500))}_toggleClasses(B,H,ae){const Le=B.classList;(0,U.Eq)(H).forEach(ge=>{ge&&(ae?Le.add(ge):Le.remove(ge))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const B=this._ngZone.onStable.pipe((0,nt.R)((0,se.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),B.unsubscribe())})})}_disposeScrollStrategy(){const B=this._scrollStrategy;B&&(B.disable(),B.detach&&B.detach())}_disposeBackdrop(B){B&&(B.parentNode&&B.parentNode.removeChild(B),this._backdropElement===B&&(this._backdropElement=null))}}const Rt="cdk-overlay-connected-position-bounding-box",Zt=/([A-Za-z%]+)$/;class Ae{constructor(B,H,ae,Le,ge){this._viewportRuler=H,this._document=ae,this._platform=Le,this._overlayContainer=ge,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new le.xQ,this._resizeSubscription=Ee.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(B)}get positions(){return this._preferredPositions}attach(B){this._validatePositions(),B.hostElement.classList.add(Rt),this._overlayRef=B,this._boundingBox=B.hostElement,this._pane=B.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const B=this._originRect,H=this._overlayRect,ae=this._viewportRect,Le=[];let ge;for(let Ue of this._preferredPositions){let Bt=this._getOriginPoint(B,Ue),an=this._getOverlayPoint(Bt,H,Ue),Tn=this._getOverlayFit(an,H,ae,Ue);if(Tn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ue,Bt);this._canFitWithFlexibleDimensions(Tn,an,ae)?Le.push({position:Ue,origin:Bt,overlayRect:H,boundingBoxRect:this._calculateBoundingBoxRect(Bt,Ue)}):(!ge||ge.overlayFit.visibleArea<Tn.visibleArea)&&(ge={overlayFit:Tn,overlayPoint:an,originPoint:Bt,position:Ue,overlayRect:H})}if(Le.length){let Ue=null,Bt=-1;for(const an of Le){const Tn=an.boundingBoxRect.width*an.boundingBoxRect.height*(an.position.weight||1);Tn>Bt&&(Bt=Tn,Ue=an)}return this._isPushed=!1,void this._applyPosition(Ue.position,Ue.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ge.position,ge.originPoint);this._applyPosition(ge.position,ge.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&de(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Rt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const B=this._lastPosition||this._preferredPositions[0],H=this._getOriginPoint(this._originRect,B);this._applyPosition(B,H)}}withScrollableContainers(B){return this._scrollables=B,this}withPositions(B){return this._preferredPositions=B,-1===B.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(B){return this._viewportMargin=B,this}withFlexibleDimensions(B=!0){return this._hasFlexibleDimensions=B,this}withGrowAfterOpen(B=!0){return this._growAfterOpen=B,this}withPush(B=!0){return this._canPush=B,this}withLockedPosition(B=!0){return this._positionLocked=B,this}setOrigin(B){return this._origin=B,this}withDefaultOffsetX(B){return this._offsetX=B,this}withDefaultOffsetY(B){return this._offsetY=B,this}withTransformOriginOn(B){return this._transformOriginSelector=B,this}_getOriginPoint(B,H){let ae,Le;if("center"==H.originX)ae=B.left+B.width/2;else{const ge=this._isRtl()?B.right:B.left,Ue=this._isRtl()?B.left:B.right;ae="start"==H.originX?ge:Ue}return Le="center"==H.originY?B.top+B.height/2:"top"==H.originY?B.top:B.bottom,{x:ae,y:Le}}_getOverlayPoint(B,H,ae){let Le,ge;return Le="center"==ae.overlayX?-H.width/2:"start"===ae.overlayX?this._isRtl()?-H.width:0:this._isRtl()?0:-H.width,ge="center"==ae.overlayY?-H.height/2:"top"==ae.overlayY?0:-H.height,{x:B.x+Le,y:B.y+ge}}_getOverlayFit(B,H,ae,Le){const ge=Be(H);let{x:Ue,y:Bt}=B,an=this._getOffset(Le,"x"),Tn=this._getOffset(Le,"y");an&&(Ue+=an),Tn&&(Bt+=Tn);let ei=0-Bt,Jn=Bt+ge.height-ae.height,ft=this._subtractOverflows(ge.width,0-Ue,Ue+ge.width-ae.width),gt=this._subtractOverflows(ge.height,ei,Jn),wt=ft*gt;return{visibleArea:wt,isCompletelyWithinViewport:ge.width*ge.height===wt,fitsInViewportVertically:gt===ge.height,fitsInViewportHorizontally:ft==ge.width}}_canFitWithFlexibleDimensions(B,H,ae){if(this._hasFlexibleDimensions){const Le=ae.bottom-H.y,ge=ae.right-H.x,Ue=te(this._overlayRef.getConfig().minHeight),Bt=te(this._overlayRef.getConfig().minWidth),Tn=B.fitsInViewportHorizontally||null!=Bt&&Bt<=ge;return(B.fitsInViewportVertically||null!=Ue&&Ue<=Le)&&Tn}return!1}_pushOverlayOnScreen(B,H,ae){if(this._previousPushAmount&&this._positionLocked)return{x:B.x+this._previousPushAmount.x,y:B.y+this._previousPushAmount.y};const Le=Be(H),ge=this._viewportRect,Ue=Math.max(B.x+Le.width-ge.width,0),Bt=Math.max(B.y+Le.height-ge.height,0),an=Math.max(ge.top-ae.top-B.y,0),Tn=Math.max(ge.left-ae.left-B.x,0);let Nn=0,Pn=0;return Nn=Le.width<=ge.width?Tn||-Ue:B.x<this._viewportMargin?ge.left-ae.left-B.x:0,Pn=Le.height<=ge.height?an||-Bt:B.y<this._viewportMargin?ge.top-ae.top-B.y:0,this._previousPushAmount={x:Nn,y:Pn},{x:B.x+Nn,y:B.y+Pn}}_applyPosition(B,H){if(this._setTransformOrigin(B),this._setOverlayElementStyles(H,B),this._setBoundingBoxStyles(H,B),B.panelClass&&this._addPanelClasses(B.panelClass),this._lastPosition=B,this._positionChanges.observers.length){const ae=this._getScrollVisibility(),Le=new Ot(B,ae);this._positionChanges.next(Le)}this._isInitialRender=!1}_setTransformOrigin(B){if(!this._transformOriginSelector)return;const H=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ae,Le=B.overlayY;ae="center"===B.overlayX?"center":this._isRtl()?"start"===B.overlayX?"right":"left":"start"===B.overlayX?"left":"right";for(let ge=0;ge<H.length;ge++)H[ge].style.transformOrigin=`${ae} ${Le}`}_calculateBoundingBoxRect(B,H){const ae=this._viewportRect,Le=this._isRtl();let ge,Ue,Bt,Nn,Pn,ei;if("top"===H.overlayY)Ue=B.y,ge=ae.height-Ue+this._viewportMargin;else if("bottom"===H.overlayY)Bt=ae.height-B.y+2*this._viewportMargin,ge=ae.height-Bt+this._viewportMargin;else{const Jn=Math.min(ae.bottom-B.y+ae.top,B.y),ft=this._lastBoundingBoxSize.height;ge=2*Jn,Ue=B.y-Jn,ge>ft&&!this._isInitialRender&&!this._growAfterOpen&&(Ue=B.y-ft/2)}if("end"===H.overlayX&&!Le||"start"===H.overlayX&&Le)ei=ae.width-B.x+this._viewportMargin,Nn=B.x-this._viewportMargin;else if("start"===H.overlayX&&!Le||"end"===H.overlayX&&Le)Pn=B.x,Nn=ae.right-B.x;else{const Jn=Math.min(ae.right-B.x+ae.left,B.x),ft=this._lastBoundingBoxSize.width;Nn=2*Jn,Pn=B.x-Jn,Nn>ft&&!this._isInitialRender&&!this._growAfterOpen&&(Pn=B.x-ft/2)}return{top:Ue,left:Pn,bottom:Bt,right:ei,width:Nn,height:ge}}_setBoundingBoxStyles(B,H){const ae=this._calculateBoundingBoxRect(B,H);!this._isInitialRender&&!this._growAfterOpen&&(ae.height=Math.min(ae.height,this._lastBoundingBoxSize.height),ae.width=Math.min(ae.width,this._lastBoundingBoxSize.width));const Le={};if(this._hasExactPosition())Le.top=Le.left="0",Le.bottom=Le.right=Le.maxHeight=Le.maxWidth="",Le.width=Le.height="100%";else{const ge=this._overlayRef.getConfig().maxHeight,Ue=this._overlayRef.getConfig().maxWidth;Le.height=(0,U.HM)(ae.height),Le.top=(0,U.HM)(ae.top),Le.bottom=(0,U.HM)(ae.bottom),Le.width=(0,U.HM)(ae.width),Le.left=(0,U.HM)(ae.left),Le.right=(0,U.HM)(ae.right),Le.alignItems="center"===H.overlayX?"center":"end"===H.overlayX?"flex-end":"flex-start",Le.justifyContent="center"===H.overlayY?"center":"bottom"===H.overlayY?"flex-end":"flex-start",ge&&(Le.maxHeight=(0,U.HM)(ge)),Ue&&(Le.maxWidth=(0,U.HM)(Ue))}this._lastBoundingBoxSize=ae,de(this._boundingBox.style,Le)}_resetBoundingBoxStyles(){de(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){de(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(B,H){const ae={},Le=this._hasExactPosition(),ge=this._hasFlexibleDimensions,Ue=this._overlayRef.getConfig();if(Le){const Nn=this._viewportRuler.getViewportScrollPosition();de(ae,this._getExactOverlayY(H,B,Nn)),de(ae,this._getExactOverlayX(H,B,Nn))}else ae.position="static";let Bt="",an=this._getOffset(H,"x"),Tn=this._getOffset(H,"y");an&&(Bt+=`translateX(${an}px) `),Tn&&(Bt+=`translateY(${Tn}px)`),ae.transform=Bt.trim(),Ue.maxHeight&&(Le?ae.maxHeight=(0,U.HM)(Ue.maxHeight):ge&&(ae.maxHeight="")),Ue.maxWidth&&(Le?ae.maxWidth=(0,U.HM)(Ue.maxWidth):ge&&(ae.maxWidth="")),de(this._pane.style,ae)}_getExactOverlayY(B,H,ae){let Le={top:"",bottom:""},ge=this._getOverlayPoint(H,this._overlayRect,B);this._isPushed&&(ge=this._pushOverlayOnScreen(ge,this._overlayRect,ae));let Ue=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return ge.y-=Ue,"bottom"===B.overlayY?Le.bottom=this._document.documentElement.clientHeight-(ge.y+this._overlayRect.height)+"px":Le.top=(0,U.HM)(ge.y),Le}_getExactOverlayX(B,H,ae){let Ue,Le={left:"",right:""},ge=this._getOverlayPoint(H,this._overlayRect,B);return this._isPushed&&(ge=this._pushOverlayOnScreen(ge,this._overlayRect,ae)),Ue=this._isRtl()?"end"===B.overlayX?"left":"right":"end"===B.overlayX?"right":"left","right"===Ue?Le.right=this._document.documentElement.clientWidth-(ge.x+this._overlayRect.width)+"px":Le.left=(0,U.HM)(ge.x),Le}_getScrollVisibility(){const B=this._getOriginRect(),H=this._pane.getBoundingClientRect(),ae=this._scrollables.map(Le=>Le.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ke(B,ae),isOriginOutsideView:ut(B,ae),isOverlayClipped:Ke(H,ae),isOverlayOutsideView:ut(H,ae)}}_subtractOverflows(B,...H){return H.reduce((ae,Le)=>ae-Math.max(Le,0),B)}_getNarrowedViewportRect(){const B=this._document.documentElement.clientWidth,H=this._document.documentElement.clientHeight,ae=this._viewportRuler.getViewportScrollPosition();return{top:ae.top+this._viewportMargin,left:ae.left+this._viewportMargin,right:ae.left+B-this._viewportMargin,bottom:ae.top+H-this._viewportMargin,width:B-2*this._viewportMargin,height:H-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(B,H){return"x"===H?null==B.offsetX?this._offsetX:B.offsetX:null==B.offsetY?this._offsetY:B.offsetY}_validatePositions(){}_addPanelClasses(B){this._pane&&(0,U.Eq)(B).forEach(H=>{""!==H&&-1===this._appliedPanelClasses.indexOf(H)&&(this._appliedPanelClasses.push(H),this._pane.classList.add(H))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(B=>{this._pane.classList.remove(B)}),this._appliedPanelClasses=[])}_getOriginRect(){const B=this._origin;if(B instanceof m.SBq)return B.nativeElement.getBoundingClientRect();if(B instanceof Element)return B.getBoundingClientRect();const H=B.width||0,ae=B.height||0;return{top:B.y,bottom:B.y+ae,left:B.x,right:B.x+H,height:ae,width:H}}}function de(ue,B){for(let H in B)B.hasOwnProperty(H)&&(ue[H]=B[H]);return ue}function te(ue){if("number"!=typeof ue&&null!=ue){const[B,H]=ue.split(Zt);return H&&"px"!==H?null:parseFloat(B)}return ue||null}function Be(ue){return{top:Math.floor(ue.top),right:Math.floor(ue.right),bottom:Math.floor(ue.bottom),left:Math.floor(ue.left),width:Math.floor(ue.width),height:Math.floor(ue.height)}}class Pe{constructor(B,H,ae,Le,ge,Ue,Bt){this._preferredPositions=[],this._positionStrategy=new Ae(ae,Le,ge,Ue,Bt).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(B,H),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(B){this._overlayRef=B,this._positionStrategy.attach(B),this._direction&&(B.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(B){this._positionStrategy.withScrollableContainers(B)}withFallbackPosition(B,H,ae,Le){const ge=new ke(B,H,ae,Le);return this._preferredPositions.push(ge),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(B){return this._overlayRef?this._overlayRef.setDirection(B):this._direction=B,this}withOffsetX(B){return this._positionStrategy.withDefaultOffsetX(B),this}withOffsetY(B){return this._positionStrategy.withDefaultOffsetY(B),this}withLockedPosition(B){return this._positionStrategy.withLockedPosition(B),this}withPositions(B){return this._preferredPositions=B.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(B){return this._positionStrategy.setOrigin(B),this}}const bt="cdk-global-overlay-wrapper";class ct{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(B){const H=B.getConfig();this._overlayRef=B,this._width&&!H.width&&B.updateSize({width:this._width}),this._height&&!H.height&&B.updateSize({height:this._height}),B.hostElement.classList.add(bt),this._isDisposed=!1}top(B=""){return this._bottomOffset="",this._topOffset=B,this._alignItems="flex-start",this}left(B=""){return this._rightOffset="",this._leftOffset=B,this._justifyContent="flex-start",this}bottom(B=""){return this._topOffset="",this._bottomOffset=B,this._alignItems="flex-end",this}right(B=""){return this._leftOffset="",this._rightOffset=B,this._justifyContent="flex-end",this}width(B=""){return this._overlayRef?this._overlayRef.updateSize({width:B}):this._width=B,this}height(B=""){return this._overlayRef?this._overlayRef.updateSize({height:B}):this._height=B,this}centerHorizontally(B=""){return this.left(B),this._justifyContent="center",this}centerVertically(B=""){return this.top(B),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const B=this._overlayRef.overlayElement.style,H=this._overlayRef.hostElement.style,ae=this._overlayRef.getConfig(),{width:Le,height:ge,maxWidth:Ue,maxHeight:Bt}=ae,an=!("100%"!==Le&&"100vw"!==Le||Ue&&"100%"!==Ue&&"100vw"!==Ue),Tn=!("100%"!==ge&&"100vh"!==ge||Bt&&"100%"!==Bt&&"100vh"!==Bt);B.position=this._cssPosition,B.marginLeft=an?"0":this._leftOffset,B.marginTop=Tn?"0":this._topOffset,B.marginBottom=this._bottomOffset,B.marginRight=this._rightOffset,an?H.justifyContent="flex-start":"center"===this._justifyContent?H.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?H.justifyContent="flex-end":"flex-end"===this._justifyContent&&(H.justifyContent="flex-start"):H.justifyContent=this._justifyContent,H.alignItems=Tn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const B=this._overlayRef.overlayElement.style,H=this._overlayRef.hostElement,ae=H.style;H.classList.remove(bt),ae.justifyContent=ae.alignItems=B.marginTop=B.marginBottom=B.marginLeft=B.marginRight=B.position="",this._overlayRef=null,this._isDisposed=!0}}let Ft=(()=>{class ue{constructor(H,ae,Le,ge){this._viewportRuler=H,this._document=ae,this._platform=Le,this._overlayContainer=ge}global(){return new ct}connectedTo(H,ae,Le){return new Pe(ae,Le,H,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(H){return new Ae(H,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(_.rL),m.LFG(he.K0),m.LFG(y.t4),m.LFG(Qn))},ue.\u0275prov=m.Yz7({factory:function(){return new ue(m.LFG(_.rL),m.LFG(he.K0),m.LFG(y.t4),m.LFG(Qn))},token:ue,providedIn:"root"}),ue})(),me=0,rt=(()=>{class ue{constructor(H,ae,Le,ge,Ue,Bt,an,Tn,Nn,Pn,ei){this.scrollStrategies=H,this._overlayContainer=ae,this._componentFactoryResolver=Le,this._positionBuilder=ge,this._keyboardDispatcher=Ue,this._injector=Bt,this._ngZone=an,this._document=Tn,this._directionality=Nn,this._location=Pn,this._outsideClickDispatcher=ei}create(H){const ae=this._createHostElement(),Le=this._createPaneElement(ae),ge=this._createPortalOutlet(Le),Ue=new q(H);return Ue.direction=Ue.direction||this._directionality.value,new kn(ge,ae,Le,Ue,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(H){const ae=this._document.createElement("div");return ae.id="cdk-overlay-"+me++,ae.classList.add("cdk-overlay-pane"),H.appendChild(ae),ae}_createHostElement(){const H=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(H),H}_createPortalOutlet(H){return this._appRef||(this._appRef=this._injector.get(m.z2F)),new De.u0(H,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(be),m.LFG(Qn),m.LFG(m._Vd),m.LFG(Ft),m.LFG(ii),m.LFG(m.zs3),m.LFG(m.R0b),m.LFG(he.K0),m.LFG(d.Is),m.LFG(he.Ye),m.LFG(Gn))},ue.\u0275prov=m.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const je=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],We=new m.OlP("cdk-connected-overlay-scroll-strategy");let at=(()=>{class ue{constructor(H){this.elementRef=H}}return ue.\u0275fac=function(H){return new(H||ue)(m.Y36(m.SBq))},ue.\u0275dir=m.lG2({type:ue,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),ue})(),fn=(()=>{class ue{constructor(H,ae,Le,ge,Ue){this._overlay=H,this._dir=Ue,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ee.w.EMPTY,this._attachSubscription=Ee.w.EMPTY,this._detachSubscription=Ee.w.EMPTY,this._positionSubscription=Ee.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new m.vpe,this.positionChange=new m.vpe,this.attach=new m.vpe,this.detach=new m.vpe,this.overlayKeydown=new m.vpe,this.overlayOutsideClick=new m.vpe,this._templatePortal=new De.UE(ae,Le),this._scrollStrategyFactory=ge,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(H){this._offsetX=H,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(H){this._offsetY=H,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(H){this._hasBackdrop=(0,U.Ig)(H)}get lockPosition(){return this._lockPosition}set lockPosition(H){this._lockPosition=(0,U.Ig)(H)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(H){this._flexibleDimensions=(0,U.Ig)(H)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(H){this._growAfterOpen=(0,U.Ig)(H)}get push(){return this._push}set push(H){this._push=(0,U.Ig)(H)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(H){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),H.origin&&this.open&&this._position.apply()),H.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=je);const H=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=H.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=H.detachments().subscribe(()=>this.detach.emit()),H.keydownEvents().subscribe(ae=>{this.overlayKeydown.next(ae),ae.keyCode===Me.hY&&!this.disableClose&&!(0,Me.Vb)(ae)&&(ae.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(ae=>{this.overlayOutsideClick.next(ae)})}_buildConfig(){const H=this._position=this.positionStrategy||this._createPositionStrategy(),ae=new q({direction:this._dir,positionStrategy:H,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(ae.width=this.width),(this.height||0===this.height)&&(ae.height=this.height),(this.minWidth||0===this.minWidth)&&(ae.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(ae.minHeight=this.minHeight),this.backdropClass&&(ae.backdropClass=this.backdropClass),this.panelClass&&(ae.panelClass=this.panelClass),ae}_updatePositionStrategy(H){const ae=this.positions.map(Le=>({originX:Le.originX,originY:Le.originY,overlayX:Le.overlayX,overlayY:Le.overlayY,offsetX:Le.offsetX||this.offsetX,offsetY:Le.offsetY||this.offsetY,panelClass:Le.panelClass||void 0}));return H.setOrigin(this.origin.elementRef).withPositions(ae).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const H=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(H),H}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(H=>{this.backdropClick.emit(H)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(ue,B=!1){return H=>H.lift(new Ye(ue,B))}(()=>this.positionChange.observers.length>0)).subscribe(H=>{this.positionChange.emit(H),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return ue.\u0275fac=function(H){return new(H||ue)(m.Y36(rt),m.Y36(m.Rgc),m.Y36(m.s_b),m.Y36(We),m.Y36(d.Is,8))},ue.\u0275dir=m.lG2({type:ue,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[m.TTD]}),ue})();const cn={provide:We,deps:[rt],useFactory:function(ue){return()=>ue.scrollStrategies.reposition()}};let Ln=(()=>{class ue{}return ue.\u0275fac=function(H){return new(H||ue)},ue.\u0275mod=m.oAB({type:ue}),ue.\u0275inj=m.cJS({providers:[rt,cn],imports:[[d.vT,De.eL,_.Cl],_.Cl]}),ue})()},521:(In,mt,D)=>{"use strict";D.d(mt,{t4:()=>d,ud:()=>he,sA:()=>hn,ht:()=>Qt,kV:()=>Qe,Oy:()=>Gt,_i:()=>Xe,qK:()=>le,i$:()=>Te,Mq:()=>tt});var _=D(7716),m=D(8583);let y;try{y="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Et){y=!1}let U,d=(()=>{class Et{constructor(Ke){this._platformId=Ke,this.isBrowser=this._platformId?(0,m.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!y)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Et.\u0275fac=function(Ke){return new(Ke||Et)(_.LFG(_.Lbi))},Et.\u0275prov=_.Yz7({factory:function(){return new Et(_.LFG(_.Lbi))},token:Et,providedIn:"root"}),Et})(),he=(()=>{class Et{}return Et.\u0275fac=function(Ke){return new(Ke||Et)},Et.\u0275mod=_.oAB({type:Et}),Et.\u0275inj=_.cJS({}),Et})();const De=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function le(){if(U)return U;if("object"!=typeof document||!document)return U=new Set(De),U;let Et=document.createElement("input");return U=new Set(De.filter(ut=>(Et.setAttribute("type",ut),Et.type===ut))),U}let Ee,oe,Ye,nt;function Te(Et){return function(){if(null==Ee&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ee=!0}))}finally{Ee=Ee||!1}return Ee}()?Et:!!Et.capture}function tt(){if(null==Ye){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ye=!1,Ye;if("scrollBehavior"in document.documentElement.style)Ye=!0;else{const Et=Element.prototype.scrollTo;Ye=!!Et&&!/\{\s*\[native code\]\s*\}/.test(Et.toString())}}return Ye}function Xe(){if("object"!=typeof document||!document)return 0;if(null==oe){const Et=document.createElement("div"),ut=Et.style;Et.dir="rtl",ut.width="1px",ut.overflow="auto",ut.visibility="hidden",ut.pointerEvents="none",ut.position="absolute";const Ke=document.createElement("div"),ze=Ke.style;ze.width="2px",ze.height="1px",Et.appendChild(Ke),document.body.appendChild(Et),oe=0,0===Et.scrollLeft&&(Et.scrollLeft=1,oe=0===Et.scrollLeft?1:2),Et.parentNode.removeChild(Et)}return oe}function Qe(Et){if(function(){if(null==nt){const Et="undefined"!=typeof document?document.head:null;nt=!(!Et||!Et.createShadowRoot&&!Et.attachShadow)}return nt}()){const ut=Et.getRootNode?Et.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&ut instanceof ShadowRoot)return ut}return null}function Qt(){let Et="undefined"!=typeof document&&document?document.activeElement:null;for(;Et&&Et.shadowRoot;){const ut=Et.shadowRoot.activeElement;if(ut===Et)break;Et=ut}return Et}function hn(Et){return Et.composedPath?Et.composedPath()[0]:Et.target}function Gt(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7636:(In,mt,D)=>{"use strict";D.d(mt,{en:()=>Ye,Pl:()=>Qt,C5:()=>se,u0:()=>Xe,eL:()=>Gt,UE:()=>Te});var _=D(7716),m=D(8583);class Ee{attach(Ke){return this._attachedHost=Ke,Ke.attach(this)}detach(){let Ke=this._attachedHost;null!=Ke&&(this._attachedHost=null,Ke.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ke){this._attachedHost=Ke}}class se extends Ee{constructor(Ke,ze,be,q){super(),this.component=Ke,this.viewContainerRef=ze,this.injector=be,this.componentFactoryResolver=q}}class Te extends Ee{constructor(Ke,ze,be){super(),this.templateRef=Ke,this.viewContainerRef=ze,this.context=be}get origin(){return this.templateRef.elementRef}attach(Ke,ze=this.context){return this.context=ze,super.attach(Ke)}detach(){return this.context=void 0,super.detach()}}class oe extends Ee{constructor(Ke){super(),this.element=Ke instanceof _.SBq?Ke.nativeElement:Ke}}class Ye{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ke){return Ke instanceof se?(this._attachedPortal=Ke,this.attachComponentPortal(Ke)):Ke instanceof Te?(this._attachedPortal=Ke,this.attachTemplatePortal(Ke)):this.attachDomPortal&&Ke instanceof oe?(this._attachedPortal=Ke,this.attachDomPortal(Ke)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ke){this._disposeFn=Ke}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Xe extends Ye{constructor(Ke,ze,be,q,ke){super(),this.outletElement=Ke,this._componentFactoryResolver=ze,this._appRef=be,this._defaultInjector=q,this.attachDomPortal=yt=>{const Ot=yt.element,un=this._document.createComment("dom-portal");Ot.parentNode.insertBefore(un,Ot),this.outletElement.appendChild(Ot),this._attachedPortal=yt,super.setDisposeFn(()=>{un.parentNode&&un.parentNode.replaceChild(Ot,un)})},this._document=ke}attachComponentPortal(Ke){const be=(Ke.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ke.component);let q;return Ke.viewContainerRef?(q=Ke.viewContainerRef.createComponent(be,Ke.viewContainerRef.length,Ke.injector||Ke.viewContainerRef.injector),this.setDisposeFn(()=>q.destroy())):(q=be.create(Ke.injector||this._defaultInjector),this._appRef.attachView(q.hostView),this.setDisposeFn(()=>{this._appRef.detachView(q.hostView),q.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(q)),this._attachedPortal=Ke,q}attachTemplatePortal(Ke){let ze=Ke.viewContainerRef,be=ze.createEmbeddedView(Ke.templateRef,Ke.context);return be.rootNodes.forEach(q=>this.outletElement.appendChild(q)),be.detectChanges(),this.setDisposeFn(()=>{let q=ze.indexOf(be);-1!==q&&ze.remove(q)}),this._attachedPortal=Ke,be}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(Ke){return Ke.hostView.rootNodes[0]}}let Qt=(()=>{class ut extends Ye{constructor(ze,be,q){super(),this._componentFactoryResolver=ze,this._viewContainerRef=be,this._isInitialized=!1,this.attached=new _.vpe,this.attachDomPortal=ke=>{const yt=ke.element,Ot=this._document.createComment("dom-portal");ke.setAttachedHost(this),yt.parentNode.insertBefore(Ot,yt),this._getRootNode().appendChild(yt),this._attachedPortal=ke,super.setDisposeFn(()=>{Ot.parentNode&&Ot.parentNode.replaceChild(yt,Ot)})},this._document=q}get portal(){return this._attachedPortal}set portal(ze){this.hasAttached()&&!ze&&!this._isInitialized||(this.hasAttached()&&super.detach(),ze&&super.attach(ze),this._attachedPortal=ze)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ze){ze.setAttachedHost(this);const be=null!=ze.viewContainerRef?ze.viewContainerRef:this._viewContainerRef,ke=(ze.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ze.component),yt=be.createComponent(ke,be.length,ze.injector||be.injector);return be!==this._viewContainerRef&&this._getRootNode().appendChild(yt.hostView.rootNodes[0]),super.setDisposeFn(()=>yt.destroy()),this._attachedPortal=ze,this._attachedRef=yt,this.attached.emit(yt),yt}attachTemplatePortal(ze){ze.setAttachedHost(this);const be=this._viewContainerRef.createEmbeddedView(ze.templateRef,ze.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ze,this._attachedRef=be,this.attached.emit(be),be}_getRootNode(){const ze=this._viewContainerRef.element.nativeElement;return ze.nodeType===ze.ELEMENT_NODE?ze:ze.parentNode}}return ut.\u0275fac=function(ze){return new(ze||ut)(_.Y36(_._Vd),_.Y36(_.s_b),_.Y36(m.K0))},ut.\u0275dir=_.lG2({type:ut,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[_.qOj]}),ut})(),Gt=(()=>{class ut{}return ut.\u0275fac=function(ze){return new(ze||ut)},ut.\u0275mod=_.oAB({type:ut}),ut.\u0275inj=_.cJS({}),ut})()},2692:(In,mt,D)=>{"use strict";D.d(mt,{PQ:()=>Qn,ZD:()=>Pe,mF:()=>Gn,Cl:()=>bt,rL:()=>Rt});var _=D(9490),m=D(7716),y=D(6465),he=D(6102);new class extends he.v{flush(Ft){this.active=!0,this.scheduled=void 0;const{actions:me}=this;let rt,je=-1,We=me.length;Ft=Ft||me.shift();do{if(rt=Ft.execute(Ft.state,Ft.delay))break}while(++je<We&&(Ft=me.shift()));if(this.active=!1,rt){for(;++je<We&&(Ft=me.shift());)Ft.unsubscribe();throw rt}}}(class extends y.o{constructor(Ft,me){super(Ft,me),this.scheduler=Ft,this.work=me}requestAsyncId(Ft,me,rt=0){return null!==rt&&rt>0?super.requestAsyncId(Ft,me,rt):(Ft.actions.push(this),Ft.scheduled||(Ft.scheduled=requestAnimationFrame(()=>Ft.flush(null))))}recycleAsyncId(Ft,me,rt=0){if(null!==rt&&rt>0||null===rt&&this.delay>0)return super.recycleAsyncId(Ft,me,rt);0===Ft.actions.length&&(cancelAnimationFrame(me),Ft.scheduled=void 0)}});var Ee=D(9765),se=D(5917),Te=D(7574),oe=D(2759),Me=(D(4581),D(5319),D(5639),D(7519),D(628)),Qe=D(5435),Qt=D(6782),Ke=(D(9761),D(9328),D(3190),D(2066),D(521)),ze=D(8583),be=D(946);D(8345);let Gn=(()=>{class ct{constructor(me,rt,je){this._ngZone=me,this._platform=rt,this._scrolled=new Ee.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=je}register(me){this.scrollContainers.has(me)||this.scrollContainers.set(me,me.elementScrolled().subscribe(()=>this._scrolled.next(me)))}deregister(me){const rt=this.scrollContainers.get(me);rt&&(rt.unsubscribe(),this.scrollContainers.delete(me))}scrolled(me=20){return this._platform.isBrowser?new Te.y(rt=>{this._globalSubscription||this._addGlobalListener();const je=me>0?this._scrolled.pipe((0,Me.e)(me)).subscribe(rt):this._scrolled.subscribe(rt);return this._scrolledCount++,()=>{je.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,se.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((me,rt)=>this.deregister(rt)),this._scrolled.complete()}ancestorScrolled(me,rt){const je=this.getAncestorScrollContainers(me);return this.scrolled(rt).pipe((0,Qe.h)(We=>!We||je.indexOf(We)>-1))}getAncestorScrollContainers(me){const rt=[];return this.scrollContainers.forEach((je,We)=>{this._scrollableContainsElement(We,me)&&rt.push(We)}),rt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(me,rt){let je=(0,_.fI)(rt),We=me.getElementRef().nativeElement;do{if(je==We)return!0}while(je=je.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const me=this._getWindow();return(0,oe.R)(me.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ct.\u0275fac=function(me){return new(me||ct)(m.LFG(m.R0b),m.LFG(Ke.t4),m.LFG(ze.K0,8))},ct.\u0275prov=m.Yz7({factory:function(){return new ct(m.LFG(m.R0b),m.LFG(Ke.t4),m.LFG(ze.K0,8))},token:ct,providedIn:"root"}),ct})(),Qn=(()=>{class ct{constructor(me,rt,je,We){this.elementRef=me,this.scrollDispatcher=rt,this.ngZone=je,this.dir=We,this._destroyed=new Ee.xQ,this._elementScrolled=new Te.y(at=>this.ngZone.runOutsideAngular(()=>(0,oe.R)(this.elementRef.nativeElement,"scroll").pipe((0,Qt.R)(this._destroyed)).subscribe(at)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(me){const rt=this.elementRef.nativeElement,je=this.dir&&"rtl"==this.dir.value;null==me.left&&(me.left=je?me.end:me.start),null==me.right&&(me.right=je?me.start:me.end),null!=me.bottom&&(me.top=rt.scrollHeight-rt.clientHeight-me.bottom),je&&0!=(0,Ke._i)()?(null!=me.left&&(me.right=rt.scrollWidth-rt.clientWidth-me.left),2==(0,Ke._i)()?me.left=me.right:1==(0,Ke._i)()&&(me.left=me.right?-me.right:me.right)):null!=me.right&&(me.left=rt.scrollWidth-rt.clientWidth-me.right),this._applyScrollToOptions(me)}_applyScrollToOptions(me){const rt=this.elementRef.nativeElement;(0,Ke.Mq)()?rt.scrollTo(me):(null!=me.top&&(rt.scrollTop=me.top),null!=me.left&&(rt.scrollLeft=me.left))}measureScrollOffset(me){const rt="left",We=this.elementRef.nativeElement;if("top"==me)return We.scrollTop;if("bottom"==me)return We.scrollHeight-We.clientHeight-We.scrollTop;const at=this.dir&&"rtl"==this.dir.value;return"start"==me?me=at?"right":rt:"end"==me&&(me=at?rt:"right"),at&&2==(0,Ke._i)()?me==rt?We.scrollWidth-We.clientWidth-We.scrollLeft:We.scrollLeft:at&&1==(0,Ke._i)()?me==rt?We.scrollLeft+We.scrollWidth-We.clientWidth:-We.scrollLeft:me==rt?We.scrollLeft:We.scrollWidth-We.clientWidth-We.scrollLeft}}return ct.\u0275fac=function(me){return new(me||ct)(m.Y36(m.SBq),m.Y36(Gn),m.Y36(m.R0b),m.Y36(be.Is,8))},ct.\u0275dir=m.lG2({type:ct,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),ct})(),Rt=(()=>{class ct{constructor(me,rt,je){this._platform=me,this._change=new Ee.xQ,this._changeListener=We=>{this._change.next(We)},this._document=je,rt.runOutsideAngular(()=>{if(me.isBrowser){const We=this._getWindow();We.addEventListener("resize",this._changeListener),We.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const me=this._getWindow();me.removeEventListener("resize",this._changeListener),me.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const me={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),me}getViewportRect(){const me=this.getViewportScrollPosition(),{width:rt,height:je}=this.getViewportSize();return{top:me.top,left:me.left,bottom:me.top+je,right:me.left+rt,height:je,width:rt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const me=this._document,rt=this._getWindow(),je=me.documentElement,We=je.getBoundingClientRect();return{top:-We.top||me.body.scrollTop||rt.scrollY||je.scrollTop||0,left:-We.left||me.body.scrollLeft||rt.scrollX||je.scrollLeft||0}}change(me=20){return me>0?this._change.pipe((0,Me.e)(me)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const me=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:me.innerWidth,height:me.innerHeight}:{width:0,height:0}}}return ct.\u0275fac=function(me){return new(me||ct)(m.LFG(Ke.t4),m.LFG(m.R0b),m.LFG(ze.K0,8))},ct.\u0275prov=m.Yz7({factory:function(){return new ct(m.LFG(Ke.t4),m.LFG(m.R0b),m.LFG(ze.K0,8))},token:ct,providedIn:"root"}),ct})(),Pe=(()=>{class ct{}return ct.\u0275fac=function(me){return new(me||ct)},ct.\u0275mod=m.oAB({type:ct}),ct.\u0275inj=m.cJS({}),ct})(),bt=(()=>{class ct{}return ct.\u0275fac=function(me){return new(me||ct)},ct.\u0275mod=m.oAB({type:ct}),ct.\u0275inj=m.cJS({imports:[[be.vT,Ke.ud,Pe],be.vT,Pe]}),ct})()},9490:(In,mt,D)=>{"use strict";D.d(mt,{t6:()=>d,Eq:()=>he,Ig:()=>m,HM:()=>U,fI:()=>De,su:()=>y,du:()=>le});var _=D(7716);function m(Ee){return null!=Ee&&"false"!=`${Ee}`}function y(Ee,se=0){return d(Ee)?Number(Ee):se}function d(Ee){return!isNaN(parseFloat(Ee))&&!isNaN(Number(Ee))}function he(Ee){return Array.isArray(Ee)?Ee:[Ee]}function U(Ee){return null==Ee?"":"string"==typeof Ee?Ee:`${Ee}px`}function De(Ee){return Ee instanceof _.SBq?Ee.nativeElement:Ee}function le(Ee,se=/\s+/){const Te=[];if(null!=Ee){const oe=Array.isArray(Ee)?Ee:`${Ee}`.split(se);for(const Ye of oe){const tt=`${Ye}`.trim();tt&&Te.push(tt)}}return Te}},8583:(In,mt,D)=>{"use strict";D.d(mt,{mr:()=>Qt,Ov:()=>rn,ez:()=>Ar,K0:()=>De,uU:()=>Ci,Do:()=>Gt,V_:()=>se,Ye:()=>Et,S$:()=>Me,mk:()=>$n,sg:()=>ui,O5:()=>Wr,RF:()=>ss,n9:()=>tr,ED:()=>Yr,b0:()=>hn,lw:()=>le,EM:()=>cr,JF:()=>Nr,NF:()=>ps,PM:()=>Vs,w_:()=>U,bD:()=>hs,q:()=>y,Mx:()=>_n,HT:()=>he});var _=D(7716);let m=null;function y(){return m}function he(K){m||(m=K)}class U{}const De=new _.OlP("DocumentToken");let le=(()=>{class K{historyGo(ne){throw new Error("Not implemented")}}return K.\u0275fac=function(ne){return new(ne||K)},K.\u0275prov=(0,_.Yz7)({factory:Ee,token:K,providedIn:"platform"}),K})();function Ee(){return(0,_.LFG)(Te)}const se=new _.OlP("Location Initialized");let Te=(()=>{class K extends le{constructor(ne){super(),this._doc=ne,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return y().getBaseHref(this._doc)}onPopState(ne){const k=y().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",ne,!1),()=>k.removeEventListener("popstate",ne)}onHashChange(ne){const k=y().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",ne,!1),()=>k.removeEventListener("hashchange",ne)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(ne){this.location.pathname=ne}pushState(ne,k,N){oe()?this._history.pushState(ne,k,N):this.location.hash=N}replaceState(ne,k,N){oe()?this._history.replaceState(ne,k,N):this.location.hash=N}forward(){this._history.forward()}back(){this._history.back()}historyGo(ne=0){this._history.go(ne)}getState(){return this._history.state}}return K.\u0275fac=function(ne){return new(ne||K)(_.LFG(De))},K.\u0275prov=(0,_.Yz7)({factory:Ye,token:K,providedIn:"platform"}),K})();function oe(){return!!window.history.pushState}function Ye(){return new Te((0,_.LFG)(De))}function tt(K,Ve){if(0==K.length)return Ve;if(0==Ve.length)return K;let ne=0;return K.endsWith("/")&&ne++,Ve.startsWith("/")&&ne++,2==ne?K+Ve.substring(1):1==ne?K+Ve:K+"/"+Ve}function Xe(K){const Ve=K.match(/#|\?|$/),ne=Ve&&Ve.index||K.length;return K.slice(0,ne-("/"===K[ne-1]?1:0))+K.slice(ne)}function nt(K){return K&&"?"!==K[0]?"?"+K:K}let Me=(()=>{class K{historyGo(ne){throw new Error("Not implemented")}}return K.\u0275fac=function(ne){return new(ne||K)},K.\u0275prov=(0,_.Yz7)({factory:Qe,token:K,providedIn:"root"}),K})();function Qe(K){const Ve=(0,_.LFG)(De).location;return new hn((0,_.LFG)(le),Ve&&Ve.origin||"")}const Qt=new _.OlP("appBaseHref");let hn=(()=>{class K extends Me{constructor(ne,k){if(super(),this._platformLocation=ne,this._removeListenerFns=[],null==k&&(k=this._platformLocation.getBaseHrefFromDOM()),null==k)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=k}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ne){this._removeListenerFns.push(this._platformLocation.onPopState(ne),this._platformLocation.onHashChange(ne))}getBaseHref(){return this._baseHref}prepareExternalUrl(ne){return tt(this._baseHref,ne)}path(ne=!1){const k=this._platformLocation.pathname+nt(this._platformLocation.search),N=this._platformLocation.hash;return N&&ne?`${k}${N}`:k}pushState(ne,k,N,F){const ye=this.prepareExternalUrl(N+nt(F));this._platformLocation.pushState(ne,k,ye)}replaceState(ne,k,N,F){const ye=this.prepareExternalUrl(N+nt(F));this._platformLocation.replaceState(ne,k,ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(ne=0){var k,N;null===(N=(k=this._platformLocation).historyGo)||void 0===N||N.call(k,ne)}}return K.\u0275fac=function(ne){return new(ne||K)(_.LFG(le),_.LFG(Qt,8))},K.\u0275prov=_.Yz7({token:K,factory:K.\u0275fac}),K})(),Gt=(()=>{class K extends Me{constructor(ne,k){super(),this._platformLocation=ne,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ne){this._removeListenerFns.push(this._platformLocation.onPopState(ne),this._platformLocation.onHashChange(ne))}getBaseHref(){return this._baseHref}path(ne=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(ne){const k=tt(this._baseHref,ne);return k.length>0?"#"+k:k}pushState(ne,k,N,F){let ye=this.prepareExternalUrl(N+nt(F));0==ye.length&&(ye=this._platformLocation.pathname),this._platformLocation.pushState(ne,k,ye)}replaceState(ne,k,N,F){let ye=this.prepareExternalUrl(N+nt(F));0==ye.length&&(ye=this._platformLocation.pathname),this._platformLocation.replaceState(ne,k,ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(ne=0){var k,N;null===(N=(k=this._platformLocation).historyGo)||void 0===N||N.call(k,ne)}}return K.\u0275fac=function(ne){return new(ne||K)(_.LFG(le),_.LFG(Qt,8))},K.\u0275prov=_.Yz7({token:K,factory:K.\u0275fac}),K})(),Et=(()=>{class K{constructor(ne,k){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=ne;const N=this._platformStrategy.getBaseHref();this._platformLocation=k,this._baseHref=Xe(ze(N)),this._platformStrategy.onPopState(F=>{this._subject.emit({url:this.path(!0),pop:!0,state:F.state,type:F.type})})}path(ne=!1){return this.normalize(this._platformStrategy.path(ne))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(ne,k=""){return this.path()==this.normalize(ne+nt(k))}normalize(ne){return K.stripTrailingSlash(function(K,Ve){return K&&Ve.startsWith(K)?Ve.substring(K.length):Ve}(this._baseHref,ze(ne)))}prepareExternalUrl(ne){return ne&&"/"!==ne[0]&&(ne="/"+ne),this._platformStrategy.prepareExternalUrl(ne)}go(ne,k="",N=null){this._platformStrategy.pushState(N,"",ne,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(ne+nt(k)),N)}replaceState(ne,k="",N=null){this._platformStrategy.replaceState(N,"",ne,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(ne+nt(k)),N)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(ne=0){var k,N;null===(N=(k=this._platformStrategy).historyGo)||void 0===N||N.call(k,ne)}onUrlChange(ne){this._urlChangeListeners.push(ne),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)}))}_notifyUrlChangeListeners(ne="",k){this._urlChangeListeners.forEach(N=>N(ne,k))}subscribe(ne,k,N){return this._subject.subscribe({next:ne,error:k,complete:N})}}return K.\u0275fac=function(ne){return new(ne||K)(_.LFG(Me),_.LFG(le))},K.normalizeQueryParams=nt,K.joinWithSlash=tt,K.stripTrailingSlash=Xe,K.\u0275prov=(0,_.Yz7)({factory:ut,token:K,providedIn:"root"}),K})();function ut(){return new Et((0,_.LFG)(Me),(0,_.LFG)(le))}function ze(K){return K.replace(/\/index.html$/,"")}var ke=(()=>((ke=ke||{})[ke.Zero=0]="Zero",ke[ke.One=1]="One",ke[ke.Two=2]="Two",ke[ke.Few=3]="Few",ke[ke.Many=4]="Many",ke[ke.Other=5]="Other",ke))(),yt=(()=>((yt=yt||{})[yt.Format=0]="Format",yt[yt.Standalone=1]="Standalone",yt))(),Ot=(()=>((Ot=Ot||{})[Ot.Narrow=0]="Narrow",Ot[Ot.Abbreviated=1]="Abbreviated",Ot[Ot.Wide=2]="Wide",Ot[Ot.Short=3]="Short",Ot))(),un=(()=>((un=un||{})[un.Short=0]="Short",un[un.Medium=1]="Medium",un[un.Long=2]="Long",un[un.Full=3]="Full",un))(),Ut=(()=>((Ut=Ut||{})[Ut.Decimal=0]="Decimal",Ut[Ut.Group=1]="Group",Ut[Ut.List=2]="List",Ut[Ut.PercentSign=3]="PercentSign",Ut[Ut.PlusSign=4]="PlusSign",Ut[Ut.MinusSign=5]="MinusSign",Ut[Ut.Exponential=6]="Exponential",Ut[Ut.SuperscriptingExponent=7]="SuperscriptingExponent",Ut[Ut.PerMille=8]="PerMille",Ut[Ut.Infinity=9]="Infinity",Ut[Ut.NaN=10]="NaN",Ut[Ut.TimeSeparator=11]="TimeSeparator",Ut[Ut.CurrencyDecimal=12]="CurrencyDecimal",Ut[Ut.CurrencyGroup=13]="CurrencyGroup",Ut))();function de(K,Ve){return cn((0,_.cg1)(K)[_.wAp.DateFormat],Ve)}function te(K,Ve){return cn((0,_.cg1)(K)[_.wAp.TimeFormat],Ve)}function Be(K,Ve){return cn((0,_.cg1)(K)[_.wAp.DateTimeFormat],Ve)}function Pe(K,Ve){const ne=(0,_.cg1)(K),k=ne[_.wAp.NumberSymbols][Ve];if(void 0===k){if(Ve===Ut.CurrencyDecimal)return ne[_.wAp.NumberSymbols][Ut.Decimal];if(Ve===Ut.CurrencyGroup)return ne[_.wAp.NumberSymbols][Ut.Group]}return k}const je=_.kL8;function We(K){if(!K[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${K[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cn(K,Ve){for(let ne=Ve;ne>-1;ne--)if(void 0!==K[ne])return K[ne];throw new Error("Locale data API: locale data undefined")}function Ln(K){const[Ve,ne]=K.split(":");return{hours:+Ve,minutes:+ne}}const H=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ae={},Le=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ge=(()=>((ge=ge||{})[ge.Short=0]="Short",ge[ge.ShortGMT=1]="ShortGMT",ge[ge.Long=2]="Long",ge[ge.Extended=3]="Extended",ge))(),Ue=(()=>((Ue=Ue||{})[Ue.FullYear=0]="FullYear",Ue[Ue.Month=1]="Month",Ue[Ue.Date=2]="Date",Ue[Ue.Hours=3]="Hours",Ue[Ue.Minutes=4]="Minutes",Ue[Ue.Seconds=5]="Seconds",Ue[Ue.FractionalSeconds=6]="FractionalSeconds",Ue[Ue.Day=7]="Day",Ue))(),Bt=(()=>((Bt=Bt||{})[Bt.DayPeriods=0]="DayPeriods",Bt[Bt.Days=1]="Days",Bt[Bt.Months=2]="Months",Bt[Bt.Eras=3]="Eras",Bt))();function an(K,Ve,ne,k){let N=function(K){if(Ui(K))return K;if("number"==typeof K&&!isNaN(K))return new Date(K);if("string"==typeof K){if(K=K.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(K)){const[N,F=1,ye=1]=K.split("-").map($=>+$);return Tn(N,F-1,ye)}const ne=parseFloat(K);if(!isNaN(K-ne))return new Date(ne);let k;if(k=K.match(H))return function(K){const Ve=new Date(0);let ne=0,k=0;const N=K[8]?Ve.setUTCFullYear:Ve.setFullYear,F=K[8]?Ve.setUTCHours:Ve.setHours;K[9]&&(ne=Number(K[9]+K[10]),k=Number(K[9]+K[11])),N.call(Ve,Number(K[1]),Number(K[2])-1,Number(K[3]));const ye=Number(K[4]||0)-ne,$=Number(K[5]||0)-k,et=Number(K[6]||0),w=Math.floor(1e3*parseFloat("0."+(K[7]||0)));return F.call(Ve,ye,$,et,w),Ve}(k)}const Ve=new Date(K);if(!Ui(Ve))throw new Error(`Unable to convert "${K}" into a date`);return Ve}(K);Ve=Nn(ne,Ve)||Ve;let $,ye=[];for(;Ve;){if($=Le.exec(Ve),!$){ye.push(Ve);break}{ye=ye.concat($.slice(1));const V=ye.pop();if(!V)break;Ve=V}}let et=N.getTimezoneOffset();k&&(et=Tt(k,et),N=function(K,Ve,ne){const N=K.getTimezoneOffset();return function(K,Ve){return(K=new Date(K.getTime())).setMinutes(K.getMinutes()+Ve),K}(K,-1*(Tt(Ve,N)-N))}(N,k));let w="";return ye.forEach(V=>{const fe=function(K){if(we[K])return we[K];let Ve;switch(K){case"G":case"GG":case"GGG":Ve=wt(Bt.Eras,Ot.Abbreviated);break;case"GGGG":Ve=wt(Bt.Eras,Ot.Wide);break;case"GGGGG":Ve=wt(Bt.Eras,Ot.Narrow);break;case"y":Ve=ft(Ue.FullYear,1,0,!1,!0);break;case"yy":Ve=ft(Ue.FullYear,2,0,!0,!0);break;case"yyy":Ve=ft(Ue.FullYear,3,0,!1,!0);break;case"yyyy":Ve=ft(Ue.FullYear,4,0,!1,!0);break;case"Y":Ve=pe(1);break;case"YY":Ve=pe(2,!0);break;case"YYY":Ve=pe(3);break;case"YYYY":Ve=pe(4);break;case"M":case"L":Ve=ft(Ue.Month,1,1);break;case"MM":case"LL":Ve=ft(Ue.Month,2,1);break;case"MMM":Ve=wt(Bt.Months,Ot.Abbreviated);break;case"MMMM":Ve=wt(Bt.Months,Ot.Wide);break;case"MMMMM":Ve=wt(Bt.Months,Ot.Narrow);break;case"LLL":Ve=wt(Bt.Months,Ot.Abbreviated,yt.Standalone);break;case"LLLL":Ve=wt(Bt.Months,Ot.Wide,yt.Standalone);break;case"LLLLL":Ve=wt(Bt.Months,Ot.Narrow,yt.Standalone);break;case"w":Ve=Nt(1);break;case"ww":Ve=Nt(2);break;case"W":Ve=Nt(1,!0);break;case"d":Ve=ft(Ue.Date,1);break;case"dd":Ve=ft(Ue.Date,2);break;case"c":case"cc":Ve=ft(Ue.Day,1);break;case"ccc":Ve=wt(Bt.Days,Ot.Abbreviated,yt.Standalone);break;case"cccc":Ve=wt(Bt.Days,Ot.Wide,yt.Standalone);break;case"ccccc":Ve=wt(Bt.Days,Ot.Narrow,yt.Standalone);break;case"cccccc":Ve=wt(Bt.Days,Ot.Short,yt.Standalone);break;case"E":case"EE":case"EEE":Ve=wt(Bt.Days,Ot.Abbreviated);break;case"EEEE":Ve=wt(Bt.Days,Ot.Wide);break;case"EEEEE":Ve=wt(Bt.Days,Ot.Narrow);break;case"EEEEEE":Ve=wt(Bt.Days,Ot.Short);break;case"a":case"aa":case"aaa":Ve=wt(Bt.DayPeriods,Ot.Abbreviated);break;case"aaaa":Ve=wt(Bt.DayPeriods,Ot.Wide);break;case"aaaaa":Ve=wt(Bt.DayPeriods,Ot.Narrow);break;case"b":case"bb":case"bbb":Ve=wt(Bt.DayPeriods,Ot.Abbreviated,yt.Standalone,!0);break;case"bbbb":Ve=wt(Bt.DayPeriods,Ot.Wide,yt.Standalone,!0);break;case"bbbbb":Ve=wt(Bt.DayPeriods,Ot.Narrow,yt.Standalone,!0);break;case"B":case"BB":case"BBB":Ve=wt(Bt.DayPeriods,Ot.Abbreviated,yt.Format,!0);break;case"BBBB":Ve=wt(Bt.DayPeriods,Ot.Wide,yt.Format,!0);break;case"BBBBB":Ve=wt(Bt.DayPeriods,Ot.Narrow,yt.Format,!0);break;case"h":Ve=ft(Ue.Hours,1,-12);break;case"hh":Ve=ft(Ue.Hours,2,-12);break;case"H":Ve=ft(Ue.Hours,1);break;case"HH":Ve=ft(Ue.Hours,2);break;case"m":Ve=ft(Ue.Minutes,1);break;case"mm":Ve=ft(Ue.Minutes,2);break;case"s":Ve=ft(Ue.Seconds,1);break;case"ss":Ve=ft(Ue.Seconds,2);break;case"S":Ve=ft(Ue.FractionalSeconds,1);break;case"SS":Ve=ft(Ue.FractionalSeconds,2);break;case"SSS":Ve=ft(Ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ve=Ct(ge.Short);break;case"ZZZZZ":Ve=Ct(ge.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ve=Ct(ge.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ve=Ct(ge.Long);break;default:return null}return we[K]=Ve,Ve}(V);w+=fe?fe(N,ne,et):"''"===V?"'":V.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function Tn(K,Ve,ne){const k=new Date(0);return k.setFullYear(K,Ve,ne),k.setHours(0,0,0),k}function Nn(K,Ve){const ne=function(K){return(0,_.cg1)(K)[_.wAp.LocaleId]}(K);if(ae[ne]=ae[ne]||{},ae[ne][Ve])return ae[ne][Ve];let k="";switch(Ve){case"shortDate":k=de(K,un.Short);break;case"mediumDate":k=de(K,un.Medium);break;case"longDate":k=de(K,un.Long);break;case"fullDate":k=de(K,un.Full);break;case"shortTime":k=te(K,un.Short);break;case"mediumTime":k=te(K,un.Medium);break;case"longTime":k=te(K,un.Long);break;case"fullTime":k=te(K,un.Full);break;case"short":const N=Nn(K,"shortTime"),F=Nn(K,"shortDate");k=Pn(Be(K,un.Short),[N,F]);break;case"medium":const ye=Nn(K,"mediumTime"),$=Nn(K,"mediumDate");k=Pn(Be(K,un.Medium),[ye,$]);break;case"long":const et=Nn(K,"longTime"),w=Nn(K,"longDate");k=Pn(Be(K,un.Long),[et,w]);break;case"full":const V=Nn(K,"fullTime"),fe=Nn(K,"fullDate");k=Pn(Be(K,un.Full),[V,fe])}return k&&(ae[ne][Ve]=k),k}function Pn(K,Ve){return Ve&&(K=K.replace(/\{([^}]+)}/g,function(ne,k){return null!=Ve&&k in Ve?Ve[k]:ne})),K}function ei(K,Ve,ne="-",k,N){let F="";(K<0||N&&K<=0)&&(N?K=1-K:(K=-K,F=ne));let ye=String(K);for(;ye.length<Ve;)ye="0"+ye;return k&&(ye=ye.substr(ye.length-Ve)),F+ye}function ft(K,Ve,ne=0,k=!1,N=!1){return function(F,ye){let $=function(K,Ve){switch(K){case Ue.FullYear:return Ve.getFullYear();case Ue.Month:return Ve.getMonth();case Ue.Date:return Ve.getDate();case Ue.Hours:return Ve.getHours();case Ue.Minutes:return Ve.getMinutes();case Ue.Seconds:return Ve.getSeconds();case Ue.FractionalSeconds:return Ve.getMilliseconds();case Ue.Day:return Ve.getDay();default:throw new Error(`Unknown DateType value "${K}".`)}}(K,F);if((ne>0||$>-ne)&&($+=ne),K===Ue.Hours)0===$&&-12===ne&&($=12);else if(K===Ue.FractionalSeconds)return function(K,Ve){return ei(K,3).substr(0,Ve)}($,Ve);const et=Pe(ye,Ut.MinusSign);return ei($,Ve,et,k,N)}}function wt(K,Ve,ne=yt.Format,k=!1){return function(N,F){return function(K,Ve,ne,k,N,F){switch(ne){case Bt.Months:return function(K,Ve,ne){const k=(0,_.cg1)(K),F=cn([k[_.wAp.MonthsFormat],k[_.wAp.MonthsStandalone]],Ve);return cn(F,ne)}(Ve,N,k)[K.getMonth()];case Bt.Days:return function(K,Ve,ne){const k=(0,_.cg1)(K),F=cn([k[_.wAp.DaysFormat],k[_.wAp.DaysStandalone]],Ve);return cn(F,ne)}(Ve,N,k)[K.getDay()];case Bt.DayPeriods:const ye=K.getHours(),$=K.getMinutes();if(F){const w=function(K){const Ve=(0,_.cg1)(K);return We(Ve),(Ve[_.wAp.ExtraData][2]||[]).map(k=>"string"==typeof k?Ln(k):[Ln(k[0]),Ln(k[1])])}(Ve),V=function(K,Ve,ne){const k=(0,_.cg1)(K);We(k);const F=cn([k[_.wAp.ExtraData][0],k[_.wAp.ExtraData][1]],Ve)||[];return cn(F,ne)||[]}(Ve,N,k),fe=w.findIndex(Ze=>{if(Array.isArray(Ze)){const[wn,oi]=Ze,rr=ye>=wn.hours&&$>=wn.minutes,Xi=ye<oi.hours||ye===oi.hours&&$<oi.minutes;if(wn.hours<oi.hours){if(rr&&Xi)return!0}else if(rr||Xi)return!0}else if(Ze.hours===ye&&Ze.minutes===$)return!0;return!1});if(-1!==fe)return V[fe]}return function(K,Ve,ne){const k=(0,_.cg1)(K),F=cn([k[_.wAp.DayPeriodsFormat],k[_.wAp.DayPeriodsStandalone]],Ve);return cn(F,ne)}(Ve,N,k)[ye<12?0:1];case Bt.Eras:return function(K,Ve){return cn((0,_.cg1)(K)[_.wAp.Eras],Ve)}(Ve,k)[K.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ne}`)}}(N,F,K,Ve,ne,k)}}function Ct(K){return function(Ve,ne,k){const N=-1*k,F=Pe(ne,Ut.MinusSign),ye=N>0?Math.floor(N/60):Math.ceil(N/60);switch(K){case ge.Short:return(N>=0?"+":"")+ei(ye,2,F)+ei(Math.abs(N%60),2,F);case ge.ShortGMT:return"GMT"+(N>=0?"+":"")+ei(ye,1,F);case ge.Long:return"GMT"+(N>=0?"+":"")+ei(ye,2,F)+":"+ei(Math.abs(N%60),2,F);case ge.Extended:return 0===k?"Z":(N>=0?"+":"")+ei(ye,2,F)+":"+ei(Math.abs(N%60),2,F);default:throw new Error(`Unknown zone width "${K}"`)}}}function _t(K){return Tn(K.getFullYear(),K.getMonth(),K.getDate()+(4-K.getDay()))}function Nt(K,Ve=!1){return function(ne,k){let N;if(Ve){const F=new Date(ne.getFullYear(),ne.getMonth(),1).getDay()-1,ye=ne.getDate();N=1+Math.floor((ye+F)/7)}else{const F=_t(ne),ye=function(K){const Ve=Tn(K,0,1).getDay();return Tn(K,0,1+(Ve<=4?4:11)-Ve)}(F.getFullYear()),$=F.getTime()-ye.getTime();N=1+Math.round($/6048e5)}return ei(N,K,Pe(k,Ut.MinusSign))}}function pe(K,Ve=!1){return function(ne,k){return ei(_t(ne).getFullYear(),K,Pe(k,Ut.MinusSign),Ve)}}const we={};function Tt(K,Ve){K=K.replace(/:/g,"");const ne=Date.parse("Jan 01, 1970 00:00:00 "+K)/6e4;return isNaN(ne)?Ve:ne}function Ui(K){return K instanceof Date&&!isNaN(K.valueOf())}class St{}let st=(()=>{class K extends St{constructor(ne){super(),this.locale=ne}getPluralCategory(ne,k){switch(je(k||this.locale)(ne)){case ke.Zero:return"zero";case ke.One:return"one";case ke.Two:return"two";case ke.Few:return"few";case ke.Many:return"many";default:return"other"}}}return K.\u0275fac=function(ne){return new(ne||K)(_.LFG(_.soG))},K.\u0275prov=_.Yz7({token:K,factory:K.\u0275fac}),K})();function _n(K,Ve){Ve=encodeURIComponent(Ve);for(const ne of K.split(";")){const k=ne.indexOf("="),[N,F]=-1==k?[ne,""]:[ne.slice(0,k),ne.slice(k+1)];if(N.trim()===Ve)return decodeURIComponent(F)}return null}let $n=(()=>{class K{constructor(ne,k,N,F){this._iterableDiffers=ne,this._keyValueDiffers=k,this._ngEl=N,this._renderer=F,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(ne){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof ne?ne.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(ne){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof ne?ne.split(/\s+/):ne,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const ne=this._iterableDiffer.diff(this._rawClass);ne&&this._applyIterableChanges(ne)}else if(this._keyValueDiffer){const ne=this._keyValueDiffer.diff(this._rawClass);ne&&this._applyKeyValueChanges(ne)}}_applyKeyValueChanges(ne){ne.forEachAddedItem(k=>this._toggleClass(k.key,k.currentValue)),ne.forEachChangedItem(k=>this._toggleClass(k.key,k.currentValue)),ne.forEachRemovedItem(k=>{k.previousValue&&this._toggleClass(k.key,!1)})}_applyIterableChanges(ne){ne.forEachAddedItem(k=>{if("string"!=typeof k.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(k.item)}`);this._toggleClass(k.item,!0)}),ne.forEachRemovedItem(k=>this._toggleClass(k.item,!1))}_applyClasses(ne){ne&&(Array.isArray(ne)||ne instanceof Set?ne.forEach(k=>this._toggleClass(k,!0)):Object.keys(ne).forEach(k=>this._toggleClass(k,!!ne[k])))}_removeClasses(ne){ne&&(Array.isArray(ne)||ne instanceof Set?ne.forEach(k=>this._toggleClass(k,!1)):Object.keys(ne).forEach(k=>this._toggleClass(k,!1)))}_toggleClass(ne,k){(ne=ne.trim())&&ne.split(/\s+/g).forEach(N=>{k?this._renderer.addClass(this._ngEl.nativeElement,N):this._renderer.removeClass(this._ngEl.nativeElement,N)})}}return K.\u0275fac=function(ne){return new(ne||K)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},K.\u0275dir=_.lG2({type:K,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),K})();class Mi{constructor(Ve,ne,k,N){this.$implicit=Ve,this.ngForOf=ne,this.index=k,this.count=N}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ui=(()=>{class K{constructor(ne,k,N){this._viewContainer=ne,this._template=k,this._differs=N,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ne){this._ngForOf=ne,this._ngForOfDirty=!0}set ngForTrackBy(ne){this._trackByFn=ne}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(ne){ne&&(this._template=ne)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ne=this._ngForOf;if(!this._differ&&ne)try{this._differ=this._differs.find(ne).create(this.ngForTrackBy)}catch(k){throw new Error(`Cannot find a differ supporting object '${ne}' of type '${function(K){return K.name||typeof K}(ne)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const ne=this._differ.diff(this._ngForOf);ne&&this._applyChanges(ne)}}_applyChanges(ne){const k=[];ne.forEachOperation((N,F,ye)=>{if(null==N.previousIndex){const $=this._viewContainer.createEmbeddedView(this._template,new Mi(null,this._ngForOf,-1,-1),null===ye?void 0:ye),et=new Tr(N,$);k.push(et)}else if(null==ye)this._viewContainer.remove(null===F?void 0:F);else if(null!==F){const $=this._viewContainer.get(F);this._viewContainer.move($,ye);const et=new Tr(N,$);k.push(et)}});for(let N=0;N<k.length;N++)this._perViewChange(k[N].view,k[N].record);for(let N=0,F=this._viewContainer.length;N<F;N++){const ye=this._viewContainer.get(N);ye.context.index=N,ye.context.count=F,ye.context.ngForOf=this._ngForOf}ne.forEachIdentityChange(N=>{this._viewContainer.get(N.currentIndex).context.$implicit=N.item})}_perViewChange(ne,k){ne.context.$implicit=k.item}static ngTemplateContextGuard(ne,k){return!0}}return K.\u0275fac=function(ne){return new(ne||K)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},K.\u0275dir=_.lG2({type:K,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),K})();class Tr{constructor(Ve,ne){this.record=Ve,this.view=ne}}let Wr=(()=>{class K{constructor(ne,k){this._viewContainer=ne,this._context=new Es,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(ne){this._context.$implicit=this._context.ngIf=ne,this._updateView()}set ngIfThen(ne){Mr("ngIfThen",ne),this._thenTemplateRef=ne,this._thenViewRef=null,this._updateView()}set ngIfElse(ne){Mr("ngIfElse",ne),this._elseTemplateRef=ne,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ne,k){return!0}}return K.\u0275fac=function(ne){return new(ne||K)(_.Y36(_.s_b),_.Y36(_.Rgc))},K.\u0275dir=_.lG2({type:K,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),K})();class Es{constructor(){this.$implicit=null,this.ngIf=null}}function Mr(K,Ve){if(Ve&&!Ve.createEmbeddedView)throw new Error(`${K} must be a TemplateRef, but received '${(0,_.AaK)(Ve)}'.`)}class lr{constructor(Ve,ne){this._viewContainerRef=Ve,this._templateRef=ne,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Ve){Ve&&!this._created?this.create():!Ve&&this._created&&this.destroy()}}let ss=(()=>{class K{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(ne){this._ngSwitch=ne,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(ne){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(ne)}_matchCase(ne){const k=ne==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||k,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),k}_updateDefaultCases(ne){if(this._defaultViews&&ne!==this._defaultUsed){this._defaultUsed=ne;for(let k=0;k<this._defaultViews.length;k++)this._defaultViews[k].enforceState(ne)}}}return K.\u0275fac=function(ne){return new(ne||K)},K.\u0275dir=_.lG2({type:K,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),K})(),tr=(()=>{class K{constructor(ne,k,N){this.ngSwitch=N,N._addCase(),this._view=new lr(ne,k)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return K.\u0275fac=function(ne){return new(ne||K)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(ss,9))},K.\u0275dir=_.lG2({type:K,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),K})(),Yr=(()=>{class K{constructor(ne,k,N){N._addDefault(new lr(ne,k))}}return K.\u0275fac=function(ne){return new(ne||K)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(ss,9))},K.\u0275dir=_.lG2({type:K,selectors:[["","ngSwitchDefault",""]]}),K})();function kr(K,Ve){return Error(`InvalidPipeArgument: '${Ve}' for pipe '${(0,_.AaK)(K)}'`)}class mo{createSubscription(Ve,ne){return Ve.subscribe({next:ne,error:k=>{throw k}})}dispose(Ve){Ve.unsubscribe()}onDestroy(Ve){Ve.unsubscribe()}}class Or{createSubscription(Ve,ne){return Ve.then(ne,k=>{throw k})}dispose(Ve){}onDestroy(Ve){}}const Kt=new Or,zt=new mo;let rn=(()=>{class K{constructor(ne){this._ref=ne,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(ne){return this._obj?ne!==this._obj?(this._dispose(),this.transform(ne)):this._latestValue:(ne&&this._subscribe(ne),this._latestValue)}_subscribe(ne){this._obj=ne,this._strategy=this._selectStrategy(ne),this._subscription=this._strategy.createSubscription(ne,k=>this._updateLatestValue(ne,k))}_selectStrategy(ne){if((0,_.QGY)(ne))return Kt;if((0,_.F4k)(ne))return zt;throw kr(K,ne)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ne,k){ne===this._obj&&(this._latestValue=k,this._ref.markForCheck())}}return K.\u0275fac=function(ne){return new(ne||K)(_.Y36(_.sBO,16))},K.\u0275pipe=_.Yjl({name:"async",type:K,pure:!1}),K})(),Ci=(()=>{class K{constructor(ne){this.locale=ne}transform(ne,k="mediumDate",N,F){if(null==ne||""===ne||ne!=ne)return null;try{return an(ne,k,F||this.locale,N)}catch(ye){throw kr(K,ye.message)}}}return K.\u0275fac=function(ne){return new(ne||K)(_.Y36(_.soG,16))},K.\u0275pipe=_.Yjl({name:"date",type:K,pure:!0}),K})(),Ar=(()=>{class K{}return K.\u0275fac=function(ne){return new(ne||K)},K.\u0275mod=_.oAB({type:K}),K.\u0275inj=_.cJS({providers:[{provide:St,useClass:st}]}),K})();const hs="browser";function ps(K){return K===hs}function Vs(K){return"server"===K}let cr=(()=>{class K{}return K.\u0275prov=(0,_.Yz7)({token:K,providedIn:"root",factory:()=>new Ri((0,_.LFG)(De),window)}),K})();class Ri{constructor(Ve,ne){this.document=Ve,this.window=ne,this.offset=()=>[0,0]}setOffset(Ve){this.offset=Array.isArray(Ve)?()=>Ve:Ve}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ve){this.supportsScrolling()&&this.window.scrollTo(Ve[0],Ve[1])}scrollToAnchor(Ve){if(!this.supportsScrolling())return;const ne=function(K,Ve){const ne=K.getElementById(Ve)||K.getElementsByName(Ve)[0];if(ne)return ne;if("function"==typeof K.createTreeWalker&&K.body&&(K.body.createShadowRoot||K.body.attachShadow)){const k=K.createTreeWalker(K.body,NodeFilter.SHOW_ELEMENT);let N=k.currentNode;for(;N;){const F=N.shadowRoot;if(F){const ye=F.getElementById(Ve)||F.querySelector(`[name="${Ve}"]`);if(ye)return ye}N=k.nextNode()}}return null}(this.document,Ve);ne&&(this.scrollToElement(ne),this.attemptFocus(ne))}setHistoryScrollRestoration(Ve){if(this.supportScrollRestoration()){const ne=this.window.history;ne&&ne.scrollRestoration&&(ne.scrollRestoration=Ve)}}scrollToElement(Ve){const ne=Ve.getBoundingClientRect(),k=ne.left+this.window.pageXOffset,N=ne.top+this.window.pageYOffset,F=this.offset();this.window.scrollTo(k-F[0],N-F[1])}attemptFocus(Ve){return Ve.focus(),this.document.activeElement===Ve}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Ve=yo(this.window.history)||yo(Object.getPrototypeOf(this.window.history));return!(!Ve||!Ve.writable&&!Ve.set)}catch(Ve){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ve){return!1}}}function yo(K){return Object.getOwnPropertyDescriptor(K,"scrollRestoration")}class Nr{}},1841:(In,mt,D)=>{"use strict";D.d(mt,{eN:()=>Ut,JF:()=>cn});var _=D(8583),m=D(7716),y=D(5917),d=D(7574),he=D(4612),U=D(5435),De=D(8002);class le{}class Ee{}class se{constructor(B){this.normalizedNames=new Map,this.lazyUpdate=null,B?this.lazyInit="string"==typeof B?()=>{this.headers=new Map,B.split("\n").forEach(H=>{const ae=H.indexOf(":");if(ae>0){const Le=H.slice(0,ae),ge=Le.toLowerCase(),Ue=H.slice(ae+1).trim();this.maybeSetNormalizedName(Le,ge),this.headers.has(ge)?this.headers.get(ge).push(Ue):this.headers.set(ge,[Ue])}})}:()=>{this.headers=new Map,Object.keys(B).forEach(H=>{let ae=B[H];const Le=H.toLowerCase();"string"==typeof ae&&(ae=[ae]),ae.length>0&&(this.headers.set(Le,ae),this.maybeSetNormalizedName(H,Le))})}:this.headers=new Map}has(B){return this.init(),this.headers.has(B.toLowerCase())}get(B){this.init();const H=this.headers.get(B.toLowerCase());return H&&H.length>0?H[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(B){return this.init(),this.headers.get(B.toLowerCase())||null}append(B,H){return this.clone({name:B,value:H,op:"a"})}set(B,H){return this.clone({name:B,value:H,op:"s"})}delete(B,H){return this.clone({name:B,value:H,op:"d"})}maybeSetNormalizedName(B,H){this.normalizedNames.has(H)||this.normalizedNames.set(H,B)}init(){this.lazyInit&&(this.lazyInit instanceof se?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(B=>this.applyUpdate(B)),this.lazyUpdate=null))}copyFrom(B){B.init(),Array.from(B.headers.keys()).forEach(H=>{this.headers.set(H,B.headers.get(H)),this.normalizedNames.set(H,B.normalizedNames.get(H))})}clone(B){const H=new se;return H.lazyInit=this.lazyInit&&this.lazyInit instanceof se?this.lazyInit:this,H.lazyUpdate=(this.lazyUpdate||[]).concat([B]),H}applyUpdate(B){const H=B.name.toLowerCase();switch(B.op){case"a":case"s":let ae=B.value;if("string"==typeof ae&&(ae=[ae]),0===ae.length)return;this.maybeSetNormalizedName(B.name,H);const Le=("a"===B.op?this.headers.get(H):void 0)||[];Le.push(...ae),this.headers.set(H,Le);break;case"d":const ge=B.value;if(ge){let Ue=this.headers.get(H);if(!Ue)return;Ue=Ue.filter(Bt=>-1===ge.indexOf(Bt)),0===Ue.length?(this.headers.delete(H),this.normalizedNames.delete(H)):this.headers.set(H,Ue)}else this.headers.delete(H),this.normalizedNames.delete(H)}}forEach(B){this.init(),Array.from(this.normalizedNames.keys()).forEach(H=>B(this.normalizedNames.get(H),this.headers.get(H)))}}class Te{encodeKey(B){return Xe(B)}encodeValue(B){return Xe(B)}decodeKey(B){return decodeURIComponent(B)}decodeValue(B){return decodeURIComponent(B)}}const Ye=/%(\d[a-f0-9])/gi,tt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Xe(ue){return encodeURIComponent(ue).replace(Ye,(B,H)=>{var ae;return null!==(ae=tt[H])&&void 0!==ae?ae:B})}function nt(ue){return`${ue}`}class Me{constructor(B={}){if(this.updates=null,this.cloneFrom=null,this.encoder=B.encoder||new Te,B.fromString){if(B.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(ue,B){const H=new Map;return ue.length>0&&ue.replace(/^\?/,"").split("&").forEach(Le=>{const ge=Le.indexOf("="),[Ue,Bt]=-1==ge?[B.decodeKey(Le),""]:[B.decodeKey(Le.slice(0,ge)),B.decodeValue(Le.slice(ge+1))],an=H.get(Ue)||[];an.push(Bt),H.set(Ue,an)}),H}(B.fromString,this.encoder)}else B.fromObject?(this.map=new Map,Object.keys(B.fromObject).forEach(H=>{const ae=B.fromObject[H];this.map.set(H,Array.isArray(ae)?ae:[ae])})):this.map=null}has(B){return this.init(),this.map.has(B)}get(B){this.init();const H=this.map.get(B);return H?H[0]:null}getAll(B){return this.init(),this.map.get(B)||null}keys(){return this.init(),Array.from(this.map.keys())}append(B,H){return this.clone({param:B,value:H,op:"a"})}appendAll(B){const H=[];return Object.keys(B).forEach(ae=>{const Le=B[ae];Array.isArray(Le)?Le.forEach(ge=>{H.push({param:ae,value:ge,op:"a"})}):H.push({param:ae,value:Le,op:"a"})}),this.clone(H)}set(B,H){return this.clone({param:B,value:H,op:"s"})}delete(B,H){return this.clone({param:B,value:H,op:"d"})}toString(){return this.init(),this.keys().map(B=>{const H=this.encoder.encodeKey(B);return this.map.get(B).map(ae=>H+"="+this.encoder.encodeValue(ae)).join("&")}).filter(B=>""!==B).join("&")}clone(B){const H=new Me({encoder:this.encoder});return H.cloneFrom=this.cloneFrom||this,H.updates=(this.updates||[]).concat(B),H}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(B=>this.map.set(B,this.cloneFrom.map.get(B))),this.updates.forEach(B=>{switch(B.op){case"a":case"s":const H=("a"===B.op?this.map.get(B.param):void 0)||[];H.push(nt(B.value)),this.map.set(B.param,H);break;case"d":if(void 0===B.value){this.map.delete(B.param);break}{let ae=this.map.get(B.param)||[];const Le=ae.indexOf(nt(B.value));-1!==Le&&ae.splice(Le,1),ae.length>0?this.map.set(B.param,ae):this.map.delete(B.param)}}}),this.cloneFrom=this.updates=null)}}class Qt{constructor(){this.map=new Map}set(B,H){return this.map.set(B,H),this}get(B){return this.map.has(B)||this.map.set(B,B.defaultValue()),this.map.get(B)}delete(B){return this.map.delete(B),this}keys(){return this.map.keys()}}function Gt(ue){return"undefined"!=typeof ArrayBuffer&&ue instanceof ArrayBuffer}function Et(ue){return"undefined"!=typeof Blob&&ue instanceof Blob}function ut(ue){return"undefined"!=typeof FormData&&ue instanceof FormData}class ze{constructor(B,H,ae,Le){let ge;if(this.url=H,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=B.toUpperCase(),function(ue){switch(ue){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Le?(this.body=void 0!==ae?ae:null,ge=Le):ge=ae,ge&&(this.reportProgress=!!ge.reportProgress,this.withCredentials=!!ge.withCredentials,ge.responseType&&(this.responseType=ge.responseType),ge.headers&&(this.headers=ge.headers),ge.context&&(this.context=ge.context),ge.params&&(this.params=ge.params)),this.headers||(this.headers=new se),this.context||(this.context=new Qt),this.params){const Ue=this.params.toString();if(0===Ue.length)this.urlWithParams=H;else{const Bt=H.indexOf("?");this.urlWithParams=H+(-1===Bt?"?":Bt<H.length-1?"&":"")+Ue}}else this.params=new Me,this.urlWithParams=H}serializeBody(){return null===this.body?null:Gt(this.body)||Et(this.body)||ut(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ut(this.body)?null:Et(this.body)?this.body.type||null:Gt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(B={}){var H;const ae=B.method||this.method,Le=B.url||this.url,ge=B.responseType||this.responseType,Ue=void 0!==B.body?B.body:this.body,Bt=void 0!==B.withCredentials?B.withCredentials:this.withCredentials,an=void 0!==B.reportProgress?B.reportProgress:this.reportProgress;let Tn=B.headers||this.headers,Nn=B.params||this.params;const Pn=null!==(H=B.context)&&void 0!==H?H:this.context;return void 0!==B.setHeaders&&(Tn=Object.keys(B.setHeaders).reduce((ei,Jn)=>ei.set(Jn,B.setHeaders[Jn]),Tn)),B.setParams&&(Nn=Object.keys(B.setParams).reduce((ei,Jn)=>ei.set(Jn,B.setParams[Jn]),Nn)),new ze(ae,Le,Ue,{params:Nn,headers:Tn,context:Pn,reportProgress:an,responseType:ge,withCredentials:Bt})}}var be=(()=>((be=be||{})[be.Sent=0]="Sent",be[be.UploadProgress=1]="UploadProgress",be[be.ResponseHeader=2]="ResponseHeader",be[be.DownloadProgress=3]="DownloadProgress",be[be.Response=4]="Response",be[be.User=5]="User",be))();class q{constructor(B,H=200,ae="OK"){this.headers=B.headers||new se,this.status=void 0!==B.status?B.status:H,this.statusText=B.statusText||ae,this.url=B.url||null,this.ok=this.status>=200&&this.status<300}}class ke extends q{constructor(B={}){super(B),this.type=be.ResponseHeader}clone(B={}){return new ke({headers:B.headers||this.headers,status:void 0!==B.status?B.status:this.status,statusText:B.statusText||this.statusText,url:B.url||this.url||void 0})}}class yt extends q{constructor(B={}){super(B),this.type=be.Response,this.body=void 0!==B.body?B.body:null}clone(B={}){return new yt({body:void 0!==B.body?B.body:this.body,headers:B.headers||this.headers,status:void 0!==B.status?B.status:this.status,statusText:B.statusText||this.statusText,url:B.url||this.url||void 0})}}class Ot extends q{constructor(B){super(B,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${B.url||"(unknown url)"}`:`Http failure response for ${B.url||"(unknown url)"}: ${B.status} ${B.statusText}`,this.error=B.error||null}}function un(ue,B){return{body:B,headers:ue.headers,context:ue.context,observe:ue.observe,params:ue.params,reportProgress:ue.reportProgress,responseType:ue.responseType,withCredentials:ue.withCredentials}}let Ut=(()=>{class ue{constructor(H){this.handler=H}request(H,ae,Le={}){let ge;if(H instanceof ze)ge=H;else{let an,Tn;an=Le.headers instanceof se?Le.headers:new se(Le.headers),Le.params&&(Tn=Le.params instanceof Me?Le.params:new Me({fromObject:Le.params})),ge=new ze(H,ae,void 0!==Le.body?Le.body:null,{headers:an,context:Le.context,params:Tn,reportProgress:Le.reportProgress,responseType:Le.responseType||"json",withCredentials:Le.withCredentials})}const Ue=(0,y.of)(ge).pipe((0,he.b)(an=>this.handler.handle(an)));if(H instanceof ze||"events"===Le.observe)return Ue;const Bt=Ue.pipe((0,U.h)(an=>an instanceof yt));switch(Le.observe||"body"){case"body":switch(ge.responseType){case"arraybuffer":return Bt.pipe((0,De.U)(an=>{if(null!==an.body&&!(an.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return an.body}));case"blob":return Bt.pipe((0,De.U)(an=>{if(null!==an.body&&!(an.body instanceof Blob))throw new Error("Response is not a Blob.");return an.body}));case"text":return Bt.pipe((0,De.U)(an=>{if(null!==an.body&&"string"!=typeof an.body)throw new Error("Response is not a string.");return an.body}));case"json":default:return Bt.pipe((0,De.U)(an=>an.body))}case"response":return Bt;default:throw new Error(`Unreachable: unhandled observe type ${Le.observe}}`)}}delete(H,ae={}){return this.request("DELETE",H,ae)}get(H,ae={}){return this.request("GET",H,ae)}head(H,ae={}){return this.request("HEAD",H,ae)}jsonp(H,ae){return this.request("JSONP",H,{params:(new Me).append(ae,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(H,ae={}){return this.request("OPTIONS",H,ae)}patch(H,ae,Le={}){return this.request("PATCH",H,un(Le,ae))}post(H,ae,Le={}){return this.request("POST",H,un(Le,ae))}put(H,ae,Le={}){return this.request("PUT",H,un(Le,ae))}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(le))},ue.\u0275prov=m.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class jn{constructor(B,H){this.next=B,this.interceptor=H}handle(B){return this.interceptor.intercept(B,this.next)}}const ii=new m.OlP("HTTP_INTERCEPTORS");let Gn=(()=>{class ue{intercept(H,ae){return ae.handle(H)}}return ue.\u0275fac=function(H){return new(H||ue)},ue.\u0275prov=m.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const Be=/^\)\]\}',?\n/;let bt=(()=>{class ue{constructor(H){this.xhrFactory=H}handle(H){if("JSONP"===H.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new d.y(ae=>{const Le=this.xhrFactory.build();if(Le.open(H.method,H.urlWithParams),H.withCredentials&&(Le.withCredentials=!0),H.headers.forEach((Jn,ft)=>Le.setRequestHeader(Jn,ft.join(","))),H.headers.has("Accept")||Le.setRequestHeader("Accept","application/json, text/plain, */*"),!H.headers.has("Content-Type")){const Jn=H.detectContentTypeHeader();null!==Jn&&Le.setRequestHeader("Content-Type",Jn)}if(H.responseType){const Jn=H.responseType.toLowerCase();Le.responseType="json"!==Jn?Jn:"text"}const ge=H.serializeBody();let Ue=null;const Bt=()=>{if(null!==Ue)return Ue;const Jn=1223===Le.status?204:Le.status,ft=Le.statusText||"OK",gt=new se(Le.getAllResponseHeaders()),wt=function(ue){return"responseURL"in ue&&ue.responseURL?ue.responseURL:/^X-Request-URL:/m.test(ue.getAllResponseHeaders())?ue.getResponseHeader("X-Request-URL"):null}(Le)||H.url;return Ue=new ke({headers:gt,status:Jn,statusText:ft,url:wt}),Ue},an=()=>{let{headers:Jn,status:ft,statusText:gt,url:wt}=Bt(),ln=null;204!==ft&&(ln=void 0===Le.response?Le.responseText:Le.response),0===ft&&(ft=ln?200:0);let Ct=ft>=200&&ft<300;if("json"===H.responseType&&"string"==typeof ln){const nn=ln;ln=ln.replace(Be,"");try{ln=""!==ln?JSON.parse(ln):null}catch(Rn){ln=nn,Ct&&(Ct=!1,ln={error:Rn,text:ln})}}Ct?(ae.next(new yt({body:ln,headers:Jn,status:ft,statusText:gt,url:wt||void 0})),ae.complete()):ae.error(new Ot({error:ln,headers:Jn,status:ft,statusText:gt,url:wt||void 0}))},Tn=Jn=>{const{url:ft}=Bt(),gt=new Ot({error:Jn,status:Le.status||0,statusText:Le.statusText||"Unknown Error",url:ft||void 0});ae.error(gt)};let Nn=!1;const Pn=Jn=>{Nn||(ae.next(Bt()),Nn=!0);let ft={type:be.DownloadProgress,loaded:Jn.loaded};Jn.lengthComputable&&(ft.total=Jn.total),"text"===H.responseType&&!!Le.responseText&&(ft.partialText=Le.responseText),ae.next(ft)},ei=Jn=>{let ft={type:be.UploadProgress,loaded:Jn.loaded};Jn.lengthComputable&&(ft.total=Jn.total),ae.next(ft)};return Le.addEventListener("load",an),Le.addEventListener("error",Tn),Le.addEventListener("timeout",Tn),Le.addEventListener("abort",Tn),H.reportProgress&&(Le.addEventListener("progress",Pn),null!==ge&&Le.upload&&Le.upload.addEventListener("progress",ei)),Le.send(ge),ae.next({type:be.Sent}),()=>{Le.removeEventListener("error",Tn),Le.removeEventListener("abort",Tn),Le.removeEventListener("load",an),Le.removeEventListener("timeout",Tn),H.reportProgress&&(Le.removeEventListener("progress",Pn),null!==ge&&Le.upload&&Le.upload.removeEventListener("progress",ei)),Le.readyState!==Le.DONE&&Le.abort()}})}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(_.JF))},ue.\u0275prov=m.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const ct=new m.OlP("XSRF_COOKIE_NAME"),Ft=new m.OlP("XSRF_HEADER_NAME");class me{}let rt=(()=>{class ue{constructor(H,ae,Le){this.doc=H,this.platform=ae,this.cookieName=Le,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const H=this.doc.cookie||"";return H!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(H,this.cookieName),this.lastCookieString=H),this.lastToken}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(_.K0),m.LFG(m.Lbi),m.LFG(ct))},ue.\u0275prov=m.Yz7({token:ue,factory:ue.\u0275fac}),ue})(),je=(()=>{class ue{constructor(H,ae){this.tokenService=H,this.headerName=ae}intercept(H,ae){const Le=H.url.toLowerCase();if("GET"===H.method||"HEAD"===H.method||Le.startsWith("http://")||Le.startsWith("https://"))return ae.handle(H);const ge=this.tokenService.getToken();return null!==ge&&!H.headers.has(this.headerName)&&(H=H.clone({headers:H.headers.set(this.headerName,ge)})),ae.handle(H)}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(me),m.LFG(Ft))},ue.\u0275prov=m.Yz7({token:ue,factory:ue.\u0275fac}),ue})(),We=(()=>{class ue{constructor(H,ae){this.backend=H,this.injector=ae,this.chain=null}handle(H){if(null===this.chain){const ae=this.injector.get(ii,[]);this.chain=ae.reduceRight((Le,ge)=>new jn(Le,ge),this.backend)}return this.chain.handle(H)}}return ue.\u0275fac=function(H){return new(H||ue)(m.LFG(Ee),m.LFG(m.zs3))},ue.\u0275prov=m.Yz7({token:ue,factory:ue.\u0275fac}),ue})(),jt=(()=>{class ue{static disable(){return{ngModule:ue,providers:[{provide:je,useClass:Gn}]}}static withOptions(H={}){return{ngModule:ue,providers:[H.cookieName?{provide:ct,useValue:H.cookieName}:[],H.headerName?{provide:Ft,useValue:H.headerName}:[]]}}}return ue.\u0275fac=function(H){return new(H||ue)},ue.\u0275mod=m.oAB({type:ue}),ue.\u0275inj=m.cJS({providers:[je,{provide:ii,useExisting:je,multi:!0},{provide:me,useClass:rt},{provide:ct,useValue:"XSRF-TOKEN"},{provide:Ft,useValue:"X-XSRF-TOKEN"}]}),ue})(),cn=(()=>{class ue{}return ue.\u0275fac=function(H){return new(H||ue)},ue.\u0275mod=m.oAB({type:ue}),ue.\u0275inj=m.cJS({providers:[Ut,{provide:le,useClass:We},bt,{provide:Ee,useExisting:bt}],imports:[[jt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ue})()},7716:(In,mt,D)=>{"use strict";D.d(mt,{deG:()=>vl,tb:()=>SE,AFp:()=>DE,ip1:()=>Ob,CZH:()=>em,hGG:()=>zS,z2F:()=>Jg,sBO:()=>ND,Sil:()=>Qg,_Vd:()=>Wp,EJc:()=>AE,SBq:()=>pd,qLn:()=>ts,vpe:()=>md,gxx:()=>Ih,tBr:()=>Ll,XFs:()=>jt,OlP:()=>cs,zs3:()=>fo,ZZ4:()=>Ey,aQg:()=>wy,soG:()=>Oy,YKP:()=>f0,v3s:()=>wS,h0i:()=>Lf,PXZ:()=>_S,R0b:()=>gc,FiY:()=>El,Lbi:()=>IE,g9A:()=>TE,n_E:()=>Kg,Qsj:()=>bD,FYo:()=>Cy,JOm:()=>Do,Tiy:()=>ob,q3G:()=>Ps,tp0:()=>ka,EAV:()=>SS,Rgc:()=>Vg,dDg:()=>OE,DyG:()=>ri,q4F:()=>ab,GfV:()=>o0,s_b:()=>Iy,ifc:()=>Ue,eFA:()=>VE,G48:()=>uS,Gpc:()=>Te,f3M:()=>Ec,X6Q:()=>Ub,_c5:()=>LS,VLi:()=>cS,c2e:()=>ME,zSh:()=>Ud,wAp:()=>vn,vHH:()=>Xe,EiD:()=>oc,mCW:()=>kc,qzn:()=>jl,JVY:()=>ou,pB0:()=>lu,eBb:()=>Ca,L6k:()=>zl,LAX:()=>au,cg1:()=>Fe,Tjo:()=>NS,kL8:()=>Wt,yhl:()=>Gl,dqk:()=>Pn,sIi:()=>Gd,CqO:()=>lg,QGY:()=>Zc,F4k:()=>G_,RDi:()=>Bs,AaK:()=>le,z3N:()=>Os,qOj:()=>Ep,TTD:()=>Ar,_Bn:()=>e0,xp6:()=>b,uIk:()=>Sp,Tol:()=>jv,Gre:()=>cy,ekj:()=>bg,Suo:()=>tE,Xpm:()=>pe,lG2:()=>Ui,Yz7:()=>te,cJS:()=>Pe,oAB:()=>Wn,Yjl:()=>Wi,Y36:()=>ad,_UZ:()=>Yc,GkF:()=>ag,BQk:()=>Fp,ynx:()=>og,qZA:()=>Au,TgZ:()=>Bh,EpF:()=>Uh,n5z:()=>Xc,Ikx:()=>i,LFG:()=>so,$8M:()=>ar,NdJ:()=>cg,CRH:()=>nE,kcU:()=>Pi,O4$:()=>fi,oxw:()=>Y_,ALo:()=>Z0,lcZ:()=>K0,xi3:()=>q0,Hsn:()=>Z_,F$t:()=>dg,Q6J:()=>Pp,DdM:()=>H0,VKq:()=>j0,iGM:()=>X0,MAs:()=>F_,CHM:()=>xr,oJD:()=>ac,LSH:()=>Wl,kYT:()=>hi,Udp:()=>vg,WFA:()=>ug,d8E:()=>o,YNc:()=>hc,W1O:()=>oE,_uU:()=>Ig,Oqu:()=>Qd,hij:()=>ud,Gf:()=>eE});var _=D(9765),m=D(5319),y=D(7574),d=D(6682),he=D(8819);function U(t){for(let n in t)if(t[n]===U)return n;throw Error("Could not find renamed property on target object.")}function De(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function le(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(le).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Ee(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const se=U({__forward_ref__:U});function Te(t){return t.__forward_ref__=Te,t.toString=function(){return le(this())},t}function oe(t){return Ye(t)?t():t}function Ye(t){return"function"==typeof t&&t.hasOwnProperty(se)&&t.__forward_ref__===Te}class Xe extends Error{constructor(n,r){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,r)),this.code=n}}function Qe(t){return"string"==typeof t?t:null==t?"":String(t)}function Qt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Qe(t)}function ut(t,n){const r=n?` in ${n}`:"";throw new Xe("201",`No provider for ${Qt(t)} found${r}`)}function kn(t,n){null==t&&function(t,n,r,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${r} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pe(t){return{providers:t.providers||[],imports:t.imports||[]}}function bt(t){return ct(t,je)||ct(t,at)}function ct(t,n){return t.hasOwnProperty(n)?t[n]:null}function rt(t){return t&&(t.hasOwnProperty(We)||t.hasOwnProperty(fn))?t[We]:null}const je=U({\u0275prov:U}),We=U({\u0275inj:U}),at=U({ngInjectableDef:U}),fn=U({ngInjectorDef:U});var jt=(()=>((jt=jt||{})[jt.Default=0]="Default",jt[jt.Host=1]="Host",jt[jt.Self=2]="Self",jt[jt.SkipSelf=4]="SkipSelf",jt[jt.Optional=8]="Optional",jt))();let cn;function pt(t){const n=cn;return cn=t,n}function ue(t,n,r){const a=bt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:r&jt.Optional?null:void 0!==n?n:void ut(le(t),"Injector")}function H(t){return{toString:t}.toString()}var ae=(()=>((ae=ae||{})[ae.OnPush=0]="OnPush",ae[ae.Default=1]="Default",ae))(),Ue=(()=>((Ue=Ue||{})[Ue.Emulated=0]="Emulated",Ue[Ue.None=2]="None",Ue[Ue.ShadowDom=3]="ShadowDom",Ue))();const Bt="undefined"!=typeof globalThis&&globalThis,an="undefined"!=typeof window&&window,Tn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pn=Bt||"undefined"!=typeof global&&global||an||Tn,ft={},gt=[],wt=U({\u0275cmp:U}),ln=U({\u0275dir:U}),Ct=U({\u0275pipe:U}),nn=U({\u0275mod:U}),Rn=U({\u0275loc:U}),Bn=U({\u0275fac:U}),_t=U({__NG_ELEMENT_ID__:U});let Nt=0;function pe(t){return H(()=>{const r={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ue.Emulated,id:"c",styles:t.styles||gt,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,f=t.features,E=t.pipes;return a.id+=Nt++,a.inputs=xi(t.inputs,r),a.outputs=xi(t.outputs),f&&f.forEach(I=>I(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(Oe):null,a.pipeDefs=E?()=>("function"==typeof E?E():E).map(Tt):null,a})}function Oe(t){return Ai(t)||function(t){return t[ln]||null}(t)}function Tt(t){return function(t){return t[Ct]||null}(t)}const tn={};function Wn(t){return H(()=>{const n={type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(tn[t.id]=t.type),n})}function hi(t,n){return H(()=>{const r=qi(t,!0);r.declarations=n.declarations||gt,r.imports=n.imports||gt,r.exports=n.exports||gt})}function xi(t,n){if(null==t)return ft;const r={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),r[l]=a,n&&(n[l]=f)}return r}const Ui=pe;function Wi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ai(t){return t[wt]||null}function qi(t,n){const r=t[nn]||null;if(!r&&!0===n)throw new Error(`Type ${le(t)} does not have '\u0275mod' property.`);return r}function ws(t){return Array.isArray(t)&&"object"==typeof t[1]}function nr(t){return Array.isArray(t)&&!0===t[1]}function Ji(t){return 0!=(8&t.flags)}function os(t){return 2==(2&t.flags)}function Jr(t){return 1==(1&t.flags)}function ds(t){return null!==t.template}function kr(t){return 0!=(512&t[2])}function Ms(t,n){return t.hasOwnProperty(Bn)?t[Bn]:null}class jo{constructor(n,r,a){this.previousValue=n,this.currentValue=r,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ar(){return hs}function hs(t){return t.type.prototype.ngOnChanges&&(t.setInput=hr),fs}function fs(){const t=ps(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===ft)t.previous=n;else for(let a in n)r[a]=n[a];t.current=null,this.ngOnChanges(n)}}function hr(t,n,r,a){const l=ps(t)||function(t,n){return t[ns]=n}(t,{previous:ft,current:null}),f=l.current||(l.current={}),E=l.previous,I=this.declaredInputs[r],L=E[I];f[I]=new jo(L&&L.currentValue,n,E===ft),t[a]=n}Ar.ngInherit=!0;const ns="__ngSimpleChanges__";function ps(t){return t[ns]||null}const cr="http://www.w3.org/2000/svg";let yo;function Bs(t){yo=t}function Zr(){return void 0!==yo?yo:"undefined"!=typeof document?document:void 0}function K(t){return!!t.listen}const ne={createRenderer:(t,n)=>Zr()};function N(t){for(;Array.isArray(t);)t=t[0];return t}function $(t,n){return N(n[t])}function et(t,n){return N(n[t.index])}function V(t,n){return t.data[n]}function fe(t,n){return t[n]}function Ze(t,n){const r=n[t];return ws(r)?r:r[0]}function wn(t){return 4==(4&t[2])}function oi(t){return 128==(128&t[2])}function Xi(t,n){return null==n?null:t[n]}function Bi(t){t[18]=0}function ur(t,n){t[5]+=n;let r=t,a=t[3];for(;null!==a&&(1===n&&1===r[5]||-1===n&&0===r[5]);)a[5]+=n,r=a,a=a[3]}const vi={lFrame:zr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Lo(){return vi.bindingsEnabled}function Fn(){return vi.lFrame.lView}function Yi(){return vi.lFrame.tView}function xr(t){return vi.lFrame.contextLView=t,t[8]}function Gr(){let t=aa();for(;null!==t&&64===t.type;)t=t.parent;return t}function aa(){return vi.lFrame.currentTNode}function Ys(t,n){const r=vi.lFrame;r.currentTNode=t,r.isParent=n}function Ie(){return vi.lFrame.isParent}function S(){vi.lFrame.isParent=!1}function xe(){return vi.isInCheckNoChangesMode}function Je(t){vi.isInCheckNoChangesMode=t}function Dt(){const t=vi.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function gn(){return vi.lFrame.bindingIndex++}function Zn(t){const n=vi.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function er(t,n){const r=vi.lFrame;r.bindingIndex=r.bindingRootIndex=t,Oi(n)}function Oi(t){vi.lFrame.currentDirectiveIndex=t}function Zi(t){const n=vi.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function Kr(){return vi.lFrame.currentQueryIndex}function Fr(t){vi.lFrame.currentQueryIndex=t}function vs(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function br(t,n,r){if(r&jt.SkipSelf){let l=n,f=t;for(;!(l=l.parent,null!==l||r&jt.Host||(l=vs(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;n=l,t=f}const a=vi.lFrame=co();return a.currentTNode=n,a.lView=t,!0}function lo(t){const n=co(),r=t[1];vi.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function co(){const t=vi.lFrame,n=null===t?null:t.child;return null===n?zr(t):n}function zr(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function As(){const t=vi.lFrame;return vi.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const js=As;function Zs(){const t=As();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xr(){return vi.lFrame.selectedIndex}function bo(t){vi.lFrame.selectedIndex=t}function sr(){const t=vi.lFrame;return V(t.tView,t.selectedIndex)}function fi(){vi.lFrame.currentNamespace=cr}function Pi(){vi.lFrame.currentNamespace=null}function Re(t,n){for(let r=n.directiveStart,a=n.directiveEnd;r<a;r++){const f=t.data[r].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:I,ngAfterViewInit:L,ngAfterViewChecked:Z,ngOnDestroy:ve}=f;E&&(t.contentHooks||(t.contentHooks=[])).push(-r,E),I&&((t.contentHooks||(t.contentHooks=[])).push(r,I),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(r,I)),L&&(t.viewHooks||(t.viewHooks=[])).push(-r,L),Z&&((t.viewHooks||(t.viewHooks=[])).push(r,Z),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(r,Z)),null!=ve&&(t.destroyHooks||(t.destroyHooks=[])).push(r,ve)}}function it(t,n,r){On(t,n,3,r)}function kt(t,n,r,a){(3&t[2])===r&&On(t,n,r,a)}function on(t,n){let r=t[2];(3&r)===n&&(r&=2047,r+=1,t[2]=r)}function On(t,n,r,a){const f=null!=a?a:-1,E=n.length-1;let I=0;for(let L=void 0!==a?65535&t[18]:0;L<E;L++)if("number"==typeof n[L+1]){if(I=n[L],null!=a&&I>=a)break}else n[L]<0&&(t[18]+=65536),(I<f||-1==f)&&(ci(t,r,n,L),t[18]=(4294901760&t[18])+L+2),L++}function ci(t,n,r,a){const l=r[a]<0,f=r[a+1],I=t[l?-r[a]:r[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{f.call(I)}finally{}}}else try{f.call(I)}finally{}}class Di{constructor(n,r,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=a}}function no(t,n,r){const a=K(t);let l=0;for(;l<r.length;){const f=r[l];if("number"==typeof f){if(0!==f)break;l++;const E=r[l++],I=r[l++],L=r[l++];a?t.setAttribute(n,I,L,E):n.setAttributeNS(E,I,L)}else{const E=f,I=r[++l];Is(E)?a&&t.setProperty(n,E,I):a?t.setAttribute(n,E,I):n.setAttribute(E,I),l++}}return l}function gs(t){return 3===t||4===t||6===t}function Is(t){return 64===t.charCodeAt(0)}function Ko(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?r=l:0===r||Rr(t,r,l,null,-1===r||2===r?n[++a]:null)}}return t}function Rr(t,n,r,a,l){let f=0,E=t.length;if(-1===n)E=-1;else for(;f<t.length;){const I=t[f++];if("number"==typeof I){if(I===n){E=-1;break}if(I>n){E=f-1;break}}}for(;f<t.length;){const I=t[f];if("number"==typeof I)break;if(I===r){if(null===a)return void(null!==l&&(t[f+1]=l));if(a===t[f+1])return void(t[f+2]=l)}f++,null!==a&&f++,null!==l&&f++}-1!==E&&(t.splice(E,0,n),f=E+1),t.splice(f++,0,r),null!==a&&t.splice(f++,0,a),null!==l&&t.splice(f++,0,l)}function uo(t){return-1!==t}function io(t){return 32767&t}function bs(t,n){let r=function(t){return t>>16}(t),a=n;for(;r>0;)a=a[15],r--;return a}let ea=!0;function Gs(t){const n=ea;return ea=t,n}let O=0;function _e(t,n){const r=lt(t,n);if(-1!==r)return r;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,Se(a.data,t),Se(n,null),Se(a.blueprint,null));const l=Ht(t,n),f=t.injectorIndex;if(uo(l)){const E=io(l),I=bs(l,n),L=I[1].data;for(let Z=0;Z<8;Z++)n[f+Z]=I[E+Z]|L[E+Z]}return n[f+8]=l,f}function Se(t,n){t.push(0,0,0,0,0,0,0,0,n)}function lt(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ht(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,a=null,l=n;for(;null!==l;){const f=l[1],E=f.type;if(a=2===E?f.declTNode:1===E?l[6]:null,null===a)return-1;if(r++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|r<<16}return-1}function qt(t,n,r){!function(t,n,r){let a;"string"==typeof r?a=r.charCodeAt(0)||0:r.hasOwnProperty(_t)&&(a=r[_t]),null==a&&(a=r[_t]=O++);const l=255&a;n.data[t+(l>>5)]|=1<<l}(t,n,r)}function Sn(t,n,r){if(r&jt.Optional)return t;ut(n,"NodeInjector")}function mi(t,n,r,a){if(r&jt.Optional&&void 0===a&&(a=null),0==(r&(jt.Self|jt.Host))){const l=t[9],f=pt(void 0);try{return l?l.get(n,a,r&jt.Optional):ue(n,a,r&jt.Optional)}finally{pt(f)}}return Sn(a,n,r)}function qr(t,n,r,a=jt.Default,l){if(null!==t){const f=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(_t)?t[_t]:void 0;return"number"==typeof n?n>=0?255&n:Go:n}(r);if("function"==typeof f){if(!br(n,t,a))return a&jt.Host?Sn(l,r,a):mi(n,r,a,l);try{const E=f(a);if(null!=E||a&jt.Optional)return E;ut(r)}finally{js()}}else if("number"==typeof f){let E=null,I=lt(t,n),L=-1,Z=a&jt.Host?n[16][6]:null;for((-1===I||a&jt.SkipSelf)&&(L=-1===I?Ht(t,n):n[I+8],-1!==L&&tl(a,!1)?(E=n[1],I=io(L),n=bs(L,n)):I=-1);-1!==I;){const ve=n[1];if(Mo(f,I,ve.data)){const qe=ja(I,n,r,E,a,Z);if(qe!==fr)return qe}L=n[I+8],-1!==L&&tl(a,n[1].data[I+8]===Z)&&Mo(f,I,n)?(E=ve,I=io(L),n=bs(L,n)):I=-1}}}return mi(n,r,a,l)}const fr={};function Go(){return new gr(Gr(),Fn())}function ja(t,n,r,a,l,f){const E=n[1],I=E.data[t+8],ve=qs(I,E,r,null==a?os(I)&&ea:a!=E&&0!=(3&I.type),l&jt.Host&&f===I);return null!==ve?ga(n,E,ve,I):fr}function qs(t,n,r,a,l){const f=t.providerIndexes,E=n.data,I=1048575&f,L=t.directiveStart,ve=f>>20,ot=l?I+ve:t.directiveEnd;for(let Vt=a?I:I+ve;Vt<ot;Vt++){const en=E[Vt];if(Vt<L&&r===en||Vt>=L&&en.type===r)return Vt}if(l){const Vt=E[L];if(Vt&&ds(Vt)&&Vt.type===r)return L}return null}function ga(t,n,r,a){let l=t[r];const f=n.data;if(function(t){return t instanceof Di}(l)){const E=l;E.resolving&&function(t,n){throw new Xe("200",`Circular dependency in DI detected for ${t}`)}(Qt(f[r]));const I=Gs(E.canSeeViewProviders);E.resolving=!0;const L=E.injectImpl?pt(E.injectImpl):null;br(t,a,jt.Default);try{l=t[r]=E.factory(void 0,f,t,a),n.firstCreatePass&&r>=a.directiveStart&&function(t,n,r){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:f}=n.type.prototype;if(a){const E=hs(n);(r.preOrderHooks||(r.preOrderHooks=[])).push(t,E),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,E)}l&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-t,l),f&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t,f),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,f))}(r,f[r],n)}finally{null!==L&&pt(L),Gs(I),E.resolving=!1,js()}}return l}function Mo(t,n,r){return!!(r[n+(t>>5)]&1<<t)}function tl(t,n){return!(t&jt.Self||t&jt.Host&&n)}class gr{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,a){return qr(this._tNode,this._lView,n,a,r)}}function Xc(t){return H(()=>{const n=t.prototype.constructor,r=n[Bn]||ya(n),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const f=l[Bn]||ya(l);if(f&&f!==r)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function ya(t){return Ye(t)?()=>{const n=ya(oe(t));return n&&n()}:Ms(t)}function ar(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const a=r.length;let l=0;for(;l<a;){const f=r[l];if(gs(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<a&&"string"==typeof r[l];)l++;else{if(f===n)return r[l+1];l+=2}}}return null}(Gr(),t)}const nl="__parameters__";function xo(t,n,r){return H(()=>{const a=function(t){return function(...r){if(t){const a=t(...r);for(const l in a)this[l]=a[l]}}}(n);function l(...f){if(this instanceof l)return a.apply(this,f),this;const E=new l(...f);return I.annotation=E,I;function I(L,Z,ve){const qe=L.hasOwnProperty(nl)?L[nl]:Object.defineProperty(L,nl,{value:[]})[nl];for(;qe.length<=ve;)qe.push(null);return(qe[ve]=qe[ve]||[]).push(E),L}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class cs{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=te({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vl=new cs("AnalyzeForEntryComponents"),ri=Function;function ro(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?(n===t&&(n=t.slice(0,r)),ro(a,n)):n!==t&&n.push(a)}return n}function Ro(t,n){t.forEach(r=>Array.isArray(r)?Ro(r,n):n(r))}function la(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function zo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Qo(t,n){const r=[];for(let a=0;a<t;a++)r.push(n);return r}function Js(t,n,r){let a=xa(t,n);return a>=0?t[1|a]=r:(a=~a,function(t,n,r,a){let l=t.length;if(l==n)t.push(r,a);else if(1===l)t.push(a,t[0]),t[0]=r;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=r,t[n+1]=a}}(t,a,n,r)),a}function $a(t,n){const r=xa(t,n);if(r>=0)return t[1|r]}function xa(t,n){return function(t,n,r){let a=0,l=t.length>>r;for(;l!==a;){const f=a+(l-a>>1),E=t[f<<r];if(n===E)return f<<r;E>n?l=f:a=f+1}return~(l<<r)}(t,n,1)}const Si={},wr="__NG_DI_FLAG__",Qi="ngTempTokenPath",Co=/\n/gm,Ra="__source",Lr=U({provide:String,useValue:U});let Eo;function na(t){const n=Eo;return Eo=t,n}function Lu(t,n=jt.Default){if(void 0===Eo)throw new Error("inject() must be called from an injection context");return null===Eo?ue(t,void 0,n):Eo.get(t,n&jt.Optional?null:void 0,n)}function so(t,n=jt.Default){return(cn||Lu)(oe(t),n)}const Ec=so;function ba(t){const n=[];for(let r=0;r<t.length;r++){const a=oe(t[r]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let l,f=jt.Default;for(let E=0;E<a.length;E++){const I=a[E],L=wc(I);"number"==typeof L?-1===L?l=I.token:f|=L:l=I}n.push(so(l,f))}else n.push(so(a))}return n}function ca(t,n){return t[wr]=n,t.prototype[wr]=n,t}function wc(t){return t[wr]}function gd(t,n,r,a){const l=t[Qi];throw n[Ra]&&l.unshift(n[Ra]),t.message=function(t,n,r,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=le(n);if(Array.isArray(n))l=n.map(le).join(" -> ");else if("object"==typeof n){let f=[];for(let E in n)if(n.hasOwnProperty(E)){let I=n[E];f.push(E+":"+("string"==typeof I?JSON.stringify(I):le(I)))}l=`{${f.join(", ")}}`}return`${r}${a?"("+a+")":""}[${l}]: ${t.replace(Co,"\n  ")}`}("\n"+t.message,l,r,a),t.ngTokenPath=l,t[Qi]=null,t}const Ll=ca(xo("Inject",t=>({token:t})),-1),El=ca(xo("Optional"),8),ka=ca(xo("SkipSelf"),4);let Uo,Ic;function Wa(t){var n;return(null===(n=function(){if(void 0===Uo&&(Uo=null,Pn.trustedTypes))try{Uo=Pn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Uo}())||void 0===n?void 0:n.createHTML(t))||t}function Sc(t){var n;return(null===(n=function(){if(void 0===Ic&&(Ic=null,Pn.trustedTypes))try{Ic=Pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ic}())||void 0===n?void 0:n.createHTML(t))||t}class Ul{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mc extends Ul{getTypeName(){return"HTML"}}class bd extends Ul{getTypeName(){return"Style"}}class Hl extends Ul{getTypeName(){return"Script"}}class Ac extends Ul{getTypeName(){return"URL"}}class xc extends Ul{getTypeName(){return"ResourceURL"}}function Os(t){return t instanceof Ul?t.changingThisBreaksApplicationSecurity:t}function jl(t,n){const r=Gl(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===n}function Gl(t){return t instanceof Ul&&t.getTypeName()||null}function ou(t){return new Mc(t)}function zl(t){return new bd(t)}function Ca(t){return new Hl(t)}function au(t){return new Ac(t)}function lu(t){return new xc(t)}class Zh{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Wa(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class wo{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const a=this.inertDocument.createElement("body");r.appendChild(a)}}getInertBodyElement(n){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=Wa(n),r;const a=this.inertDocument.createElement("body");return a.innerHTML=Wa(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const r=n.attributes;for(let l=r.length-1;0<l;l--){const E=r.item(l).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&n.removeAttribute(E)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Rc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ju=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function kc(t){return(t=String(t)).match(Rc)||t.match(ju)?t:"unsafe:"+t}function ia(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Oa(...t){const n={};for(const r of t)for(const a in r)r.hasOwnProperty(a)&&(n[a]=!0);return n}const cl=ia("area,br,col,hr,img,wbr"),cu=ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gu=ia("rp,rt"),zu=Oa(cl,Oa(cu,ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Oa(Gu,ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oa(Gu,cu)),oo=ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vr=ia("srcset"),$l=Oa(oo,Vr,ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pa=ia("script,style,template");class ko{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,a=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?a=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,a&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=this.checkClobberedElement(r,r.nextSibling);if(l){r=l;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!zu.hasOwnProperty(r))return this.sanitizedSomething=!0,!Pa.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const a=n.attributes;for(let l=0;l<a.length;l++){const f=a.item(l),E=f.name,I=E.toLowerCase();if(!$l.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let L=f.value;oo[I]&&(L=kc(L)),Vr[I]&&(t=L,L=(t=String(t)).split(",").map(n=>kc(n.trim())).join(", ")),this.buf.push(" ",E,'="',Tl(L),'"')}var t;return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();zu.hasOwnProperty(r)&&!cl.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Tl(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const qh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sc=/([^\#-~ |!])/g;function Tl(t){return t.replace(/&/g,"&amp;").replace(qh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(sc,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pc;function oc(t,n){let r=null;try{Pc=Pc||function(t){const n=new wo(t);return function(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch(t){return!1}}()?new Zh(n):n}(t);let a=n?String(n):"";r=Pc.getInertBodyElement(a);let l=5,f=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=f,f=r.innerHTML,r=Pc.getInertBodyElement(a)}while(a!==f);return Wa((new ko).sanitizeChildren(is(r)||r))}finally{if(r){const a=is(r)||r;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function is(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ps=(()=>((Ps=Ps||{})[Ps.NONE=0]="NONE",Ps[Ps.HTML=1]="HTML",Ps[Ps.STYLE=2]="STYLE",Ps[Ps.SCRIPT=3]="SCRIPT",Ps[Ps.URL=4]="URL",Ps[Ps.RESOURCE_URL=5]="RESOURCE_URL",Ps))();function ac(t){const n=Yl();return n?Sc(n.sanitize(Ps.HTML,t)||""):jl(t,"HTML")?Sc(Os(t)):oc(Zr(),Qe(t))}function Wl(t){const n=Yl();return n?n.sanitize(Ps.URL,t)||"":jl(t,"URL")?Os(t):kc(Qe(t))}function Yl(){const t=Fn();return t&&t[12]}const Ws="__ngContext__";function _s(t,n){t[Ws]=n}function Zl(t){const n=function(t){return t[Ws]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Lc(t){return t.ngOriginalError}function ah(t,...n){t.error(...n)}class ts{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n),a=this._findContext(n),l=(t=n)&&t.ngErrorLogger||ah;var t;l(this._console,"ERROR",n),r&&l(this._console,"ORIGINAL ERROR",r),a&&l(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?n.ngDebugContext||this._findContext(Lc(n)):null}_findOriginalError(n){let r=n&&Lc(n);for(;r&&Lc(r);)r=Lc(r);return r||null}}const ch=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pn))();function dl(t){return t instanceof Function?t():t}var Do=(()=>((Do=Do||{})[Do.Important=1]="Important",Do[Do.DashCase=2]="DashCase",Do))();function _u(t,n){return undefined(t,n)}function dc(t){const n=t[3];return nr(n)?n[3]:n}function v(t){return re(t[13])}function R(t){return re(t[4])}function re(t){for(;null!==t&&!nr(t);)t=t[4];return t}function Pt(t,n,r,a,l){if(null!=a){let f,E=!1;nr(a)?f=a:ws(a)&&(E=!0,a=a[0]);const I=N(a);0===t&&null!==r?null==l?Jl(n,r,I):ra(n,r,I,l||null,!0):1===t&&null!==r?ra(n,r,I,l||null,!0):2===t?function(t,n,r){const a=Po(t,n);a&&function(t,n,r,a){K(t)?t.removeChild(n,r,a):n.removeChild(r)}(t,a,n,r)}(n,I,E):3===t&&n.destroyNode(I),null!=f&&function(t,n,r,a,l){const f=r[7];f!==N(r)&&Pt(n,t,a,f,l);for(let I=10;I<r.length;I++){const L=r[I];qu(L[1],L,t,n,a,f)}}(n,t,f,r,l)}}function gi(t,n,r){return K(t)?t.createElement(n,r):null===r?t.createElement(n):t.createElementNS(r,n)}function vu(t,n){const r=t[9],a=r.indexOf(n),l=n[3];1024&n[2]&&(n[2]&=-1025,ur(l,-1)),r.splice(a,1)}function bu(t,n){if(t.length<=10)return;const r=10+n,a=t[r];if(a){const l=a[17];null!==l&&l!==t&&vu(l,a),n>0&&(t[r-1][4]=a[4]);const f=zo(t,10+n);!function(t,n){qu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const E=f[19];null!==E&&E.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Cu(t,n){if(!(256&n[2])){const r=n[11];K(r)&&r.destroyNode&&qu(t,n,r,3,null,null),function(t){let n=t[13];if(!n)return Za(t[1],t);for(;n;){let r=null;if(ws(n))r=n[13];else{const a=n[10];a&&(r=a)}if(!r){for(;n&&!n[4]&&n!==t;)ws(n)&&Za(n[1],n),n=n[3];null===n&&(n=t),ws(n)&&Za(n[1],n),r=n&&n[4]}n=r}}(n)}}function Za(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let a=0;a<r.length;a+=2){const l=n[r[a]];if(!(l instanceof Di)){const f=r[a+1];if(Array.isArray(f))for(let E=0;E<f.length;E+=2){const I=l[f[E]],L=f[E+1];try{L.call(I)}finally{}}else try{f.call(l)}finally{}}}}(t,n),function(t,n){const r=t.cleanup,a=n[7];let l=-1;if(null!==r)for(let f=0;f<r.length-1;f+=2)if("string"==typeof r[f]){const E=r[f+1],I="function"==typeof E?E(n):N(n[E]),L=a[l=r[f+2]],Z=r[f+3];"boolean"==typeof Z?I.removeEventListener(r[f],L,Z):Z>=0?a[l=Z]():a[l=-Z].unsubscribe(),f+=2}else{const E=a[l=r[f+1]];r[f].call(E)}if(null!==a){for(let f=l+1;f<a.length;f++)a[f]();n[7]=null}}(t,n),1===n[1].type&&K(n[11])&&n[11].destroy();const r=n[17];if(null!==r&&nr(n[3])){r!==n[3]&&vu(r,n);const a=n[19];null!==a&&a.detachView(t)}}}function Eu(t,n,r){return function(t,n,r){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return r[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===Ue.None||l===Ue.Emulated)return null}return et(a,r)}(t,n.parent,r)}function ra(t,n,r,a,l){K(t)?t.insertBefore(n,r,a,l):n.insertBefore(r,a,l)}function Jl(t,n,r){K(t)?t.appendChild(n,r):n.appendChild(r)}function Du(t,n,r,a,l){null!==a?ra(t,n,r,a,l):Jl(t,n,r)}function Po(t,n){return K(t)?t.parentNode(n):n.parentNode}function Vc(t,n,r){return jf(t,n,r)}let jf=function(t,n,r){return 40&t.type?et(t,r):null};function Ka(t,n,r,a){const l=Eu(t,a,n),f=n[11],I=Vc(a.parent||n[6],a,n);if(null!=l)if(Array.isArray(r))for(let L=0;L<r.length;L++)Du(f,l,r[L],I,!1);else Du(f,l,r,I,!1)}function Bc(t,n){if(null!==n){const r=n.type;if(3&r)return et(n,t);if(4&r)return af(-1,t[n.index]);if(8&r){const a=n.child;if(null!==a)return Bc(t,a);{const l=t[n.index];return nr(l)?af(-1,l):N(l)}}if(32&r)return _u(n,t)()||N(t[n.index]);{const a=Uc(t,n);return null!==a?Array.isArray(a)?a[0]:Bc(dc(t[16]),a):Bc(t,n.next)}}return null}function Uc(t,n){return null!==n?t[16][6].projection[n.projection]:null}function af(t,n){const r=10+t+1;if(r<n.length){const a=n[r],l=a[1].firstChild;if(null!==l)return Bc(a,l)}return n[7]}function ph(t,n,r,a,l,f,E){for(;null!=r;){const I=a[r.index],L=r.type;if(E&&0===n&&(I&&_s(N(I),a),r.flags|=4),64!=(64&r.flags))if(8&L)ph(t,n,r.child,a,l,f,!1),Pt(n,t,l,I,f);else if(32&L){const Z=_u(r,a);let ve;for(;ve=Z();)Pt(n,t,l,ve,f);Pt(n,t,l,I,f)}else 16&L?Tu(t,n,a,r,l,f):Pt(n,t,l,I,f);r=E?r.projectionNext:r.next}}function qu(t,n,r,a,l,f){ph(r,a,t.firstChild,n,l,f,!1)}function Tu(t,n,r,a,l,f){const E=r[16],L=E[6].projection[a.projection];if(Array.isArray(L))for(let Z=0;Z<L.length;Z++)Pt(n,t,l,L[Z],f);else ph(t,n,L,E[3],l,f,!0)}function mh(t,n,r){K(t)?t.setAttribute(n,"style",r):n.style.cssText=r}function cf(t,n,r){K(t)?""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r):n.className=r}function zf(t,n,r){let a=t.length;for(;;){const l=t.indexOf(n,r);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const f=n.length;if(l+f===a||t.charCodeAt(l+f)<=32)return l}r=l+1}}const Qu="ng-template";function $f(t,n,r){let a=0;for(;a<t.length;){let l=t[a++];if(r&&"class"===l){if(l=t[a],-1!==zf(l.toLowerCase(),n,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===n)return!0;return!1}}return!1}function df(t){return 4===t.type&&t.value!==Qu}function Fd(t,n,r){return n===(4!==t.type||r?t.value:Qu)}function gh(t,n,r){let a=4;const l=t.attrs||[],f=function(t){for(let n=0;n<t.length;n++)if(gs(t[n]))return n;return t.length}(l);let E=!1;for(let I=0;I<n.length;I++){const L=n[I];if("number"!=typeof L){if(!E)if(4&a){if(a=2|1&a,""!==L&&!Fd(t,L,r)||""===L&&1===n.length){if(Da(a))return!1;E=!0}}else{const Z=8&a?L:n[++I];if(8&a&&null!==t.attrs){if(!$f(t.attrs,Z,r)){if(Da(a))return!1;E=!0}continue}const qe=Wf(8&a?"class":L,l,df(t),r);if(-1===qe){if(Da(a))return!1;E=!0;continue}if(""!==Z){let ot;ot=qe>f?"":l[qe+1].toLowerCase();const Vt=8&a?ot:null;if(Vt&&-1!==zf(Vt,Z,0)||2&a&&Z!==ot){if(Da(a))return!1;E=!0}}}}else{if(!E&&!Da(a)&&!Da(L))return!1;if(E&&Da(L))continue;E=!1,a=L|1&a}}return Da(a)||E}function Da(t){return 0==(1&t)}function Wf(t,n,r,a){if(null===n)return-1;let l=0;if(a||!r){let f=!1;for(;l<n.length;){const E=n[l];if(E===t)return l;if(3===E||6===E)f=!0;else{if(1===E||2===E){let I=n[++l];for(;"string"==typeof I;)I=n[++l];continue}if(4===E)break;if(0===E){l+=4;continue}}l+=f?1:2}return-1}return function(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const a=t[r];if("number"==typeof a)return-1;if(a===n)return r;r++}return-1}(n,t)}function Ta(t,n,r=!1){for(let a=0;a<n.length;a++)if(gh(t,n[a],r))return!0;return!1}function Yf(t,n){e:for(let r=0;r<n.length;r++){const a=n[r];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function Xl(t,n){return t?":not("+n.trim()+")":n}function Ju(t){let n=t[0],r=1,a=2,l="",f=!1;for(;r<t.length;){let E=t[r];if("string"==typeof E)if(2&a){const I=t[++r];l+="["+E+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?l+="."+E:4&a&&(l+=" "+E);else""!==l&&!Da(E)&&(n+=Xl(f,l),l=""),a=E,f=f||!Da(a);r++}return""!==l&&(n+=Xl(f,l)),n}const c={};function b(t){x(Yi(),Fn(),Xr()+t,xe())}function x(t,n,r,a){if(!a)if(3==(3&n[2])){const f=t.preOrderCheckHooks;null!==f&&it(n,f,r)}else{const f=t.preOrderHooks;null!==f&&kt(n,f,0,r)}bo(r)}function j(t,n){return t<<17|n<<2}function ie(t){return t>>17&32767}function Lt(t){return 2|t}function bn(t){return(131068&t)>>2}function Cn(t,n){return-131069&t|n<<2}function yi(t){return 1|t}function o_(t,n){const r=t.contentQueries;if(null!==r)for(let a=0;a<r.length;a+=2){const l=r[a],f=r[a+1];if(-1!==f){const E=t.data[f];Fr(l),E.contentQueries(2,n[f],f)}}}function vf(t,n,r,a,l,f,E,I,L,Z){const ve=n.blueprint.slice();return ve[0]=l,ve[2]=140|a,Bi(ve),ve[3]=ve[15]=t,ve[8]=r,ve[10]=E||t&&t[10],ve[11]=I||t&&t[11],ve[12]=L||t&&t[12]||null,ve[9]=Z||t&&t[9]||null,ve[6]=f,ve[16]=2==n.type?t[16]:ve,ve}function vh(t,n,r,a,l){let f=t.data[n];if(null===f)f=function(t,n,r,a,l){const f=aa(),E=Ie(),L=t.data[n]=function(t,n,r,a,l,f){return{type:r,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?f:f&&f.parent,r,n,a,l);return null===t.firstChild&&(t.firstChild=L),null!==f&&(E?null==f.child&&null!==L.parent&&(f.child=L):null===f.next&&(f.next=L)),L}(t,n,r,a,l),vi.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=r,f.value=a,f.attrs=l;const E=function(){const t=vi.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===E?-1:E.injectorIndex}return Ys(f,!0),f}function ed(t,n,r,a){if(0===r)return-1;const l=n.length;for(let f=0;f<r;f++)n.push(a),t.blueprint.push(a),t.data.push(null);return l}function bh(t,n,r){lo(n);try{const a=t.viewQuery;null!==a&&Af(1,a,r);const l=t.template;null!==l&&bf(t,n,l,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&o_(t,n),t.staticViewQueries&&Af(2,t.viewQuery,r);const f=t.components;null!==f&&function(t,n){for(let r=0;r<n.length;r++)sv(t,n[r])}(n,f)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,Zs()}}function Ld(t,n,r,a){const l=n[2];if(256==(256&l))return;lo(n);const f=xe();try{Bi(n),function(t){vi.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&bf(t,n,r,2,a);const E=3==(3&l);if(!f)if(E){const Z=t.preOrderCheckHooks;null!==Z&&it(n,Z,null)}else{const Z=t.preOrderHooks;null!==Z&&kt(n,Z,0,null),on(n,0)}if(function(t){for(let n=v(t);null!==n;n=R(n)){if(!n[2])continue;const r=n[9];for(let a=0;a<r.length;a++){const l=r[a],f=l[3];0==(1024&l[2])&&ur(f,1),l[2]|=1024}}}(n),function(t){for(let n=v(t);null!==n;n=R(n))for(let r=10;r<n.length;r++){const a=n[r],l=a[1];oi(a)&&Ld(l,a,l.template,a[8])}}(n),null!==t.contentQueries&&o_(t,n),!f)if(E){const Z=t.contentCheckHooks;null!==Z&&it(n,Z)}else{const Z=t.contentHooks;null!==Z&&kt(n,Z,1),on(n,1)}!function(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let a=0;a<r.length;a++){const l=r[a];if(l<0)bo(~l);else{const f=l,E=r[++a],I=r[++a];er(E,f),I(2,n[f])}}}finally{bo(-1)}}(t,n);const I=t.components;null!==I&&function(t,n){for(let r=0;r<n.length;r++)Cm(t,n[r])}(n,I);const L=t.viewQuery;if(null!==L&&Af(2,L,a),!f)if(E){const Z=t.viewCheckHooks;null!==Z&&it(n,Z)}else{const Z=t.viewHooks;null!==Z&&kt(n,Z,2),on(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),f||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,ur(n[3],-1))}finally{Zs()}}function fm(t,n,r,a){const l=n[10],f=!xe(),E=wn(n);try{f&&!E&&l.begin&&l.begin(),E&&bh(t,n,a),Ld(t,n,r,a)}finally{f&&!E&&l.end&&l.end()}}function bf(t,n,r,a,l){const f=Xr(),E=2&a;try{bo(-1),E&&n.length>20&&x(t,n,20,xe()),r(a,l)}finally{bo(f)}}function Ch(t,n,r){if(Ji(n)){const l=n.directiveEnd;for(let f=n.directiveStart;f<l;f++){const E=t.data[f];E.contentQueries&&E.contentQueries(1,r[f],f)}}}function Eh(t,n,r){!Lo()||(function(t,n,r,a){const l=r.directiveStart,f=r.directiveEnd;t.firstCreatePass||_e(r,n),_s(a,n);const E=r.initialInputs;for(let I=l;I<f;I++){const L=t.data[I],Z=ds(L);Z&&ym(n,r,L);const ve=ga(n,t,I,r);_s(ve,n),null!==E&&rv(0,I-l,ve,L,0,E),Z&&(Ze(r.index,n)[8]=ve)}}(t,n,r,et(r,n)),128==(128&r.flags)&&function(t,n,r){const a=r.directiveStart,l=r.directiveEnd,E=r.index,I=vi.lFrame.currentDirectiveIndex;try{bo(E);for(let L=a;L<l;L++){const Z=t.data[L],ve=n[L];Oi(L),(null!==Z.hostBindings||0!==Z.hostVars||null!==Z.hostAttrs)&&np(Z,ve)}}finally{bo(-1),Oi(I)}}(t,n,r))}function Cf(t,n,r=et){const a=n.localNames;if(null!==a){let l=n.index+1;for(let f=0;f<a.length;f+=2){const E=a[f+1],I=-1===E?r(n,t):t[E];t[l++]=I}}}function Xf(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=wh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function wh(t,n,r,a,l,f,E,I,L,Z){const ve=20+a,qe=ve+l,ot=function(t,n){const r=[];for(let a=0;a<n;a++)r.push(a<t?null:c);return r}(ve,qe),Vt="function"==typeof Z?Z():Z;return ot[1]={type:t,blueprint:ot,template:r,queries:null,viewQuery:I,declTNode:n,data:ot.slice().fill(null,ve),bindingStartIndex:ve,expandoStartIndex:qe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:L,consts:Vt,incompleteFirstPass:!1}}function u_(t,n,r,a){const l=sp(n);null===r?l.push(a):(l.push(r),t.firstCreatePass&&op(t).push(a,l.length-1))}function pm(t,n,r){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(r=null===r?{}:r).hasOwnProperty(a)?r[a].push(n,l):r[a]=[n,l]}return r}function Qa(t,n,r,a,l,f,E,I){const L=et(n,r);let ve,Z=n.inputs;!I&&null!=Z&&(ve=Z[a])?(ap(t,r,ve,a,l),os(n)&&function(t,n){const r=Ze(n,t);16&r[2]||(r[2]|=64)}(r,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=E?E(l,n.value||"",a):l,K(f)?f.setProperty(L,a,l):Is(a)||(L.setProperty?L.setProperty(a,l):L[a]=l))}function Df(t,n,r,a){let l=!1;if(Lo()){const f=function(t,n,r){const a=t.directiveRegistry;let l=null;if(a)for(let f=0;f<a.length;f++){const E=a[f];Ta(r,E.selectors,!1)&&(l||(l=[]),qt(_e(r,n),t,E.type),ds(E)?(ip(t,r),l.unshift(E)):l.push(E))}return l}(t,n,r),E=null===a?null:{"":-1};if(null!==f){l=!0,_m(r,t.data.length,f.length);for(let ve=0;ve<f.length;ve++){const qe=f[ve];qe.providersResolver&&qe.providersResolver(qe)}let I=!1,L=!1,Z=ed(t,n,f.length,null);for(let ve=0;ve<f.length;ve++){const qe=f[ve];r.mergedAttrs=Ko(r.mergedAttrs,qe.hostAttrs),p_(t,r,n,Z,qe),td(Z,qe,E),null!==qe.contentQueries&&(r.flags|=8),(null!==qe.hostBindings||null!==qe.hostAttrs||0!==qe.hostVars)&&(r.flags|=128);const ot=qe.type.prototype;!I&&(ot.ngOnChanges||ot.ngOnInit||ot.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r.index),I=!0),!L&&(ot.ngOnChanges||ot.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r.index),L=!0),Z++}!function(t,n){const a=n.directiveEnd,l=t.data,f=n.attrs,E=[];let I=null,L=null;for(let Z=n.directiveStart;Z<a;Z++){const ve=l[Z],qe=ve.inputs,ot=null===f||df(n)?null:vm(qe,f);E.push(ot),I=pm(qe,Z,I),L=pm(ve.outputs,Z,L)}null!==I&&(I.hasOwnProperty("class")&&(n.flags|=16),I.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=E,n.inputs=I,n.outputs=L}(t,r)}E&&function(t,n,r){if(n){const a=t.localNames=[];for(let l=0;l<n.length;l+=2){const f=r[n[l+1]];if(null==f)throw new Xe("301",`Export of name '${n[l+1]}' not found!`);a.push(n[l],f)}}}(r,a,E)}return r.mergedAttrs=Ko(r.mergedAttrs,r.attrs),l}function Vd(t,n,r,a,l,f){const E=f.hostBindings;if(E){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const L=~n.index;(function(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(I)!=L&&I.push(L),I.push(a,l,E)}}function np(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function ip(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function td(t,n,r){if(r){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)r[n.exportAs[a]]=t;ds(n)&&(r[""]=t)}}function _m(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}function p_(t,n,r,a,l){t.data[a]=l;const f=l.factory||(l.factory=Ms(l.type)),E=new Di(f,ds(l),null);t.blueprint[a]=E,r[a]=E,Vd(t,n,0,a,ed(t,r,l.hostVars,c),l)}function ym(t,n,r){const a=et(n,t),l=Xf(r),f=t[10],E=Sf(t,vf(t,l,null,r.onPush?64:16,a,n,f,f.createRenderer(a,r),null,null));t[n.index]=E}function Hc(t,n,r,a,l,f){const E=et(t,n);!function(t,n,r,a,l,f,E){if(null==f)K(t)?t.removeAttribute(n,l,r):n.removeAttribute(l);else{const I=null==E?Qe(f):E(f,a||"",l);K(t)?t.setAttribute(n,l,I,r):r?n.setAttributeNS(r,l,I):n.setAttribute(l,I)}}(n[11],E,f,t.value,r,a,l)}function rv(t,n,r,a,l,f){const E=f[n];if(null!==E){const I=a.setInput;for(let L=0;L<E.length;){const Z=E[L++],ve=E[L++],qe=E[L++];null!==I?a.setInput(r,qe,Z,ve):r[ve]=qe}}}function vm(t,n){let r=null,a=0;for(;a<n.length;){const l=n[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===r&&(r=[]),r.push(l,t[l],n[a+1])),a+=2}else a+=2;else a+=4}return r}function rp(t,n,r,a){return new Array(t,!0,!1,n,null,0,a,r,null,null)}function Cm(t,n){const r=Ze(n,t);if(oi(r)){const a=r[1];80&r[2]?Ld(a,r,a.template,r[8]):r[5]>0&&Em(r)}}function Em(t){for(let a=v(t);null!==a;a=R(a))for(let l=10;l<a.length;l++){const f=a[l];if(1024&f[2]){const E=f[1];Ld(E,f,E.template,f[8])}else f[5]>0&&Em(f)}const r=t[1].components;if(null!==r)for(let a=0;a<r.length;a++){const l=Ze(r[a],t);oi(l)&&l[5]>0&&Em(l)}}function sv(t,n){const r=Ze(n,t),a=r[1];(function(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])})(a,r),bh(a,r,r[8])}function Sf(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function wm(t){for(;t;){t[2]|=64;const n=dc(t);if(kr(t)&&!n)return t;t=n}return null}function Mf(t,n,r){const a=n[10];a.begin&&a.begin();try{Ld(t,n,t.template,r)}catch(l){throw Su(n,l),l}finally{a.end&&a.end()}}function __(t){!function(t){for(let n=0;n<t.components.length;n++){const r=t.components[n],a=Zl(r),l=a[1];fm(l,a,l.template,r)}}(t[8])}function Af(t,n,r){Fr(0),n(t,r)}const Sm=(()=>Promise.resolve(null))();function sp(t){return t[7]||(t[7]=[])}function op(t){return t.cleanup||(t.cleanup=[])}function Bd(t,n,r){return(null===t||ds(t))&&(r=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(r[n.index])),r[11]}function Su(t,n){const r=t[9],a=r?r.get(ts,null):null;a&&a.handleError(n)}function ap(t,n,r,a,l){for(let f=0;f<r.length;){const E=r[f++],I=r[f++],L=n[E],Z=t.data[E];null!==Z.setInput?Z.setInput(L,l,a,I):L[I]=l}}function pl(t,n,r){const a=$(n,t);!function(t,n,r){K(t)?t.setValue(n,r):n.textContent=r}(t[11],a,r)}function Mu(t,n,r){let a=r?t.styles:null,l=r?t.classes:null,f=0;if(null!==n)for(let E=0;E<n.length;E++){const I=n[E];"number"==typeof I?f=I:1==f?l=Ee(l,I):2==f&&(a=Ee(a,I+": "+n[++E]+";"))}r?t.styles=a:t.stylesWithoutHost=a,r?t.classes=l:t.classesWithoutHost=l}const Ih=new cs("INJECTOR",-1);class lp{get(n,r=Si){if(r===Si){const a=new Error(`NullInjectorError: No provider for ${le(n)}!`);throw a.name="NullInjectorError",a}return r}}const Ud=new cs("Set Injector scope."),Hd={},Mm={};let Am;function v_(){return void 0===Am&&(Am=new lp),Am}function cp(t,n=null,r=null,a){return new lv(t,r,n||v_(),a)}class lv{constructor(n,r,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];r&&Ro(r,I=>this.processProvider(I,n,r)),Ro([n],I=>this.processInjectorType(I,[],f)),this.records.set(Ih,jd(void 0,this));const E=this.records.get(Ud);this.scope=null!=E?E.value:null,this.source=l||("object"==typeof n?null:le(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,r=Si,a=jt.Default){this.assertNotDestroyed();const l=na(this),f=pt(void 0);try{if(!(a&jt.SkipSelf)){let I=this.records.get(n);if(void 0===I){const L=("function"==typeof(t=n)||"object"==typeof t&&t instanceof cs)&&bt(n);I=L&&this.injectableDefInScope(L)?jd(up(n),Hd):null,this.records.set(n,I)}if(null!=I)return this.hydrate(n,I)}return(a&jt.Self?v_():this.parent).get(n,r=a&jt.Optional&&r===Si?null:r)}catch(E){if("NullInjectorError"===E.name){if((E[Qi]=E[Qi]||[]).unshift(le(n)),l)throw E;return gd(E,n,"R3InjectorError",this.source)}throw E}finally{pt(f),na(l)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,l)=>n.push(le(l))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,r,a){if(!(n=oe(n)))return!1;let l=rt(n);const f=null==l&&n.ngModule||void 0,E=void 0===f?n:f,I=-1!==a.indexOf(E);if(void 0!==f&&(l=rt(f)),null==l)return!1;if(null!=l.imports&&!I){let ve;a.push(E);try{Ro(l.imports,qe=>{this.processInjectorType(qe,r,a)&&(void 0===ve&&(ve=[]),ve.push(qe))})}finally{}if(void 0!==ve)for(let qe=0;qe<ve.length;qe++){const{ngModule:ot,providers:Vt}=ve[qe];Ro(Vt,en=>this.processProvider(en,ot,Vt||gt))}}this.injectorDefTypes.add(E);const L=Ms(E)||(()=>new E);this.records.set(E,jd(L,Hd));const Z=l.providers;if(null!=Z&&!I){const ve=n;Ro(Z,qe=>this.processProvider(qe,ve,Z))}return void 0!==f&&void 0!==n.providers}processProvider(n,r,a){let l=Sh(n=oe(n))?n:oe(n&&n.provide);const f=km(t=n)?jd(void 0,t.useValue):jd(Rm(t),Hd);var t;if(Sh(n)||!0!==n.multi)this.records.get(l);else{let E=this.records.get(l);E||(E=jd(void 0,Hd,!0),E.factory=()=>ba(E.multi),this.records.set(l,E)),l=n,E.multi.push(n)}this.records.set(l,f)}hydrate(n,r){return r.value===Hd&&(r.value=Mm,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(t=r.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const r=oe(n.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function up(t){const n=bt(t),r=null!==n?n.factory:Ms(t);if(null!==r)return r;if(t instanceof cs)throw new Error(`Token ${le(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=Qo(n,"?");throw new Error(`Can't resolve all parameters for ${le(t)}: (${a.join(", ")}).`)}const r=function(t){const n=t&&(t[je]||t[at]);if(n){const r=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),n}return null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Error("unreachable")}function Rm(t,n,r){let a;if(Sh(t)){const l=oe(t);return Ms(l)||up(l)}if(km(t))a=()=>oe(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ba(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>so(oe(t.useExisting));else{const l=oe(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ms(l)||up(l);a=()=>new l(...ba(t.deps))}return a}function jd(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function km(t){return null!==t&&"object"==typeof t&&Lr in t}function Sh(t){return"function"==typeof t}const C_=function(t,n,r){return function(t,n=null,r=null,a){const l=cp(t,n,r,a);return l._resolveInjectorDefTypes(),l}({name:r},n,t,r)};let fo=(()=>{class t{static create(r,a){return Array.isArray(r)?C_(r,a,""):C_(r.providers,r.parent,r.name||"")}}return t.THROW_IF_NOT_FOUND=Si,t.NULL=new lp,t.\u0275prov=te({token:t,providedIn:"any",factory:()=>so(Ih)}),t.__NG_ELEMENT_ID__=-1,t})();function x_(t,n){Re(Zl(t)[1],Gr())}function Ep(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const a=[t];for(;n;){let l;if(ds(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");l=n.\u0275dir}if(l){if(r){a.push(l);const E=t;E.inputs=$m(t.inputs),E.declaredInputs=$m(t.declaredInputs),E.outputs=$m(t.outputs);const I=l.hostBindings;I&&bv(t,I);const L=l.viewQuery,Z=l.contentQueries;if(L&&yv(t,L),Z&&vv(t,Z),De(t.inputs,l.inputs),De(t.declaredInputs,l.declaredInputs),De(t.outputs,l.outputs),ds(l)&&l.data.animation){const ve=t.data;ve.animation=(ve.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let E=0;E<f.length;E++){const I=f[E];I&&I.ngInherit&&I(t),I===Ep&&(r=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,r=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=n+=l.hostVars,l.hostAttrs=Ko(l.hostAttrs,r=Ko(r,l.hostAttrs))}}(a)}function $m(t){return t===ft?{}:t===gt?[]:t}function yv(t,n){const r=t.viewQuery;t.viewQuery=r?(a,l)=>{n(a,l),r(a,l)}:n}function vv(t,n){const r=t.contentQueries;t.contentQueries=r?(a,l,f)=>{n(a,l,f),r(a,l,f)}:n}function bv(t,n){const r=t.hostBindings;t.hostBindings=r?(a,l)=>{n(a,l),r(a,l)}:n}let xh=null;function nd(){if(!xh){const t=Pn.Symbol;if(t&&t.iterator)xh=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<n.length;++r){const a=n[r];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(xh=a)}}}return xh}class ml{constructor(n){this.wrapped=n}static wrap(n){return new ml(n)}static unwrap(n){return ml.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof ml}}function Gd(t){return!!Tp(t)&&(Array.isArray(t)||!(t instanceof Map)&&nd()in t)}function Tp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ec(t,n,r){return t[n]=r}function pa(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Sp(t,n,r,a){const l=Fn();return pa(l,gn(),n)&&(Yi(),Hc(sr(),l,t,n,r,a)),Sp}function $d(t,n,r,a){return pa(t,gn(),r)?n+Qe(r)+a:c}function hc(t,n,r,a,l,f,E,I){const L=Fn(),Z=Yi(),ve=t+20,qe=Z.firstCreatePass?function(t,n,r,a,l,f,E,I,L){const Z=n.consts,ve=vh(n,t,4,E||null,Xi(Z,I));Df(n,r,ve,Xi(Z,L)),Re(n,ve);const qe=ve.tViews=wh(2,ve,a,l,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Z);return null!==n.queries&&(n.queries.template(n,ve),qe.queries=n.queries.embeddedTView(ve)),ve}(ve,Z,L,n,r,a,l,f,E):Z.data[ve];Ys(qe,!1);const ot=L[11].createComment("");Ka(Z,L,ot,qe),_s(ot,L),Sf(L,L[ve]=rp(ot,L,ot,qe)),Jr(qe)&&Eh(Z,L,qe),null!=E&&Cf(L,qe,I)}function F_(t){return fe(vi.lFrame.contextLView,20+t)}function ad(t,n=jt.Default){const r=Fn();return null===r?so(t,n):qr(Gr(),r,oe(t),n)}function Pp(t,n,r){const a=Fn();return pa(a,gn(),n)&&Qa(Yi(),sr(),a,t,n,a[11],r,!1),Pp}function Zd(t,n,r,a,l){const E=l?"class":"style";ap(t,r,n.inputs[E],E,a)}function Bh(t,n,r,a){const l=Fn(),f=Yi(),E=20+t,I=l[11],L=l[E]=gi(I,n,vi.lFrame.currentNamespace),Z=f.firstCreatePass?function(t,n,r,a,l,f,E){const I=n.consts,Z=vh(n,t,2,l,Xi(I,f));return Df(n,r,Z,Xi(I,E)),null!==Z.attrs&&Mu(Z,Z.attrs,!1),null!==Z.mergedAttrs&&Mu(Z,Z.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,Z),Z}(E,f,l,0,n,r,a):f.data[E];Ys(Z,!0);const ve=Z.mergedAttrs;null!==ve&&no(I,L,ve);const qe=Z.classes;null!==qe&&cf(I,L,qe);const ot=Z.styles;null!==ot&&mh(I,L,ot),64!=(64&Z.flags)&&Ka(f,l,L,Z),0===vi.lFrame.elementDepthCount&&_s(L,l),vi.lFrame.elementDepthCount++,Jr(Z)&&(Eh(f,l,Z),Ch(f,Z,l)),null!==a&&Cf(l,Z)}function Au(){let t=Gr();Ie()?S():(t=t.parent,Ys(t,!1));const n=t;vi.lFrame.elementDepthCount--;const r=Yi();r.firstCreatePass&&(Re(r,t),Ji(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Zd(r,n,Fn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Zd(r,n,Fn(),n.stylesWithoutHost,!1)}function Yc(t,n,r,a){Bh(t,n,r,a),Au()}function og(t,n,r){const a=Fn(),l=Yi(),f=t+20,E=l.firstCreatePass?function(t,n,r,a,l){const f=n.consts,E=Xi(f,a),I=vh(n,t,8,"ng-container",E);return null!==E&&Mu(I,E,!0),Df(n,r,I,Xi(f,l)),null!==n.queries&&n.queries.elementStart(n,I),I}(f,l,a,n,r):l.data[f];Ys(E,!0);const I=a[f]=a[11].createComment("");Ka(l,a,I,E),_s(I,a),Jr(E)&&(Eh(l,a,E),Ch(l,E,a)),null!=r&&Cf(a,E)}function Fp(){let t=Gr();const n=Yi();Ie()?S():(t=t.parent,Ys(t,!1)),n.firstCreatePass&&(Re(n,t),Ji(t)&&n.queries.elementEnd(t))}function ag(t,n,r){og(t,n,r),Fp()}function Uh(){return Fn()}function Zc(t){return!!t&&"function"==typeof t.then}function G_(t){return!!t&&"function"==typeof t.subscribe}const lg=G_;function cg(t,n,r,a){const l=Fn(),f=Yi(),E=Gr();return $_(f,l,l[11],E,t,n,!!r,a),cg}function ug(t,n){const r=Gr(),a=Fn(),l=Yi();return $_(l,a,Bd(Zi(l.data),r,a),r,t,n,!1),ug}function $_(t,n,r,a,l,f,E,I){const L=Jr(a),ve=t.firstCreatePass&&op(t),qe=n[8],ot=sp(n);let Vt=!0;if(3&a.type||I){const mn=et(a,n),ni=I?I(mn):mn,Hn=ot.length,Gi=I?pr=>I(N(pr[a.index])):a.index;if(K(r)){let pr=null;if(!I&&L&&(pr=function(t,n,r,a){const l=t.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const E=l[f];if(E===r&&l[f+1]===a){const I=n[7],L=l[f+2];return I.length>L?I[L]:null}"string"==typeof E&&(f+=2)}return null}(t,n,l,a.index)),null!==pr)(pr.__ngLastListenerFn__||pr).__ngNextListenerFn__=f,pr.__ngLastListenerFn__=f,Vt=!1;else{f=Lp(a,n,qe,f,!1);const us=r.listen(ni,l,f);ot.push(f,us),ve&&ve.push(l,Gi,Hn,Hn+1)}}else f=Lp(a,n,qe,f,!0),ni.addEventListener(l,f,E),ot.push(f),ve&&ve.push(l,Gi,Hn,E)}else f=Lp(a,n,qe,f,!1);const en=a.outputs;let An;if(Vt&&null!==en&&(An=en[l])){const mn=An.length;if(mn)for(let ni=0;ni<mn;ni+=2){const Ia=n[An[ni]][An[ni+1]].subscribe(f),Jc=ot.length;ot.push(f,Ia),ve&&ve.push(l,a.index,Jc,-(Jc+1))}}}function W_(t,n,r,a){try{return!1!==r(a)}catch(l){return Su(t,l),!1}}function Lp(t,n,r,a,l){return function f(E){if(E===Function)return a;const I=2&t.flags?Ze(t.index,n):n;0==(32&n[2])&&wm(I);let L=W_(n,0,a,E),Z=f.__ngNextListenerFn__;for(;Z;)L=W_(n,0,Z,E)&&L,Z=Z.__ngNextListenerFn__;return l&&!1===L&&(E.preventDefault(),E.returnValue=!1),L}}function Y_(t=1){return function(t){return(vi.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,vi.lFrame.contextLView))[8]}(t)}function Fv(t,n){let r=null;const a=function(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(0==(1&r))return n[r+1]}return null}(t);for(let l=0;l<n.length;l++){const f=n[l];if("*"!==f){if(null===a?Ta(t,f,!0):Yf(a,f))return l}else r=l}return r}function dg(t){const n=Fn()[16][6];if(!n.projection){const a=n.projection=Qo(t?t.length:1,null),l=a.slice();let f=n.child;for(;null!==f;){const E=t?Fv(f,t):0;null!==E&&(l[E]?l[E].projectionNext=f:a[E]=f,l[E]=f),f=f.next}}}function Z_(t,n=0,r){const a=Fn(),l=Yi(),f=vh(l,20+t,16,null,r||null);null===f.projection&&(f.projection=n),S(),64!=(64&f.flags)&&function(t,n,r){Tu(n[11],0,n,r,Eu(t,r,n),Vc(r.parent||n[6],r,n))}(l,a,f)}function J_(t,n,r,a,l){const f=t[r+1],E=null===n;let I=a?ie(f):bn(f),L=!1;for(;0!==I&&(!1===L||E);){const ve=t[I+1];Vv(t[I],n)&&(L=!0,t[I+1]=a?yi(ve):Lt(ve)),I=a?ie(ve):bn(ve)}L&&(t[r+1]=a?Lt(f):yi(f))}function Vv(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&xa(t,n)>=0}const oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function X_(t){return t.substring(oa.key,oa.keyEnd)}function gg(t,n){const r=oa.textEnd;return r===n?-1:(n=oa.keyEnd=function(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,oa.key=n,r),Hh(t,n,r))}function Hh(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function vg(t,n,r){return pc(t,n,r,!1),vg}function bg(t,n){return pc(t,n,null,!0),bg}function jv(t){mc(Js,fc,t,!0)}function fc(t,n){for(let r=function(t){return function(t){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=t.length}(t),gg(t,Hh(t,0,oa.textEnd))}(n);r>=0;r=gg(n,r))Js(t,X_(n),!0)}function pc(t,n,r,a){const l=Fn(),f=Yi(),E=Zn(2);f.firstUpdatePass&&Cg(f,t,E,a),n!==c&&pa(l,E,n)&&Dg(f,f.data[Xr()],l,l[11],t,l[E+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=le(Os(t)))),t}(n,r),a,E)}function mc(t,n,r,a){const l=Yi(),f=Zn(2);l.firstUpdatePass&&Cg(l,null,f,a);const E=Fn();if(r!==c&&pa(E,f,r)){const I=l.data[Xr()];if(Tg(I,a)&&!Up(l,f)){let L=a?I.classesWithoutHost:I.stylesWithoutHost;null!==L&&(r=Ee(L,r||"")),Zd(l,I,E,r,a)}else!function(t,n,r,a,l,f,E,I){l===c&&(l=gt);let L=0,Z=0,ve=0<l.length?l[0]:null,qe=0<f.length?f[0]:null;for(;null!==ve||null!==qe;){const ot=L<l.length?l[L+1]:void 0,Vt=Z<f.length?f[Z+1]:void 0;let An,en=null;ve===qe?(L+=2,Z+=2,ot!==Vt&&(en=qe,An=Vt)):null===qe||null!==ve&&ve<qe?(L+=2,en=ve):(Z+=2,en=qe,An=Vt),null!==en&&Dg(t,n,r,a,en,An,E,I),ve=L<l.length?l[L]:null,qe=Z<f.length?f[Z]:null}}(l,I,E,E[11],E[f+1],E[f+1]=function(t,n,r){if(null==r||""===r)return gt;const a=[],l=Os(r);if(Array.isArray(l))for(let f=0;f<l.length;f++)t(a,l[f],!0);else if("object"==typeof l)for(const f in l)l.hasOwnProperty(f)&&t(a,f,l[f]);else"string"==typeof l&&n(a,l);return a}(t,n,r),a,f)}}function Up(t,n){return n>=t.expandoStartIndex}function Cg(t,n,r,a){const l=t.data;if(null===l[r+1]){const f=l[Xr()],E=Up(t,r);Tg(f,a)&&null===n&&!E&&(n=!1),n=function(t,n,r,a){const l=Zi(t);let f=a?n.residualClasses:n.residualStyles;if(null===l)0===(a?n.classBindings:n.styleBindings)&&(r=Gh(r=wg(null,t,n,r,a),n.attrs,a),f=null);else{const E=n.directiveStylingLast;if(-1===E||t[E]!==l)if(r=wg(l,t,n,r,a),null===f){let L=function(t,n,r){const a=r?n.classBindings:n.styleBindings;if(0!==bn(a))return t[ie(a)]}(t,n,a);void 0!==L&&Array.isArray(L)&&(L=wg(null,t,n,L[1],a),L=Gh(L,n.attrs,a),function(t,n,r,a){t[ie(r?n.classBindings:n.styleBindings)]=a}(t,n,a,L))}else f=function(t,n,r){let a;const l=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<l;f++)a=Gh(a,t[f].hostAttrs,r);return Gh(a,n.attrs,r)}(t,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),r}(l,f,n,a),function(t,n,r,a,l,f){let E=f?n.classBindings:n.styleBindings,I=ie(E),L=bn(E);t[a]=r;let ve,Z=!1;if(Array.isArray(r)){const qe=r;ve=qe[1],(null===ve||xa(qe,ve)>0)&&(Z=!0)}else ve=r;if(l)if(0!==L){const ot=ie(t[I+1]);t[a+1]=j(ot,I),0!==ot&&(t[ot+1]=Cn(t[ot+1],a)),t[I+1]=function(t,n){return 131071&t|n<<17}(t[I+1],a)}else t[a+1]=j(I,0),0!==I&&(t[I+1]=Cn(t[I+1],a)),I=a;else t[a+1]=j(L,0),0===I?I=a:t[L+1]=Cn(t[L+1],a),L=a;Z&&(t[a+1]=Lt(t[a+1])),J_(t,ve,a,!0),J_(t,ve,a,!1),function(t,n,r,a,l){const f=l?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&xa(f,n)>=0&&(r[a+1]=yi(r[a+1]))}(n,ve,t,a,f),E=j(I,L),f?n.classBindings=E:n.styleBindings=E}(l,f,n,r,E,a)}}function wg(t,n,r,a,l){let f=null;const E=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<E&&(f=n[I],a=Gh(a,f.hostAttrs,l),f!==t);)I++;return null!==t&&(r.directiveStylingLast=I),a}function Gh(t,n,r){const a=r?1:2;let l=-1;if(null!==n)for(let f=0;f<n.length;f++){const E=n[f];"number"==typeof E?l=E:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Js(t,E,!!r||n[++f]))}return void 0===t?null:t}function Dg(t,n,r,a,l,f,E,I){if(!(3&n.type))return;const L=t.data,Z=L[I+1];Ja(function(t){return 1==(1&t)}(Z)?cd(L,n,r,l,bn(Z),E):void 0)||(Ja(f)||function(t){return 2==(2&t)}(Z)&&(f=cd(L,null,r,l,I,E)),function(t,n,r,a,l){const f=K(t);if(n)l?f?t.addClass(r,a):r.classList.add(a):f?t.removeClass(r,a):r.classList.remove(a);else{let E=-1===a.indexOf("-")?void 0:Do.DashCase;if(null==l)f?t.removeStyle(r,a,E):r.style.removeProperty(a);else{const I="string"==typeof l&&l.endsWith("!important");I&&(l=l.slice(0,-10),E|=Do.Important),f?t.setStyle(r,a,l,E):r.style.setProperty(a,l,I?"important":"")}}}(a,E,$(Xr(),r),l,f))}function cd(t,n,r,a,l,f){const E=null===n;let I;for(;l>0;){const L=t[l],Z=Array.isArray(L),ve=Z?L[1]:L,qe=null===ve;let ot=r[l+1];ot===c&&(ot=qe?gt:void 0);let Vt=qe?$a(ot,a):ve===a?ot:void 0;if(Z&&!Ja(Vt)&&(Vt=$a(L,a)),Ja(Vt)&&(I=Vt,E))return I;const en=t[l+1];l=E?ie(en):bn(en)}if(null!==n){let L=f?n.residualClasses:n.residualStyles;null!=L&&(I=$a(L,a))}return I}function Ja(t){return void 0!==t}function Tg(t,n){return 0!=(t.flags&(n?16:32))}function Ig(t,n=""){const r=Fn(),a=Yi(),l=t+20,f=a.firstCreatePass?vh(a,l,1,n,null):a.data[l],E=r[l]=function(t,n){return K(t)?t.createText(n):t.createTextNode(n)}(r[11],n);Ka(a,r,E,f),Ys(f,!1)}function Qd(t){return ud("",t,""),Qd}function ud(t,n,r){const a=Fn(),l=$d(a,t,n,r);return l!==c&&pl(a,Xr(),l),ud}function cy(t,n,r){mc(Js,fc,$d(Fn(),t,n,r),!0)}function i(t,n,r){const a=Fn();return pa(a,gn(),n)&&Qa(Yi(),sr(),a,t,n,a[11],r,!0),i}function o(t,n,r){const a=Fn();if(pa(a,gn(),n)){const f=Yi(),E=sr();Qa(f,E,a,t,n,Bd(Zi(f.data),E,a),r,!0)}return o}const h=void 0;var M=["en",[["a","p"],["AM","PM"],h],[["AM","PM"],h,h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",h,"{1} 'at' {0}",h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let G={};function Fe(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=Dn(n);if(r)return r;const a=n.split("-")[0];if(r=Dn(a),r)return r;if("en"===a)return M;throw new Error(`Missing locale data for the locale "${t}".`)}function Wt(t){return Fe(t)[vn.PluralCase]}function Dn(t){return t in G||(G[t]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[t]),G[t]}var vn=(()=>((vn=vn||{})[vn.LocaleId=0]="LocaleId",vn[vn.DayPeriodsFormat=1]="DayPeriodsFormat",vn[vn.DayPeriodsStandalone=2]="DayPeriodsStandalone",vn[vn.DaysFormat=3]="DaysFormat",vn[vn.DaysStandalone=4]="DaysStandalone",vn[vn.MonthsFormat=5]="MonthsFormat",vn[vn.MonthsStandalone=6]="MonthsStandalone",vn[vn.Eras=7]="Eras",vn[vn.FirstDayOfWeek=8]="FirstDayOfWeek",vn[vn.WeekendRange=9]="WeekendRange",vn[vn.DateFormat=10]="DateFormat",vn[vn.TimeFormat=11]="TimeFormat",vn[vn.DateTimeFormat=12]="DateTimeFormat",vn[vn.NumberSymbols=13]="NumberSymbols",vn[vn.NumberFormats=14]="NumberFormats",vn[vn.CurrencyCode=15]="CurrencyCode",vn[vn.CurrencySymbol=16]="CurrencySymbol",vn[vn.CurrencyName=17]="CurrencyName",vn[vn.Currencies=18]="Currencies",vn[vn.Directionality=19]="Directionality",vn[vn.PluralCase=20]="PluralCase",vn[vn.ExtraData=21]="ExtraData",vn))();const So="en-US";let zh=So;function Jv(t){kn(t,"Expected localeId to be defined"),"string"==typeof t&&(zh=t.toLowerCase().replace(/_/g,"-"))}function tb(t,n,r,a,l){if(t=oe(t),Array.isArray(t))for(let f=0;f<t.length;f++)tb(t[f],n,r,a,l);else{const f=Yi(),E=Fn();let I=Sh(t)?t:oe(t.provide),L=Rm(t);const Z=Gr(),ve=1048575&Z.providerIndexes,qe=Z.directiveStart,ot=Z.providerIndexes>>20;if(Sh(t)||!t.multi){const Vt=new Di(L,l,ad),en=ib(I,n,l?ve:ve+ot,qe);-1===en?(qt(_e(Z,E),f,I),nb(f,t,n.length),n.push(I),Z.directiveStart++,Z.directiveEnd++,l&&(Z.providerIndexes+=1048576),r.push(Vt),E.push(Vt)):(r[en]=Vt,E[en]=Vt)}else{const Vt=ib(I,n,ve+ot,qe),en=ib(I,n,ve,ve+ot),An=Vt>=0&&r[Vt],mn=en>=0&&r[en];if(l&&!mn||!l&&!An){qt(_e(Z,E),f,I);const ni=function(t,n,r,a,l){const f=new Di(t,r,ad);return f.multi=[],f.index=n,f.componentProviders=0,XC(f,l,a&&!r),f}(l?fD:hD,r.length,l,a,L);!l&&mn&&(r[en].providerFactory=ni),nb(f,t,n.length,0),n.push(I),Z.directiveStart++,Z.directiveEnd++,l&&(Z.providerIndexes+=1048576),r.push(ni),E.push(ni)}else nb(f,t,Vt>-1?Vt:en,XC(r[l?en:Vt],L,!l&&a));!l&&a&&mn&&r[en].componentProviders++}}}function nb(t,n,r,a){const l=Sh(n);if(l||function(t){return!!t.useClass}(n)){const E=(n.useClass||n).prototype.ngOnDestroy;if(E){const I=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const L=I.indexOf(r);-1===L?I.push(r,[a,E]):I[L+1].push(a,E)}else I.push(r,E)}}}function XC(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function ib(t,n,r,a){for(let l=r;l<a;l++)if(n[l]===t)return l;return-1}function hD(t,n,r,a){return rb(this.multi,[])}function fD(t,n,r,a){const l=this.multi;let f;if(this.providerFactory){const E=this.providerFactory.componentProviders,I=ga(r,r[1],this.providerFactory.index,a);f=I.slice(0,E),rb(l,f);for(let L=E;L<I.length;L++)f.push(I[L])}else f=[],rb(l,f);return f}function rb(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function e0(t,n=[]){return r=>{r.providersResolver=(a,l)=>function(t,n,r){const a=Yi();if(a.firstCreatePass){const l=ds(t);tb(r,a.data,a.blueprint,l,!0),tb(n,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,n)}}class t0{}const r0="ngComponent";class gD{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${le(t)}. Did you add it to @NgModule.entryComponents?`);return n[r0]=t,n}(n)}}let Wp=(()=>{class t{}return t.NULL=new gD,t})();function by(...t){}function Yp(t,n){return new pd(et(t,n))}const vD=function(){return Yp(Gr(),Fn())};let pd=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=vD,t})();function s0(t){return t instanceof pd?t.nativeElement:t}class Cy{}let bD=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ED(),t})();const ED=function(){const t=Fn(),r=Ze(Gr().index,t);return function(t){return t[11]}(ws(r)?r:t)};let ob=(()=>{class t{}return t.\u0275prov=te({token:t,providedIn:"root",factory:()=>null}),t})();class o0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const ab=new o0("12.2.16");class a0{constructor(){}supports(n){return Gd(n)}create(n){return new ID(n)}}const TD=(t,n)=>n;class ID{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||TD}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,a=this._removalsHead,l=0,f=null;for(;r||a;){const E=!a||r&&r.currentIndex<c0(a,l,f)?r:a,I=c0(E,l,f),L=E.currentIndex;if(E===a)l--,a=a._nextRemoved;else if(r=r._next,null==E.previousIndex)l++;else{f||(f=[]);const Z=I-l,ve=L-l;if(Z!=ve){for(let ot=0;ot<Z;ot++){const Vt=ot<f.length?f[ot]:f[ot]=0,en=Vt+ot;ve<=en&&en<Z&&(f[ot]=Vt+1)}f[E.previousIndex]=ve-Z}}I!==L&&n(E,I,L)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Gd(n))throw new Error(`Error trying to diff '${le(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,f,E,r=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)f=n[I],E=this._trackByFn(I,f),null!==r&&Object.is(r.trackById,E)?(a&&(r=this._verifyReinsertion(r,f,E,I)),Object.is(r.item,f)||this._addIdentityChange(r,f)):(r=this._mismatch(r,f,E,I),a=!0),r=r._next}else l=0,function(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[nd()]();let a;for(;!(a=r.next()).done;)n(a.value)}}(n,I=>{E=this._trackByFn(l,I),null!==r&&Object.is(r.trackById,E)?(a&&(r=this._verifyReinsertion(r,I,E,l)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,E,l),a=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,a,l){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,f,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,f,l)):n=this._addAfter(new SD(r,a),f,l),n}_verifyReinsertion(n,r,a,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,f=n._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(n,r,a),this._addToMoves(n,a),n}_moveAfter(n,r,a){return this._unlink(n),this._insertAfter(n,r,a),this._addToMoves(n,a),n}_addAfter(n,r,a){return this._insertAfter(n,r,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,a){const l=null===r?this._itHead:r._next;return n._next=l,n._prev=r,null===l?this._itTail=n:l._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new l0),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,a=n._next;return null===r?this._itHead=a:r._next=a,null===a?this._itTail=r:a._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new l0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class SD{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===r||r<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const r=n._prevDup,a=n._nextDup;return null===r?this._head=a:r._nextDup=a,null===a?this._tail=r:a._prevDup=r,null===this._head}}class l0{constructor(){this.map=new Map}put(n){const r=n.trackById;let a=this.map.get(r);a||(a=new MD,this.map.set(r,a)),a.add(n)}get(n,r){const l=this.map.get(n);return l?l.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function c0(t,n,r){const a=t.previousIndex;if(null===a)return a;let l=0;return r&&a<r.length&&(l=r[a]),a+n+l}class u0{constructor(){}supports(n){return n instanceof Map||Tp(n)}create(){return new AD}}class AD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||Tp(n)))throw new Error(`Error trying to diff '${le(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,a),this._appendAfter=r,r=r._next;else{const f=this._getOrCreateRecordForKey(l,a);r=this._insertBeforeOrAppend(r,f)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let a=r;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const a=n._prev;return r._next=n,r._prev=a,n._prev=r,a&&(a._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,r);const f=l._prev,E=l._next;return f&&(f._next=E),E&&(E._prev=f),l._next=null,l._prev=null,l}const a=new xD(n);return this._records.set(n,a),a.currentValue=r,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(a=>r(n[a],a))}}class xD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function d0(){return new Ey([new a0])}let Ey=(()=>{class t{constructor(r){this.factories=r}static create(r,a){if(null!=a){const l=a.factories.slice();r=r.concat(l)}return new t(r)}static extend(r){return{provide:t,useFactory:a=>t.create(r,a||d0()),deps:[[t,new ka,new El]]}}find(r){const a=this.factories.find(l=>l.supports(r));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(t){return t.name||typeof t}(r)}'`)}}return t.\u0275prov=te({token:t,providedIn:"root",factory:d0}),t})();function h0(){return new wy([new u0])}let wy=(()=>{class t{constructor(r){this.factories=r}static create(r,a){if(a){const l=a.factories.slice();r=r.concat(l)}return new t(r)}static extend(r){return{provide:t,useFactory:a=>t.create(r,a||h0()),deps:[[t,new ka,new El]]}}find(r){const a=this.factories.find(l=>l.supports(r));if(a)return a;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return t.\u0275prov=te({token:t,providedIn:"root",factory:h0}),t})();function Dy(t,n,r,a,l=!1){for(;null!==r;){const f=n[r.index];if(null!==f&&a.push(N(f)),nr(f))for(let I=10;I<f.length;I++){const L=f[I],Z=L[1].firstChild;null!==Z&&Dy(L[1],L,Z,a)}const E=r.type;if(8&E)Dy(t,n,r.child,a);else if(32&E){const I=_u(r,n);let L;for(;L=I();)a.push(L)}else if(16&E){const I=Uc(n,r);if(Array.isArray(I))a.push(...I);else{const L=dc(n[16]);Dy(L[1],L,I,a,!0)}}r=l?r.projectionNext:r.next}return a}class Lg{constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,r=n[1];return Dy(r,n,r.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(nr(n)){const r=n[8],a=r?r.indexOf(this):-1;a>-1&&(bu(n,a),zo(r,a))}this._attachedToViewContainer=!1}Cu(this._lView[1],this._lView)}onDestroy(n){u_(this._lView[1],this._lView,null,n)}markForCheck(){wm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,r){Je(!0);try{Mf(t,n,r)}finally{Je(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,qu(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class kD extends Lg{constructor(n){super(n),this._view=n}detectChanges(){__(this._view)}checkNoChanges(){!function(t){Je(!0);try{__(t)}finally{Je(!1)}}(this._view)}get context(){return null}}const PD=function(t){return function(t,n,r){if(os(t)&&!r){const a=Ze(t.index,n);return new Lg(a,a)}return 47&t.type?new Lg(n[16],n):null}(Gr(),Fn(),16==(16&t))};let ND=(()=>{class t{}return t.__NG_ELEMENT_ID__=PD,t})();const VD=[new u0],UD=new Ey([new a0]),HD=new wy(VD),GD=function(){return Ty(Gr(),Fn())};let Vg=(()=>{class t{}return t.__NG_ELEMENT_ID__=GD,t})();const zD=Vg,$D=class extends zD{constructor(n,r,a){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=a}createEmbeddedView(n){const r=this._declarationTContainer.tViews,a=vf(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(a[19]=f.createEmbeddedView(r)),bh(r,a,n),new Lg(a)}};function Ty(t,n){return 4&t.type?new $D(n,t,Yp(t,n)):null}class Lf{}class f0{}const ZD=function(){return g0(Gr(),Fn())};let Iy=(()=>{class t{}return t.__NG_ELEMENT_ID__=ZD,t})();const qD=Iy,p0=class extends qD{constructor(n,r,a){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=a}get element(){return Yp(this._hostTNode,this._hostLView)}get injector(){return new gr(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ht(this._hostTNode,this._hostLView);if(uo(n)){const r=bs(n,this._hostLView),a=io(n);return new gr(r[1].data[a+8],r)}return new gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=m0(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,r,a){const l=n.createEmbeddedView(r||{});return this.insert(l,a),l}createComponent(n,r,a,l,f){const E=a||this.parentInjector;if(!f&&null==n.ngModule&&E){const L=E.get(Lf,null);L&&(f=L)}const I=n.create(E,l,void 0,f);return this.insert(I.hostView,r),I}insert(n,r){const a=n._lView,l=a[1];if(nr(a[3])){const ve=this.indexOf(n);if(-1!==ve)this.detach(ve);else{const qe=a[3],ot=new p0(qe,qe[6],qe[3]);ot.detach(ot.indexOf(n))}}const f=this._adjustIndex(r),E=this._lContainer;!function(t,n,r,a){const l=10+a,f=r.length;a>0&&(r[l-1][4]=n),a<f-10?(n[4]=r[l],la(r,10+a,n)):(r.push(n),n[4]=null),n[3]=r;const E=n[17];null!==E&&r!==E&&function(t,n){const r=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===r?t[9]=[n]:r.push(n)}(E,n);const I=n[19];null!==I&&I.insertView(t),n[2]|=128}(l,a,E,f);const I=af(f,E),L=a[11],Z=Po(L,E[7]);return null!==Z&&function(t,n,r,a,l,f){a[0]=l,a[6]=n,qu(t,a,r,1,l,f)}(l,E[6],L,a,Z,I),n.attachToViewContainerRef(),la(lb(E),f,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=m0(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),a=bu(this._lContainer,r);a&&(zo(lb(this._lContainer),r),Cu(a[1],a))}detach(n){const r=this._adjustIndex(n,-1),a=bu(this._lContainer,r);return a&&null!=zo(lb(this._lContainer),r)?new Lg(a):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function m0(t){return t[8]}function lb(t){return t[8]||(t[8]=[])}function g0(t,n){let r;const a=n[t.index];if(nr(a))r=a;else{let l;if(8&t.type)l=N(a);else{const f=n[11];l=f.createComment("");const E=et(t,n);ra(f,Po(f,E),l,function(t,n){return K(t)?t.nextSibling(n):n.nextSibling}(f,E),!1)}n[t.index]=r=rp(a,n,l,t),Sf(n,r)}return new p0(r,t,n)}const Qp={};class F0 extends Wp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Ai(n);return new V0(r,this.ngModule)}}function L0(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}const WT=new cs("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ch});class V0 extends t0{constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=n.selectors.map(Ju).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return L0(this.componentDef.inputs)}get outputs(){return L0(this.componentDef.outputs)}create(n,r,a,l){const f=(l=l||this.ngModule)?function(t,n){return{get:(r,a,l)=>{const f=t.get(r,Qp,l);return f!==Qp||a===Qp?f:n.get(r,a,l)}}}(n,l.injector):n,E=f.get(Cy,ne),I=f.get(ob,null),L=E.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ve=a?function(t,n,r){if(K(t))return t.selectRootElement(n,r===Ue.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(L,a,this.componentDef.encapsulation):gi(E.createRenderer(null,this.componentDef),Z,function(t){const n=t.toLowerCase();return"svg"===n?cr:"math"===n?"http://www.w3.org/1998/MathML/":null}(Z)),qe=this.componentDef.onPush?576:528,ot=function(t,n){return{components:[],scheduler:t||ch,clean:Sm,playerHandler:n||null,flags:0}}(),Vt=wh(0,null,null,1,0,null,null,null,null,null),en=vf(null,Vt,ot,qe,null,null,E,L,I,f);let An,mn;lo(en);try{const ni=function(t,n,r,a,l,f){const E=r[1];r[20]=t;const L=vh(E,20,2,"#host",null),Z=L.mergedAttrs=n.hostAttrs;null!==Z&&(Mu(L,Z,!0),null!==t&&(no(l,t,Z),null!==L.classes&&cf(l,t,L.classes),null!==L.styles&&mh(l,t,L.styles)));const ve=a.createRenderer(t,n),qe=vf(r,Xf(n),null,n.onPush?64:16,r[20],L,a,ve,f||null,null);return E.firstCreatePass&&(qt(_e(L,r),E,n.type),ip(E,L),_m(L,r.length,1)),Sf(r,qe),r[20]=qe}(ve,this.componentDef,en,E,L);if(ve)if(a)no(L,ve,["ng-version",ab.full]);else{const{attrs:Hn,classes:Gi}=function(t){const n=[],r=[];let a=1,l=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===l?""!==f&&n.push(f,t[++a]):8===l&&r.push(f);else{if(!Da(l))break;l=f}a++}return{attrs:n,classes:r}}(this.componentDef.selectors[0]);Hn&&no(L,ve,Hn),Gi&&Gi.length>0&&cf(L,ve,Gi.join(" "))}if(mn=V(Vt,20),void 0!==r){const Hn=mn.projection=[];for(let Gi=0;Gi<this.ngContentSelectors.length;Gi++){const pr=r[Gi];Hn.push(null!=pr?Array.from(pr):null)}}An=function(t,n,r,a,l){const f=r[1],E=function(t,n,r){const a=Gr();t.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),p_(t,a,n,ed(t,n,1,null),r));const l=ga(n,t,a.directiveStart,a);_s(l,n);const f=et(a,n);return f&&_s(f,n),l}(f,r,n);if(a.components.push(E),t[8]=E,l&&l.forEach(L=>L(E,n)),n.contentQueries){const L=Gr();n.contentQueries(1,E,L.directiveStart)}const I=Gr();return!f.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(bo(I.index),Vd(r[1],I,0,I.directiveStart,I.directiveEnd,n),np(n,E)),E}(ni,this.componentDef,en,ot,[x_]),bh(Vt,en,null)}finally{Zs()}return new KT(this.componentType,An,Yp(mn,en),en,mn)}}class KT extends class{}{constructor(n,r,a,l,f){super(),this.location=a,this._rootLView=l,this._tNode=f,this.instance=r,this.hostView=this.changeDetectorRef=new kD(l),this.componentType=n}get injector(){return new gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const Jp=new Map;class JT extends Lf{constructor(n,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new F0(this);const a=qi(n),l=n[Rn]||null;l&&Jv(l),this._bootstrapComponents=dl(a.bootstrap),this._r3Injector=cp(n,r,[{provide:Lf,useValue:this},{provide:Wp,useValue:this.componentFactoryResolver}],le(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,r=fo.THROW_IF_NOT_FOUND,a=jt.Default){return n===fo||n===Lf||n===Ih?this:this._r3Injector.get(n,r,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Cb extends f0{constructor(n){super(),this.moduleType=n,null!==qi(n)&&function(t){const n=new Set;!function r(a){const l=qi(a,!0),f=l.id;null!==f&&(function(t,n,r){if(n&&n!==r)throw new Error(`Duplicate module registered for ${t} - ${le(n)} vs ${le(n.name)}`)}(f,Jp.get(f),a),Jp.set(f,a));const E=dl(l.imports);for(const I of E)n.has(I)||(n.add(I),r(I))}(t)}(n)}create(n){return new JT(this.moduleType,n)}}function H0(t,n,r){const a=Dt()+t,l=Fn();return l[a]===c?ec(l,a,r?n.call(r):n()):function(t,n){return t[n]}(l,a)}function j0(t,n,r,a){return G0(Fn(),Dt(),t,n,r,a)}function Wg(t,n){const r=t[n];return r===c?void 0:r}function G0(t,n,r,a,l,f){const E=n+r;return pa(t,E,l)?ec(t,E+1,f?a.call(f,l):a(l)):Wg(t,E+1)}function z0(t,n,r,a,l,f,E){const I=n+r;return function(t,n,r,a){const l=pa(t,n,r);return pa(t,n+1,a)||l}(t,I,l,f)?ec(t,I+2,E?a.call(E,l,f):a(l,f)):Wg(t,I+2)}function Z0(t,n){const r=Yi();let a;const l=t+20;r.firstCreatePass?(a=function(t,n){if(n)for(let r=n.length-1;r>=0;r--){const a=n[r];if(t===a.name)return a}throw new Xe("302",`The pipe '${t}' could not be found!`)}(n,r.pipeRegistry),r.data[l]=a,a.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(l,a.onDestroy)):a=r.data[l];const f=a.factory||(a.factory=Ms(a.type)),E=pt(ad);try{const I=Gs(!1),L=f();return Gs(I),function(t,n,r,a){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=a}(r,Fn(),l,L),L}finally{pt(E)}}function K0(t,n,r){const a=t+20,l=Fn(),f=fe(l,a);return Zg(l,Yg(l,a)?G0(l,Dt(),n,f.transform,r,f):f.transform(r))}function q0(t,n,r,a){const l=t+20,f=Fn(),E=fe(f,l);return Zg(f,Yg(f,l)?z0(f,Dt(),n,E.transform,r,a,E):E.transform(r,a))}function Yg(t,n){return t[1].data[n].pure}function Zg(t,n){return ml.isWrapped(n)&&(n=ml.unwrap(n),t[vi.lFrame.bindingIndex]=c),n}function Eb(t){return n=>{setTimeout(t,void 0,n)}}const md=class extends _.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,a){var l,f,E;let I=n,L=r||(()=>null),Z=a;if(n&&"object"==typeof n){const qe=n;I=null===(l=qe.next)||void 0===l?void 0:l.bind(qe),L=null===(f=qe.error)||void 0===f?void 0:f.bind(qe),Z=null===(E=qe.complete)||void 0===E?void 0:E.bind(qe)}this.__isAsync&&(L=Eb(L),I&&(I=Eb(I)),Z&&(Z=Eb(Z)));const ve=super.subscribe({next:I,error:L,complete:Z});return n instanceof m.w&&n.add(ve),ve}};function hI(){return this._results[nd()]()}class Kg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=nd(),a=Kg.prototype;a[r]||(a[r]=hI)}get changes(){return this._changes||(this._changes=new md)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){const a=this;a.dirty=!1;const l=ro(n);(this._changesDetected=!function(t,n,r){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],f=n[a];if(r&&(l=r(l),f=r(f)),f!==l)return!1}return!0}(a._results,l,r))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class wb{constructor(n){this.queryList=n,this.matches=null}clone(){return new wb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Db{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const a=null!==n.contentQueries?n.contentQueries[0]:r.length,l=[];for(let f=0;f<a;f++){const E=r.getByIndex(f);l.push(this.queries[E.indexInDeclarationView].clone())}return new Db(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==sE(n,r).matches&&this.queries[r].setDirty()}}class Q0{constructor(n,r,a=null){this.predicate=n,this.flags=r,this.read=a}}class Tb{constructor(n=[]){this.queries=n}elementStart(n,r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let a=0;a<this.length;a++){const l=null!==r?r.length:0,f=this.getByIndex(a).embeddedTView(n,l);f&&(f.indexInDeclarationView=a,null!==r?r.push(f):r=[f])}return null!==r?new Tb(r):null}template(n,r){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ib{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Ib(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==r;)a=a.parent;return r===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const f=a[l];this.matchTNodeWithReadOption(n,r,mI(r,f)),this.matchTNodeWithReadOption(n,r,qs(r,n,f,!1,!1))}else a===Vg?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,qs(r,n,a,!1,!1))}matchTNodeWithReadOption(n,r,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===pd||l===Iy||l===Vg&&4&r.type)this.addMatch(r.index,-2);else{const f=qs(r,n,l,!1,!1);null!==f&&this.addMatch(r.index,f)}else this.addMatch(r.index,a)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function mI(t,n){const r=t.localNames;if(null!==r)for(let a=0;a<r.length;a+=2)if(r[a]===n)return r[a+1];return null}function _I(t,n,r,a){return-1===r?function(t,n){return 11&t.type?Yp(t,n):4&t.type?Ty(t,n):null}(n,t):-2===r?function(t,n,r){return r===pd?Yp(n,t):r===Vg?Ty(n,t):r===Iy?g0(n,t):void 0}(t,n,a):ga(t,t[1],r,n)}function J0(t,n,r,a){const l=n[19].queries[a];if(null===l.matches){const f=t.data,E=r.matches,I=[];for(let L=0;L<E.length;L+=2){const Z=E[L];I.push(Z<0?null:_I(n,f[Z],E[L+1],r.metadata.read))}l.matches=I}return l.matches}function Sb(t,n,r,a){const l=t.queries.getByIndex(r),f=l.matches;if(null!==f){const E=J0(t,n,l,r);for(let I=0;I<f.length;I+=2){const L=f[I];if(L>0)a.push(E[I/2]);else{const Z=f[I+1],ve=n[-L];for(let qe=10;qe<ve.length;qe++){const ot=ve[qe];ot[17]===ot[3]&&Sb(ot[1],ot,Z,a)}if(null!==ve[9]){const qe=ve[9];for(let ot=0;ot<qe.length;ot++){const Vt=qe[ot];Sb(Vt[1],Vt,Z,a)}}}}}return a}function X0(t){const n=Fn(),r=Yi(),a=Kr();Fr(a+1);const l=sE(r,a);if(t.dirty&&wn(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const f=l.crossesNgTemplate?Sb(r,n,a,[]):J0(r,n,l,a);t.reset(f,s0),t.notifyOnChanges()}return!0}return!1}function eE(t,n,r){const a=Yi();a.firstCreatePass&&(rE(a,new Q0(t,n,r),-1),2==(2&n)&&(a.staticViewQueries=!0)),iE(a,Fn(),n)}function tE(t,n,r,a){const l=Yi();if(l.firstCreatePass){const f=Gr();rE(l,new Q0(n,r,a),f.index),function(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(l,t),2==(2&r)&&(l.staticContentQueries=!0)}iE(l,Fn(),r)}function nE(){return t=Fn(),n=Kr(),t[19].queries[n].queryList;var t,n}function iE(t,n,r){const a=new Kg(4==(4&r));u_(t,n,a,a.destroy),null===n[19]&&(n[19]=new Db),n[19].queries.push(new wb(a))}function rE(t,n,r){null===t.queries&&(t.queries=new Tb),t.queries.track(new Ib(n,r))}function sE(t,n){return t.queries.getByIndex(n)}function oE(t,n){return Ty(t,n)}const Ob=new cs("Application Initializer");let em=(()=>{class t{constructor(r){this.appInits=r,this.resolve=by,this.reject=by,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const r=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(Zc(f))r.push(f);else if(lg(f)){const E=new Promise((I,L)=>{f.subscribe({complete:I,error:L})});r.push(E)}}Promise.all(r).then(()=>{a()}).catch(l=>{this.reject(l)}),0===r.length&&a(),this.initialized=!0}}return t.\u0275fac=function(r){return new(r||t)(so(Ob,8))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const DE=new cs("AppId"),YI={provide:DE,useFactory:function(){return`${Pb()}${Pb()}${Pb()}`},deps:[]};function Pb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const TE=new cs("Platform Initializer"),IE=new cs("Platform ID"),SE=new cs("appBootstrapListener");let ME=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const Oy=new cs("LocaleId"),AE=new cs("DefaultCurrencyCode");class KI{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}const Nb=function(t){return new Cb(t)},qI=Nb,QI=function(t){return Promise.resolve(Nb(t))},xE=function(t){const n=Nb(t),a=dl(qi(t).declarations).reduce((l,f)=>{const E=Ai(f);return E&&l.push(new V0(E)),l},[]);return new KI(n,a)},JI=xE,XI=function(t){return Promise.resolve(xE(t))};let Qg=(()=>{class t{constructor(){this.compileModuleSync=qI,this.compileModuleAsync=QI,this.compileModuleAndAllComponentsSync=JI,this.compileModuleAndAllComponentsAsync=XI}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const nS=(()=>Promise.resolve(0))();function Fb(t){"undefined"==typeof Zone?nS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gc{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new md(!1),this.onMicrotaskEmpty=new md(!1),this.onStable=new md(!1),this.onError=new md(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&r,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let t=Pn.requestAnimationFrame,n=Pn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vb(t),t.isCheckStableRunning=!0,Lb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vb(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,a,l,f,E,I)=>{try{return RE(t),r.invokeTask(l,f,E,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),kE(t)}},onInvoke:(r,a,l,f,E,I,L)=>{try{return RE(t),r.invoke(l,f,E,I,L)}finally{t.shouldCoalesceRunChangeDetection&&n(),kE(t)}},onHasTask:(r,a,l,f)=>{r.hasTask(l,f),a===l&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Vb(t),Lb(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(r,a,l,f)=>(r.handleError(l,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,r,a){return this._inner.run(n,r,a)}runTask(n,r,a,l){const f=this._inner,E=f.scheduleEventTask("NgZoneEvent: "+l,n,rS,by,by);try{return f.runTask(E,r,a)}finally{f.cancelTask(E)}}runGuarded(n,r,a){return this._inner.runGuarded(n,r,a)}runOutsideAngular(n){return this._outer.run(n)}}const rS={};function Lb(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vb(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function RE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kE(t){t._nesting--,Lb(t)}class aS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new md,this.onMicrotaskEmpty=new md,this.onStable=new md,this.onError=new md}run(n,r,a){return n.apply(r,a)}runGuarded(n,r,a){return n.apply(r,a)}runOutsideAngular(n){return n()}runTask(n,r,a,l){return n.apply(r,a)}}let OE=(()=>{class t{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gc.assertNotInAngularZone(),Fb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fb(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(r)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,a,l){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==f),r(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:r,timeoutId:f,updateCb:l})}whenStable(r,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,a,l){return[]}}return t.\u0275fac=function(r){return new(r||t)(so(gc))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})(),PE=(()=>{class t{constructor(){this._applications=new Map,Bb.addToWindow(this)}registerApplication(r,a){this._applications.set(r,a)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,a=!0){return Bb.findTestabilityInTree(this,r,a)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();class lS{addToWindow(n){}findTestabilityInTree(n,r,a){return null}}function cS(t){Bb=t}let Bb=new lS,NE=!0,FE=!1;function Ub(){return FE=!0,NE}function uS(){if(FE)throw new Error("Cannot enable prod mode after platform setup.");NE=!1}let ku;const LE=new cs("AllowMultipleToken");class _S{constructor(n,r){this.name=n,this.token=r}}function VE(t,n,r=[]){const a=`Platform: ${n}`,l=new cs(a);return(f=[])=>{let E=BE();if(!E||E.injector.get(LE,!1))if(t)t(r.concat(f).concat({provide:l,useValue:!0}));else{const I=r.concat(f).concat({provide:l,useValue:!0},{provide:Ud,useValue:"platform"});!function(t){if(ku&&!ku.destroyed&&!ku.injector.get(LE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ku=t.get(UE);const n=t.get(TE,null);n&&n.forEach(r=>r())}(fo.create({providers:I,name:a}))}return function(t){const n=BE();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(l)}}function BE(){return ku&&!ku.destroyed?ku:null}let UE=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,a){const I=function(t,n){let r;return r="noop"===t?new aS:("zone.js"===t?void 0:t)||new gc({enableLongStackTrace:Ub(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),r}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),L=[{provide:gc,useValue:I}];return I.run(()=>{const Z=fo.create({providers:L,parent:this.injector,name:r.moduleType.name}),ve=r.create(Z),qe=ve.injector.get(ts,null);if(!qe)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return I.runOutsideAngular(()=>{const ot=I.onError.subscribe({next:Vt=>{qe.handleError(Vt)}});ve.onDestroy(()=>{Hb(this._modules,ve),ot.unsubscribe()})}),function(t,n,r){try{const a=r();return Zc(a)?a.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(qe,I,()=>{const ot=ve.injector.get(em);return ot.runInitializers(),ot.donePromise.then(()=>(Jv(ve.injector.get(Oy,So)||So),this._moduleDoBootstrap(ve),ve))})})}bootstrapModule(r,a=[]){const l=HE({},a);return function(t,n,r){const a=new Cb(r);return Promise.resolve(a)}(0,0,r).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(r){const a=r.injector.get(Jg);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${le(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(a)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(r){return new(r||t)(so(fo))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();function HE(t,n){return Array.isArray(n)?n.reduce(HE,t):Object.assign(Object.assign({},t),n)}let Jg=(()=>{class t{constructor(r,a,l,f,E){this._zone=r,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=f,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new y.y(Z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Z.next(this._stable),Z.complete()})}),L=new y.y(Z=>{let ve;this._zone.runOutsideAngular(()=>{ve=this._zone.onStable.subscribe(()=>{gc.assertNotInAngularZone(),Fb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Z.next(!0))})})});const qe=this._zone.onUnstable.subscribe(()=>{gc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Z.next(!1)}))});return()=>{ve.unsubscribe(),qe.unsubscribe()}});this.isStable=(0,d.T)(I,L.pipe((0,he.B)()))}bootstrap(r,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=r instanceof t0?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(l.componentType);const f=function(t){return t.isBoundToModule}(l)?void 0:this._injector.get(Lf),I=l.create(fo.NULL,[],a||l.selector,f),L=I.location.nativeElement,Z=I.injector.get(OE,null),ve=Z&&I.injector.get(PE);return Z&&ve&&ve.registerApplication(L,Z),I.onDestroy(()=>{this.detachView(I.hostView),Hb(this.components,I),ve&&ve.unregisterApplication(L)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const a=r;this._views.push(a),a.attachToAppRef(this)}detachView(r){const a=r;Hb(this._views,a),a.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(SE,[]).concat(this._bootstrapListeners).forEach(l=>l(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(r){return new(r||t)(so(gc),so(fo),so(ts),so(Wp),so(em))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();function Hb(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class wS{}class TS{}const IS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let SS=(()=>{class t{constructor(r,a){this._compiler=r,this._config=a||IS}load(r){return this.loadAndCompile(r)}loadAndCompile(r){let[a,l]=r.split("#");return void 0===l&&(l="default"),D(8255)(a).then(f=>f[l]).then(f=>$E(f,a,l)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(r){let[a,l]=r.split("#"),f="NgFactory";return void 0===l&&(l="default",f=""),D(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(E=>E[l+f]).then(E=>$E(E,a,l))}}return t.\u0275fac=function(r){return new(r||t)(so(Qg),so(TS,8))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();function $E(t,n,r){if(!t)throw new Error(`Cannot find '${r}' in '${n}'`);return t}const NS=function(t){return null},LS=VE(null,"core",[{provide:IE,useValue:"unknown"},{provide:UE,deps:[fo]},{provide:PE,deps:[]},{provide:ME,deps:[]}]),jS=[{provide:Jg,useClass:Jg,deps:[gc,fo,ts,Wp,em]},{provide:WT,deps:[gc],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(r){n.push(r)}}},{provide:em,useClass:em,deps:[[new El,Ob]]},{provide:Qg,useClass:Qg,deps:[]},YI,{provide:Ey,useFactory:function(){return UD},deps:[]},{provide:wy,useFactory:function(){return HD},deps:[]},{provide:Oy,useFactory:function(t){return Jv(t=t||"undefined"!=typeof $localize&&$localize.locale||So),t},deps:[[new Ll(Oy),new El,new ka]]},{provide:AE,useValue:"USD"}];let zS=(()=>{class t{constructor(r){}}return t.\u0275fac=function(r){return new(r||t)(so(Jg))},t.\u0275mod=Wn({type:t}),t.\u0275inj=Pe({providers:jS}),t})()},6256:(In,mt,D)=>{"use strict";D.d(mt,{nm:()=>Wr});var _=D(2310);D(7716),D(2329);var Gt=D(8239),Et=D(8026),ut=D(3910),Ke=D(3854),ze=D(5422);const be=new Map,q={activated:!1,tokenObservers:[]},ke={initialized:!1,enabled:!1};function yt(Kt){return be.get(Kt)||q}function Ot(Kt,zt){be.set(Kt,zt)}function un(){return ke}class Rt{constructor(zt,rn,pn,Mn,Vn){if(this.operation=zt,this.retryPolicy=rn,this.getWaitDuration=pn,this.lowerBound=Mn,this.upperBound=Vn,this.pending=null,this.nextErrorWaitInterval=Mn,Mn>Vn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(zt){var rn=this;return(0,Gt.Z)(function*(){rn.stop();try{rn.pending=new Ke.BH,yield(Kt=rn.getNextRun(zt),new Promise(zt=>{setTimeout(zt,Kt)})),rn.pending.resolve(),yield rn.pending.promise,rn.pending=new Ke.BH,yield rn.operation(),rn.pending.resolve(),yield rn.pending.promise,rn.process(!0).catch(()=>{})}catch(pn){rn.retryPolicy(pn)?rn.process(!1).catch(()=>{}):rn.stop()}var Kt})()}getNextRun(zt){if(zt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const rn=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),rn}}}const de=new Ke.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Be(Kt){if(!yt(Kt).activated)throw de.create("use-before-activation",{appName:Kt.name})}function Ft(Kt,zt){return me.apply(this,arguments)}function me(){return(me=(0,Gt.Z)(function*({url:Kt,body:zt},rn){const pn={"Content-Type":"application/json"},Mn=rn.getImmediate({optional:!0});if(Mn){const Fs=yield Mn.getHeartbeatsHeader();Fs&&(pn["X-Firebase-Client"]=Fs)}const Vn={method:"POST",body:JSON.stringify(zt),headers:pn};let ki,Ci;try{ki=yield fetch(Kt,Vn)}catch(Fs){throw de.create("fetch-network-error",{originalErrorMessage:Fs.message})}if(200!==ki.status)throw de.create("fetch-status-error",{httpStatus:ki.status});try{Ci=yield ki.json()}catch(Fs){throw de.create("fetch-parse-error",{originalErrorMessage:Fs.message})}const Ei=Ci.ttl.match(/^([\d.]+)(s)$/);if(!Ei||!Ei[2]||isNaN(Number(Ei[1])))throw de.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ci.ttl}`});const Br=1e3*Number(Ei[1]),Ns=Date.now();return{token:Ci.token,expireTimeMillis:Ns+Br,issuedAtTimeMillis:Ns}})).apply(this,arguments)}function We(Kt,zt){const{projectId:rn,appId:pn,apiKey:Mn}=Kt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${rn}/apps/${pn}:exchangeDebugToken?key=${Mn}`,body:{debug_token:zt}}}const jt="firebase-app-check-store";let Ln=null;function pt(){return Ln||(Ln=new Promise((Kt,zt)=>{try{const rn=indexedDB.open("firebase-app-check-database",1);rn.onsuccess=pn=>{Kt(pn.target.result)},rn.onerror=pn=>{var Mn;zt(de.create("storage-open",{originalErrorMessage:null===(Mn=pn.target.error)||void 0===Mn?void 0:Mn.message}))},rn.onupgradeneeded=pn=>{const Mn=pn.target.result;switch(pn.oldVersion){case 0:Mn.createObjectStore(jt,{keyPath:"compositeKey"})}}}catch(rn){zt(de.create("storage-open",{originalErrorMessage:rn.message}))}}),Ln)}function ge(){return(ge=(0,Gt.Z)(function*(Kt,zt){const pn=(yield pt()).transaction(jt,"readwrite"),Vn=pn.objectStore(jt).put({compositeKey:Kt,value:zt});return new Promise((ki,Ci)=>{Vn.onsuccess=Ei=>{ki()},pn.onerror=Ei=>{var Br;Ci(de.create("storage-set",{originalErrorMessage:null===(Br=Ei.target.error)||void 0===Br?void 0:Br.message}))}})})).apply(this,arguments)}const Tn=new ze.Yd("@firebase/app-check");function ei(Kt,zt){return(0,Ke.hl)()?function(Kt,zt){return function(Kt,zt){return ge.apply(this,arguments)}(function(Kt){return`${Kt.options.appId}-${Kt.name}`}(Kt),zt)}(Kt,zt).catch(rn=>{Tn.warn(`Failed to write token to IndexedDB. Error: ${rn}`)}):Promise.resolve()}function gt(){return un().enabled}function wt(){return ln.apply(this,arguments)}function ln(){return(ln=(0,Gt.Z)(function*(){const Kt=un();if(Kt.enabled&&Kt.token)return Kt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nn={error:"UNKNOWN_ERROR"};function Rn(Kt){return Ke.US.encodeString(JSON.stringify(Kt),!1)}function Bn(Kt){return _t.apply(this,arguments)}function _t(){return(_t=(0,Gt.Z)(function*(Kt,zt=!1){const rn=Kt.app;Be(rn);const pn=yt(rn);let Vn,Mn=pn.token;if(!Mn){const Ei=yield pn.cachedTokenPromise;Ei&&tn(Ei)&&(Mn=Ei)}if(!zt&&Mn&&tn(Mn))return{token:Mn.token};let Ci,ki=!1;if(gt()){pn.exchangeTokenPromise||(pn.exchangeTokenPromise=Ft(We(rn,yield wt()),Kt.heartbeatServiceProvider).then(Br=>(pn.exchangeTokenPromise=void 0,Br)),ki=!0);const Ei=yield pn.exchangeTokenPromise;return yield ei(rn,Ei),Ot(rn,Object.assign(Object.assign({},pn),{token:Ei})),{token:Ei.token}}try{pn.exchangeTokenPromise||(pn.exchangeTokenPromise=pn.provider.getToken().then(Ei=>(pn.exchangeTokenPromise=void 0,Ei)),ki=!0),Mn=yield pn.exchangeTokenPromise}catch(Ei){"appCheck/throttled"===Ei.code?Tn.warn(Ei.message):Tn.error(Ei),Vn=Ei}return Mn?(Ci={token:Mn.token},Ot(rn,Object.assign(Object.assign({},pn),{token:Mn})),yield ei(rn,Mn)):Ci=Wn(Vn),ki&&Tt(rn,Ci),Ci})).apply(this,arguments)}function pe(Kt,zt){const rn=yt(Kt),pn=rn.tokenObservers.filter(Mn=>Mn.next!==zt);0===pn.length&&rn.tokenRefresher&&rn.tokenRefresher.isRunning()&&rn.tokenRefresher.stop(),Ot(Kt,Object.assign(Object.assign({},rn),{tokenObservers:pn}))}function we(Kt){const{app:zt}=Kt,rn=yt(zt);let pn=rn.tokenRefresher;pn||(pn=function(Kt){const{app:zt}=Kt;return new Rt((0,Gt.Z)(function*(){let pn;if(pn=yt(zt).token?yield Bn(Kt,!0):yield Bn(Kt),pn.error)throw pn.error}),()=>!0,()=>{const rn=yt(zt);if(rn.token){let pn=rn.token.issuedAtTimeMillis+.5*(rn.token.expireTimeMillis-rn.token.issuedAtTimeMillis)+3e5;return pn=Math.min(pn,rn.token.expireTimeMillis-3e5),Math.max(0,pn-Date.now())}return 0},3e4,96e4)}(Kt),Ot(zt,Object.assign(Object.assign({},rn),{tokenRefresher:pn}))),!pn.isRunning()&&rn.isTokenAutoRefreshEnabled&&pn.start()}function Tt(Kt,zt){const rn=yt(Kt).tokenObservers;for(const pn of rn)try{"EXTERNAL"===pn.type&&null!=zt.error?pn.error(zt.error):pn.next(zt)}catch(Mn){}}function tn(Kt){return Kt.expireTimeMillis-Date.now()>0}function Wn(Kt){return{token:Rn(nn),error:Kt}}class hi{constructor(zt,rn){this.app=zt,this.heartbeatServiceProvider=rn}_delete(){const{tokenObservers:zt}=yt(this.app);for(const rn of zt)pe(this.app,rn.next);return Promise.resolve()}}const Mi="app-check-internal";(0,Et._registerComponent)(new ut.wA("app-check",Kt=>function(Kt,zt){return new hi(Kt,zt)}(Kt.getProvider("app").getImmediate(),Kt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Kt,zt,rn)=>{Kt.getProvider(Mi).initialize()})),(0,Et._registerComponent)(new ut.wA(Mi,Kt=>function(Kt){return{getToken:zt=>Bn(Kt,zt),addTokenListener:zt=>function(Kt,zt,rn,pn){const{app:Mn}=Kt,Vn=yt(Mn),ki={next:rn,error:pn,type:zt};if(Ot(Mn,Object.assign(Object.assign({},Vn),{tokenObservers:[...Vn.tokenObservers,ki]})),Vn.token&&tn(Vn.token)){const Ci=Vn.token;Promise.resolve().then(()=>{rn({token:Ci.token}),we(Kt)}).catch(()=>{})}Vn.cachedTokenPromise.then(()=>we(Kt))}(Kt,"INTERNAL",zt),removeTokenListener:zt=>pe(Kt.app,zt)}}(Kt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Et.registerVersion)("@firebase/app-check","0.5.8");class Wr{constructor(){return(0,_.vb)("app-check")}}"undefined"!=typeof window&&window},3820:(In,mt,D)=>{"use strict";D.d(mt,{zQ:()=>ke,ww:()=>yt,rT:()=>Ke,f7:()=>be,L6:()=>Et,_Q:()=>ut,lh:()=>ze,Qv:()=>Gt,nw:()=>q});var _=D(7716),m=D(9765),y=D(5917),d=D(7574),he=D(4402),U=D(6682),De=D(3190);function le(Ot,un){return un?(0,De.w)(()=>Ot,un):(0,De.w)(()=>Ot)}var Ee=D(9746),se=D(8002),Te=D(2066),oe=D(8049),Ye=D(9673),tt=D(5435),Xe=D(2310),nt=D(8939),Me=D(8583),Qe=D(6256),Qt=D(7841);const Gt=new _.OlP("angularfire2.auth.use-emulator"),Et=new _.OlP("angularfire2.auth.settings"),ut=new _.OlP("angularfire2.auth.tenant-id"),Ke=new _.OlP("angularfire2.auth.langugage-code"),ze=new _.OlP("angularfire2.auth.use-device-language"),be=new _.OlP("angularfire.auth.persistence"),q=(Ot,un,Ut,jn,ii,Gn,Qn,kn)=>(0,nt.cc)(`${Ot.name}.auth`,"AngularFireAuth",Ot.name,()=>{const Rt=un.runOutsideAngular(()=>Ot.auth());if(Ut&&Rt.useEmulator(...Ut),jn&&(Rt.tenantId=jn),Rt.languageCode=ii,Gn&&Rt.useDeviceLanguage(),Qn)for(const[Zt,Ae]of Object.entries(Qn))Rt.settings[Zt]=Ae;return kn&&Rt.setPersistence(kn),Rt},[Ut,jn,ii,Gn,Qn,kn]);let ke=(()=>{class Ot{constructor(Ut,jn,ii,Gn,Qn,kn,Rt,Zt,Ae,de,te,Be){const Pe=new m.xQ,bt=(0,y.of)(void 0).pipe((0,Ee.QV)(Qn.outsideAngular),(0,De.w)(()=>Gn.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,5470)))),(0,se.U)(()=>(0,nt.on)(Ut,Gn,jn)),(0,se.U)(ct=>q(ct,Gn,kn,Zt,Ae,de,Rt,te)),(0,Te.d)({bufferSize:1,refCount:!1}));if((0,Me.PM)(ii))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,y.of)(null);else{bt.pipe((0,oe.P)()).subscribe();const Ft=bt.pipe((0,De.w)(je=>je.getRedirectResult().then(We=>We,()=>null)),Xe.iC,(0,Te.d)({bufferSize:1,refCount:!1})),me=bt.pipe((0,De.w)(je=>new d.y(We=>({unsubscribe:Gn.runOutsideAngular(()=>je.onAuthStateChanged(at=>We.next(at),at=>We.error(at),()=>We.complete()))})))),rt=bt.pipe((0,De.w)(je=>new d.y(We=>({unsubscribe:Gn.runOutsideAngular(()=>je.onIdTokenChanged(at=>We.next(at),at=>We.error(at),()=>We.complete()))}))));this.authState=Ft.pipe(le(me),(0,Ye.R)(Qn.outsideAngular),(0,Ee.QV)(Qn.insideAngular)),this.user=Ft.pipe(le(rt),(0,Ye.R)(Qn.outsideAngular),(0,Ee.QV)(Qn.insideAngular)),this.idToken=this.user.pipe((0,De.w)(je=>je?(0,he.D)(je.getIdToken()):(0,y.of)(null))),this.idTokenResult=this.user.pipe((0,De.w)(je=>je?(0,he.D)(je.getIdTokenResult()):(0,y.of)(null))),this.credential=(0,U.T)(Ft,Pe,this.authState.pipe((0,tt.h)(je=>!je))).pipe((0,se.U)(je=>(null==je?void 0:je.user)?je:null),(0,Ye.R)(Qn.outsideAngular),(0,Ee.QV)(Qn.insideAngular))}return(0,nt.pX)(this,bt,Gn,{spy:{apply:(ct,Ft,me)=>{(ct.startsWith("signIn")||ct.startsWith("createUser"))&&me.then(rt=>Pe.next(rt))}}})}}return Ot.\u0275fac=function(Ut){return new(Ut||Ot)(_.LFG(nt.Dh),_.LFG(nt.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Xe.HU),_.LFG(Gt,8),_.LFG(Et,8),_.LFG(ut,8),_.LFG(Ke,8),_.LFG(ze,8),_.LFG(be,8),_.LFG(Qe.nm,8))},Ot.\u0275prov=_.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"any"}),Ot})(),yt=(()=>{class Ot{constructor(){Qt.Z.registerVersion("angularfire",Xe.q4.full,"auth-compat")}}return Ot.\u0275fac=function(Ut){return new(Ut||Ot)},Ot.\u0275mod=_.oAB({type:Ot}),Ot.\u0275inj=_.cJS({providers:[ke]}),Ot})()},6830:(In,mt,D)=>{"use strict";D.d(mt,{KQ:()=>Xl,JS:()=>Ju});var _=D(7716),m=D(3637),y=D(7574),d=D(5917),he=D(6682),U=D(5197),De=D(509);class Ee{constructor(u,c){this.observables=u,this.project=c}call(u,c){return c.subscribe(new se(u,this.observables,this.project))}}class se extends U.L{constructor(u,c,b){super(u),this.observables=c,this.project=b,this.toRespond=[];const x=c.length;this.values=new Array(x);for(let j=0;j<x;j++)this.toRespond.push(j);for(let j=0;j<x;j++)this.add((0,De.D)(this,c[j],void 0,j))}notifyNext(u,c,b){this.values[b]=c;const x=this.toRespond;if(x.length>0){const j=x.indexOf(b);-1!==j&&x.splice(j,1)}}notifyComplete(){}_next(u){if(0===this.toRespond.length){const c=[u,...this.values];this.project?this._tryProject(c):this.destination.next(c)}}_tryProject(u){let c;try{c=this.project.apply(this,u)}catch(b){return void this.destination.error(b)}this.destination.next(c)}}var Te=D(7393);class Ye{constructor(u){this.predicate=u}call(u,c){return c.subscribe(new tt(u,this.predicate))}}class tt extends Te.L{constructor(u,c){super(u),this.predicate=c,this.skipping=!0,this.index=0}_next(u){const c=this.destination;this.skipping&&this.tryCallPredicate(u),this.skipping||c.next(u)}tryCallPredicate(u){try{const c=this.predicate(u,this.index++);this.skipping=Boolean(c)}catch(c){this.destination.error(c)}}}var Xe=D(8002),nt=D(8819),Me=D(3190),Qe=D(2145),Qt=D(7519),hn=D(2310),Gt=D(8939),ut=(D(5470),D(3394)),Ke=D(3910),ze=D(8239),be=D(8026),q=D(3854),ke=D(5422);const yt="@firebase/database";let un="";function Ut(p){un=p}class jn{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,c){null==c?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,q.Pz)(c))}get(u){const c=this.domStorage_.getItem(this.prefixedName_(u));return null==c?null:(0,q.cI)(c)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class ii{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,c){null==c?delete this.cache_[u]:this.cache_[u]=c}get(u){return(0,q.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const Gn=function(p){try{if("undefined"!=typeof window&&void 0!==window[p]){const u=window[p];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new jn(u)}}catch(u){}return new ii},Qn=Gn("localStorage"),kn=Gn("sessionStorage"),Rt=new ke.Yd("@firebase/database"),Zt=function(){let p=1;return function(){return p++}}(),Ae=function(p){const u=(0,q.dS)(p),c=new q.gQ;c.update(u);const b=c.digest();return q.US.encodeByteArray(b)},de=function(...p){let u="";for(let c=0;c<p.length;c++){const b=p[c];Array.isArray(b)||b&&"object"==typeof b&&"number"==typeof b.length?u+=de.apply(null,b):u+="object"==typeof b?(0,q.Pz)(b):b,u+=" "}return u};let te=null,Be=!0;const Pe=function(p,u){(0,q.hu)(!u||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(Rt.logLevel=ke.in.VERBOSE,te=Rt.log.bind(Rt),u&&kn.set("logging_enabled",!0)):"function"==typeof p?te=p:(te=null,kn.remove("logging_enabled"))},bt=function(...p){if(!0===Be&&(Be=!1,null===te&&!0===kn.get("logging_enabled")&&Pe(!0)),te){const u=de.apply(null,p);te(u)}},ct=function(p){return function(...u){bt(p,...u)}},Ft=function(...p){const u="FIREBASE INTERNAL ERROR: "+de(...p);Rt.error(u)},me=function(...p){const u=`FIREBASE FATAL ERROR: ${de(...p)}`;throw Rt.error(u),new Error(u)},rt=function(...p){const u="FIREBASE WARNING: "+de(...p);Rt.warn(u)},We=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},fn="[MIN_NAME]",jt="[MAX_NAME]",cn=function(p,u){if(p===u)return 0;if(p===fn||u===jt)return-1;if(u===fn||p===jt)return 1;{const c=Nn(p),b=Nn(u);return null!==c?null!==b?c-b==0?p.length-u.length:c-b:-1:null!==b?1:p<u?-1:1}},Ln=function(p,u){return p===u?0:p<u?-1:1},pt=function(p,u){if(u&&p in u)return u[p];throw new Error("Missing required key ("+p+") in object: "+(0,q.Pz)(u))},ue=function(p){if("object"!=typeof p||null===p)return(0,q.Pz)(p);const u=[];for(const b in p)u.push(b);u.sort();let c="{";for(let b=0;b<u.length;b++)0!==b&&(c+=","),c+=(0,q.Pz)(u[b]),c+=":",c+=ue(p[u[b]]);return c+="}",c},B=function(p,u){const c=p.length;if(c<=u)return[p];const b=[];for(let x=0;x<c;x+=u)b.push(p.substring(x,x+u>c?c:x+u));return b};function H(p,u){for(const c in p)p.hasOwnProperty(c)&&u(c,p[c])}const ae=function(p){(0,q.hu)(!We(p),"Invalid JSON number");const b=1023;let x,j,ie,Ge,dt;0===p?(j=0,ie=0,x=1/p==-1/0?1:0):(x=p<0,(p=Math.abs(p))>=Math.pow(2,1-b)?(Ge=Math.min(Math.floor(Math.log(p)/Math.LN2),b),j=Ge+b,ie=Math.round(p*Math.pow(2,52-Ge)-Math.pow(2,52))):(j=0,ie=Math.round(p/Math.pow(2,-1074))));const Lt=[];for(dt=52;dt;dt-=1)Lt.push(ie%2?1:0),ie=Math.floor(ie/2);for(dt=11;dt;dt-=1)Lt.push(j%2?1:0),j=Math.floor(j/2);Lt.push(x?1:0),Lt.reverse();const bn=Lt.join("");let Cn="";for(dt=0;dt<64;dt+=8){let Un=parseInt(bn.substr(dt,8),2).toString(16);1===Un.length&&(Un="0"+Un),Cn+=Un}return Cn.toLowerCase()},Bt=new RegExp("^-?(0*)\\d{1,10}$"),an=-2147483648,Tn=2147483647,Nn=function(p){if(Bt.test(p)){const u=Number(p);if(u>=an&&u<=Tn)return u}return null},Pn=function(p){try{p()}catch(u){setTimeout(()=>{throw rt("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},Jn=function(p,u){const c=setTimeout(p,u);return"object"==typeof c&&c.unref&&c.unref(),c};class ft{constructor(u,c){this.appName_=u,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(b=>this.appCheck=b)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((c,b)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(c,b):c(null)},0)})}addTokenChangeListener(u){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(b=>b.addTokenListener(u))}notifyForInvalidToken(){rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gt{constructor(u,c,b){this.appName_=u,this.firebaseOptions_=c,this.authProvider_=b,this.auth_=null,this.auth_=b.getImmediate({optional:!0}),this.auth_||b.onInit(x=>this.auth_=x)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(c=>c&&"auth/token-not-initialized"===c.code?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,b)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(c,b):c(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(c=>c.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(c=>c.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rt(u)}}let wt=(()=>{class p{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return p.OWNER="owner",p})();const _t=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Oe="websocket",Tt="long_polling";class tn{constructor(u,c,b,x,j=!1,ie="",Ge=!1){this.secure=c,this.namespace=b,this.webSocketOnly=x,this.nodeAdmin=j,this.persistenceKey=ie,this.includeNamespaceInQueryParams=Ge,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qn.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&Qn.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function hi(p,u,c){let b;if((0,q.hu)("string"==typeof u,"typeof type must == string"),(0,q.hu)("object"==typeof c,"typeof params must == object"),u===Oe)b=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(u!==Tt)throw new Error("Unknown connection type: "+u);b=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(c.ns=p.namespace);const x=[];return H(c,(j,ie)=>{x.push(j+"="+ie)}),b+x.join("&")}class xi{constructor(){this.counters_={}}incrementCounter(u,c=1){(0,q.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=c}get(){return(0,q.p$)(this.counters_)}}const Ui={},Wi={};function Ai(p){const u=p.toString();return Ui[u]||(Ui[u]=new xi),Ui[u]}class vr{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,c){this.closeAfterResponse=u,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,c){for(this.pendingResponses[u]=c;this.pendingResponses[this.currentResponseNum];){const b=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let x=0;x<b.length;++x)b[x]&&Pn(()=>{this.onMessage_(b[x])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class $t{constructor(u,c,b,x,j,ie,Ge){this.connId=u,this.repoInfo=c,this.applicationId=b,this.appCheckToken=x,this.authToken=j,this.transportSessionId=ie,this.lastSessionId=Ge,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ct(u),this.stats_=Ai(c),this.urlFn=dt=>(this.appCheckToken&&(dt.ac=this.appCheckToken),hi(c,Tt,dt))}open(u,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new vr(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,q.Yr)()||"complete"===document.readyState)p();else{let u=!1;const c=function(){document.body?u||(u=!0,p()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _n((...j)=>{const[ie,Ge,dt,Lt,bn]=j;if(this.incrementIncomingBytes_(j),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===ie)this.id=Ge,this.password=dt;else{if("close"!==ie)throw new Error("Unrecognized command received: "+ie);Ge?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Ge,()=>{this.onClosed_()})):this.onClosed_()}},(...j)=>{const[ie,Ge]=j;this.incrementIncomingBytes_(j),this.myPacketOrderer.handleResponse(ie,Ge)},()=>{this.onClosed_()},this.urlFn);const b={start:"t"};b.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(b.cb=this.scriptTagHolder.uniqueCallbackIdentifier),b.v="5",this.transportSessionId&&(b.s=this.transportSessionId),this.lastSessionId&&(b.ls=this.lastSessionId),this.applicationId&&(b.p=this.applicationId),this.appCheckToken&&(b.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&_t.test(location.hostname)&&(b.r="f");const x=this.urlFn(b);this.log_("Connecting via long-poll to "+x),this.scriptTagHolder.addTag(x,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$t.forceAllow_=!0}static forceDisallow(){$t.forceDisallow_=!0}static isAvailable(){return!((0,q.Yr)()||!$t.forceAllow_&&($t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const c=(0,q.Pz)(u);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const b=(0,q.h$)(c),x=B(b,1840);for(let j=0;j<x.length;j++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,x.length,x[j]),this.curSegmentNum++}addDisconnectPingFrame(u,c){if((0,q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const b={dframe:"t"};b.id=u,b.pw=c,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const c=(0,q.Pz)(u).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class _n{constructor(u,c,b,x){if(this.onDisconnect=b,this.urlFn=x,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,q.Yr)())this.commandCB=u,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=Zt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=_n.createIFrame_();let j="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(j='<script>document.domain="'+document.domain+'";<\/script>');const ie="<html><body>"+j+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ie),this.myIFrame.doc.close()}catch(Ge){bt("frame writing exception"),Ge.stack&&bt(Ge.stack),bt(Ge)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||bt("No IE domain setting required")}catch(c){const b=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,c){for(this.myID=u,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let c=this.urlFn(u),b="",x=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){const ie=this.pendingSegs.shift();b=b+"&seg"+x+"="+ie.seg+"&ts"+x+"="+ie.ts+"&d"+x+"="+ie.d,x++}return c+=b,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(u,c,b){this.pendingSegs.push({seg:u,ts:c,d:b}),this.alive&&this.newRequest_()}addLongPollTag_(u,c){this.outstandingRequests.add(c);const b=()=>{this.outstandingRequests.delete(c),this.newRequest_()},x=setTimeout(b,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(x),b()})}addTag(u,c){(0,q.Yr)()?this.doNodeLongPoll(u,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const b=this.myIFrame.doc.createElement("script");b.type="text/javascript",b.async=!0,b.src=u,b.onload=b.onreadystatechange=function(){const x=b.readyState;(!x||"loaded"===x||"complete"===x)&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),c())},b.onerror=()=>{bt("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(b)}catch(b){}},Math.floor(1))}}let Mi=null;"undefined"!=typeof MozWebSocket?Mi=MozWebSocket:"undefined"!=typeof WebSocket&&(Mi=WebSocket);let ui=(()=>{class p{constructor(c,b,x,j,ie,Ge,dt){this.connId=c,this.applicationId=x,this.appCheckToken=j,this.authToken=ie,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ct(this.connId),this.stats_=Ai(b),this.connURL=p.connectionURL_(b,Ge,dt,j,x),this.nodeAdmin=b.nodeAdmin}static connectionURL_(c,b,x,j,ie){const Ge={v:"5"};return!(0,q.Yr)()&&"undefined"!=typeof location&&location.hostname&&_t.test(location.hostname)&&(Ge.r="f"),b&&(Ge.s=b),x&&(Ge.ls=x),j&&(Ge.ac=j),ie&&(Ge.p=ie),hi(c,Oe,Ge)}open(c,b){this.onDisconnect=b,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qn.set("previous_websocket_failure",!0);try{let x;if((0,q.Yr)()){const ie={headers:{"User-Agent":`Firebase/5/${un}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(ie.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(ie.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Ge=process.env,dt=0===this.connURL.indexOf("wss://")?Ge.HTTPS_PROXY||Ge.https_proxy:Ge.HTTP_PROXY||Ge.http_proxy;dt&&(ie.proxy={origin:dt})}this.mySock=new Mi(this.connURL,[],x)}catch(x){this.log_("Error instantiating WebSocket.");const j=x.message||x.data;return j&&this.log_(j),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=x=>{this.handleIncomingFrame(x)},this.mySock.onerror=x=>{this.log_("WebSocket error.  Closing connection.");const j=x.message||x.data;j&&this.log_(j),this.onClosed_()}}start(){}static forceDisallow(){p.forceDisallow_=!0}static isAvailable(){let c=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const x=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);x&&x.length>1&&parseFloat(x[1])<4.4&&(c=!0)}return!c&&null!==Mi&&!p.forceDisallow_}static previouslyFailed(){return Qn.isInMemoryStorage||!0===Qn.get("previous_websocket_failure")}markConnectionHealthy(){Qn.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const b=this.frames.join("");this.frames=null;const x=(0,q.cI)(b);this.onMessage(x)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,q.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const b=Number(c);if(!isNaN(b))return this.handleNewFrameCount_(b),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const b=c.data;if(this.bytesReceived+=b.length,this.stats_.incrementCounter("bytes_received",b.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(b);else{const x=this.extractFrameCount_(b);null!==x&&this.appendFrame_(x)}}send(c){this.resetKeepAlive();const b=(0,q.Pz)(c);this.bytesSent+=b.length,this.stats_.incrementCounter("bytes_sent",b.length);const x=B(b,16384);x.length>1&&this.sendString_(String(x.length));for(let j=0;j<x.length;j++)this.sendString_(x[j])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(b){this.log_("Exception thrown from WebSocket.send():",b.message||b.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p})(),Tr=(()=>{class p{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[$t,ui]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const b=ui&&ui.isAvailable();let x=b&&!ui.previouslyFailed();if(c.webSocketOnly&&(b||rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),x=!0),x)this.transports_=[ui];else{const j=this.transports_=[];for(const ie of p.ALL_TRANSPORTS)ie&&ie.isAvailable()&&j.push(ie);p.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return p.globalTransportInitialized_=!1,p})();class kr{constructor(u,c,b,x,j,ie,Ge,dt,Lt,bn){this.id=u,this.repoInfo_=c,this.applicationId_=b,this.appCheckToken_=x,this.authToken_=j,this.onMessage_=ie,this.onReady_=Ge,this.onDisconnect_=dt,this.onKill_=Lt,this.lastSessionId=bn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ct("c:"+this.id+":"),this.transportManager_=new Tr(c),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),b=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,b)},Math.floor(0));const x=u.healthyTimeout||0;x>0&&(this.healthyTimeout_=Jn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(x)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return c=>{u===this.conn_?this.onConnectionLost_(c):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return c=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(c):u===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const c=u.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const c=pt("t",u),b=pt("d",u);if("c"===c)this.onSecondaryControl_(b);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(b)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const c=pt("t",u),b=pt("d",u);"c"===c?this.onControl_(b):"d"===c&&this.onDataMessage_(b)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const c=pt("t",u);if("d"in u){const b=u.d;if("h"===c)this.onHandshake_(b);else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let x=0;x<this.pendingDataMessages.length;++x)this.onDataMessage_(this.pendingDataMessages[x]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(b):"r"===c?this.onReset_(b):"e"===c?Ft("Server Error: "+b):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ft("Unknown control packet command: "+c)}}onHandshake_(u){const c=u.ts,b=u.v,x=u.h;this.sessionId=u.s,this.repoInfo_.host=x,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==b&&rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),b=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,b),Jn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,c){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class mo{put(u,c,b,x){}merge(u,c,b,x){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,c,b){}onDisconnectMerge(u,c,b){}onDisconnectCancel(u,c){}reportStats(u){}}class Or{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,q.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...c){if(Array.isArray(this.listeners_[u])){const b=[...this.listeners_[u]];for(let x=0;x<b.length;x++)b[x].callback.apply(b[x].context,c)}}on(u,c,b){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:c,context:b});const x=this.getInitialEvent(u);x&&c.apply(b,x)}off(u,c,b){this.validateEventType_(u);const x=this.listeners_[u]||[];for(let j=0;j<x.length;j++)if(x[j].callback===c&&(!b||b===x[j].context))return void x.splice(j,1)}validateEventType_(u){(0,q.hu)(this.allowedEvents_.find(c=>c===u),"Unknown event: "+u)}}class Kt extends Or{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Kt}getInitialEvent(u){return(0,q.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}class pn{constructor(u,c){if(void 0===c){this.pieces_=u.split("/");let b=0;for(let x=0;x<this.pieces_.length;x++)this.pieces_[x].length>0&&(this.pieces_[b]=this.pieces_[x],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=c}toString(){let u="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(u+="/"+this.pieces_[c]);return u||"/"}}function Mn(){return new pn("")}function Vn(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function ki(p){return p.pieces_.length-p.pieceNum_}function Ci(p){let u=p.pieceNum_;return u<p.pieces_.length&&u++,new pn(p.pieces_,u)}function Ei(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function Ns(p,u=0){return p.pieces_.slice(p.pieceNum_+u)}function Fs(p){if(p.pieceNum_>=p.pieces_.length)return null;const u=[];for(let c=p.pieceNum_;c<p.pieces_.length-1;c++)u.push(p.pieces_[c]);return new pn(u,0)}function ir(p,u){const c=[];for(let b=p.pieceNum_;b<p.pieces_.length;b++)c.push(p.pieces_[b]);if(u instanceof pn)for(let b=u.pieceNum_;b<u.pieces_.length;b++)c.push(u.pieces_[b]);else{const b=u.split("/");for(let x=0;x<b.length;x++)b[x].length>0&&c.push(b[x])}return new pn(c,0)}function Vi(p){return p.pieceNum_>=p.pieces_.length}function Ur(p,u){const c=Vn(p),b=Vn(u);if(null===c)return u;if(c===b)return Ur(Ci(p),Ci(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+p+")")}function as(p,u){const c=Ns(p,0),b=Ns(u,0);for(let x=0;x<c.length&&x<b.length;x++){const j=cn(c[x],b[x]);if(0!==j)return j}return c.length===b.length?0:c.length<b.length?-1:1}function Ss(p,u){if(ki(p)!==ki(u))return!1;for(let c=p.pieceNum_,b=u.pieceNum_;c<=p.pieces_.length;c++,b++)if(p.pieces_[c]!==u.pieces_[b])return!1;return!0}function Pr(p,u){let c=p.pieceNum_,b=u.pieceNum_;if(ki(p)>ki(u))return!1;for(;c<p.pieces_.length;){if(p.pieces_[c]!==u.pieces_[b])return!1;++c,++b}return!0}class Ls{constructor(u,c){this.errorPrefix_=c,this.parts_=Ns(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let b=0;b<this.parts_.length;b++)this.byteLength_+=(0,q.ug)(this.parts_[b]);jo(this)}}function jo(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ar(p))}function Ar(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}class hs extends Or{constructor(){let u,c;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(c="visibilitychange",u="hidden"):void 0!==document.mozHidden?(c="mozvisibilitychange",u="mozHidden"):void 0!==document.msHidden?(c="msvisibilitychange",u="msHidden"):void 0!==document.webkitHidden&&(c="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const b=!document[u];b!==this.visible_&&(this.visible_=b,this.trigger("visible",b))},!1)}static getInstance(){return new hs}getInitialEvent(u){return(0,q.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const fs=1e3;let Bs,cr=(()=>{class p extends mo{constructor(c,b,x,j,ie,Ge,dt,Lt){if(super(),this.repoInfo_=c,this.applicationId_=b,this.onDataUpdate_=x,this.onConnectStatus_=j,this.onServerInfoUpdate_=ie,this.authTokenProvider_=Ge,this.appCheckTokenProvider_=dt,this.authOverride_=Lt,this.id=p.nextPersistentConnectionId_++,this.log_=ct("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Lt&&!(0,q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hs.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&Kt.getInstance().on("online",this.onOnline_,this)}sendRequest(c,b,x){const j=++this.requestNumber_,ie={r:j,a:c,b};this.log_((0,q.Pz)(ie)),(0,q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ie),x&&(this.requestCBHash_[j]=x)}get(c){this.initConnection_();const b=new q.BH,x={p:c._path.toString(),q:c._queryObject},j={action:"g",request:x,onComplete:Ge=>{const dt=Ge.d;"ok"===Ge.s?(this.onDataUpdate_(x.p,dt,!1,null),b.resolve(dt)):b.reject(dt)}};this.outstandingGets_.push(j),this.outstandingGetCount_++;const ie=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const Ge=this.outstandingGets_[ie];void 0===Ge||j!==Ge||(delete this.outstandingGets_[ie],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+ie+" timed out on connection"),b.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(ie),b.promise}listen(c,b,x,j){this.initConnection_();const ie=c._queryIdentifier,Ge=c._path.toString();this.log_("Listen called for "+Ge+" "+ie),this.listens.has(Ge)||this.listens.set(Ge,new Map),(0,q.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,q.hu)(!this.listens.get(Ge).has(ie),"listen() called twice for same path/queryId.");const dt={onComplete:j,hashFn:b,query:c,tag:x};this.listens.get(Ge).set(ie,dt),this.connected_&&this.sendListen_(dt)}sendGet_(c){const b=this.outstandingGets_[c];this.sendRequest("g",b.request,x=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),b.onComplete&&b.onComplete(x)})}sendListen_(c){const b=c.query,x=b._path.toString(),j=b._queryIdentifier;this.log_("Listen on "+x+" for "+j);const ie={p:x};c.tag&&(ie.q=b._queryObject,ie.t=c.tag),ie.h=c.hashFn(),this.sendRequest("q",ie,dt=>{const Lt=dt.d,bn=dt.s;p.warnOnListenWarnings_(Lt,b),(this.listens.get(x)&&this.listens.get(x).get(j))===c&&(this.log_("listen response",dt),"ok"!==bn&&this.removeListen_(x,j),c.onComplete&&c.onComplete(bn,Lt))})}static warnOnListenWarnings_(c,b){if(c&&"object"==typeof c&&(0,q.r3)(c,"w")){const x=(0,q.DV)(c,"w");if(Array.isArray(x)&&~x.indexOf("no_index")){const j='".indexOn": "'+b._queryParams.getIndex().toString()+'"',ie=b._path.toString();rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${j} at ${ie} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,q.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,b=(0,q.w9)(c)?"auth":"gauth",x={cred:c};null===this.authOverride_?x.noauth=!0:"object"==typeof this.authOverride_&&(x.authvar=this.authOverride_),this.sendRequest(b,x,j=>{const ie=j.s,Ge=j.d||"error";this.authToken_===c&&("ok"===ie?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ie,Ge))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const b=c.s,x=c.d||"error";"ok"===b?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(b,x)})}unlisten(c,b){const x=c._path.toString(),j=c._queryIdentifier;this.log_("Unlisten called for "+x+" "+j),(0,q.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(x,j)&&this.connected_&&this.sendUnlisten_(x,j,c._queryObject,b)}sendUnlisten_(c,b,x,j){this.log_("Unlisten on "+c+" for "+b);const ie={p:c};j&&(ie.q=x,ie.t=j),this.sendRequest("n",ie)}onDisconnectPut(c,b,x){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,b,x):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:b,onComplete:x})}onDisconnectMerge(c,b,x){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,b,x):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:b,onComplete:x})}onDisconnectCancel(c,b){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,b):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:b})}sendOnDisconnect_(c,b,x,j){const ie={p:b,d:x};this.log_("onDisconnect "+c,ie),this.sendRequest(c,ie,Ge=>{j&&setTimeout(()=>{j(Ge.s,Ge.d)},Math.floor(0))})}put(c,b,x,j){this.putInternal("p",c,b,x,j)}merge(c,b,x,j){this.putInternal("m",c,b,x,j)}putInternal(c,b,x,j,ie){this.initConnection_();const Ge={p:b,d:x};void 0!==ie&&(Ge.h=ie),this.outstandingPuts_.push({action:c,request:Ge,onComplete:j}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)}sendPut_(c){const b=this.outstandingPuts_[c].action,x=this.outstandingPuts_[c].request,j=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(b,x,ie=>{this.log_(b+" response",ie),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),j&&j(ie.s,ie.d)})}reportStats(c){if(this.connected_){const b={c};this.log_("reportStats",b),this.sendRequest("s",b,x=>{"ok"!==x.s&&this.log_("reportStats","Error sending stats: "+x.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,q.Pz)(c));const b=c.r,x=this.requestCBHash_[b];x&&(delete this.requestCBHash_[b],x(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,b){this.log_("handleServerMessage",c,b),"d"===c?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===c?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===c?this.onListenRevoked_(b.p,b.q):"ac"===c?this.onAuthRevoked_(b.s,b.d):"apc"===c?this.onAppCheckRevoked_(b.s,b.d):"sd"===c?this.onSecurityDebugPacket_(b):Ft("Unrecognized action received from server: "+(0,q.Pz)(c)+"\nAre you using the latest client?")}onReady_(c,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=fs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let b=Math.max(0,this.reconnectDelay_-c);b=Math.random()*b,this.log_("Trying to reconnect in "+b+"ms"),this.scheduleConnect_(b),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,ze.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const b=c.onDataMessage_.bind(c),x=c.onReady_.bind(c),j=c.onRealtimeDisconnect_.bind(c),ie=c.id+":"+p.nextConnectionId_++,Ge=c.lastSessionId;let dt=!1,Lt=null;const bn=function(){Lt?Lt.close():(dt=!0,j())};c.realtime_={close:bn,sendRequest:function(yi){(0,q.hu)(Lt,"sendRequest call when we're not connected not allowed."),Lt.sendRequest(yi)}};const Un=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[yi,ji]=yield Promise.all([c.authTokenProvider_.getToken(Un),c.appCheckTokenProvider_.getToken(Un)]);dt?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),c.authToken_=yi&&yi.accessToken,c.appCheckToken_=ji&&ji.token,Lt=new kr(ie,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,b,x,j,ys=>{rt(ys+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},Ge))}catch(yi){c.log_("Failed to get token: "+yi),dt||(c.repoInfo_.nodeAdmin&&rt(yi),bn())}}})()}interrupt(c){bt("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){bt("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const b=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const b=this.outstandingPuts_[c];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,b){let x;x=b?b.map(ie=>ue(ie)).join("$"):"default";const j=this.removeListen_(c,x);j&&j.onComplete&&j.onComplete("permission_denied")}removeListen_(c,b){const x=new pn(c).toString();let j;if(this.listens.has(x)){const ie=this.listens.get(x);j=ie.get(b),ie.delete(b),0===ie.size&&this.listens.delete(x)}else j=void 0;return j}onAuthRevoked_(c,b){bt("Auth token revoked: "+c+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,b){bt("App check token revoked: "+c+"/"+b),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const b of c.values())this.sendListen_(b);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let b="js";(0,q.Yr)()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+b+"."+un.replace(/\./g,"-")]=1,(0,q.uI)()?c["framework.cordova"]=1:(0,q.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=Kt.getInstance().currentlyOnline();return(0,q.xb)(this.interruptReasons_)&&c}}return p.nextPersistentConnectionId_=0,p.nextConnectionId_=0,p})();class Ri{constructor(u,c){this.name=u,this.node=c}static Wrap(u,c){return new Ri(u,c)}}class yo{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,c){const b=new Ri(fn,u),x=new Ri(fn,c);return 0!==this.compare(b,x)}minPost(){return Ri.MIN}}class Zr extends yo{static get __EMPTY_NODE(){return Bs}static set __EMPTY_NODE(u){Bs=u}compare(u,c){return cn(u.name,c.name)}isDefinedOn(u){throw(0,q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,c){return!1}minPost(){return Ri.MIN}maxPost(){return new Ri(jt,Bs)}makePost(u,c){return(0,q.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new Ri(u,Bs)}toString(){return".key"}}const Nr=new Zr;class K{constructor(u,c,b,x,j=null){this.isReverse_=x,this.resultGenerator_=j,this.nodeStack_=[];let ie=1;for(;!u.isEmpty();)if(u=u,ie=c?b(u.key,c):1,x&&(ie*=-1),ie<0)u=this.isReverse_?u.left:u.right;else{if(0===ie){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,u=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let ye,Ve=(()=>{class p{constructor(c,b,x,j,ie){this.key=c,this.value=b,this.color=null!=x?x:p.RED,this.left=null!=j?j:k.EMPTY_NODE,this.right=null!=ie?ie:k.EMPTY_NODE}copy(c,b,x,j,ie){return new p(null!=c?c:this.key,null!=b?b:this.value,null!=x?x:this.color,null!=j?j:this.left,null!=ie?ie:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,b,x){let j=this;const ie=x(c,j.key);return j=ie<0?j.copy(null,null,null,j.left.insert(c,b,x),null):0===ie?j.copy(null,b,null,null,null):j.copy(null,null,null,null,j.right.insert(c,b,x)),j.fixUp_()}removeMin_(){if(this.left.isEmpty())return k.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,b){let x,j;if(x=this,b(c,x.key)<0)!x.left.isEmpty()&&!x.left.isRed_()&&!x.left.left.isRed_()&&(x=x.moveRedLeft_()),x=x.copy(null,null,null,x.left.remove(c,b),null);else{if(x.left.isRed_()&&(x=x.rotateRight_()),!x.right.isEmpty()&&!x.right.isRed_()&&!x.right.left.isRed_()&&(x=x.moveRedRight_()),0===b(c,x.key)){if(x.right.isEmpty())return k.EMPTY_NODE;j=x.right.min_(),x=x.copy(j.key,j.value,null,null,x.right.removeMin_())}x=x.copy(null,null,null,null,x.right.remove(c,b))}return x.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),b=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,b)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return p.RED=!0,p.BLACK=!1,p})();class k{constructor(u,c=k.EMPTY_NODE){this.comparator_=u,this.root_=c}insert(u,c){return new k(this.comparator_,this.root_.insert(u,c,this.comparator_).copy(null,null,Ve.BLACK,null,null))}remove(u){return new k(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,Ve.BLACK,null,null))}get(u){let c,b=this.root_;for(;!b.isEmpty();){if(c=this.comparator_(u,b.key),0===c)return b.value;c<0?b=b.left:c>0&&(b=b.right)}return null}getPredecessorKey(u){let c,b=this.root_,x=null;for(;!b.isEmpty();){if(c=this.comparator_(u,b.key),0===c){if(b.left.isEmpty())return x?x.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}c<0?b=b.left:c>0&&(x=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new K(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,c){return new K(this.root_,u,this.comparator_,!1,c)}getReverseIteratorFrom(u,c){return new K(this.root_,u,this.comparator_,!0,c)}getReverseIterator(u){return new K(this.root_,null,this.comparator_,!0,u)}}function N(p,u){return cn(p.name,u.name)}function F(p,u){return cn(p,u)}k.EMPTY_NODE=new class{copy(u,c,b,x,j){return this}insert(u,c,b){return new Ve(u,c,null)}remove(u,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const et=function(p){return"number"==typeof p?"number:"+ae(p):"string:"+p},w=function(p){if(p.isLeafNode()){const u=p.val();(0,q.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,q.r3)(u,".sv"),"Priority must be a string or number.")}else(0,q.hu)(p===ye||p.isEmpty(),"priority of unexpected type.");(0,q.hu)(p===ye||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let V,Ze,wn,fe=(()=>{class p{constructor(c,b=p.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=b,this.lazyHash_=null,(0,q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),w(this.priorityNode_)}static set __childrenNodeConstructor(c){V=c}static get __childrenNodeConstructor(){return V}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new p(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return Vi(c)?this:".priority"===Vn(c)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,b){return null}updateImmediateChild(c,b){return".priority"===c?this.updatePriority(b):b.isEmpty()&&".priority"!==c?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,b).updatePriority(this.priorityNode_)}updateChild(c,b){const x=Vn(c);return null===x?b:b.isEmpty()&&".priority"!==x?this:((0,q.hu)(".priority"!==x||1===ki(c),".priority must be the last token in a path"),this.updateImmediateChild(x,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ci(c),b)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,b){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+et(this.priorityNode_.val())+":");const b=typeof this.value_;c+=b+":",c+="number"===b?ae(this.value_):this.value_,this.lazyHash_=Ae(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===p.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof p.__childrenNodeConstructor?-1:((0,q.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const b=typeof c.value_,x=typeof this.value_,j=p.VALUE_TYPE_ORDER.indexOf(b),ie=p.VALUE_TYPE_ORDER.indexOf(x);return(0,q.hu)(j>=0,"Unknown leaf type: "+b),(0,q.hu)(ie>=0,"Unknown leaf type: "+x),j===ie?"object"===x?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:ie-j}withIndex(){return this}isIndexed(){return!0}equals(c){if(c===this)return!0;if(c.isLeafNode()){const b=c;return this.value_===b.value_&&this.priorityNode_.equals(b.priorityNode_)}return!1}}return p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p})();const Bi=new class extends yo{compare(u,c){const b=u.node.getPriority(),x=c.node.getPriority(),j=b.compareTo(x);return 0===j?cn(u.name,c.name):j}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,c){return!u.getPriority().equals(c.getPriority())}minPost(){return Ri.MIN}maxPost(){return new Ri(jt,new fe("[PRIORITY-POST]",wn))}makePost(u,c){const b=Ze(u);return new Ri(c,new fe("[PRIORITY-POST]",b))}toString(){return".priority"}},ur=Math.log(2);class vi{constructor(u){this.count=parseInt(Math.log(u+1)/ur,10),this.current_=this.count-1;const x=(j=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&x}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const Us=function(p,u,c,b){p.sort(u);const x=function(dt,Lt){const bn=Lt-dt;let Cn,Un;if(0===bn)return null;if(1===bn)return Cn=p[dt],Un=c?c(Cn):Cn,new Ve(Un,Cn.node,Ve.BLACK,null,null);{const yi=parseInt(bn/2,10)+dt,ji=x(dt,yi),ys=x(yi+1,Lt);return Cn=p[yi],Un=c?c(Cn):Cn,new Ve(Un,Cn.node,Ve.BLACK,ji,ys)}},Ge=function(dt){let Lt=null,bn=null,Cn=p.length;const Un=function(ji,ys){const sa=Cn-ji,ha=Cn;Cn-=ji;const Jo=x(sa+1,ha),qa=p[sa],yh=c?c(qa):qa;yi(new Ve(yh,qa.node,ys,null,Jo))},yi=function(ji){Lt?(Lt.left=ji,Lt=ji):(bn=ji,Lt=ji)};for(let ji=0;ji<dt.count;++ji){const ys=dt.nextBitIsOne(),sa=Math.pow(2,dt.count-(ji+1));ys?Un(sa,Ve.BLACK):(Un(sa,Ve.BLACK),Un(sa,Ve.RED))}return bn}(new vi(p.length));return new k(b||u,Ge)};let Fo;const vo={};class Hs{constructor(u,c){this.indexes_=u,this.indexSet_=c}static get Default(){return(0,q.hu)(vo&&Bi,"ChildrenNode.ts has not been loaded"),Fo=Fo||new Hs({".priority":vo},{".priority":Bi}),Fo}get(u){const c=(0,q.DV)(this.indexes_,u);if(!c)throw new Error("No index defined for "+u);return c instanceof k?c:null}hasIndex(u){return(0,q.r3)(this.indexSet_,u.toString())}addIndex(u,c){(0,q.hu)(u!==Nr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const b=[];let x=!1;const j=c.getIterator(Ri.Wrap);let Ge,ie=j.getNext();for(;ie;)x=x||u.isDefinedOn(ie.node),b.push(ie),ie=j.getNext();Ge=x?Us(b,u.getCompare()):vo;const dt=u.toString(),Lt=Object.assign({},this.indexSet_);Lt[dt]=u;const bn=Object.assign({},this.indexes_);return bn[dt]=Ge,new Hs(bn,Lt)}addToIndexes(u,c){const b=(0,q.UI)(this.indexes_,(x,j)=>{const ie=(0,q.DV)(this.indexSet_,j);if((0,q.hu)(ie,"Missing index implementation for "+j),x===vo){if(ie.isDefinedOn(u.node)){const Ge=[],dt=c.getIterator(Ri.Wrap);let Lt=dt.getNext();for(;Lt;)Lt.name!==u.name&&Ge.push(Lt),Lt=dt.getNext();return Ge.push(u),Us(Ge,ie.getCompare())}return vo}{const Ge=c.get(u.name);let dt=x;return Ge&&(dt=dt.remove(new Ri(u.name,Ge))),dt.insert(u,u.node)}});return new Hs(b,this.indexSet_)}removeFromIndexes(u,c){const b=(0,q.UI)(this.indexes_,x=>{if(x===vo)return x;{const j=c.get(u.name);return j?x.remove(new Ri(u.name,j)):x}});return new Hs(b,this.indexSet_)}}let Lo,$i=(()=>{class p{constructor(c,b,x){this.children_=c,this.priorityNode_=b,this.indexMap_=x,this.lazyHash_=null,this.priorityNode_&&w(this.priorityNode_),this.children_.isEmpty()&&(0,q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Lo||(Lo=new p(new k(F),null,Hs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lo}updatePriority(c){return this.children_.isEmpty()?this:new p(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const b=this.children_.get(c);return null===b?Lo:b}}getChild(c){const b=Vn(c);return null===b?this:this.getImmediateChild(b).getChild(Ci(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,b){if((0,q.hu)(b,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(b);{const x=new Ri(c,b);let j,ie;b.isEmpty()?(j=this.children_.remove(c),ie=this.indexMap_.removeFromIndexes(x,this.children_)):(j=this.children_.insert(c,b),ie=this.indexMap_.addToIndexes(x,this.children_));const Ge=j.isEmpty()?Lo:this.priorityNode_;return new p(j,Ge,ie)}}updateChild(c,b){const x=Vn(c);if(null===x)return b;{(0,q.hu)(".priority"!==Vn(c)||1===ki(c),".priority must be the last token in a path");const j=this.getImmediateChild(x).updateChild(Ci(c),b);return this.updateImmediateChild(x,j)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const b={};let x=0,j=0,ie=!0;if(this.forEachChild(Bi,(Ge,dt)=>{b[Ge]=dt.val(c),x++,ie&&p.INTEGER_REGEXP_.test(Ge)?j=Math.max(j,Number(Ge)):ie=!1}),!c&&ie&&j<2*x){const Ge=[];for(const dt in b)Ge[dt]=b[dt];return Ge}return c&&!this.getPriority().isEmpty()&&(b[".priority"]=this.getPriority().val()),b}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+et(this.getPriority().val())+":"),this.forEachChild(Bi,(b,x)=>{const j=x.hash();""!==j&&(c+=":"+b+":"+j)}),this.lazyHash_=""===c?"":Ae(c)}return this.lazyHash_}getPredecessorChildName(c,b,x){const j=this.resolveIndex_(x);if(j){const ie=j.getPredecessorKey(new Ri(c,b));return ie?ie.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const b=this.resolveIndex_(c);if(b){const x=b.minKey();return x&&x.name}return this.children_.minKey()}getFirstChild(c){const b=this.getFirstChildName(c);return b?new Ri(b,this.children_.get(b)):null}getLastChildName(c){const b=this.resolveIndex_(c);if(b){const x=b.maxKey();return x&&x.name}return this.children_.maxKey()}getLastChild(c){const b=this.getLastChildName(c);return b?new Ri(b,this.children_.get(b)):null}forEachChild(c,b){const x=this.resolveIndex_(c);return x?x.inorderTraversal(j=>b(j.name,j.node)):this.children_.inorderTraversal(b)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,b){const x=this.resolveIndex_(b);if(x)return x.getIteratorFrom(c,j=>j);{const j=this.children_.getIteratorFrom(c.name,Ri.Wrap);let ie=j.peek();for(;null!=ie&&b.compare(ie,c)<0;)j.getNext(),ie=j.peek();return j}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,b){const x=this.resolveIndex_(b);if(x)return x.getReverseIteratorFrom(c,j=>j);{const j=this.children_.getReverseIteratorFrom(c.name,Ri.Wrap);let ie=j.peek();for(;null!=ie&&b.compare(ie,c)>0;)j.getNext(),ie=j.peek();return j}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===Fn?-1:0}withIndex(c){if(c===Nr||this.indexMap_.hasIndex(c))return this;{const b=this.indexMap_.addIndex(c,this.children_);return new p(this.children_,this.priorityNode_,b)}}isIndexed(c){return c===Nr||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const b=c;if(this.getPriority().equals(b.getPriority())){if(this.children_.count()===b.children_.count()){const x=this.getIterator(Bi),j=b.getIterator(Bi);let ie=x.getNext(),Ge=j.getNext();for(;ie&&Ge;){if(ie.name!==Ge.name||!ie.node.equals(Ge.node))return!1;ie=x.getNext(),Ge=j.getNext()}return null===ie&&null===Ge}return!1}return!1}}resolveIndex_(c){return c===Nr?null:this.indexMap_.get(c.toString())}}return p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p})();const Fn=new class extends $i{constructor(){super(new k(F),$i.EMPTY_NODE,Hs.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return $i.EMPTY_NODE}isEmpty(){return!1}};function xr(p,u=null){if(null===p)return $i.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(u=p[".priority"]),(0,q.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new fe(p,xr(u));if(p instanceof Array){let c=$i.EMPTY_NODE;return H(p,(b,x)=>{if((0,q.r3)(p,b)&&"."!==b.substring(0,1)){const j=xr(x);(j.isLeafNode()||!j.isEmpty())&&(c=c.updateImmediateChild(b,j))}}),c.updatePriority(xr(u))}{const c=[];let b=!1;if(H(p,(ie,Ge)=>{if("."!==ie.substring(0,1)){const dt=xr(Ge);dt.isEmpty()||(b=b||!dt.getPriority().isEmpty(),c.push(new Ri(ie,dt)))}}),0===c.length)return $i.EMPTY_NODE;const j=Us(c,N,ie=>ie.name,F);if(b){const ie=Us(c,Bi.getCompare());return new $i(j,xr(u),new Hs({".priority":ie},{".priority":Bi}))}return new $i(j,xr(u),Hs.Default)}}Object.defineProperties(Ri,{MIN:{value:new Ri(fn,$i.EMPTY_NODE)},MAX:{value:new Ri(jt,Fn)}}),Zr.__EMPTY_NODE=$i.EMPTY_NODE,fe.__childrenNodeConstructor=$i,ye=Fn,wn=Fn,function(p){Ze=p}(xr);class Gr extends yo{constructor(u){super(),this.indexPath_=u,(0,q.hu)(!Vi(u)&&".priority"!==Vn(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,c){const b=this.extractChild(u.node),x=this.extractChild(c.node),j=b.compareTo(x);return 0===j?cn(u.name,c.name):j}makePost(u,c){const b=xr(u),x=$i.EMPTY_NODE.updateChild(this.indexPath_,b);return new Ri(c,x)}maxPost(){const u=$i.EMPTY_NODE.updateChild(this.indexPath_,Fn);return new Ri(jt,u)}toString(){return Ns(this.indexPath_,0).join("/")}}const Vo=new class extends yo{compare(u,c){const b=u.node.compareTo(c.node);return 0===b?cn(u.name,c.name):b}isDefinedOn(u){return!0}indexedValueChanged(u,c){return!u.equals(c)}minPost(){return Ri.MIN}maxPost(){return Ri.MAX}makePost(u,c){const b=xr(u);return new Ri(c,b)}toString(){return".value"}},Ys="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",W=function(){let p=0;const u=[];return function(c){const b=c===p;let x;p=c;const j=new Array(8);for(x=7;x>=0;x--)j[x]=Ys.charAt(c%64),c=Math.floor(c/64);(0,q.hu)(0===c,"Cannot push at time == 0");let ie=j.join("");if(b){for(x=11;x>=0&&63===u[x];x--)u[x]=0;u[x]++}else for(x=0;x<12;x++)u[x]=Math.floor(64*Math.random());for(x=0;x<12;x++)ie+=Ys.charAt(u[x]);return(0,q.hu)(20===ie.length,"nextPushId: Length should be 20."),ie}}(),xe=function(p){if(p===""+Tn)return"-";const u=Nn(p);if(null!=u)return""+(u+1);const c=new Array(p.length);for(let ie=0;ie<c.length;ie++)c[ie]=p.charAt(ie);if(c.length<786)return c.push("-"),c.join("");let b=c.length-1;for(;b>=0&&"z"===c[b];)b--;if(-1===b)return jt;const j=Ys.charAt(Ys.indexOf(c[b])+1);return c[b]=j,c.slice(0,b+1).join("")},Je=function(p){if(p===""+an)return fn;const u=Nn(p);if(null!=u)return""+(u-1);const c=new Array(p.length);for(let b=0;b<c.length;b++)c[b]=p.charAt(b);return"-"===c[c.length-1]?1===c.length?""+Tn:(delete c[c.length-1],c.join("")):(c[c.length-1]=Ys.charAt(Ys.indexOf(c[c.length-1])-1),c.join("")+"z".repeat(786-c.length))};function Dt(p){return{type:"value",snapshotNode:p}}function xt(p,u){return{type:"child_added",snapshotNode:u,childName:p}}function sn(p,u){return{type:"child_removed",snapshotNode:u,childName:p}}function gn(p,u,c){return{type:"child_changed",snapshotNode:u,childName:p,oldSnap:c}}class di{constructor(u){this.index_=u}updateChild(u,c,b,x,j,ie){(0,q.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Ge=u.getImmediateChild(c);return Ge.getChild(x).equals(b.getChild(x))&&Ge.isEmpty()===b.isEmpty()||(null!=ie&&(b.isEmpty()?u.hasChild(c)?ie.trackChildChange(sn(c,Ge)):(0,q.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ge.isEmpty()?ie.trackChildChange(xt(c,b)):ie.trackChildChange(gn(c,b,Ge))),u.isLeafNode()&&b.isEmpty())?u:u.updateImmediateChild(c,b).withIndex(this.index_)}updateFullNode(u,c,b){return null!=b&&(u.isLeafNode()||u.forEachChild(Bi,(x,j)=>{c.hasChild(x)||b.trackChildChange(sn(x,j))}),c.isLeafNode()||c.forEachChild(Bi,(x,j)=>{if(u.hasChild(x)){const ie=u.getImmediateChild(x);ie.equals(j)||b.trackChildChange(gn(x,j,ie))}else b.trackChildChange(xt(x,j))})),c.withIndex(this.index_)}updatePriority(u,c){return u.isEmpty()?$i.EMPTY_NODE:u.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class bi{constructor(u){this.indexedFilter_=new di(u.getIndex()),this.index_=u.getIndex(),this.startPost_=bi.getStartPost_(u),this.endPost_=bi.getEndPost_(u)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){return this.index_.compare(this.getStartPost(),u)<=0&&this.index_.compare(u,this.getEndPost())<=0}updateChild(u,c,b,x,j,ie){return this.matches(new Ri(c,b))||(b=$i.EMPTY_NODE),this.indexedFilter_.updateChild(u,c,b,x,j,ie)}updateFullNode(u,c,b){c.isLeafNode()&&(c=$i.EMPTY_NODE);let x=c.withIndex(this.index_);x=x.updatePriority($i.EMPTY_NODE);const j=this;return c.forEachChild(Bi,(ie,Ge)=>{j.matches(new Ri(ie,Ge))||(x=x.updateImmediateChild(ie,$i.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,x,b)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const c=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),c)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const c=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),c)}return u.getIndex().maxPost()}}class er{constructor(u){this.rangedFilter_=new bi(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft()}updateChild(u,c,b,x,j,ie){return this.rangedFilter_.matches(new Ri(c,b))||(b=$i.EMPTY_NODE),u.getImmediateChild(c).equals(b)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,c,b,x,j,ie):this.fullLimitUpdateChild_(u,c,b,j,ie)}updateFullNode(u,c,b){let x;if(c.isLeafNode()||c.isEmpty())x=$i.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let j;x=$i.EMPTY_NODE.withIndex(this.index_),j=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let ie=0;for(;j.hasNext()&&ie<this.limit_;){const Ge=j.getNext();let dt;if(dt=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Ge)<=0:this.index_.compare(Ge,this.rangedFilter_.getEndPost())<=0,!dt)break;x=x.updateImmediateChild(Ge.name,Ge.node),ie++}}else{let j,ie,Ge,dt;if(x=c.withIndex(this.index_),x=x.updatePriority($i.EMPTY_NODE),this.reverse_){dt=x.getReverseIterator(this.index_),j=this.rangedFilter_.getEndPost(),ie=this.rangedFilter_.getStartPost();const Cn=this.index_.getCompare();Ge=(Un,yi)=>Cn(yi,Un)}else dt=x.getIterator(this.index_),j=this.rangedFilter_.getStartPost(),ie=this.rangedFilter_.getEndPost(),Ge=this.index_.getCompare();let Lt=0,bn=!1;for(;dt.hasNext();){const Cn=dt.getNext();!bn&&Ge(j,Cn)<=0&&(bn=!0),bn&&Lt<this.limit_&&Ge(Cn,ie)<=0?Lt++:x=x.updateImmediateChild(Cn.name,$i.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,x,b)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,c,b,x,j){let ie;if(this.reverse_){const Cn=this.index_.getCompare();ie=(Un,yi)=>Cn(yi,Un)}else ie=this.index_.getCompare();const Ge=u;(0,q.hu)(Ge.numChildren()===this.limit_,"");const dt=new Ri(c,b),Lt=this.reverse_?Ge.getFirstChild(this.index_):Ge.getLastChild(this.index_),bn=this.rangedFilter_.matches(dt);if(Ge.hasChild(c)){const Cn=Ge.getImmediateChild(c);let Un=x.getChildAfterChild(this.index_,Lt,this.reverse_);for(;null!=Un&&(Un.name===c||Ge.hasChild(Un.name));)Un=x.getChildAfterChild(this.index_,Un,this.reverse_);const yi=null==Un?1:ie(Un,dt);if(bn&&!b.isEmpty()&&yi>=0)return null!=j&&j.trackChildChange(gn(c,b,Cn)),Ge.updateImmediateChild(c,b);{null!=j&&j.trackChildChange(sn(c,Cn));const ys=Ge.updateImmediateChild(c,$i.EMPTY_NODE);return null!=Un&&this.rangedFilter_.matches(Un)?(null!=j&&j.trackChildChange(xt(Un.name,Un.node)),ys.updateImmediateChild(Un.name,Un.node)):ys}}return b.isEmpty()?u:bn&&ie(Lt,dt)>=0?(null!=j&&(j.trackChildChange(sn(Lt.name,Lt.node)),j.trackChildChange(xt(c,b))),Ge.updateImmediateChild(c,b).updateImmediateChild(Lt.name,$i.EMPTY_NODE)):u}}class wi{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bi}copy(){const u=new wi;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function Fr(p,u,c){const b=p.copy();return b.startSet_=!0,void 0===u&&(u=null),b.indexStartValue_=u,null!=c?(b.startNameSet_=!0,b.indexStartName_=c):(b.startNameSet_=!1,b.indexStartName_=""),b}function br(p,u,c){const b=p.copy();return b.endSet_=!0,void 0===u&&(u=null),b.indexEndValue_=u,void 0!==c?(b.endNameSet_=!0,b.indexEndName_=c):(b.endNameSet_=!1,b.indexEndName_=""),b}function co(p,u){const c=p.copy();return c.index_=u,c}function zr(p){const u={};if(p.isDefault())return u;let c;return p.index_===Bi?c="$priority":p.index_===Vo?c="$value":p.index_===Nr?c="$key":((0,q.hu)(p.index_ instanceof Gr,"Unrecognized index type!"),c=p.index_.toString()),u.orderBy=(0,q.Pz)(c),p.startSet_&&(u.startAt=(0,q.Pz)(p.indexStartValue_),p.startNameSet_&&(u.startAt+=","+(0,q.Pz)(p.indexStartName_))),p.endSet_&&(u.endAt=(0,q.Pz)(p.indexEndValue_),p.endNameSet_&&(u.endAt+=","+(0,q.Pz)(p.indexEndName_))),p.limitSet_&&(p.isViewFromLeft()?u.limitToFirst=p.limit_:u.limitToLast=p.limit_),u}function As(p){const u={};if(p.startSet_&&(u.sp=p.indexStartValue_,p.startNameSet_&&(u.sn=p.indexStartName_)),p.endSet_&&(u.ep=p.indexEndValue_,p.endNameSet_&&(u.en=p.indexEndName_)),p.limitSet_){u.l=p.limit_;let c=p.viewFrom_;""===c&&(c=p.isViewFromLeft()?"l":"r"),u.vf=c}return p.index_!==Bi&&(u.i=p.index_.toString()),u}class js extends mo{constructor(u,c,b,x){super(),this.repoInfo_=u,this.onDataUpdate_=c,this.authTokenProvider_=b,this.appCheckTokenProvider_=x,this.log_=ct("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,c){return void 0!==c?"tag$"+c:((0,q.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,c,b,x){const j=u._path.toString();this.log_("Listen called for "+j+" "+u._queryIdentifier);const ie=js.getListenId_(u,b),Ge={};this.listens_[ie]=Ge;const dt=zr(u._queryParams);this.restRequest_(j+".json",dt,(Lt,bn)=>{let Cn=bn;if(404===Lt&&(Cn=null,Lt=null),null===Lt&&this.onDataUpdate_(j,Cn,!1,b),(0,q.DV)(this.listens_,ie)===Ge){let Un;Un=Lt?401===Lt?"permission_denied":"rest_error:"+Lt:"ok",x(Un,null)}})}unlisten(u,c){const b=js.getListenId_(u,c);delete this.listens_[b]}get(u){const c=zr(u._queryParams),b=u._path.toString(),x=new q.BH;return this.restRequest_(b+".json",c,(j,ie)=>{let Ge=ie;404===j&&(Ge=null,j=null),null===j?(this.onDataUpdate_(b,Ge,!1,null),x.resolve(Ge)):x.reject(new Error(Ge))}),x.promise}refreshAuthToken(u){}restRequest_(u,c={},b){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([x,j])=>{x&&x.accessToken&&(c.auth=x.accessToken),j&&j.token&&(c.ac=j.token);const ie=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,q.xO)(c);this.log_("Sending REST request for "+ie);const Ge=new XMLHttpRequest;Ge.onreadystatechange=()=>{if(b&&4===Ge.readyState){this.log_("REST Response for "+ie+" received. status:",Ge.status,"response:",Ge.responseText);let dt=null;if(Ge.status>=200&&Ge.status<300){try{dt=(0,q.cI)(Ge.responseText)}catch(Lt){rt("Failed to parse JSON response for "+ie+": "+Ge.responseText)}b(null,dt)}else 401!==Ge.status&&404!==Ge.status&&rt("Got unsuccessful REST response for "+ie+" Status: "+Ge.status),b(Ge.status);b=null}},Ge.open("GET",ie,!0),Ge.send()})}}class Zs{constructor(){this.rootNode_=$i.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,c){this.rootNode_=this.rootNode_.updateChild(u,c)}}function Zo(){return{value:null,children:new Map}}function Ks(p,u,c){if(Vi(u))p.value=c,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(u,c);else{const b=Vn(u);p.children.has(b)||p.children.set(b,Zo()),Ks(p.children.get(b),u=Ci(u),c)}}function Xr(p,u){if(Vi(u))return p.value=null,p.children.clear(),!0;if(null!==p.value){if(p.value.isLeafNode())return!1;{const c=p.value;return p.value=null,c.forEachChild(Bi,(b,x)=>{Ks(p,new pn(b),x)}),Xr(p,u)}}if(p.children.size>0){const c=Vn(u);return u=Ci(u),p.children.has(c)&&Xr(p.children.get(c),u)&&p.children.delete(c),0===p.children.size}return!0}function bo(p,u,c){null!==p.value?c(u,p.value):function(p,u){p.children.forEach((c,b)=>{u(b,c)})}(p,(b,x)=>{bo(x,new pn(u.toString()+"/"+b),c)})}class fi{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),c=Object.assign({},u);return this.last_&&H(this.last_,(b,x)=>{c[b]=c[b]-x}),this.last_=u,c}}class Q{constructor(u,c){this.server_=c,this.statsToReport_={},this.statsListener_=new fi(u);const b=1e4+2e4*Math.random();Jn(this.reportStats_.bind(this),Math.floor(b))}reportStats_(){const u=this.statsListener_.get(),c={};let b=!1;H(u,(x,j)=>{j>0&&(0,q.r3)(this.statsToReport_,x)&&(c[x]=j,b=!0)}),b&&this.server_.reportStats(c),Jn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var J=(()=>(function(p){p[p.OVERWRITE=0]="OVERWRITE",p[p.MERGE=1]="MERGE",p[p.ACK_USER_WRITE=2]="ACK_USER_WRITE",p[p.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(J||(J={})),J))();function kt(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}class on{constructor(u,c,b){this.path=u,this.affectedTree=c,this.revert=b,this.type=J.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(Vi(this.path)){if(null!=this.affectedTree.value)return(0,q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new pn(u));return new on(Mn(),c,this.revert)}}return(0,q.hu)(Vn(this.path)===u,"operationForChild called for unrelated child."),new on(Ci(this.path),this.affectedTree,this.revert)}}class On{constructor(u,c){this.source=u,this.path=c,this.type=J.LISTEN_COMPLETE}operationForChild(u){return Vi(this.path)?new On(this.source,Mn()):new On(this.source,Ci(this.path))}}class ci{constructor(u,c,b){this.source=u,this.path=c,this.snap=b,this.type=J.OVERWRITE}operationForChild(u){return Vi(this.path)?new ci(this.source,Mn(),this.snap.getImmediateChild(u)):new ci(this.source,Ci(this.path),this.snap)}}class ti{constructor(u,c,b){this.source=u,this.path=c,this.children=b,this.type=J.MERGE}operationForChild(u){if(Vi(this.path)){const c=this.children.subtree(new pn(u));return c.isEmpty()?null:c.value?new ci(this.source,Mn(),c.value):new ti(this.source,Mn(),c)}return(0,q.hu)(Vn(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new ti(this.source,Ci(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Di{constructor(u,c,b){this.node_=u,this.fullyInitialized_=c,this.filtered_=b}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(Vi(u))return this.isFullyInitialized()&&!this.filtered_;const c=Vn(u);return this.isCompleteForChild(c)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class or{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function zi(p,u,c,b,x,j){const ie=b.filter(Ge=>Ge.type===c);ie.sort((Ge,dt)=>function(p,u,c){if(null==u.childName||null==c.childName)throw(0,q.g5)("Should only compare child_ events.");const b=new Ri(u.childName,u.snapshotNode),x=new Ri(c.childName,c.snapshotNode);return p.index_.compare(b,x)}(p,Ge,dt)),ie.forEach(Ge=>{const dt=function(p,u,c){return"value"===u.type||"child_removed"===u.type||(u.prevName=c.getPredecessorChildName(u.childName,u.snapshotNode,p.index_)),u}(p,Ge,j);x.forEach(Lt=>{Lt.respondsTo(Ge.type)&&u.push(Lt.createEvent(dt,p.query_))})})}function xs(p,u){return{eventCache:p,serverCache:u}}function ms(p,u,c,b){return xs(new Di(u,c,b),p.serverCache)}function Ts(p,u,c,b){return xs(p.eventCache,new Di(u,c,b))}function no(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function gs(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}let Is;class Rr{constructor(u,c=(()=>(Is||(Is=new k(Ln)),Is))()){this.value=u,this.children=c}static fromObject(u){let c=new Rr(null);return H(u,(b,x)=>{c=c.set(new pn(b),x)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,c){if(null!=this.value&&c(this.value))return{path:Mn(),value:this.value};if(Vi(u))return null;{const b=Vn(u),x=this.children.get(b);if(null!==x){const j=x.findRootMostMatchingPathAndValue(Ci(u),c);return null!=j?{path:ir(new pn(b),j.path),value:j.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(Vi(u))return this;{const c=Vn(u),b=this.children.get(c);return null!==b?b.subtree(Ci(u)):new Rr(null)}}set(u,c){if(Vi(u))return new Rr(c,this.children);{const b=Vn(u),j=(this.children.get(b)||new Rr(null)).set(Ci(u),c),ie=this.children.insert(b,j);return new Rr(this.value,ie)}}remove(u){if(Vi(u))return this.children.isEmpty()?new Rr(null):new Rr(null,this.children);{const c=Vn(u),b=this.children.get(c);if(b){const x=b.remove(Ci(u));let j;return j=x.isEmpty()?this.children.remove(c):this.children.insert(c,x),null===this.value&&j.isEmpty()?new Rr(null):new Rr(this.value,j)}return this}}get(u){if(Vi(u))return this.value;{const c=Vn(u),b=this.children.get(c);return b?b.get(Ci(u)):null}}setTree(u,c){if(Vi(u))return c;{const b=Vn(u),j=(this.children.get(b)||new Rr(null)).setTree(Ci(u),c);let ie;return ie=j.isEmpty()?this.children.remove(b):this.children.insert(b,j),new Rr(this.value,ie)}}fold(u){return this.fold_(Mn(),u)}fold_(u,c){const b={};return this.children.inorderTraversal((x,j)=>{b[x]=j.fold_(ir(u,x),c)}),c(u,this.value,b)}findOnPath(u,c){return this.findOnPath_(u,Mn(),c)}findOnPath_(u,c,b){const x=!!this.value&&b(c,this.value);if(x)return x;if(Vi(u))return null;{const j=Vn(u),ie=this.children.get(j);return ie?ie.findOnPath_(Ci(u),ir(c,j),b):null}}foreachOnPath(u,c){return this.foreachOnPath_(u,Mn(),c)}foreachOnPath_(u,c,b){if(Vi(u))return this;{this.value&&b(c,this.value);const x=Vn(u),j=this.children.get(x);return j?j.foreachOnPath_(Ci(u),ir(c,x),b):new Rr(null)}}foreach(u){this.foreach_(Mn(),u)}foreach_(u,c){this.children.inorderTraversal((b,x)=>{x.foreach_(ir(u,b),c)}),this.value&&c(u,this.value)}foreachChild(u){this.children.inorderTraversal((c,b)=>{b.value&&u(c,b.value)})}}class uo{constructor(u){this.writeTree_=u}static empty(){return new uo(new Rr(null))}}function io(p,u,c){if(Vi(u))return new uo(new Rr(c));{const b=p.writeTree_.findRootMostValueAndPath(u);if(null!=b){const x=b.path;let j=b.value;const ie=Ur(x,u);return j=j.updateChild(ie,c),new uo(p.writeTree_.set(x,j))}{const x=new Rr(c),j=p.writeTree_.setTree(u,x);return new uo(j)}}}function Ha(p,u,c){let b=p;return H(c,(x,j)=>{b=io(b,ir(u,x),j)}),b}function bs(p,u){if(Vi(u))return uo.empty();{const c=p.writeTree_.setTree(u,new Rr(null));return new uo(c)}}function ea(p,u){return null!=Gs(p,u)}function Gs(p,u){const c=p.writeTree_.findRootMostValueAndPath(u);return null!=c?p.writeTree_.get(c.path).getChild(Ur(c.path,u)):null}function Sa(p){const u=[],c=p.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Bi,(b,x)=>{u.push(new Ri(b,x))}):p.writeTree_.children.inorderTraversal((b,x)=>{null!=x.value&&u.push(new Ri(b,x.value))}),u}function z(p,u){if(Vi(u))return p;{const c=Gs(p,u);return new uo(null!=c?new Rr(c):p.writeTree_.subtree(u))}}function P(p){return p.writeTree_.isEmpty()}function O(p,u){return X(Mn(),p.writeTree_,u)}function X(p,u,c){if(null!=u.value)return c.updateChild(p,u.value);{let b=null;return u.children.inorderTraversal((x,j)=>{".priority"===x?((0,q.hu)(null!==j.value,"Priority writes must always be leaf nodes"),b=j.value):c=X(ir(p,x),j,c)}),!c.getChild(p).isEmpty()&&null!==b&&(c=c.updateChild(ir(p,".priority"),b)),c}}function _e(p,u){return ls(u,p)}function Yt(p,u){if(p.snap)return Pr(p.path,u);for(const c in p.children)if(p.children.hasOwnProperty(c)&&Pr(ir(p.path,c),u))return!0;return!1}function mi(p){return p.visible}function qr(p,u,c){let b=uo.empty();for(let x=0;x<p.length;++x){const j=p[x];if(u(j)){const ie=j.path;let Ge;if(j.snap)Pr(c,ie)?(Ge=Ur(c,ie),b=io(b,Ge,j.snap)):Pr(ie,c)&&(Ge=Ur(ie,c),b=io(b,Mn(),j.snap.getChild(Ge)));else{if(!j.children)throw(0,q.g5)("WriteRecord should have .snap or .children");if(Pr(c,ie))Ge=Ur(c,ie),b=Ha(b,Ge,j.children);else if(Pr(ie,c))if(Ge=Ur(ie,c),Vi(Ge))b=Ha(b,Mn(),j.children);else{const dt=(0,q.DV)(j.children,Vn(Ge));if(dt){const Lt=dt.getChild(Ci(Ge));b=io(b,Mn(),Lt)}}}}}return b}function fr(p,u,c,b,x){if(b||x){const j=z(p.visibleWrites,u);return!x&&P(j)?c:x||null!=c||ea(j,Mn())?O(qr(p.allWrites,function(Lt){return(Lt.visible||x)&&(!b||!~b.indexOf(Lt.writeId))&&(Pr(Lt.path,u)||Pr(u,Lt.path))},u),c||$i.EMPTY_NODE):null}{const j=Gs(p.visibleWrites,u);if(null!=j)return j;{const ie=z(p.visibleWrites,u);return P(ie)?c:null!=c||ea(ie,Mn())?O(ie,c||$i.EMPTY_NODE):null}}}function tl(p,u,c,b){return fr(p.writeTree,p.treePath,u,c,b)}function gr(p,u){return function(p,u,c){let b=$i.EMPTY_NODE;const x=Gs(p.visibleWrites,u);if(x)return x.isLeafNode()||x.forEachChild(Bi,(j,ie)=>{b=b.updateImmediateChild(j,ie)}),b;if(c){const j=z(p.visibleWrites,u);return c.forEachChild(Bi,(ie,Ge)=>{const dt=O(z(j,new pn(ie)),Ge);b=b.updateImmediateChild(ie,dt)}),Sa(j).forEach(ie=>{b=b.updateImmediateChild(ie.name,ie.node)}),b}return Sa(z(p.visibleWrites,u)).forEach(ie=>{b=b.updateImmediateChild(ie.name,ie.node)}),b}(p.writeTree,p.treePath,u)}function Xc(p,u,c,b){return function(p,u,c,b,x){(0,q.hu)(b||x,"Either existingEventSnap or existingServerSnap must exist");const j=ir(u,c);if(ea(p.visibleWrites,j))return null;{const ie=z(p.visibleWrites,j);return P(ie)?x.getChild(c):O(ie,x.getChild(c))}}(p.writeTree,p.treePath,u,c,b)}function ya(p,u){return function(p,u){return Gs(p.visibleWrites,u)}(p.writeTree,ir(p.treePath,u))}function Ao(p,u,c){return function(p,u,c,b){const x=ir(u,c),j=Gs(p.visibleWrites,x);return null!=j?j:b.isCompleteForChild(c)?O(z(p.visibleWrites,x),b.getNode().getImmediateChild(c)):null}(p.writeTree,p.treePath,u,c)}function nl(p,u){return ls(ir(p.treePath,u),p.writeTree)}function ls(p,u){return{treePath:p,writeTree:u}}class Fi{constructor(){this.changeMap=new Map}trackChildChange(u){const c=u.type,b=u.childName;(0,q.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,q.hu)(".priority"!==b,"Only non-priority child changes can be tracked.");const x=this.changeMap.get(b);if(x){const j=x.type;if("child_added"===c&&"child_removed"===j)this.changeMap.set(b,gn(b,u.snapshotNode,x.snapshotNode));else if("child_removed"===c&&"child_added"===j)this.changeMap.delete(b);else if("child_removed"===c&&"child_changed"===j)this.changeMap.set(b,sn(b,x.oldSnap));else if("child_changed"===c&&"child_added"===j)this.changeMap.set(b,xt(b,u.snapshotNode));else{if("child_changed"!==c||"child_changed"!==j)throw(0,q.g5)("Illegal combination of changes: "+u+" occurred after "+x);this.changeMap.set(b,gn(b,u.snapshotNode,x.oldSnap))}}else this.changeMap.set(b,u)}getChanges(){return Array.from(this.changeMap.values())}}const xo=new class{getCompleteChild(u){return null}getChildAfterChild(u,c,b){return null}};class Ol{constructor(u,c,b=null){this.writes_=u,this.viewCache_=c,this.optCompleteServerCache_=b}getCompleteChild(u){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(u))return c.getNode().getImmediateChild(u);{const b=null!=this.optCompleteServerCache_?new Di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ao(this.writes_,u,b)}}getChildAfterChild(u,c,b){const x=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gs(this.viewCache_),j=function(p,u,c,b,x,j){return function(p,u,c,b,x,j,ie){let Ge;const dt=z(p.visibleWrites,u),Lt=Gs(dt,Mn());if(null!=Lt)Ge=Lt;else{if(null==c)return[];Ge=O(dt,c)}if(Ge=Ge.withIndex(ie),Ge.isEmpty()||Ge.isLeafNode())return[];{const bn=[],Cn=ie.getCompare(),Un=j?Ge.getReverseIteratorFrom(b,ie):Ge.getIteratorFrom(b,ie);let yi=Un.getNext();for(;yi&&bn.length<x;)0!==Cn(yi,b)&&bn.push(yi),yi=Un.getNext();return bn}}(p.writeTree,p.treePath,u,c,b,x,j)}(this.writes_,x,c,1,b,u);return 0===j.length?null:j[0]}}function cs(p,u,c,b,x,j){const ie=u.eventCache;if(null!=ya(b,c))return u;{let Ge,dt;if(Vi(c))if((0,q.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Lt=gs(u),Cn=gr(b,Lt instanceof $i?Lt:$i.EMPTY_NODE);Ge=p.filter.updateFullNode(u.eventCache.getNode(),Cn,j)}else{const Lt=tl(b,gs(u));Ge=p.filter.updateFullNode(u.eventCache.getNode(),Lt,j)}else{const Lt=Vn(c);if(".priority"===Lt){(0,q.hu)(1===ki(c),"Can't have a priority with additional path components");const bn=ie.getNode();dt=u.serverCache.getNode();const Cn=Xc(b,c,bn,dt);Ge=null!=Cn?p.filter.updatePriority(bn,Cn):ie.getNode()}else{const bn=Ci(c);let Cn;if(ie.isCompleteForChild(Lt)){dt=u.serverCache.getNode();const Un=Xc(b,c,ie.getNode(),dt);Cn=null!=Un?ie.getNode().getImmediateChild(Lt).updateChild(bn,Un):ie.getNode().getImmediateChild(Lt)}else Cn=Ao(b,Lt,u.serverCache);Ge=null!=Cn?p.filter.updateChild(ie.getNode(),Lt,Cn,bn,x,j):ie.getNode()}}return ms(u,Ge,ie.isFullyInitialized()||Vi(c),p.filter.filtersNodes())}}function vl(p,u,c,b,x,j,ie,Ge){const dt=u.serverCache;let Lt;const bn=ie?p.filter:p.filter.getIndexedFilter();if(Vi(c))Lt=bn.updateFullNode(dt.getNode(),b,null);else if(bn.filtersNodes()&&!dt.isFiltered()){const yi=dt.getNode().updateChild(c,b);Lt=bn.updateFullNode(dt.getNode(),yi,null)}else{const yi=Vn(c);if(!dt.isCompleteForPath(c)&&ki(c)>1)return u;const ji=Ci(c),sa=dt.getNode().getImmediateChild(yi).updateChild(ji,b);Lt=".priority"===yi?bn.updatePriority(dt.getNode(),sa):bn.updateChild(dt.getNode(),yi,sa,ji,xo,null)}const Cn=Ts(u,Lt,dt.isFullyInitialized()||Vi(c),bn.filtersNodes());return cs(p,Cn,c,x,new Ol(x,Cn,j),Ge)}function zs(p,u,c,b,x,j,ie){const Ge=u.eventCache;let dt,Lt;const bn=new Ol(x,u,j);if(Vi(c))Lt=p.filter.updateFullNode(u.eventCache.getNode(),b,ie),dt=ms(u,Lt,!0,p.filter.filtersNodes());else{const Cn=Vn(c);if(".priority"===Cn)Lt=p.filter.updatePriority(u.eventCache.getNode(),b),dt=ms(u,Lt,Ge.isFullyInitialized(),Ge.isFiltered());else{const Un=Ci(c),yi=Ge.getNode().getImmediateChild(Cn);let ji;if(Vi(Un))ji=b;else{const ys=bn.getCompleteChild(Cn);ji=null!=ys?".priority"===Ei(Un)&&ys.getChild(Fs(Un)).isEmpty()?ys:ys.updateChild(Un,b):$i.EMPTY_NODE}dt=yi.equals(ji)?u:ms(u,p.filter.updateChild(Ge.getNode(),Cn,ji,Un,bn,ie),Ge.isFullyInitialized(),p.filter.filtersNodes())}}return dt}function eu(p,u){return p.eventCache.isCompleteForChild(u)}function Qs(p,u,c){return c.foreach((b,x)=>{u=u.updateChild(b,x)}),u}function rl(p,u,c,b,x,j,ie,Ge){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Lt,dt=u;Lt=Vi(c)?b:new Rr(null).setTree(c,b);const bn=u.serverCache.getNode();return Lt.children.inorderTraversal((Cn,Un)=>{if(bn.hasChild(Cn)){const ji=Qs(0,u.serverCache.getNode().getImmediateChild(Cn),Un);dt=vl(p,dt,new pn(Cn),ji,x,j,ie,Ge)}}),Lt.children.inorderTraversal((Cn,Un)=>{const yi=!u.serverCache.isCompleteForChild(Cn)&&void 0===Un.value;if(!bn.hasChild(Cn)&&!yi){const ys=Qs(0,u.serverCache.getNode().getImmediateChild(Cn),Un);dt=vl(p,dt,new pn(Cn),ys,x,j,ie,Ge)}}),dt}class Fu{constructor(u,c){this.query_=u,this.eventRegistrations_=[];const b=this.query_._queryParams,x=new di(b.getIndex()),j=function(p){return p.loadsAllData()?new di(p.getIndex()):p.hasLimit()?new er(p):new bi(p)}(b);this.processor_=function(p){return{filter:p}}(j);const ie=c.serverCache,Ge=c.eventCache,dt=x.updateFullNode($i.EMPTY_NODE,ie.getNode(),null),Lt=j.updateFullNode($i.EMPTY_NODE,Ge.getNode(),null),bn=new Di(dt,ie.isFullyInitialized(),x.filtersNodes()),Cn=new Di(Lt,Ge.isFullyInitialized(),j.filtersNodes());this.viewCache_=xs(Cn,bn),this.eventGenerator_=new or(this.query_)}get query(){return this.query_}}function Nl(p,u){const c=gs(p.viewCache_);return c&&(p.query._queryParams.loadsAllData()||!Vi(u)&&!c.getImmediateChild(Vn(u)).isEmpty())?c.getChild(u):null}function Rs(p){return 0===p.eventRegistrations_.length}function qo(p,u,c){const b=[];if(c){(0,q.hu)(null==u,"A cancel should cancel all event registrations.");const x=p.query._path;p.eventRegistrations_.forEach(j=>{const ie=j.createCancelEvent(c,x);ie&&b.push(ie)})}if(u){let x=[];for(let j=0;j<p.eventRegistrations_.length;++j){const ie=p.eventRegistrations_[j];if(ie.matches(u)){if(u.hasAnyCallback()){x=x.concat(p.eventRegistrations_.slice(j+1));break}}else x.push(ie)}p.eventRegistrations_=x}else p.eventRegistrations_=[];return b}function tu(p,u,c,b){u.type===J.MERGE&&null!==u.source.queryId&&((0,q.hu)(gs(p.viewCache_),"We should always have a full cache before handling merges"),(0,q.hu)(no(p.viewCache_),"Missing event cache, even though we have a server cache"));const x=p.viewCache_,j=function(p,u,c,b,x){const j=new Fi;let ie,Ge;if(c.type===J.OVERWRITE){const Lt=c;Lt.source.fromUser?ie=zs(p,u,Lt.path,Lt.snap,b,x,j):((0,q.hu)(Lt.source.fromServer,"Unknown source."),Ge=Lt.source.tagged||u.serverCache.isFiltered()&&!Vi(Lt.path),ie=vl(p,u,Lt.path,Lt.snap,b,x,Ge,j))}else if(c.type===J.MERGE){const Lt=c;Lt.source.fromUser?ie=function(p,u,c,b,x,j,ie){let Ge=u;return b.foreach((dt,Lt)=>{const bn=ir(c,dt);eu(u,Vn(bn))&&(Ge=zs(p,Ge,bn,Lt,x,j,ie))}),b.foreach((dt,Lt)=>{const bn=ir(c,dt);eu(u,Vn(bn))||(Ge=zs(p,Ge,bn,Lt,x,j,ie))}),Ge}(p,u,Lt.path,Lt.children,b,x,j):((0,q.hu)(Lt.source.fromServer,"Unknown source."),Ge=Lt.source.tagged||u.serverCache.isFiltered(),ie=rl(p,u,Lt.path,Lt.children,b,x,Ge,j))}else if(c.type===J.ACK_USER_WRITE){const Lt=c;ie=Lt.revert?function(p,u,c,b,x,j){let ie;if(null!=ya(b,c))return u;{const Ge=new Ol(b,u,x),dt=u.eventCache.getNode();let Lt;if(Vi(c)||".priority"===Vn(c)){let bn;if(u.serverCache.isFullyInitialized())bn=tl(b,gs(u));else{const Cn=u.serverCache.getNode();(0,q.hu)(Cn instanceof $i,"serverChildren would be complete if leaf node"),bn=gr(b,Cn)}bn=bn,Lt=p.filter.updateFullNode(dt,bn,j)}else{const bn=Vn(c);let Cn=Ao(b,bn,u.serverCache);null==Cn&&u.serverCache.isCompleteForChild(bn)&&(Cn=dt.getImmediateChild(bn)),Lt=null!=Cn?p.filter.updateChild(dt,bn,Cn,Ci(c),Ge,j):u.eventCache.getNode().hasChild(bn)?p.filter.updateChild(dt,bn,$i.EMPTY_NODE,Ci(c),Ge,j):dt,Lt.isEmpty()&&u.serverCache.isFullyInitialized()&&(ie=tl(b,gs(u)),ie.isLeafNode()&&(Lt=p.filter.updateFullNode(Lt,ie,j)))}return ie=u.serverCache.isFullyInitialized()||null!=ya(b,Mn()),ms(u,Lt,ie,p.filter.filtersNodes())}}(p,u,Lt.path,b,x,j):function(p,u,c,b,x,j,ie){if(null!=ya(x,c))return u;const Ge=u.serverCache.isFiltered(),dt=u.serverCache;if(null!=b.value){if(Vi(c)&&dt.isFullyInitialized()||dt.isCompleteForPath(c))return vl(p,u,c,dt.getNode().getChild(c),x,j,Ge,ie);if(Vi(c)){let Lt=new Rr(null);return dt.getNode().forEachChild(Nr,(bn,Cn)=>{Lt=Lt.set(new pn(bn),Cn)}),rl(p,u,c,Lt,x,j,Ge,ie)}return u}{let Lt=new Rr(null);return b.foreach((bn,Cn)=>{const Un=ir(c,bn);dt.isCompleteForPath(Un)&&(Lt=Lt.set(bn,dt.getNode().getChild(Un)))}),rl(p,u,c,Lt,x,j,Ge,ie)}}(p,u,Lt.path,Lt.affectedTree,b,x,j)}else{if(c.type!==J.LISTEN_COMPLETE)throw(0,q.g5)("Unknown operation type: "+c.type);ie=function(p,u,c,b,x){const j=u.serverCache;return cs(p,Ts(u,j.getNode(),j.isFullyInitialized()||Vi(c),j.isFiltered()),c,b,xo,x)}(p,u,c.path,b,j)}const dt=j.getChanges();return function(p,u,c){const b=u.eventCache;if(b.isFullyInitialized()){const x=b.getNode().isLeafNode()||b.getNode().isEmpty(),j=no(p);(c.length>0||!p.eventCache.isFullyInitialized()||x&&!b.getNode().equals(j)||!b.getNode().getPriority().equals(j.getPriority()))&&c.push(Dt(no(u)))}}(u,ie,dt),{viewCache:ie,changes:dt}}(p.processor_,x,u,c,b);return function(p,u){(0,q.hu)(u.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,q.hu)(u.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,j.viewCache),(0,q.hu)(j.viewCache.serverCache.isFullyInitialized()||!x.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=j.viewCache,ro(p,j.changes,j.viewCache.eventCache.getNode(),null)}function ro(p,u,c,b){return function(p,u,c,b){const x=[],j=[];return u.forEach(ie=>{"child_changed"===ie.type&&p.index_.indexedValueChanged(ie.oldSnap,ie.snapshotNode)&&j.push(function(p,u){return{type:"child_moved",snapshotNode:u,childName:p}}(ie.childName,ie.snapshotNode))}),zi(p,x,"child_removed",u,b,c),zi(p,x,"child_added",u,b,c),zi(p,x,"child_moved",j,b,c),zi(p,x,"child_changed",u,b,c),zi(p,x,"value",u,b,c),x}(p.eventGenerator_,u,c,b?[b]:p.eventRegistrations_)}let Ro,Y;class la{constructor(){this.views=new Map}}function za(p,u,c,b){const x=u.source.queryId;if(null!==x){const j=p.views.get(x);return(0,q.hu)(null!=j,"SyncTree gave us an op for an invalid query."),tu(j,u,c,b)}{let j=[];for(const ie of p.views.values())j=j.concat(tu(ie,u,c,b));return j}}function Aa(p,u,c,b,x){const ie=p.views.get(u._queryIdentifier);if(!ie){let Ge=tl(c,x?b:null),dt=!1;Ge?dt=!0:b instanceof $i?(Ge=gr(c,b),dt=!1):(Ge=$i.EMPTY_NODE,dt=!1);const Lt=xs(new Di(Ge,dt,!1),new Di(b,x,!1));return new Fu(u,Lt)}return ie}function Cc(p){const u=[];for(const c of p.views.values())c.query._queryParams.loadsAllData()||u.push(c);return u}function Js(p,u){let c=null;for(const b of p.views.values())c=c||Nl(b,u);return c}function $a(p,u){return u._queryParams.loadsAllData()?Fl(p):p.views.get(u._queryIdentifier)}function xa(p,u){return null!=$a(p,u)}function bl(p){return null!=Fl(p)}function Fl(p){for(const u of p.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let At=1;class Jt{constructor(u){this.listenProvider_=u,this.syncPointTree_=new Rr(null),this.pendingWriteTree_={visibleWrites:uo.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yn(p,u,c,b,x){return function(p,u,c,b,x){(0,q.hu)(b>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===x&&(x=!0),p.allWrites.push({path:u,snap:c,writeId:b,visible:x}),x&&(p.visibleWrites=io(p.visibleWrites,u,c)),p.lastWriteId=b}(p.pendingWriteTree_,u,c,b,x),x?Eo(p,new ci({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,c)):[]}function ai(p,u,c=!1){const b=function(p,u){for(let c=0;c<p.allWrites.length;c++){const b=p.allWrites[c];if(b.writeId===u)return b}return null}(p.pendingWriteTree_,u);if(function(p,u){const c=p.allWrites.findIndex(Ge=>Ge.writeId===u);(0,q.hu)(c>=0,"removeWrite called with nonexistent writeId.");const b=p.allWrites[c];p.allWrites.splice(c,1);let x=b.visible,j=!1,ie=p.allWrites.length-1;for(;x&&ie>=0;){const Ge=p.allWrites[ie];Ge.visible&&(ie>=c&&Yt(Ge,b.path)?x=!1:Pr(b.path,Ge.path)&&(j=!0)),ie--}return!!x&&(j?(function(p){p.visibleWrites=qr(p.allWrites,mi,Mn()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(b.snap?p.visibleWrites=bs(p.visibleWrites,b.path):H(b.children,dt=>{p.visibleWrites=bs(p.visibleWrites,ir(b.path,dt))}),!0))}(p.pendingWriteTree_,u)){let j=new Rr(null);return null!=b.snap?j=j.set(Mn(),!0):H(b.children,ie=>{j=j.set(new pn(ie),!0)}),Eo(p,new on(b.path,j,c))}return[]}function Ni(p,u,c){return Eo(p,new ci({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,c))}function ks(p,u,c,b){const x=u._path,j=p.syncPointTree_.get(x);let ie=[];if(j&&("default"===u._queryIdentifier||xa(j,u))){const Ge=function(p,u,c,b){const x=u._queryIdentifier,j=[];let ie=[];const Ge=bl(p);if("default"===x)for(const[dt,Lt]of p.views.entries())ie=ie.concat(qo(Lt,c,b)),Rs(Lt)&&(p.views.delete(dt),Lt.query._queryParams.loadsAllData()||j.push(Lt.query));else{const dt=p.views.get(x);dt&&(ie=ie.concat(qo(dt,c,b)),Rs(dt)&&(p.views.delete(x),dt.query._queryParams.loadsAllData()||j.push(dt.query)))}return Ge&&!bl(p)&&j.push(new((0,q.hu)(Ro,"Reference.ts has not been loaded"),Ro)(u._repo,u._path)),{removed:j,events:ie}}(j,u,c,b);(function(p){return 0===p.views.size})(j)&&(p.syncPointTree_=p.syncPointTree_.remove(x));const dt=Ge.removed;ie=Ge.events;const Lt=-1!==dt.findIndex(Cn=>Cn._queryParams.loadsAllData()),bn=p.syncPointTree_.findOnPath(x,(Cn,Un)=>bl(Un));if(Lt&&!bn){const Cn=p.syncPointTree_.subtree(x);if(!Cn.isEmpty()){const Un=function(p){return p.fold((u,c,b)=>{if(c&&bl(c))return[Fl(c)];{let x=[];return c&&(x=Cc(c)),H(b,(j,ie)=>{x=x.concat(ie)}),x}})}(Cn);for(let yi=0;yi<Un.length;++yi){const ji=Un[yi],ys=ji.query,sa=so(p,ji);p.listenProvider_.startListening(Cl(ys),va(p,ys),sa.hashFn,sa.onComplete)}}}if(!bn&&dt.length>0&&!b)if(Lt){const Cn=null;p.listenProvider_.stopListening(Cl(u),Cn)}else dt.forEach(Cn=>{const Un=p.queryToTagMap.get(Ec(Cn));p.listenProvider_.stopListening(Cl(Cn),Un)});!function(p,u){for(let c=0;c<u.length;++c){const b=u[c];if(!b._queryParams.loadsAllData()){const x=Ec(b),j=p.queryToTagMap.get(x);p.queryToTagMap.delete(x),p.tagToQueryMap.delete(j)}}}(p,dt)}return ie}function Ra(p,u,c){const b=u._path;let x=null,j=!1;p.syncPointTree_.foreachOnPath(b,(Cn,Un)=>{const yi=Ur(Cn,b);x=x||Js(Un,yi),j=j||bl(Un)});let Ge,ie=p.syncPointTree_.get(b);ie?(j=j||bl(ie),x=x||Js(ie,Mn())):(ie=new la,p.syncPointTree_=p.syncPointTree_.set(b,ie)),null!=x?Ge=!0:(Ge=!1,x=$i.EMPTY_NODE,p.syncPointTree_.subtree(b).foreachChild((Un,yi)=>{const ji=Js(yi,Mn());ji&&(x=x.updateImmediateChild(Un,ji))}));const dt=xa(ie,u);if(!dt&&!u._queryParams.loadsAllData()){const Cn=Ec(u);(0,q.hu)(!p.queryToTagMap.has(Cn),"View does not exist, but we have a tag");const Un=At++;p.queryToTagMap.set(Cn,Un),p.tagToQueryMap.set(Un,Cn)}let bn=function(p,u,c,b,x,j){const ie=Aa(p,u,b,x,j);return p.views.has(u._queryIdentifier)||p.views.set(u._queryIdentifier,ie),function(p,u){p.eventRegistrations_.push(u)}(ie,c),function(p,u){const c=p.viewCache_.eventCache,b=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Bi,(j,ie)=>{b.push(xt(j,ie))}),c.isFullyInitialized()&&b.push(Dt(c.getNode())),ro(p,b,c.getNode(),u)}(ie,c)}(ie,u,c,_e(p.pendingWriteTree_,b),x,Ge);if(!dt&&!j){const Cn=$a(ie,u);bn=bn.concat(function(p,u,c){const b=u._path,x=va(p,u),j=so(p,c),ie=p.listenProvider_.startListening(Cl(u),x,j.hashFn,j.onComplete),Ge=p.syncPointTree_.subtree(b);if(x)(0,q.hu)(!bl(Ge.value),"If we're adding a query, it shouldn't be shadowed");else{const dt=Ge.fold((Lt,bn,Cn)=>{if(!Vi(Lt)&&bn&&bl(bn))return[Fl(bn).query];{let Un=[];return bn&&(Un=Un.concat(Cc(bn).map(yi=>yi.query))),H(Cn,(yi,ji)=>{Un=Un.concat(ji)}),Un}});for(let Lt=0;Lt<dt.length;++Lt){const bn=dt[Lt];p.listenProvider_.stopListening(Cl(bn),va(p,bn))}}return ie}(p,u,Cn))}return bn}function $s(p,u,c){const x=p.pendingWriteTree_,j=p.syncPointTree_.findOnPath(u,(ie,Ge)=>{const Lt=Js(Ge,Ur(ie,u));if(Lt)return Lt});return fr(x,u,j,c,!0)}function Eo(p,u){return na(u,p.syncPointTree_,null,_e(p.pendingWriteTree_,Mn()))}function na(p,u,c,b){if(Vi(p.path))return Lu(p,u,c,b);{const x=u.get(Mn());null==c&&null!=x&&(c=Js(x,Mn()));let j=[];const ie=Vn(p.path),Ge=p.operationForChild(ie),dt=u.children.get(ie);if(dt&&Ge){const Lt=c?c.getImmediateChild(ie):null,bn=nl(b,ie);j=j.concat(na(Ge,dt,Lt,bn))}return x&&(j=j.concat(za(x,p,b,c))),j}}function Lu(p,u,c,b){const x=u.get(Mn());null==c&&null!=x&&(c=Js(x,Mn()));let j=[];return u.children.inorderTraversal((ie,Ge)=>{const dt=c?c.getImmediateChild(ie):null,Lt=nl(b,ie),bn=p.operationForChild(ie);bn&&(j=j.concat(Lu(bn,Ge,dt,Lt)))}),x&&(j=j.concat(za(x,p,b,c))),j}function so(p,u){const c=u.query,b=va(p,c);return{hashFn:()=>(function(p){return p.viewCache_.serverCache.getNode()}(u)||$i.EMPTY_NODE).hash(),onComplete:x=>{if("ok"===x)return b?function(p,u,c){const b=ba(p,c);if(b){const x=ca(b),j=x.path,ie=x.queryId,Ge=Ur(j,u);return wc(p,j,new On(kt(ie),Ge))}return[]}(p,c._path,b):function(p,u){return Eo(p,new On({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(p,c._path);{const j=function(p,u){let c="Unknown Error";"too_big"===p?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===p?c="Client doesn't have permission to access the desired data.":"unavailable"===p&&(c="The service is unavailable");const b=new Error(p+" at "+u._path.toString()+": "+c);return b.code=p.toUpperCase(),b}(x,c);return ks(p,c,null,j)}}}}function va(p,u){const c=Ec(u);return p.queryToTagMap.get(c)}function Ec(p){return p._path.toString()+"$"+p._queryIdentifier}function ba(p,u){return p.tagToQueryMap.get(u)}function ca(p){const u=p.indexOf("$");return(0,q.hu)(-1!==u&&u<p.length-1,"Bad queryKey."),{queryId:p.substr(u+1),path:new pn(p.substr(0,u))}}function wc(p,u,c){const b=p.syncPointTree_.get(u);return(0,q.hu)(b,"Missing sync point for query tag that we're tracking"),za(b,c,_e(p.pendingWriteTree_,u),null)}function Cl(p){return p._queryParams.loadsAllData()&&!p._queryParams.isDefault()?new((0,q.hu)(Y,"Reference.ts has not been loaded"),Y)(p._repo,p._path):p}class Vl{constructor(u){this.node_=u}getImmediateChild(u){const c=this.node_.getImmediateChild(u);return new Vl(c)}node(){return this.node_}}class ka{constructor(u,c){this.syncTree_=u,this.path_=c}getImmediateChild(u){const c=ir(this.path_,u);return new ka(this.syncTree_,c)}node(){return $s(this.syncTree_,this.path_)}}const _d=function(p,u,c){return p&&"object"==typeof p?((0,q.hu)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?yd(p[".sv"],u,c):"object"==typeof p[".sv"]?Dc(p[".sv"],u):void(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},yd=function(p,u,c){switch(p){case"timestamp":return c.timestamp;default:(0,q.hu)(!1,"Unexpected server value: "+p)}},Dc=function(p,u,c){p.hasOwnProperty("increment")||(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));const b=p.increment;"number"!=typeof b&&(0,q.hu)(!1,"Unexpected increment value: "+b);const x=u.node();if((0,q.hu)(null!=x,"Expected ChildrenNode.EMPTY_NODE for nulls"),!x.isLeafNode())return b;const ie=x.getValue();return"number"!=typeof ie?b:ie+b},ol=function(p,u,c,b){return nu(u,new ka(c,p),b)},Bl=function(p,u,c){return nu(p,new Vl(u),c)};function nu(p,u,c){const b=p.getPriority().val(),x=_d(b,u.getImmediateChild(".priority"),c);let j;if(p.isLeafNode()){const ie=p,Ge=_d(ie.getValue(),u,c);return Ge!==ie.getValue()||x!==ie.getPriority().val()?new fe(Ge,xr(x)):p}{const ie=p;return j=ie,x!==ie.getPriority().val()&&(j=j.updatePriority(new fe(x))),ie.forEachChild(Bi,(Ge,dt)=>{const Lt=nu(dt,u.getImmediateChild(Ge),c);Lt!==dt&&(j=j.updateImmediateChild(Ge,Lt))}),j}}class wl{constructor(u="",c=null,b={children:{},childCount:0}){this.name=u,this.parent=c,this.node=b}}function Dl(p,u){let c=u instanceof pn?u:new pn(u),b=p,x=Vn(c);for(;null!==x;){const j=(0,q.DV)(b.node.children,x)||{children:{},childCount:0};b=new wl(x,b,j),c=Ci(c),x=Vn(c)}return b}function $o(p){return p.node.value}function vd(p,u){p.node.value=u,Uo(p)}function al(p){return p.node.childCount>0}function nc(p,u){H(p.node.children,(c,b)=>{u(new wl(c,p,b))})}function iu(p,u,c,b){c&&!b&&u(p),nc(p,x=>{iu(x,u,!0,b)}),c&&b&&u(p)}function ll(p){return new pn(null===p.parent?p.name:ll(p.parent)+"/"+p.name)}function Uo(p){null!==p.parent&&function(p,u,c){const b=function(p){return void 0===$o(p)&&!al(p)}(c),x=(0,q.r3)(p.node.children,u);b&&x?(delete p.node.children[u],p.node.childCount--,Uo(p)):!b&&!x&&(p.node.children[u]=c.node,p.node.childCount++,Uo(p))}(p.parent,p.name,p)}const Wa=/[\[\].#$\/\u0000-\u001F\u007F]/,th=/[\[\].#$\u0000-\u001F\u007F]/,Tc=10485760,ic=function(p){return"string"==typeof p&&0!==p.length&&!Wa.test(p)},Ic=function(p){return"string"==typeof p&&0!==p.length&&!th.test(p)},Sc=function(p){return null===p||"string"==typeof p||"number"==typeof p&&!We(p)||p&&"object"==typeof p&&(0,q.r3)(p,".sv")},ua=function(p,u,c,b){b&&void 0===u||rc((0,q.gK)(p,"value"),u,c)},rc=function(p,u,c){const b=c instanceof pn?new Ls(c,p):c;if(void 0===u)throw new Error(p+"contains undefined "+Ar(b));if("function"==typeof u)throw new Error(p+"contains a function "+Ar(b)+" with contents = "+u.toString());if(We(u))throw new Error(p+"contains "+u.toString()+" "+Ar(b));if("string"==typeof u&&u.length>Tc/3&&(0,q.ug)(u)>Tc)throw new Error(p+"contains a string greater than "+Tc+" utf8 bytes "+Ar(b)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let x=!1,j=!1;if(H(u,(ie,Ge)=>{if(".value"===ie)x=!0;else if(".priority"!==ie&&".sv"!==ie&&(j=!0,!ic(ie)))throw new Error(p+" contains an invalid key ("+ie+") "+Ar(b)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(p,u){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(u),p.byteLength_+=(0,q.ug)(u),jo(p)})(b,ie),rc(p,Ge,b),function(p){const u=p.parts_.pop();p.byteLength_-=(0,q.ug)(u),p.parts_.length>0&&(p.byteLength_-=1)}(b)}),x&&j)throw new Error(p+' contains ".value" child '+Ar(b)+" in addition to actual children.")}},Mc=function(p,u,c,b){if(b&&void 0===u)return;const x=(0,q.gK)(p,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(x+" must be an object containing the children to replace.");const j=[];H(u,(ie,Ge)=>{const dt=new pn(ie);if(rc(x,Ge,ir(c,dt)),".priority"===Ei(dt)&&!Sc(Ge))throw new Error(x+"contains an invalid value for '"+dt.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");j.push(dt)}),function(p,u){let c,b;for(c=0;c<u.length;c++){b=u[c];const j=Ns(b);for(let ie=0;ie<j.length;ie++)if((".priority"!==j[ie]||ie!==j.length-1)&&!ic(j[ie]))throw new Error(p+"contains an invalid key ("+j[ie]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(as);let x=null;for(c=0;c<u.length;c++){if(b=u[c],null!==x&&Pr(x,b))throw new Error(p+"contains a path "+x.toString()+" that is ancestor of another path "+b.toString());x=b}}(x,j)},bd=function(p,u,c){if(!c||void 0!==u){if(We(u))throw new Error((0,q.gK)(p,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sc(u))throw new Error((0,q.gK)(p,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Hl=function(p,u,c,b){if(!(b&&void 0===c||ic(c)))throw new Error((0,q.gK)(p,u)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ac=function(p,u,c,b){if(!(b&&void 0===c||Ic(c)))throw new Error((0,q.gK)(p,u)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Os=function(p,u){if(".info"===Vn(u))throw new Error(p+" failed = Can't modify data under /.info/")},jl=function(p,u){const c=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!ic(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==c.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),Ic(p)}(c))throw new Error((0,q.gK)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Gl{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ou(p,u){let c=null;for(let b=0;b<u.length;b++){const x=u[b],j=x.getPath();null!==c&&!Ss(j,c.path)&&(p.eventLists_.push(c),c=null),null===c&&(c={events:[],path:j}),c.events.push(x)}c&&p.eventLists_.push(c)}function zl(p,u,c){ou(p,c),au(p,b=>Ss(b,u))}function Ca(p,u,c){ou(p,c),au(p,b=>Pr(b,u)||Pr(u,b))}function au(p,u){p.recursionDepth_++;let c=!0;for(let b=0;b<p.eventLists_.length;b++){const x=p.eventLists_[b];x&&(u(x.path)?(lu(p.eventLists_[b]),p.eventLists_[b]=null):c=!1)}c&&(p.eventLists_=[]),p.recursionDepth_--}function lu(p){for(let u=0;u<p.events.length;u++){const c=p.events[u];if(null!==c){p.events[u]=null;const b=c.getEventRunner();te&&bt("event: "+c.toString()),Pn(b)}}}const Cd="repo_interrupt";class wo{constructor(u,c,b,x){this.repoInfo_=u,this.forceRestClient_=c,this.authTokenProvider_=b,this.appCheckProvider_=x,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zo(),this.transactionQueueTree_=new wl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Rc(p){const c=p.infoData_.getNode(new pn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Hu(p){return function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p}({timestamp:Rc(p)})}function ju(p,u,c,b,x){p.dataUpdateCount++;const j=new pn(u);c=p.interceptServerDataCallback_?p.interceptServerDataCallback_(u,c):c;let ie=[];if(x)if(b){const dt=(0,q.UI)(c,Lt=>xr(Lt));ie=function(p,u,c,b){const x=ba(p,b);if(x){const j=ca(x),ie=j.path,Ge=j.queryId,dt=Ur(ie,u),Lt=Rr.fromObject(c);return wc(p,ie,new ti(kt(Ge),dt,Lt))}return[]}(p.serverSyncTree_,j,dt,x)}else{const dt=xr(c);ie=function(p,u,c,b){const x=ba(p,b);if(null!=x){const j=ca(x),ie=j.path,Ge=j.queryId,dt=Ur(ie,u);return wc(p,ie,new ci(kt(Ge),dt,c))}return[]}(p.serverSyncTree_,j,dt,x)}else if(b){const dt=(0,q.UI)(c,Lt=>xr(Lt));ie=function(p,u,c){const b=Rr.fromObject(c);return Eo(p,new ti({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,b))}(p.serverSyncTree_,j,dt)}else{const dt=xr(c);ie=Ni(p.serverSyncTree_,j,dt)}let Ge=j;ie.length>0&&(Ge=oc(p,j)),Ca(p.eventQueue_,Ge,ie)}function kc(p,u){ia(p,"connected",u),!1===u&&function(p){Pa(p,"onDisconnectEvents");const u=Hu(p),c=Zo();bo(p.onDisconnect_,Mn(),(x,j)=>{const ie=ol(x,j,p.serverSyncTree_,u);Ks(c,x,ie)});let b=[];bo(c,Mn(),(x,j)=>{b=b.concat(Ni(p.serverSyncTree_,x,j));const ie=Wl(p,x);oc(p,ie)}),p.onDisconnect_=Zo(),Ca(p.eventQueue_,Mn(),b)}(p)}function ia(p,u,c){const b=new pn("/.info/"+u),x=xr(c);p.infoData_.updateSnapshot(b,x);const j=Ni(p.infoSyncTree_,b,x);Ca(p.eventQueue_,b,j)}function Oa(p){return p.nextWriteId_++}function cu(p,u,c,b,x){Pa(p,"set",{path:u.toString(),value:c,priority:b});const j=Hu(p),ie=xr(c,b),Ge=$s(p.serverSyncTree_,u),dt=Bl(ie,Ge,j),Lt=Oa(p),bn=yn(p.serverSyncTree_,u,dt,Lt,!0);ou(p.eventQueue_,bn),p.server_.put(u.toString(),ie.val(!0),(Un,yi)=>{const ji="ok"===Un;ji||rt("set at "+u+" failed: "+Un);const ys=ai(p.serverSyncTree_,Lt,!ji);Ca(p.eventQueue_,u,ys),ko(0,x,Un,yi)});const Cn=Wl(p,u);oc(p,Cn),Ca(p.eventQueue_,Cn,[])}function Oc(p,u,c){p.server_.onDisconnectCancel(u.toString(),(b,x)=>{"ok"===b&&Xr(p.onDisconnect_,u),ko(0,c,b,x)})}function wd(p,u,c,b){const x=xr(c);p.server_.onDisconnectPut(u.toString(),x.val(!0),(j,ie)=>{"ok"===j&&Ks(p.onDisconnect_,u,x),ko(0,b,j,ie)})}function Dd(p,u,c){let b;b=".info"===Vn(u._path)?ks(p.infoSyncTree_,u,c):ks(p.serverSyncTree_,u,c),zl(p.eventQueue_,u._path,b)}function nh(p){p.persistentConnection_&&p.persistentConnection_.interrupt(Cd)}function Pa(p,...u){let c="";p.persistentConnection_&&(c=p.persistentConnection_.id+":"),bt(c,...u)}function ko(p,u,c,b){u&&Pn(()=>{if("ok"===c)u(null);else{const x=(c||"error").toUpperCase();let j=x;b&&(j+=": "+b);const ie=new Error(j);ie.code=x,u(ie)}})}function sc(p,u,c){return $s(p.serverSyncTree_,u,c)||$i.EMPTY_NODE}function Tl(p,u=p.transactionQueueTree_){if(u||ul(p,u),$o(u)){const c=Ps(p,u);(0,q.hu)(c.length>0,"Sending zero length transaction queue"),c.every(x=>0===x.status)&&function(p,u,c){const b=c.map(Lt=>Lt.currentWriteId),x=sc(p,u,b);let j=x;const ie=x.hash();for(let Lt=0;Lt<c.length;Lt++){const bn=c[Lt];(0,q.hu)(0===bn.status,"tryToSendTransactionQueue_: items in queue should all be run."),bn.status=1,bn.retryCount++;const Cn=Ur(u,bn.path);j=j.updateChild(Cn,bn.currentOutputSnapshotRaw)}const Ge=j.val(!0),dt=u;p.server_.put(dt.toString(),Ge,Lt=>{Pa(p,"transaction put response",{path:dt.toString(),status:Lt});let bn=[];if("ok"===Lt){const Cn=[];for(let Un=0;Un<c.length;Un++)c[Un].status=2,bn=bn.concat(ai(p.serverSyncTree_,c[Un].currentWriteId)),c[Un].onComplete&&Cn.push(()=>c[Un].onComplete(null,!0,c[Un].currentOutputSnapshotResolved)),c[Un].unwatcher();ul(p,Dl(p.transactionQueueTree_,u)),Tl(p,p.transactionQueueTree_),Ca(p.eventQueue_,u,bn);for(let Un=0;Un<Cn.length;Un++)Pn(Cn[Un])}else{if("datastale"===Lt)for(let Cn=0;Cn<c.length;Cn++)c[Cn].status=3===c[Cn].status?4:0;else{rt("transaction at "+dt.toString()+" failed: "+Lt);for(let Cn=0;Cn<c.length;Cn++)c[Cn].status=4,c[Cn].abortReason=Lt}oc(p,u)}},ie)}(p,ll(u),c)}else al(u)&&nc(u,c=>{Tl(p,c)})}function oc(p,u){const c=$u(p,u),b=ll(c);return function(p,u,c){if(0===u.length)return;const b=[];let x=[];const ie=u.filter(Ge=>0===Ge.status).map(Ge=>Ge.currentWriteId);for(let Ge=0;Ge<u.length;Ge++){const dt=u[Ge],Lt=Ur(c,dt.path);let Cn,bn=!1;if((0,q.hu)(null!==Lt,"rerunTransactionsUnderNode_: relativePath should not be null."),4===dt.status)bn=!0,Cn=dt.abortReason,x=x.concat(ai(p.serverSyncTree_,dt.currentWriteId,!0));else if(0===dt.status)if(dt.retryCount>=25)bn=!0,Cn="maxretry",x=x.concat(ai(p.serverSyncTree_,dt.currentWriteId,!0));else{const Un=sc(p,dt.path,ie);dt.currentInputSnapshot=Un;const yi=u[Ge].update(Un.val());if(void 0!==yi){rc("transaction failed: Data returned ",yi,dt.path);let ji=xr(yi);"object"==typeof yi&&null!=yi&&(0,q.r3)(yi,".priority")||(ji=ji.updatePriority(Un.getPriority()));const sa=dt.currentWriteId,ha=Hu(p),Jo=Bl(ji,Un,ha);dt.currentOutputSnapshotRaw=ji,dt.currentOutputSnapshotResolved=Jo,dt.currentWriteId=Oa(p),ie.splice(ie.indexOf(sa),1),x=x.concat(yn(p.serverSyncTree_,dt.path,Jo,dt.currentWriteId,dt.applyLocally)),x=x.concat(ai(p.serverSyncTree_,sa,!0))}else bn=!0,Cn="nodata",x=x.concat(ai(p.serverSyncTree_,dt.currentWriteId,!0))}Ca(p.eventQueue_,c,x),x=[],bn&&(u[Ge].status=2,setTimeout(u[Ge].unwatcher,Math.floor(0)),u[Ge].onComplete&&b.push("nodata"===Cn?()=>u[Ge].onComplete(null,!1,u[Ge].currentInputSnapshot):()=>u[Ge].onComplete(new Error(Cn),!1,null)))}ul(p,p.transactionQueueTree_);for(let Ge=0;Ge<b.length;Ge++)Pn(b[Ge]);Tl(p,p.transactionQueueTree_)}(p,Ps(p,c),b),b}function $u(p,u){let c,b=p.transactionQueueTree_;for(c=Vn(u);null!==c&&void 0===$o(b);)b=Dl(b,c),c=Vn(u=Ci(u));return b}function Ps(p,u){const c=[];return ac(p,u,c),c.sort((b,x)=>b.order-x.order),c}function ac(p,u,c){const b=$o(u);if(b)for(let x=0;x<b.length;x++)c.push(b[x]);nc(u,x=>{ac(p,x,c)})}function ul(p,u){const c=$o(u);if(c){let b=0;for(let x=0;x<c.length;x++)2!==c[x].status&&(c[b]=c[x],b++);c.length=b,vd(u,c.length>0?c:void 0)}nc(u,b=>{ul(p,b)})}function Wl(p,u){const c=ll($u(p,u)),b=Dl(p.transactionQueueTree_,u);return function(p,u,c){let b=p.parent;for(;null!==b;){if(u(b))return!0;b=b.parent}}(b,x=>{uu(p,x)}),uu(p,b),iu(b,x=>{uu(p,x)}),c}function uu(p,u){const c=$o(u);if(c){const b=[];let x=[],j=-1;for(let ie=0;ie<c.length;ie++)3===c[ie].status||(1===c[ie].status?((0,q.hu)(j===ie-1,"All SENT items should be at beginning of queue."),j=ie,c[ie].status=3,c[ie].abortReason="set"):((0,q.hu)(0===c[ie].status,"Unexpected transaction status in abort"),c[ie].unwatcher(),x=x.concat(ai(p.serverSyncTree_,c[ie].currentWriteId,!0)),c[ie].onComplete&&b.push(c[ie].onComplete.bind(null,new Error("set"),!1,null))));-1===j?vd(u,void 0):c.length=j+1,Ca(p.eventQueue_,ll(u),x);for(let ie=0;ie<b.length;ie++)Pn(b[ie])}}const Td=function(p,u){const c=Id(p),b=c.namespace;return"firebase.com"===c.domain&&me(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==c.domain&&me("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tn(c.host,c.secure,b,"ws"===c.scheme||"wss"===c.scheme,u,"",b!==c.subdomain),path:new pn(c.pathString)}},Id=function(p){let u="",c="",b="",x="",j="",ie=!0,Ge="https",dt=443;if("string"==typeof p){let Lt=p.indexOf("//");Lt>=0&&(Ge=p.substring(0,Lt-1),p=p.substring(Lt+2));let bn=p.indexOf("/");-1===bn&&(bn=p.length);let Cn=p.indexOf("?");-1===Cn&&(Cn=p.length),u=p.substring(0,Math.min(bn,Cn)),bn<Cn&&(x=function(p){let u="";const c=p.split("/");for(let b=0;b<c.length;b++)if(c[b].length>0){let x=c[b];try{x=decodeURIComponent(x.replace(/\+/g," "))}catch(j){}u+="/"+x}return u}(p.substring(bn,Cn)));const Un=function(p){const u={};"?"===p.charAt(0)&&(p=p.substring(1));for(const c of p.split("&")){if(0===c.length)continue;const b=c.split("=");2===b.length?u[decodeURIComponent(b[0])]=decodeURIComponent(b[1]):rt(`Invalid query segment '${c}' in query '${p}'`)}return u}(p.substring(Math.min(p.length,Cn)));Lt=u.indexOf(":"),Lt>=0?(ie="https"===Ge||"wss"===Ge,dt=parseInt(u.substring(Lt+1),10)):Lt=u.length;const yi=u.slice(0,Lt);if("localhost"===yi.toLowerCase())c="localhost";else if(yi.split(".").length<=2)c=yi;else{const ji=u.indexOf(".");b=u.substring(0,ji).toLowerCase(),c=u.substring(ji+1),j=b}"ns"in Un&&(j=Un.ns)}return{host:u,port:dt,domain:c,subdomain:b,secure:ie,scheme:Ge,pathString:x,namespace:j}};class du{constructor(u,c,b,x){this.eventType=u,this.eventRegistration=c,this.snapshot=b,this.prevName=x}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,q.Pz)(this.snapshot.exportVal())}}class Qh{constructor(u,c,b){this.eventRegistration=u,this.error=c,this.path=b}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Jh{constructor(u,c){this.snapshotCallback=u,this.cancelCallback=c}onValue(u,c){this.snapshotCallback.call(null,u,c)}onCancel(u){return(0,q.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class Yl{constructor(u,c){this._repo=u,this._path=c}cancel(){const u=new q.BH;return Oc(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){Os("OnDisconnect.remove",this._path);const u=new q.BH;return wd(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){Os("OnDisconnect.set",this._path),ua("OnDisconnect.set",u,this._path,!1);const c=new q.BH;return wd(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}setWithPriority(u,c){Os("OnDisconnect.setWithPriority",this._path),ua("OnDisconnect.setWithPriority",u,this._path,!1),bd("OnDisconnect.setWithPriority",c,!1);const b=new q.BH;return function(p,u,c,b,x){const j=xr(c,b);p.server_.onDisconnectPut(u.toString(),j.val(!0),(ie,Ge)=>{"ok"===ie&&Ks(p.onDisconnect_,u,j),ko(0,x,ie,Ge)})}(this._repo,this._path,u,c,b.wrapCallback(()=>{})),b.promise}update(u){Os("OnDisconnect.update",this._path),Mc("OnDisconnect.update",u,this._path,!1);const c=new q.BH;return function(p,u,c,b){if((0,q.xb)(c))return bt("onDisconnect().update() called with empty data.  Don't do anything."),void ko(0,b,"ok",void 0);p.server_.onDisconnectMerge(u.toString(),c,(x,j)=>{"ok"===x&&H(c,(ie,Ge)=>{const dt=xr(Ge);Ks(p.onDisconnect_,ir(u,ie),dt)}),ko(0,b,x,j)})}(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}}class Qr{constructor(u,c,b,x){this._repo=u,this._path=c,this._queryParams=b,this._orderByCalled=x}get key(){return Vi(this._path)?null:Ei(this._path)}get ref(){return new _s(this._repo,this._path)}get _queryIdentifier(){const u=As(this._queryParams),c=ue(u);return"{}"===c?"default":c}get _queryObject(){return As(this._queryParams)}isEqual(u){if(!((u=(0,q.m9)(u))instanceof Qr))return!1;const c=this._repo===u._repo,b=Ss(this._path,u._path);return c&&b&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(p){let u="";for(let c=p.pieceNum_;c<p.pieces_.length;c++)""!==p.pieces_[c]&&(u+="/"+encodeURIComponent(String(p.pieces_[c])));return u||"/"}(this._path)}}function lc(p,u){if(!0===p._orderByCalled)throw new Error(u+": You can't combine multiple orderBy calls.")}function Il(p){let u=null,c=null;if(p.hasStart()&&(u=p.getIndexStartValue()),p.hasEnd()&&(c=p.getIndexEndValue()),p.getIndex()===Nr){const b="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",x="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(p.hasStart()){if(p.getIndexStartName()!==fn)throw new Error(b);if("string"!=typeof u)throw new Error(x)}if(p.hasEnd()){if(p.getIndexEndName()!==jt)throw new Error(b);if("string"!=typeof c)throw new Error(x)}}else if(p.getIndex()===Bi){if(null!=u&&!Sc(u)||null!=c&&!Sc(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,q.hu)(p.getIndex()instanceof Gr||p.getIndex()===Vo,"unknown index type."),null!=u&&"object"==typeof u||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ws(p){if(p.hasStart()&&p.hasEnd()&&p.hasLimit()&&!p.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class _s extends Qr{constructor(u,c){super(u,c,new wi,!1)}get parent(){const u=Fs(this._path);return null===u?null:new _s(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class Na{constructor(u,c,b){this._node=u,this.ref=c,this._index=b}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const c=new pn(u),b=Sl(this.ref,u);return new Na(this._node.getChild(c),b,Bi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(b,x)=>u(new Na(x,Sl(this.ref,b),Bi)))}hasChild(u){const c=new pn(u);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zl(p,u){return(p=(0,q.m9)(p))._checkNotDeleted("ref"),void 0!==u?Sl(p._root,u):p._root}function Fa(p,u){(p=(0,q.m9)(p))._checkNotDeleted("refFromURL");const c=Td(u,p._repo.repoInfo_.nodeAdmin);jl("refFromURL",c);const b=c.repoInfo;return!p._repo.repoInfo_.isCustomHost()&&b.host!==p._repo.repoInfo_.host&&me("refFromURL: Host name does not match the current database: (found "+b.host+" but expected "+p._repo.repoInfo_.host+")"),Zl(p,c.path.toString())}function Sl(p,u){return null===Vn((p=(0,q.m9)(p))._path)?((c=u)&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Ac("child","path",c,!1)):Ac("child","path",u,!1),new _s(p._repo,ir(p._path,u));var c}function cc(p,u){p=(0,q.m9)(p),Os("set",p._path),ua("set",u,p._path,!1);const c=new q.BH;return cu(p._repo,p._path,u,null,c.wrapCallback(()=>{})),c.promise}function Xh(p,u){Mc("update",u,p._path,!1);const c=new q.BH;return function(p,u,c,b){Pa(p,"update",{path:u.toString(),value:c});let x=!0;const j=Hu(p),ie={};if(H(c,(Ge,dt)=>{x=!1,ie[Ge]=ol(ir(u,Ge),xr(dt),p.serverSyncTree_,j)}),x)bt("update() called with empty data.  Don't do anything."),ko(0,b,"ok",void 0);else{const Ge=Oa(p),dt=function(p,u,c,b){!function(p,u,c,b){(0,q.hu)(b>p.lastWriteId,"Stacking an older merge on top of newer ones"),p.allWrites.push({path:u,children:c,writeId:b,visible:!0}),p.visibleWrites=Ha(p.visibleWrites,u,c),p.lastWriteId=b}(p.pendingWriteTree_,u,c,b);const x=Rr.fromObject(c);return Eo(p,new ti({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,x))}(p.serverSyncTree_,u,ie,Ge);ou(p.eventQueue_,dt),p.server_.merge(u.toString(),c,(Lt,bn)=>{const Cn="ok"===Lt;Cn||rt("update at "+u+" failed: "+Lt);const Un=ai(p.serverSyncTree_,Ge,!Cn),yi=Un.length>0?oc(p,u):u;Ca(p.eventQueue_,yi,Un),ko(0,b,Lt,bn)}),H(c,Lt=>{const bn=Wl(p,ir(u,Lt));oc(p,bn)}),Ca(p.eventQueue_,u,[])}}(p._repo,p._path,u,c.wrapCallback(()=>{})),c.promise}function fu(p){return function(p,u){const c=function(p,u){const c=u._path;let b=null;p.syncPointTree_.foreachOnPath(c,(Lt,bn)=>{const Cn=Ur(Lt,c);b=b||Js(bn,Cn)});let x=p.syncPointTree_.get(c);x?b=b||Js(x,Mn()):(x=new la,p.syncPointTree_=p.syncPointTree_.set(c,x));const j=null!=b,ie=j?new Di(b,!0,!1):null;return function(p){return no(p.viewCache_)}(Aa(x,u,_e(p.pendingWriteTree_,u._path),j?ie.getNode():$i.EMPTY_NODE,j))}(p.serverSyncTree_,u);return null!=c?Promise.resolve(c):p.server_.get(u).then(b=>{const x=xr(b).withIndex(u._queryParams.getIndex()),j=Ni(p.serverSyncTree_,u._path,x);return zl(p.eventQueue_,u._path,j),Promise.resolve(x)},b=>(Pa(p,"get for query "+(0,q.Pz)(u)+" failed: "+b),Promise.reject(new Error(b))))}((p=(0,q.m9)(p))._repo,p).then(u=>new Na(u,new _s(p._repo,p._path),p._queryParams.getIndex()))}class uc{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,c){const b=c._queryParams.getIndex();return new du("value",this,new Na(u.snapshotNode,new _s(c._repo,c._path),b))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Qh(this,u,c):null}matches(u){return u instanceof uc&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Nc{constructor(u,c){this.eventType=u,this.callbackContext=c}respondsTo(u){let c="children_added"===u?"child_added":u;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Qh(this,u,c):null}createEvent(u,c){(0,q.hu)(null!=u.childName,"Child events should have a childName.");const b=Sl(new _s(c._repo,c._path),u.childName),x=c._queryParams.getIndex();return new du(u.type,this,new Na(u.snapshotNode,b,x),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof Nc&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Kl(p,u,c,b,x){let j;if("object"==typeof b&&(j=void 0,x=b),"function"==typeof b&&(j=b),x&&x.onlyOnce){const dt=c,Lt=(bn,Cn)=>{Dd(p._repo,p,Ge),dt(bn,Cn)};Lt.userCallback=c.userCallback,Lt.context=c.context,c=Lt}const ie=new Jh(c,j||void 0),Ge="value"===u?new uc(ie):new Nc(u,ie);return function(p,u,c){let b;b=".info"===Vn(u._path)?Ra(p.infoSyncTree_,u,c):Ra(p.serverSyncTree_,u,c),zl(p.eventQueue_,u._path,b)}(p._repo,p,Ge),()=>Dd(p._repo,p,Ge)}function Fc(p,u,c,b){return Kl(p,"value",u,c,b)}function Wu(p,u,c,b){return Kl(p,"child_added",u,c,b)}function Yu(p,u,c,b){return Kl(p,"child_changed",u,c,b)}function Lc(p,u,c,b){return Kl(p,"child_moved",u,c,b)}function Zu(p,u,c,b){return Kl(p,"child_removed",u,c,b)}function ah(p,u,c){let b=null;const x=c?new Jh(c):null;"value"===u?b=new uc(x):u&&(b=new Nc(u,x)),Dd(p._repo,p,b)}class ts{}class Ya extends ts{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){ua("endAt",this._value,u._path,!0);const c=br(u._queryParams,this._value,this._key);if(Ws(c),Il(c),u._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qr(u._repo,u._path,c,u._orderByCalled)}}class ef extends ts{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){ua("endBefore",this._value,u._path,!1);const c=function(p,u,c){let b,x;return p.index_===Nr?("string"==typeof u&&(u=Je(u)),x=br(p,u,c)):(b=null==c?fn:Je(c),x=br(p,u,b)),x.endBeforeSet_=!0,x}(u._queryParams,this._value,this._key);if(Ws(c),Il(c),u._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qr(u._repo,u._path,c,u._orderByCalled)}}class pu extends ts{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){ua("startAt",this._value,u._path,!0);const c=Fr(u._queryParams,this._value,this._key);if(Ws(c),Il(c),u._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qr(u._repo,u._path,c,u._orderByCalled)}}class Ea extends ts{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){ua("startAfter",this._value,u._path,!1);const c=function(p,u,c){let b;if(p.index_===Nr)"string"==typeof u&&(u=xe(u)),b=Fr(p,u,c);else{let x;x=null==c?jt:xe(c),b=Fr(p,u,x)}return b.startAfterSet_=!0,b}(u._queryParams,this._value,this._key);if(Ws(c),Il(c),u._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qr(u._repo,u._path,c,u._orderByCalled)}}class Wo extends ts{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qr(u._repo,u._path,function(p,u){const c=p.copy();return c.limitSet_=!0,c.limit_=u,c.viewFrom_="l",c}(u._queryParams,this._limit),u._orderByCalled)}}class mu extends ts{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qr(u._repo,u._path,function(p,u){const c=p.copy();return c.limitSet_=!0,c.limit_=u,c.viewFrom_="r",c}(u._queryParams,this._limit),u._orderByCalled)}}class ch extends ts{constructor(u){super(),this._path=u}_apply(u){lc(u,"orderByChild");const c=new pn(this._path);if(Vi(c))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const b=new Gr(c),x=co(u._queryParams,b);return Il(x),new Qr(u._repo,u._path,x,!0)}}class da extends ts{_apply(u){lc(u,"orderByKey");const c=co(u._queryParams,Nr);return Il(c),new Qr(u._repo,u._path,c,!0)}}class ql extends ts{_apply(u){lc(u,"orderByPriority");const c=co(u._queryParams,Bi);return Il(c),new Qr(u._repo,u._path,c,!0)}}class Ql extends ts{_apply(u){lc(u,"orderByValue");const c=co(u._queryParams,Vo);return Il(c),new Qr(u._repo,u._path,c,!0)}}class Od extends ts{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){if(ua("equalTo",this._value,u._path,!1),u._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(u._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ya(this._value,this._key)._apply(new pu(this._value,this._key)._apply(u))}}function Do(p,...u){let c=(0,q.m9)(p);for(const b of u)c=b._apply(c);return c}(function(p){(0,q.hu)(!Ro,"__referenceConstructor has already been defined"),Ro=p})(_s),function(p){(0,q.hu)(!Y,"__referenceConstructor has already been defined"),Y=p}(_s);const _u={};function dc(p,u,c,b,x){let j=b||p.options.databaseURL;void 0===j&&(p.options.projectId||me("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",p.options.projectId),j=`${p.options.projectId}-default-rtdb.firebaseio.com`);let dt,Lt,ie=Td(j,x),Ge=ie.repoInfo;"undefined"!=typeof process&&process.env&&(Lt=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Lt?(dt=!0,j=`http://${Lt}?ns=${Ge.namespace}`,ie=Td(j,x),Ge=ie.repoInfo):dt=!ie.repoInfo.secure;const bn=x&&dt?new wt(wt.OWNER):new gt(p.name,p.options,u);jl("Invalid Firebase Database URL",ie),Vi(ie.path)||me("Database URL must point to the root of a Firebase Database (not including a child path).");const Cn=function(p,u,c,b){let x=_u[u.name];x||(x={},_u[u.name]=x);let j=x[p.toURLString()];return j&&me("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),j=new wo(p,false,c,b),x[p.toURLString()]=j,j}(Ge,p,bn,new ft(p.name,c));return new R(Cn,p)}class R{constructor(u,c){this._repoInternal=u,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(p,u,c){if(p.stats_=Ai(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new js(p.repoInfo_,(b,x,j,ie)=>{ju(p,b,x,j,ie)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(()=>kc(p,!0),0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,q.Pz)(c)}catch(b){throw new Error("Invalid authOverride provided: "+b)}}p.persistentConnection_=new cr(p.repoInfo_,u,(b,x,j,ie)=>{ju(p,b,x,j,ie)},b=>{kc(p,b)},b=>{!function(p,u){H(u,(c,b)=>{ia(p,c,b)})}(p,b)},p.authTokenProvider_,p.appCheckProvider_,c),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(b=>{p.server_.refreshAuthToken(b)}),p.appCheckProvider_.addTokenChangeListener(b=>{p.server_.refreshAppCheckToken(b.token)}),p.statsReporter_=function(p,u){const c=p.toString();return Wi[c]||(Wi[c]=u()),Wi[c]}(p.repoInfo_,()=>new Q(p.stats_,p.server_)),p.infoData_=new Zs,p.infoSyncTree_=new Jt({startListening:(b,x,j,ie)=>{let Ge=[];const dt=p.infoData_.getNode(b._path);return dt.isEmpty()||(Ge=Ni(p.infoSyncTree_,b._path,dt),setTimeout(()=>{ie("ok")},0)),Ge},stopListening:()=>{}}),ia(p,"connected",!1),p.serverSyncTree_=new Jt({startListening:(b,x,j,ie)=>(p.server_.listen(b,j,x,(Ge,dt)=>{const Lt=ie(Ge,dt);Ca(p.eventQueue_,b._path,Lt)}),[]),stopListening:(b,x)=>{p.server_.unlisten(b,x)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _s(this._repo,Mn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(p,u){const c=_u[u];(!c||c[p.key]!==p)&&me(`Database ${u}(${p.repoInfo_}) has already been deleted.`),nh(p),delete c[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&me("Cannot call "+u+" on a deleted database.")}}function re(){Tr.IS_TRANSPORT_INITIALIZED&&rt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ee(){re(),$t.forceDisallow()}function Pt(){re(),ui.forceDisallow(),$t.forceAllow()}function Ii(p,u){Pe(p,u)}class To{constructor(u,c){this.committed=u,this.snapshot=c}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cr.prototype.simpleListen=function(p,u){this.sendRequest("q",{p},u)},cr.prototype.echo=function(p,u){this.sendRequest("echo",{d:p},u)},Ut(be.SDK_VERSION),(0,be._registerComponent)(new Ke.wA("database",(u,{instanceIdentifier:c})=>dc(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(yt,"0.13.0",void 0),(0,be.registerVersion)(yt,"0.13.0","esm2017");const Nd=new ke.Yd("@firebase/database-compat"),Eu=function(p){Nd.warn("FIREBASE WARNING: "+p)};class Jl{constructor(u){this._delegate=u}cancel(u){(0,q.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,q.Wj)("OnDisconnect.cancel","onComplete",u,!0);const c=this._delegate.cancel();return u&&c.then(()=>u(null),b=>u(b)),c}remove(u){(0,q.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,q.Wj)("OnDisconnect.remove","onComplete",u,!0);const c=this._delegate.remove();return u&&c.then(()=>u(null),b=>u(b)),c}set(u,c){(0,q.Dv)("OnDisconnect.set",1,2,arguments.length),(0,q.Wj)("OnDisconnect.set","onComplete",c,!0);const b=this._delegate.set(u);return c&&b.then(()=>c(null),x=>c(x)),b}setWithPriority(u,c,b){(0,q.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,q.Wj)("OnDisconnect.setWithPriority","onComplete",b,!0);const x=this._delegate.setWithPriority(u,c);return b&&x.then(()=>b(null),j=>b(j)),x}update(u,c){if((0,q.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(u)){const x={};for(let j=0;j<u.length;++j)x[""+j]=u[j];u=x,Eu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,q.Wj)("OnDisconnect.update","onComplete",c,!0);const b=this._delegate.update(u);return c&&b.then(()=>c(null),x=>c(x)),b}}class Du{constructor(u,c){this.committed=u,this.snapshot=c}toJSON(){return(0,q.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fl{constructor(u,c){this._database=u,this._delegate=c}val(){return(0,q.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,q.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,q.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,q.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(u){return(0,q.Dv)("DataSnapshot.child",0,1,arguments.length),u=String(u),Ac("DataSnapshot.child","path",u,!1),new fl(this._database,this._delegate.child(u))}hasChild(u){return(0,q.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ac("DataSnapshot.hasChild","path",u,!1),this._delegate.hasChild(u)}getPriority(){return(0,q.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(u){return(0,q.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,q.Wj)("DataSnapshot.forEach","action",u,!1),this._delegate.forEach(c=>u(new fl(this._database,c)))}hasChildren(){return(0,q.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,q.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,q.Dv)("DataSnapshot.ref",0,0,arguments.length),new wa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Po{constructor(u,c){this.database=u,this._delegate=c}on(u,c,b,x){var j;(0,q.Dv)("Query.on",2,4,arguments.length),(0,q.Wj)("Query.on","callback",c,!1);const ie=Po.getCancelAndContextArgs_("Query.on",b,x),Ge=(Lt,bn)=>{c.call(ie.context,new fl(this.database,Lt),bn)};Ge.userCallback=c,Ge.context=ie.context;const dt=null===(j=ie.cancel)||void 0===j?void 0:j.bind(ie.context);switch(u){case"value":return Fc(this._delegate,Ge,dt),c;case"child_added":return Wu(this._delegate,Ge,dt),c;case"child_removed":return Zu(this._delegate,Ge,dt),c;case"child_changed":return Yu(this._delegate,Ge,dt),c;case"child_moved":return Lc(this._delegate,Ge,dt),c;default:throw new Error((0,q.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(u,c,b){if((0,q.Dv)("Query.off",0,3,arguments.length),function(p,u,c){if(void 0!==u)switch(u){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,q.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,u),(0,q.Wj)("Query.off","callback",c,!0),(0,q.lb)("Query.off","context",b,!0),c){const x=()=>{};x.userCallback=c,x.context=b,ah(this._delegate,u,x)}else ah(this._delegate,u)}get(){return fu(this._delegate).then(u=>new fl(this.database,u))}once(u,c,b,x){(0,q.Dv)("Query.once",1,4,arguments.length),(0,q.Wj)("Query.once","callback",c,!0);const j=Po.getCancelAndContextArgs_("Query.once",b,x),ie=new q.BH,Ge=(Lt,bn)=>{const Cn=new fl(this.database,Lt);c&&c.call(j.context,Cn,bn),ie.resolve(Cn)};Ge.userCallback=c,Ge.context=j.context;const dt=Lt=>{j.cancel&&j.cancel.call(j.context,Lt),ie.reject(Lt)};switch(u){case"value":Fc(this._delegate,Ge,dt,{onlyOnce:!0});break;case"child_added":Wu(this._delegate,Ge,dt,{onlyOnce:!0});break;case"child_removed":Zu(this._delegate,Ge,dt,{onlyOnce:!0});break;case"child_changed":Yu(this._delegate,Ge,dt,{onlyOnce:!0});break;case"child_moved":Lc(this._delegate,Ge,dt,{onlyOnce:!0});break;default:throw new Error((0,q.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return ie.promise}limitToFirst(u){return(0,q.Dv)("Query.limitToFirst",1,1,arguments.length),new Po(this.database,Do(this._delegate,function(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Wo(p)}(u)))}limitToLast(u){return(0,q.Dv)("Query.limitToLast",1,1,arguments.length),new Po(this.database,Do(this._delegate,function(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mu(p)}(u)))}orderByChild(u){return(0,q.Dv)("Query.orderByChild",1,1,arguments.length),new Po(this.database,Do(this._delegate,function(p){if("$key"===p)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===p)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===p)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ac("orderByChild","path",p,!1),new ch(p)}(u)))}orderByKey(){return(0,q.Dv)("Query.orderByKey",0,0,arguments.length),new Po(this.database,Do(this._delegate,new da))}orderByPriority(){return(0,q.Dv)("Query.orderByPriority",0,0,arguments.length),new Po(this.database,Do(this._delegate,new ql))}orderByValue(){return(0,q.Dv)("Query.orderByValue",0,0,arguments.length),new Po(this.database,Do(this._delegate,new Ql))}startAt(u=null,c){return(0,q.Dv)("Query.startAt",0,2,arguments.length),new Po(this.database,Do(this._delegate,function(p=null,u){return Hl("startAt","key",u,!0),new pu(p,u)}(u,c)))}startAfter(u=null,c){return(0,q.Dv)("Query.startAfter",0,2,arguments.length),new Po(this.database,Do(this._delegate,function(p,u){return Hl("startAfter","key",u,!0),new Ea(p,u)}(u,c)))}endAt(u=null,c){return(0,q.Dv)("Query.endAt",0,2,arguments.length),new Po(this.database,Do(this._delegate,function(p,u){return Hl("endAt","key",u,!0),new Ya(p,u)}(u,c)))}endBefore(u=null,c){return(0,q.Dv)("Query.endBefore",0,2,arguments.length),new Po(this.database,Do(this._delegate,function(p,u){return Hl("endBefore","key",u,!0),new ef(p,u)}(u,c)))}equalTo(u,c){return(0,q.Dv)("Query.equalTo",1,2,arguments.length),new Po(this.database,Do(this._delegate,function(p,u){return Hl("equalTo","key",u,!0),new Od(p,u)}(u,c)))}toString(){return(0,q.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,q.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(u){if((0,q.Dv)("Query.isEqual",1,1,arguments.length),!(u instanceof Po))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(u._delegate)}static getCancelAndContextArgs_(u,c,b){const x={cancel:void 0,context:void 0};if(c&&b)x.cancel=c,(0,q.Wj)(u,"cancel",x.cancel,!0),x.context=b,(0,q.lb)(u,"context",x.context,!0);else if(c)if("object"==typeof c&&null!==c)x.context=c;else{if("function"!=typeof c)throw new Error((0,q.gK)(u,"cancelOrContext")+" must either be a cancel callback or a context object.");x.cancel=c}return x}get ref(){return new wa(this.database,new _s(this._delegate._repo,this._delegate._path))}}class wa extends Po{constructor(u,c){super(u,new Qr(c._repo,c._path,new wi,!1)),this.database=u,this._delegate=c}getKey(){return(0,q.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(u){return(0,q.Dv)("Reference.child",1,1,arguments.length),"number"==typeof u&&(u=String(u)),new wa(this.database,Sl(this._delegate,u))}getParent(){(0,q.Dv)("Reference.parent",0,0,arguments.length);const u=this._delegate.parent;return u?new wa(this.database,u):null}getRoot(){return(0,q.Dv)("Reference.root",0,0,arguments.length),new wa(this.database,this._delegate.root)}set(u,c){(0,q.Dv)("Reference.set",1,2,arguments.length),(0,q.Wj)("Reference.set","onComplete",c,!0);const b=cc(this._delegate,u);return c&&b.then(()=>c(null),x=>c(x)),b}update(u,c){if((0,q.Dv)("Reference.update",1,2,arguments.length),Array.isArray(u)){const x={};for(let j=0;j<u.length;++j)x[""+j]=u[j];u=x,Eu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Os("Reference.update",this._delegate._path),(0,q.Wj)("Reference.update","onComplete",c,!0);const b=Xh(this._delegate,u);return c&&b.then(()=>c(null),x=>c(x)),b}setWithPriority(u,c,b){(0,q.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,q.Wj)("Reference.setWithPriority","onComplete",b,!0);const x=function(p,u,c){if(Os("setWithPriority",p._path),ua("setWithPriority",u,p._path,!1),bd("setWithPriority",c,!1),".length"===p.key||".keys"===p.key)throw"setWithPriority failed: "+p.key+" is a read-only object.";const b=new q.BH;return cu(p._repo,p._path,u,c,b.wrapCallback(()=>{})),b.promise}(this._delegate,u,c);return b&&x.then(()=>b(null),j=>b(j)),x}remove(u){(0,q.Dv)("Reference.remove",0,1,arguments.length),(0,q.Wj)("Reference.remove","onComplete",u,!0);const c=function(p){return Os("remove",p._path),cc(p,null)}(this._delegate);return u&&c.then(()=>u(null),b=>u(b)),c}transaction(u,c,b){(0,q.Dv)("Reference.transaction",1,3,arguments.length),(0,q.Wj)("Reference.transaction","transactionUpdate",u,!1),(0,q.Wj)("Reference.transaction","onComplete",c,!0),function(p,u,c,b){if(void 0!==c&&"boolean"!=typeof c)throw new Error((0,q.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,b);const x=function(p,u,c){var b;if(p=(0,q.m9)(p),Os("Reference.transaction",p._path),".length"===p.key||".keys"===p.key)throw"Reference.transaction failed: "+p.key+" is a read-only object.";const x=null===(b=null==c?void 0:c.applyLocally)||void 0===b||b,j=new q.BH,Ge=Fc(p,()=>{});return function(p,u,c,b,x,j){Pa(p,"transaction on "+u);const ie={path:u,update:c,onComplete:b,status:null,order:Zt(),applyLocally:j,retryCount:0,unwatcher:x,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ge=sc(p,u,void 0);ie.currentInputSnapshot=Ge;const dt=ie.update(Ge.val());if(void 0===dt)ie.unwatcher(),ie.currentOutputSnapshotRaw=null,ie.currentOutputSnapshotResolved=null,ie.onComplete&&ie.onComplete(null,!1,ie.currentInputSnapshot);else{rc("transaction failed: Data returned ",dt,ie.path),ie.status=0;const Lt=Dl(p.transactionQueueTree_,u),bn=$o(Lt)||[];let Cn;bn.push(ie),vd(Lt,bn),"object"==typeof dt&&null!==dt&&(0,q.r3)(dt,".priority")?(Cn=(0,q.DV)(dt,".priority"),(0,q.hu)(Sc(Cn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Cn=($s(p.serverSyncTree_,u)||$i.EMPTY_NODE).getPriority().val();const Un=Hu(p),yi=xr(dt,Cn),ji=Bl(yi,Ge,Un);ie.currentOutputSnapshotRaw=yi,ie.currentOutputSnapshotResolved=ji,ie.currentWriteId=Oa(p);const ys=yn(p.serverSyncTree_,u,ji,ie.currentWriteId,ie.applyLocally);Ca(p.eventQueue_,u,ys),Tl(p,p.transactionQueueTree_)}}(p._repo,p._path,u,(dt,Lt,bn)=>{let Cn=null;dt?j.reject(dt):(Cn=new Na(bn,new _s(p._repo,p._path),Bi),j.resolve(new To(Lt,Cn)))},Ge,x),j.promise}(this._delegate,u,{applyLocally:b}).then(j=>new Du(j.committed,new fl(this.database,j.snapshot)));return c&&x.then(j=>c(null,j.committed,j.snapshot),j=>c(j,!1,null)),x}setPriority(u,c){(0,q.Dv)("Reference.setPriority",1,2,arguments.length),(0,q.Wj)("Reference.setPriority","onComplete",c,!0);const b=function(p,u){p=(0,q.m9)(p),Os("setPriority",p._path),bd("setPriority",u,!1);const c=new q.BH;return cu(p._repo,ir(p._path,".priority"),u,null,c.wrapCallback(()=>{})),c.promise}(this._delegate,u);return c&&b.then(()=>c(null),x=>c(x)),b}push(u,c){(0,q.Dv)("Reference.push",0,2,arguments.length),(0,q.Wj)("Reference.push","onComplete",c,!0);const b=function(p,u){p=(0,q.m9)(p),Os("push",p._path),ua("push",u,p._path,!0);const c=Rc(p._repo),b=W(c),x=Sl(p,b),j=Sl(p,b);let ie;return ie=null!=u?cc(j,u).then(()=>j):Promise.resolve(j),x.then=ie.then.bind(ie),x.catch=ie.then.bind(ie,void 0),x}(this._delegate,u),x=b.then(ie=>new wa(this.database,ie));c&&x.then(()=>c(null),ie=>c(ie));const j=new wa(this.database,b);return j.then=x.then.bind(x),j.catch=x.catch.bind(x,void 0),j}onDisconnect(){return Os("Reference.onDisconnect",this._delegate._path),new Jl(new Yl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Vc{constructor(u,c){this._delegate=u,this.app=c,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ee,forceLongPolling:Pt}}useEmulator(u,c,b={}){!function(p,u,c,b={}){(p=(0,q.m9)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&me("Cannot call useEmulator() after instance has already been initialized.");const x=p._repoInternal;let j;if(x.repoInfo_.nodeAdmin)b.mockUserToken&&me('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),j=new wt(wt.OWNER);else if(b.mockUserToken){const ie="string"==typeof b.mockUserToken?b.mockUserToken:(0,q.Sg)(b.mockUserToken,p.app.options.projectId);j=new wt(ie)}!function(p,u,c,b){p.repoInfo_=new tn(`${u}:${c}`,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams),b&&(p.authTokenProvider_=b)}(x,u,c,j)}(this._delegate,u,c,b)}ref(u){if((0,q.Dv)("database.ref",0,1,arguments.length),u instanceof wa){const c=Fa(this._delegate,u.toString());return new wa(this,c)}{const c=Zl(this._delegate,u);return new wa(this,c)}}refFromURL(u){(0,q.Dv)("database.refFromURL",1,1,arguments.length);const b=Fa(this._delegate,u);return new wa(this,b)}goOffline(){return(0,q.Dv)("database.goOffline",0,0,arguments.length),function(p){(p=(0,q.m9)(p))._checkNotDeleted("goOffline"),nh(p._repo)}(this._delegate)}goOnline(){return(0,q.Dv)("database.goOnline",0,0,arguments.length),function(p){(p=(0,q.m9)(p))._checkNotDeleted("goOnline"),function(p){p.persistentConnection_&&p.persistentConnection_.resume(Cd)}(p._repo)}(this._delegate)}}Vc.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:p=>function(p){return{".sv":{increment:p}}}(p)};var jf=Object.freeze({__proto__:null,initStandalone:function({app:p,url:u,version:c,customAuthImpl:b,namespace:x,nodeAdmin:j=!1}){Ut(c);const ie=new Ke.zt("auth-internal",new Ke.H0("database-standalone"));return ie.setComponent(new Ke.wA("auth-internal",()=>b,"PRIVATE")),{instance:new Vc(dc(p,ie,void 0,u,j),p),namespace:x}}});const fh=Vc.ServerValue;!function(p){p.INTERNAL.registerComponent(new Ke.wA("database-compat",(u,{instanceIdentifier:c})=>{const b=u.getProvider("app-compat").getImmediate(),x=u.getProvider("database").getImmediate({identifier:c});return new Vc(x,b)},"PUBLIC").setServiceProps({Reference:wa,Query:Po,Database:Vc,DataSnapshot:fl,enableLogging:Ii,INTERNAL:jf,ServerValue:fh}).setMultipleInstances(!0)),p.registerVersion("@firebase/database-compat","0.2.0")}(ut.Z);var Ka=D(3820),Bc=D(6256),Uc=D(7841);function ph(p){return null==p}function qu(p){return"function"==typeof p.set}function Gf(p,u){return qu(u)?u:p.ref(u)}function Tu(p,u){if(function(p){return"string"==typeof p}(p))return u.stringCase();if(qu(p))return u.firebaseCase();if(function(p){return"function"==typeof p.exportVal}(p))return u.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof p)}function Ml(p,u,c="on",b=m.z){return new y.y(x=>{let j=null;return j=p[c](u,(ie,Ge)=>{b.schedule(()=>{x.next({snapshot:ie,prevKey:Ge})}),"once"===c&&b.schedule(()=>x.complete())},ie=>{b.schedule(()=>x.error(ie))}),"on"===c?{unsubscribe(){null!=j&&p.off(u,j)}}:{unsubscribe(){}}}).pipe((0,Xe.U)(x=>{const{snapshot:j,prevKey:ie}=x;let Ge=null;return j.exists()&&(Ge=j.key),{type:u,payload:j,prevKey:ie,key:Ge}}),(0,nt.B)())}function mh(p,u){const c=p.length;for(let b=0;b<c;b++)if(p[b].payload.key===u)return b;return-1}function zf(p,u){const{payload:c,prevKey:b,key:x}=u,j=mh(p,x),ie=function(p,u){if(ph(u))return 0;{const c=mh(p,u);return-1===c?p.length:c+1}}(p,b);switch(u.type){case"value":if(u.payload&&u.payload.exists()){let Ge=null;u.payload.forEach(dt=>{const Lt={payload:dt,type:"value",prevKey:Ge,key:dt.key};return Ge=dt.key,p=[...p,Lt],!1})}return p;case"child_added":if(j>-1){const Ge=p[j-1];(Ge&&Ge.key||null)!==b&&(p=p.filter(dt=>dt.payload.key!==c.key)).splice(ie,0,u)}else{if(null==b)return[u,...p];(p=p.slice()).splice(ie,0,u)}return p;case"child_removed":return p.filter(Ge=>Ge.payload.key!==c.key);case"child_changed":return p.map(Ge=>Ge.payload.key===x?u:Ge);case"child_moved":if(j>-1){const Ge=p.splice(j,1)[0];return(p=p.slice()).splice(ie,0,Ge),p}return p;default:return p}}function uf(p){return(ph(p)||0===p.length)&&(p=["child_added","child_removed","child_changed","child_moved"]),p}function Qu(p,u,c){return function(p,u,c){return Ml(p,"value","once",c).pipe((0,Me.w)(b=>{const x=[(0,d.of)(b)];return u.forEach(j=>x.push(Ml(p,j,"on",c))),(0,he.T)(...x).pipe((0,Qe.R)(zf,[]))}),(0,Qt.x)())}(p,u=uf(u),c)}function $f(p,u,c){const b=(u=uf(u)).map(x=>Ml(p,x,"on",c));return(0,he.T)(...b)}function Da(p,u){return function(b,x){return Tu(b,{stringCase:()=>p.child(b)[u](x),firebaseCase:()=>b[u](x),snapshotCase:()=>b.ref[u](x)})}}function Wf(p){return function(c){return c?Tu(c,{stringCase:()=>p.child(c).remove(),firebaseCase:()=>c.remove(),snapshotCase:()=>c.ref.remove()}):p.remove()}}function hf(p,u){return function(){return Ml(p,"value","on",u)}}const ff=new _.OlP("angularfire2.realtimeDatabaseURL"),Yf=new _.OlP("angularfire2.database.use-emulator");let Xl=(()=>{class p{constructor(c,b,x,j,ie,Ge,dt,Lt,bn,Cn,Un,yi,ji,ys,sa){this.schedulers=Ge;const ha=dt,Jo=(0,Gt.on)(c,ie,b);Lt&&(0,Ka.nw)(Jo,ie,bn,Un,yi,ji,Cn,ys),this.database=(0,Gt.cc)(`${Jo.name}.database.${x}`,"AngularFireDatabase",Jo.name,()=>{const qa=ie.runOutsideAngular(()=>Jo.database(x||void 0));return ha&&qa.useEmulator(...ha),qa},[ha])}list(c,b){const x=this.schedulers.ngZone.runOutsideAngular(()=>Gf(this.database,c));let j=x;return b&&(j=b(x)),function(p,u){const c=u.schedulers.outsideAngular,b=u.schedulers.ngZone.run(()=>p.ref);return{query:p,update:Da(b,"update"),set:Da(b,"set"),push:x=>b.push(x),remove:Wf(b),snapshotChanges:x=>Qu(p,x,c).pipe(hn.iC),stateChanges:x=>$f(p,x,c).pipe(hn.iC),auditTrail:x=>function(p,u,c){return function(p,u,c){return function(p,u){return Ml(p,"value","on",u).pipe((0,Xe.U)(c=>{let b;return c.payload.forEach(x=>(b=x.key,!1)),{data:c,lastKeyToLoad:b}}))}(p,c).pipe(function(...p){return u=>{let c;return"function"==typeof p[p.length-1]&&(c=p.pop()),u.lift(new Ee(p,c))}}(u),(0,Xe.U)(([x,j])=>{const ie=x.lastKeyToLoad,Ge=j.map(dt=>dt.key);return{actions:j,lastKeyToLoad:ie,loadedKeys:Ge}}),function(p){return u=>u.lift(new Ye(p))}(x=>-1===x.loadedKeys.indexOf(x.lastKeyToLoad)),(0,Xe.U)(x=>x.actions))}(p,$f(p,u).pipe((0,Qe.R)((x,j)=>[...x,j],[])),c)}(p,x,c).pipe(hn.iC),valueChanges:(x,j)=>Qu(p,x,c).pipe((0,Xe.U)(Ge=>Ge.map(dt=>j&&j.idField?Object.assign(Object.assign({},dt.payload.val()),{[j.idField]:dt.key}):dt.payload.val())),hn.iC)}}(j,this)}object(c){return function(p,u){return{query:p,snapshotChanges:()=>hf(p,u.schedulers.outsideAngular)().pipe(hn.iC),update:c=>p.ref.update(c),set:c=>p.ref.set(c),remove:()=>p.ref.remove(),valueChanges:()=>hf(p,u.schedulers.outsideAngular)().pipe(hn.iC,(0,Xe.U)(b=>b.payload.exists()?b.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Gf(this.database,c)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return p.\u0275fac=function(c){return new(c||p)(_.LFG(Gt.Dh),_.LFG(Gt.xv,8),_.LFG(ff,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(hn.HU),_.LFG(Yf,8),_.LFG(Ka.zQ,8),_.LFG(Ka.Qv,8),_.LFG(Ka.L6,8),_.LFG(Ka._Q,8),_.LFG(Ka.rT,8),_.LFG(Ka.lh,8),_.LFG(Ka.f7,8),_.LFG(Bc.nm,8))},p.\u0275prov=_.Yz7({token:p,factory:p.\u0275fac,providedIn:"any"}),p})(),Ju=(()=>{class p{constructor(){Uc.Z.registerVersion("angularfire",hn.q4.full,"rtdb-compat")}}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=_.oAB({type:p}),p.\u0275inj=_.cJS({providers:[Xl]}),p})()},4384:(In,mt,D)=>{"use strict";D.d(mt,{ST:()=>kg,yb:()=>_y});var Ke,_=D(7716),m=D(3637),y=D(7574),d=D(4402),he=D(5917),U=D(2310),De=D(9761),le=D(9328),Ee=D(8002),se=D(2145),Te=D(7519),oe=D(5435),Ye=D(8939),tt=D(8583),nt=(D(5470),D(3394)),Me=D(8239),Qe=D(8026),Qt=D(3910),hn=D(5422),Gt=D(3854),Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ut={},ze=ze||{},be=Et||self;function q(){}function ke(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function yt(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var un="closure_uid_"+(1e9*Math.random()>>>0),Ut=0;function jn(s,e,i){return s.call.apply(s.bind,arguments)}function ii(s,e,i){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,o),s.apply(e,h)}}return function(){return s.apply(e,arguments)}}function Gn(s,e,i){return(Gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jn:ii).apply(null,arguments)}function Qn(s,e){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function kn(s,e){function i(){}i.prototype=e.prototype,s.Z=e.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(o,h,C){for(var M=Array(arguments.length-2),G=2;G<arguments.length;G++)M[G-2]=arguments[G];return e.prototype[h].apply(o,M)}}function Rt(){this.s=this.s,this.o=this.o}var Ae={};Rt.prototype.s=!1,Rt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,un)&&s[un]||(s[un]=++Ut)}(this);delete Ae[s]}},Rt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const de=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===e)return i;return-1},te=Array.prototype.forEach?function(s,e,i){Array.prototype.forEach.call(s,e,i)}:function(s,e,i){const o=s.length,h="string"==typeof s?s.split(""):s;for(let C=0;C<o;C++)C in h&&e.call(i,h[C],C,s)};function Pe(s){return Array.prototype.concat.apply([],arguments)}function bt(s){const e=s.length;if(0<e){const i=Array(e);for(let o=0;o<e;o++)i[o]=s[o];return i}return[]}function ct(s){return/^[\s\xa0]*$/.test(s)}var je,Ft=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function me(s,e){return-1!=s.indexOf(e)}function rt(s,e){return s<e?-1:s>e?1:0}e:{var We=be.navigator;if(We){var at=We.userAgent;if(at){je=at;break e}}je=""}function fn(s,e,i){for(const o in s)e.call(i,s[o],o,s)}function jt(s){const e={};for(const i in s)e[i]=s[i];return e}var cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ln(s,e){let i,o;for(let h=1;h<arguments.length;h++){for(i in o=arguments[h],o)s[i]=o[i];for(let C=0;C<cn.length;C++)i=cn[C],Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])}}function pt(s){return pt[" "](s),s}pt[" "]=q;var an,s,B=me(je,"Opera"),H=me(je,"Trident")||me(je,"MSIE"),ae=me(je,"Edge"),Le=ae||H,ge=me(je,"Gecko")&&!(me(je.toLowerCase(),"webkit")&&!me(je,"Edge"))&&!(me(je,"Trident")||me(je,"MSIE"))&&!me(je,"Edge"),Ue=me(je.toLowerCase(),"webkit")&&!me(je,"Edge");function Bt(){var s=be.document;return s?s.documentMode:void 0}e:{var Tn="",Nn=(s=je,ge?/rv:([^\);]+)(\)|;)/.exec(s):ae?/Edge\/([\d\.]+)/.exec(s):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Ue?/WebKit\/(\S+)/.exec(s):B?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Nn&&(Tn=Nn?Nn[1]:""),H){var Pn=Bt();if(null!=Pn&&Pn>parseFloat(Tn)){an=String(Pn);break e}}an=Tn}var ei={};function Jn(){return e=ei,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=Ft(String(an)).split("."),i=Ft("9").split("."),o=Math.max(e.length,i.length);for(let M=0;0==s&&M<o;M++){var h=e[M]||"",C=i[M]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],0==h[0].length&&0==C[0].length)break;s=rt(0==h[1].length?0:parseInt(h[1],10),0==C[1].length?0:parseInt(C[1],10))||rt(0==h[2].length,0==C[2].length)||rt(h[2],C[2]),h=h[3],C=C[3]}while(0==s)}return 0<=s}();var e}var wt=be.document&&H&&(Bt()||parseInt(an,10))||void 0,ln=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{be.addEventListener("test",q,e),be.removeEventListener("test",q,e)}catch(i){}return s}();function Ct(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function nn(s,e){if(Ct.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(ge){e:{try{pt(e.nodeName);var h=!0;break e}catch(C){}h=!1}h||(e=null)}}else"mouseover"==i?e=s.fromElement:"mouseout"==i&&(e=s.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Rn[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&nn.Z.h.call(this)}}Ct.prototype.h=function(){this.defaultPrevented=!0},kn(nn,Ct);var Rn={2:"touch",3:"pen",4:"mouse"};nn.prototype.h=function(){nn.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Bn="closure_listenable_"+(1e6*Math.random()|0),_t=0;function Nt(s,e,i,o,h){this.listener=s,this.proxy=null,this.src=e,this.type=i,this.capture=!!o,this.ia=h,this.key=++_t,this.ca=this.fa=!1}function pe(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function we(s){this.src=s,this.g={},this.h=0}function Oe(s,e){var i=e.type;if(i in s.g){var C,o=s.g[i],h=de(o,e);(C=0<=h)&&Array.prototype.splice.call(o,h,1),C&&(pe(e),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Tt(s,e,i,o){for(var h=0;h<s.length;++h){var C=s[h];if(!C.ca&&C.listener==e&&C.capture==!!i&&C.ia==o)return h}return-1}we.prototype.add=function(s,e,i,o,h){var C=s.toString();(s=this.g[C])||(s=this.g[C]=[],this.h++);var M=Tt(s,e,o,h);return-1<M?(e=s[M],i||(e.fa=!1)):((e=new Nt(e,this.src,C,!!o,h)).fa=i,s.push(e)),e};var tn="closure_lm_"+(1e6*Math.random()|0),Wn={};function hi(s,e,i,o,h){if(o&&o.once)return Wi(s,e,i,o,h);if(Array.isArray(e)){for(var C=0;C<e.length;C++)hi(s,e[C],i,o,h);return null}return i=Kn(i),s&&s[Bn]?s.N(e,i,yt(o)?!!o.capture:!!o,h):xi(s,e,i,!1,o,h)}function xi(s,e,i,o,h,C){if(!e)throw Error("Invalid event type");var M=yt(h)?!!h.capture:!!h,G=$r(s);if(G||(s[tn]=G=new we(s)),(i=G.add(e,i,o,M,C)).proxy)return i;if(o=function(){var e=qi;return function s(i){return e.call(s.src,s.listener,i)}}(),i.proxy=o,o.src=s,o.listener=i,s.addEventListener)ln||(h=M),void 0===h&&(h=!1),s.addEventListener(e.toString(),o,h);else if(s.attachEvent)s.attachEvent(vr(e.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return i}function Wi(s,e,i,o,h){if(Array.isArray(e)){for(var C=0;C<e.length;C++)Wi(s,e[C],i,o,h);return null}return i=Kn(i),s&&s[Bn]?s.O(e,i,yt(o)?!!o.capture:!!o,h):xi(s,e,i,!0,o,h)}function Ai(s,e,i,o,h){if(Array.isArray(e))for(var C=0;C<e.length;C++)Ai(s,e[C],i,o,h);else o=yt(o)?!!o.capture:!!o,i=Kn(i),s&&s[Bn]?(s=s.i,(e=String(e).toString())in s.g&&-1<(i=Tt(C=s.g[e],i,o,h))&&(pe(C[i]),Array.prototype.splice.call(C,i,1),0==C.length&&(delete s.g[e],s.h--))):s&&(s=$r(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Tt(e,i,o,h)),(i=-1<s?e[s]:null)&&Hi(i))}function Hi(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[Bn])Oe(e.i,s);else{var i=s.type,o=s.proxy;e.removeEventListener?e.removeEventListener(i,o,s.capture):e.detachEvent?e.detachEvent(vr(i),o):e.addListener&&e.removeListener&&e.removeListener(o),(i=$r(e))?(Oe(i,s),0==i.h&&(i.src=null,e[tn]=null)):pe(s)}}}function vr(s){return s in Wn?Wn[s]:Wn[s]="on"+s}function qi(s,e){if(s.ca)s=!0;else{e=new nn(e,this);var i=s.listener,o=s.ia||s.src;s.fa&&Hi(s),s=i.call(o,e)}return s}function $r(s){return(s=s[tn])instanceof we?s:null}var Li="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kn(s){return"function"==typeof s?s:(s[Li]||(s[Li]=function(e){return s.handleEvent(e)}),s[Li])}function si(){Rt.call(this),this.i=new we(this),this.P=this,this.I=null}function li(s,e){var i,o=s.I;if(o)for(i=[];o;o=o.I)i.push(o);if(s=s.P,o=e.type||e,"string"==typeof e)e=new Ct(e,s);else if(e instanceof Ct)e.target=e.target||s;else{var h=e;Ln(e=new Ct(o,s),h)}if(h=!0,i)for(var C=i.length-1;0<=C;C--){var M=e.g=i[C];h=yr(M,o,!0,e)&&h}if(h=yr(M=e.g=s,o,!0,e)&&h,h=yr(M,o,!1,e)&&h,i)for(C=0;C<i.length;C++)h=yr(M=e.g=i[C],o,!1,e)&&h}function yr(s,e,i,o){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,C=0;C<e.length;++C){var M=e[C];if(M&&!M.ca&&M.capture==i){var G=M.listener,Ce=M.ia||M.src;M.fa&&Oe(s.i,M),h=!1!==G.call(Ce,o)&&h}}return h&&!o.defaultPrevented}kn(si,Rt),si.prototype[Bn]=!0,si.prototype.removeEventListener=function(s,e,i,o){Ai(this,s,e,i,o)},si.prototype.M=function(){if(si.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var i=s.g[e],o=0;o<i.length;o++)pe(i[o]);delete s.g[e],s.h--}}this.I=null},si.prototype.N=function(s,e,i,o){return this.i.add(String(s),e,!1,i,o)},si.prototype.O=function(s,e,i,o){return this.i.add(String(s),e,!0,i,o)};var $e=be.JSON.stringify;function Mt(){var s=$t;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var St,ht=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Xt,s=>s.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function En(s){be.setTimeout(()=>{throw s},0)}function xn(s,e){St||function(){var s=be.Promise.resolve(void 0);St=function(){s.then(_n)}}(),st||(St(),st=!0),$t.add(s,e)}var st=!1,$t=new class{constructor(){this.h=this.g=null}add(e,i){const o=ht.get();o.set(e,i),this.h?this.h.next=o:this.g=o,this.h=o}};function _n(){for(var s;s=Mt();){try{s.h.call(s.g)}catch(i){En(i)}var e=ht;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}st=!1}function $n(s,e){si.call(this),this.h=s||1,this.g=e||be,this.j=Gn(this.kb,this),this.l=Date.now()}function pi(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Mi(s,e,i){if("function"==typeof s)i&&(s=Gn(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Gn(s.handleEvent,s)}return 2147483647<Number(e)?-1:be.setTimeout(s,e||0)}function ui(s){s.g=Mi(()=>{s.g=null,s.i&&(s.i=!1,ui(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}kn($n,si),(Ke=$n.prototype).da=!1,Ke.S=null,Ke.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),li(this,"tick"),this.da&&(pi(this),this.start()))}},Ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.M=function(){$n.Z.M.call(this),pi(this),delete this.g};class Tr extends Rt{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ui(this)}M(){super.M(),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(s){Rt.call(this),this.h=s,this.g={}}kn(mr,Rt);var Wr=[];function Es(s,e,i,o){Array.isArray(i)||(i&&(Wr[0]=i.toString()),i=Wr);for(var h=0;h<i.length;h++){var C=hi(e,i[h],o||s.handleEvent,!1,s.h||s);if(!C)break;s.g[C.key]=C}}function Mr(s){fn(s.g,function(e,i){this.g.hasOwnProperty(i)&&Hi(e)},s),s.g={}}function lr(){this.g=!0}function Yr(s,e,i,o){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var o=i[s];if(!(2>o.length)){var h=o[1];if(Array.isArray(h)&&!(1>h.length)){var C=h[0];if("noop"!=C&&"stop"!=C&&"close"!=C)for(var M=1;M<h.length;M++)h[M]=""}}}return $e(i)}catch(G){return e}}(s,i)+(o?" "+o:"")})}mr.prototype.M=function(){mr.Z.M.call(this),Mr(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lr.prototype.Aa=function(){this.g=!1},lr.prototype.info=function(){};var Ji={},os=null;function Jr(){return os=os||new si}function ds(s){Ct.call(this,Ji.Ma,s)}function kr(s){const e=Jr();li(e,new ds(e,s))}function mo(s,e){Ct.call(this,Ji.STAT_EVENT,s),this.stat=e}function Or(s){const e=Jr();li(e,new mo(e,s))}function Kt(s,e){Ct.call(this,Ji.Na,s),this.size=e}function zt(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){s()},e)}Ji.Ma="serverreachability",kn(ds,Ct),Ji.STAT_EVENT="statevent",kn(mo,Ct),Ji.Na="timingevent",kn(Kt,Ct);var rn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mn(){}function ki(){}Mn.prototype.h=null;var Ns,Ci={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ei(){Ct.call(this,"d")}function Br(){Ct.call(this,"c")}function Fs(){}function ir(s,e,i,o){this.l=s,this.j=e,this.m=i,this.X=o||1,this.V=new mr(this),this.P=Ur,this.W=new $n(s=Le?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}kn(Ei,Ct),kn(Br,Ct),kn(Fs,Mn),Fs.prototype.g=function(){return new XMLHttpRequest},Fs.prototype.i=function(){return{}},Ns=new Fs;var Ur=45e3,as={},Ss={};function Pr(s,e,i){s.K=1,s.v=N(Zr(e)),s.s=i,s.U=!0,Ls(s,null)}function Ls(s,e){s.F=Date.now(),Ar(s),s.A=Zr(s.v);var i=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),vi(i.h,"t",o),s.C=0,i=s.l.H,s.h=new Vi,s.g=Di(s.l,i?e:null,!s.s),0<s.O&&(s.L=new Tr(Gn(s.Ia,s,s.g),s.O)),Es(s.V,s.g,"readystatechange",s.gb),e=s.H?jt(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),kr(1),function(s,e,i,o,h,C){s.info(function(){if(s.g)if(C)for(var M="",G=C.split("&"),Ce=0;Ce<G.length;Ce++){var Fe=G[Ce].split("=");if(1<Fe.length){var It=Fe[0];Fe=Fe[1];var Wt=It.split("_");M=2<=Wt.length&&"type"==Wt[1]?M+(It+"=")+Fe+"&":M+(It+"=redacted&")}}else M=null;else M=C;return"XMLHTTP REQ ("+o+") [attempt "+h+"]: "+e+"\n"+i+"\n"+M})}(s.j,s.u,s.A,s.m,s.X,s.s)}function go(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function Ms(s,e,i){let h,o=!0;for(;!s.I&&s.C<i.length;){if(h=jo(s,i),h==Ss){4==e&&(s.o=4,Or(14),o=!1),Yr(s.j,s.m,null,"[Incomplete Response]");break}if(h==as){s.o=4,Or(15),Yr(s.j,s.m,i,"[Invalid Chunk]"),o=!1;break}Yr(s.j,s.m,h,null),ps(s,h)}go(s)&&h!=Ss&&h!=as&&(s.h.g="",s.C=0),4!=e||0!=i.length||s.h.h||(s.o=1,Or(16),o=!1),s.i=s.i&&o,o?0<i.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),J(e),e.L=!0,Or(11))):(Yr(s.j,s.m,i,"[Invalid Chunked Response]"),ns(s),hr(s))}function jo(s,e){var i=s.C,o=e.indexOf("\n",i);return-1==o?Ss:(i=Number(e.substring(i,o)),isNaN(i)?as:(o+=1)+i>e.length?Ss:(e=e.substr(o,i),s.C=o+i,e))}function Ar(s){s.Y=Date.now()+s.P,hs(s,s.P)}function hs(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=zt(Gn(s.eb,s),e)}function fs(s){s.B&&(be.clearTimeout(s.B),s.B=null)}function hr(s){0==s.l.G||s.I||kt(s.l,s)}function ns(s){fs(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,pi(s.W),Mr(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function ps(s,e){try{var i=s.l;if(0!=i.G&&(i.g==s||Fn(i.i,s)))if(i.I=s.N,!s.J&&Fn(i.i,s)&&3==i.G){try{var o=i.Ca.g.parse(e)}catch(Fe){o=null}if(Array.isArray(o)&&3==o.length){var h=o;if(0==h[0])e:if(i.u)i.ta=h[1],0<i.ta-i.U&&37500>h[2]&&i.N&&0==i.A&&!i.v&&(i.v=zt(Gn(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;it(i),Zo(i)}Q(i),Or(18)}if(1>=ma(i.i)&&i.ka){try{i.ka()}catch(Fe){}i.ka=void 0}}else On(i,11)}else if((s.J||i.g==s)&&it(i),!ct(e))for(h=i.Ca.g.parse(e),e=0;e<h.length;e++){let Fe=h[e];if(i.U=Fe[0],Fe=Fe[1],2==i.G)if("c"==Fe[0]){i.J=Fe[1],i.la=Fe[2];const It=Fe[3];null!=It&&(i.ma=It,i.h.info("VER="+i.ma));const Wt=Fe[4];null!=Wt&&(i.za=Wt,i.h.info("SVER="+i.za));const Dn=Fe[5];null!=Dn&&"number"==typeof Dn&&0<Dn&&(i.K=o=1.5*Dn,i.h.info("backChannelRequestTimeoutMs_="+o)),o=i;const Yn=s.g;if(Yn){const vn=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vn){var C=o.i;!C.g&&(me(vn,"spdy")||me(vn,"quic")||me(vn,"h2"))&&(C.j=C.l,C.g=new Set,C.h&&(Yi(C,C.h),C.h=null))}if(o.D){const Ti=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ti&&(o.sa=Ti,k(o.F,o.D,Ti))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var M=s;if((o=i).oa=ti(o,o.H?o.la:null,o.W),M.J){xr(o.i,M);var G=M,Ce=o.K;Ce&&G.setTimeout(Ce),G.B&&(fs(G),Ar(G)),o.g=M}else Ki(o);0<i.l.length&&bo(i)}else"stop"!=Fe[0]&&"close"!=Fe[0]||On(i,7);else 3==i.G&&("stop"==Fe[0]||"close"==Fe[0]?"stop"==Fe[0]?On(i,7):Zs(i):"noop"!=Fe[0]&&i.j&&i.j.wa(Fe),i.A=0)}kr(4)}catch(Fe){}}function Hr(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(ke(s)||"string"==typeof s)te(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(ke(s)||"string"==typeof s){i=[];for(var o=s.length,h=0;h<o;h++)i.push(h)}else for(h in i=[],o=0,s)i[o++]=h;h=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(ke(s)){for(var e=[],i=s.length,o=0;o<i;o++)e.push(s[o]);return e}for(o in e=[],i=0,s)e[i++]=s[o];return e}(s)).length;for(var C=0;C<h;C++)e.call(void 0,o[C],i&&i[C],s)}}function ao(s,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var o=0;o<i;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof ao)for(i=s.T(),o=0;o<i.length;o++)this.set(i[o],s.get(i[o]));else for(o in s)this.set(o,s[o])}function jr(s){if(s.i!=s.g.length){for(var e=0,i=0;e<s.g.length;){var o=s.g[e];cr(s.h,o)&&(s.g[i++]=o),e++}s.g.length=i}if(s.i!=s.g.length){var h={};for(i=e=0;e<s.g.length;)cr(h,o=s.g[e])||(s.g[i++]=o,h[o]=1),e++;s.g.length=i}}function cr(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(Ke=ir.prototype).setTimeout=function(s){this.P=s},Ke.gb=function(s){s=s.target;const e=this.L;e&&3==br(s)?e.l():this.Ia(s)},Ke.Ia=function(s){try{if(s==this.g)e:{const It=br(this.g);var e=this.g.Da();const Wt=this.g.ba();if(!(3>It)&&(3!=It||Le||this.g&&(this.h.h||this.g.ga()||lo(this.g)))){this.I||4!=It||7==e||kr(8==e||0>=Wt?3:2),fs(this);var i=this.g.ba();this.N=i;t:if(go(this)){var o=lo(this.g);s="";var h=o.length,C=4==br(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ns(this),hr(this);var M="";break t}this.h.i=new be.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,s+=this.h.i.decode(o[e],{stream:C&&e==h-1});o.splice(0,h),this.h.g+=s,this.C=0,M=this.h.g}else M=this.g.ga();if(this.i=200==i,function(s,e,i,o,h,C,M){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+h+"]: "+e+"\n"+i+"\n"+C+" "+M})}(this.j,this.u,this.A,this.m,this.X,It,i),this.i){if(this.$&&!this.J){t:{if(this.g){var G,Ce=this.g;if((G=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(G)){var Fe=G;break t}}Fe=null}if(!(i=Fe)){this.i=!1,this.o=3,Or(12),ns(this),hr(this);break e}Yr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ps(this,i)}this.U?(Ms(this,It,M),Le&&this.i&&3==It&&(Es(this.V,this.W,"tick",this.fb),this.W.start())):(Yr(this.j,this.m,M,null),ps(this,M)),4==It&&ns(this),this.i&&!this.I&&(4==It?kt(this.l,this):(this.i=!1,Ar(this)))}else 400==i&&0<M.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),ns(this),hr(this)}}}catch(It){}},Ke.fb=function(){if(this.g){var s=br(this.g),e=this.g.ga();this.C<e.length&&(fs(this),Ms(this,s,e),this.i&&4!=s&&Ar(this))}},Ke.cancel=function(){this.I=!0,ns(this)},Ke.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(kr(3),Or(17)),ns(this),this.o=2,hr(this)):hs(this,this.Y-s)},(Ke=ao.prototype).R=function(){jr(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},Ke.T=function(){return jr(this),this.g.concat()},Ke.get=function(s,e){return cr(this.h,s)?this.h[s]:e},Ke.set=function(s,e){cr(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},Ke.forEach=function(s,e){for(var i=this.T(),o=0;o<i.length;o++){var h=i[o],C=this.get(h);s.call(e,C,h,this)}};var Ri=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bs(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Bs){this.g=void 0!==e?e:s.g,Nr(this,s.j),this.s=s.s,K(this,s.i),Ve(this,s.m),this.l=s.l,e=s.h;var i=new rr;i.i=e.i,e.g&&(i.g=new ao(e.g),i.h=e.h),ne(this,i),this.o=s.o}else s&&(i=String(s).match(Ri))?(this.g=!!e,Nr(this,i[1]||"",!0),this.s=$(i[2]||""),K(this,i[3]||"",!0),Ve(this,i[4]),this.l=$(i[5]||"",!0),ne(this,i[6]||"",!0),this.o=$(i[7]||"")):(this.g=!!e,this.h=new rr(null,this.g))}function Zr(s){return new Bs(s)}function Nr(s,e,i){s.j=i?$(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function K(s,e,i){s.i=i?$(e,!0):e}function Ve(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function ne(s,e,i){e instanceof rr?(s.h=e,function(s,e){e&&!s.j&&(Xi(s),s.i=null,s.g.forEach(function(i,o){var h=o.toLowerCase();o!=h&&(Bi(this,o),vi(this,h,i))},s)),s.j=e}(s.h,s.g)):(i||(e=et(e,wn)),s.h=new rr(e,s.g))}function k(s,e,i){s.h.set(e,i)}function N(s){return k(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function $(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function et(s,e,i){return"string"==typeof s?(s=encodeURI(s).replace(e,w),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function w(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Bs.prototype.toString=function(){var s=[],e=this.j;e&&s.push(et(e,V,!0),":");var i=this.i;return(i||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(et(e,V,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(et(i,"/"==i.charAt(0)?Ze:fe,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",et(i,oi)),s.join("")};var V=/[#\/\?@]/g,fe=/[#\?:]/g,Ze=/[#\?]/g,wn=/[#\?@]/g,oi=/#/g;function rr(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function Xi(s){s.g||(s.g=new ao,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var o=s[i].indexOf("="),h=null;if(0<=o){var C=s[i].substring(0,o);h=s[i].substring(o+1)}else C=s[i];e(C,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(s.i,function(e,i){s.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function Bi(s,e){Xi(s),e=Us(s,e),cr(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,cr((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&jr(s)))}function ur(s,e){return Xi(s),e=Us(s,e),cr(s.g.h,e)}function vi(s,e,i){Bi(s,e),0<i.length&&(s.i=null,s.g.set(Us(s,e),bt(i)),s.h+=i.length)}function Us(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Hs(s){this.l=s||Lo,s=be.PerformanceNavigationTiming?0<(s=be.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(be.g&&be.g.Ea&&be.g.Ea()&&be.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=rr.prototype).add=function(s,e){Xi(this),this.i=null,s=Us(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(e),this.h+=1,this},Ke.forEach=function(s,e){Xi(this),this.g.forEach(function(i,o){te(i,function(h){s.call(e,h,o,this)},this)},this)},Ke.T=function(){Xi(this);for(var s=this.g.R(),e=this.g.T(),i=[],o=0;o<e.length;o++)for(var h=s[o],C=0;C<h.length;C++)i.push(e[o]);return i},Ke.R=function(s){Xi(this);var e=[];if("string"==typeof s)ur(this,s)&&(e=Pe(e,this.g.get(Us(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)e=Pe(e,s[i])}return e},Ke.set=function(s,e){return Xi(this),this.i=null,ur(this,s=Us(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Ke.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),i=0;i<e.length;i++){var o=e[i],h=encodeURIComponent(String(o));o=this.R(o);for(var C=0;C<o.length;C++){var M=h;""!==o[C]&&(M+="="+encodeURIComponent(String(o[C]))),s.push(M)}}return this.i=s.join("&")};var Lo=10;function $i(s){return!!s.h||!!s.g&&s.g.size>=s.j}function ma(s){return s.h?1:s.g?s.g.size:0}function Fn(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function Yi(s,e){s.g?s.g.add(e):s.h=e}function xr(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Gr(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const i of s.g.values())e=e.concat(i.D);return e}return bt(s.i)}function aa(){}function Vo(){this.g=new aa}function Ys(s,e,i){const o=i||"";try{Hr(s,function(h,C){let M=h;yt(h)&&(M=$e(h)),e.push(o+C+"="+encodeURIComponent(M))})}catch(h){throw e.push(o+"type="+encodeURIComponent("_badmap")),h}}function S(s,e,i,o,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(o)}catch(C){}}function A(s){this.l=s.$b||null,this.j=s.ib||!1}function W(s,e){si.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=xe,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hs.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},aa.prototype.stringify=function(s){return be.JSON.stringify(s,void 0)},aa.prototype.parse=function(s){return be.JSON.parse(s,void 0)},kn(A,Mn),A.prototype.g=function(){return new W(this.l,this.j)},A.prototype.i=function(s){return function(){return s}}({}),kn(W,si);var xe=0;function Je(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function Dt(s){s.readyState=4,s.l=null,s.j=null,s.A=null,xt(s)}function xt(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ke=W.prototype).open=function(s,e){if(this.readyState!=xe)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,xt(this)},Ke.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||be).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=xe},Ke.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,xt(this)),this.g&&(this.readyState=3,xt(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==be.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Je(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Ke.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?Dt(this):xt(this),3==this.readyState&&Je(this)}},Ke.Ua=function(s){this.g&&(this.response=this.responseText=s,Dt(this))},Ke.Ta=function(s){this.g&&(this.response=s,Dt(this))},Ke.ha=function(){this.g&&Dt(this)},Ke.setRequestHeader=function(s,e){this.v.append(s,e)},Ke.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var i=e.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=e.next();return s.join("\r\n")},Object.defineProperty(W.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var sn=be.JSON.parse;function gn(s){si.call(this),this.headers=new ao,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zn,this.K=this.L=!1}kn(gn,si);var Zn="",di=/^https?$/i,bi=["POST","PUT"];function wi(s){return"content-type"==s.toLowerCase()}function Oi(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Zi(s),Fr(s)}function Zi(s){s.D||(s.D=!0,li(s,"complete"),li(s,"error"))}function Kr(s){if(s.h&&void 0!==ze&&(!s.C[1]||4!=br(s)||2!=s.ba()))if(s.v&&4==br(s))Mi(s.Fa,0,s);else if(li(s,"readystatechange"),4==br(s)){s.h=!1;try{const G=s.ba();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var o;if(o=0===G){var h=String(s.H).match(Ri)[1]||null;if(!h&&be.self&&be.self.location){var C=be.self.location.protocol;h=C.substr(0,C.length-1)}o=!di.test(h?h.toLowerCase():"")}i=o}if(i)li(s,"complete"),li(s,"success");else{s.m=6;try{var M=2<br(s)?s.g.statusText:""}catch(Ce){M=""}s.j=M+" ["+s.ba()+"]",Zi(s)}}finally{Fr(s)}}}function Fr(s,e){if(s.g){vs(s);const i=s.g,o=s.C[0]?q:null;s.g=null,s.C=null,e||li(s,"ready");try{i.onreadystatechange=o}catch(h){}}}function vs(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(be.clearTimeout(s.A),s.A=null)}function br(s){return s.g?s.g.readyState:0}function lo(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Zn:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zr(s,e,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=function(s){let e="";return fn(s,function(i,o){e+=o,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):k(s,e,i))}function As(s,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||e}function js(s){this.za=0,this.l=[],this.h=new lr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=As("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=As("baseRetryDelayMs",5e3,s),this.$a=As("retryDelaySeedMs",1e4,s),this.Ya=As("forwardChannelMaxRetries",2,s),this.ra=As("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new Hs(s&&s.concurrentRequestLimit),this.Ca=new Vo,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function Zs(s){if(Ks(s),3==s.G){var e=s.V++,i=Zr(s.F);k(i,"SID",s.J),k(i,"RID",e),k(i,"TYPE","terminate"),_i(s,i),(e=new ir(s,s.h,e,void 0)).K=2,e.v=N(Zr(i)),i=!1,be.navigator&&be.navigator.sendBeacon&&(i=be.navigator.sendBeacon(e.v.toString(),"")),!i&&be.Image&&((new Image).src=e.v,i=!0),i||(e.g=Di(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ar(e)}ci(s)}function Zo(s){s.g&&(J(s),s.g.cancel(),s.g=null)}function Ks(s){Zo(s),s.u&&(be.clearTimeout(s.u),s.u=null),it(s),s.i.cancel(),s.m&&("number"==typeof s.m&&be.clearTimeout(s.m),s.m=null)}function Xr(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&bo(s)}function bo(s){$i(s.i)||s.m||(s.m=!0,xn(s.Ha,s),s.C=0)}function fi(s,e){var i;i=e?e.m:s.V++;const o=Zr(s.F);k(o,"SID",s.J),k(o,"RID",i),k(o,"AID",s.U),_i(s,o),s.o&&s.s&&zr(o,s.o,s.s),i=new ir(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),e&&(s.l=e.D.concat(s.l)),e=Pi(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),Yi(s.i,i),Pr(i,o,e)}function _i(s,e){s.j&&Hr({},function(i,o){k(e,o,i)})}function Pi(s,e,i){i=Math.min(s.l.length,i);var o=s.j?Gn(s.j.Oa,s.j,s):null;e:{var h=s.l;let C=-1;for(;;){const M=["count="+i];-1==C?0<i?(C=h[0].h,M.push("ofs="+C)):C=0:M.push("ofs="+C);let G=!0;for(let Ce=0;Ce<i;Ce++){let Fe=h[Ce].h;const It=h[Ce].g;if(Fe-=C,0>Fe)C=Math.max(0,h[Ce].h-100),G=!1;else try{Ys(It,M,"req"+Fe+"_")}catch(Wt){o&&o(It)}}if(G){o=M.join("&");break e}}}return s=s.l.splice(0,i),e.D=s,o}function Ki(s){s.g||s.u||(s.Y=1,xn(s.Ga,s),s.A=0)}function Q(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=zt(Gn(s.Ga,s),on(s,s.A)),s.A++,0))}function J(s){null!=s.B&&(be.clearTimeout(s.B),s.B=null)}function Re(s){s.g=new ir(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=Zr(s.oa);k(e,"RID","rpc"),k(e,"SID",s.J),k(e,"CI",s.N?"0":"1"),k(e,"AID",s.U),_i(s,e),k(e,"TYPE","xmlhttp"),s.o&&s.s&&zr(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=N(Zr(e)),i.s=null,i.U=!0,Ls(i,s)}function it(s){null!=s.v&&(be.clearTimeout(s.v),s.v=null)}function kt(s,e){var i=null;if(s.g==e){it(s),J(s),s.g=null;var o=2}else{if(!Fn(s.i,e))return;i=e.D,xr(s.i,e),o=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==o){i=e.s?e.s.length:0,e=Date.now()-e.F;var h=s.C;li(o=Jr(),new Kt(o,i,e,h)),bo(s)}else Ki(s);else if(3==(h=e.o)||0==h&&0<s.I||!(1==o&&function(s,e){return!(ma(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=zt(Gn(s.Ha,s,e),on(s,s.C)),s.C++,0)))}(s,e)||2==o&&Q(s)))switch(i&&0<i.length&&(e=s.i,e.i=e.i.concat(i)),h){case 1:On(s,5);break;case 4:On(s,10);break;case 3:On(s,6);break;default:On(s,2)}}function on(s,e){let i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*e}function On(s,e){if(s.h.info("Error code "+e),2==e){var i=null;s.j&&(i=null);var o=Gn(s.jb,s);i||(i=new Bs("//www.google.com/images/cleardot.gif"),be.location&&"http"==be.location.protocol||Nr(i,"https"),N(i)),function(s,e){const i=new lr;if(be.Image){const o=new Image;o.onload=Qn(S,i,o,"TestLoadImage: loaded",!0,e),o.onerror=Qn(S,i,o,"TestLoadImage: error",!1,e),o.onabort=Qn(S,i,o,"TestLoadImage: abort",!1,e),o.ontimeout=Qn(S,i,o,"TestLoadImage: timeout",!1,e),be.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else e(!1)}(i.toString(),o)}else Or(2);s.G=0,s.j&&s.j.va(e),ci(s),Ks(s)}function ci(s){s.G=0,s.I=-1,s.j&&((0!=Gr(s.i).length||0!=s.l.length)&&(s.i.i.length=0,bt(s.l),s.l.length=0),s.j.ua())}function ti(s,e,i){let o=function(s){return s instanceof Bs?Zr(s):new Bs(s,void 0)}(i);if(""!=o.i)e&&K(o,e+"."+o.i),Ve(o,o.m);else{const h=be.location;o=function(s,e,i,o){var h=new Bs(null,void 0);return s&&Nr(h,s),e&&K(h,e),i&&Ve(h,i),o&&(h.l=o),h}(h.protocol,e?e+"."+h.hostname:h.hostname,+h.port,i)}return s.aa&&fn(s.aa,function(h,C){k(o,C,h)}),i=s.sa,(e=s.D)&&i&&k(o,e,i),k(o,"VER",s.ma),_i(s,o),o}function Di(s,e,i){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gn(i&&s.Ba&&!s.qa?new A({ib:!0}):s.qa)).L=s.H,e}function or(){}function Ir(){if(H&&!(10<=Number(wt)))throw Error("Environmental error: no available transport.")}function zi(s,e){si.call(this),this.g=new js(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!ct(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ct(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new xs(this)}function es(s){Ei.call(this);var e=s.__sm__;if(e){e:{for(const i in e){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Ds(){Br.call(this),this.status=1}function xs(s){this.g=s}(Ke=gn.prototype).ea=function(s,e,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ns.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Ns),this.g.onreadystatechange=Gn(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(C){return void Oi(this,C)}s=i||"";const h=new ao(this.headers);o&&Hr(o,function(C,M){h.set(M,C)}),o=function(s){e:{var e=wi;const i=s.length,o="string"==typeof s?s.split(""):s;for(let h=0;h<i;h++)if(h in o&&e.call(void 0,o[h],h,s)){e=h;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(h.T()),i=be.FormData&&s instanceof be.FormData,!(0<=de(bi,e))||o||i||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(C,M){this.g.setRequestHeader(M,C)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vs(this),0<this.B&&((this.K=function(s){return H&&Jn()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gn(this.pa,this)):this.A=Mi(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(C){Oi(this,C)}},Ke.pa=function(){void 0!==ze&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,li(this,"timeout"),this.abort(8))},Ke.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,li(this,"complete"),li(this,"abort"),Fr(this))},Ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fr(this,!0)),gn.Z.M.call(this)},Ke.Fa=function(){this.s||(this.F||this.v||this.l?Kr(this):this.cb())},Ke.cb=function(){Kr(this)},Ke.ba=function(){try{return 2<br(this)?this.g.status:-1}catch(s){return-1}},Ke.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Ke.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),sn(e)}},Ke.Da=function(){return this.m},Ke.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=js.prototype).ma=8,Ke.G=1,Ke.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},Ke.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const h=new ir(this,this.h,s,void 0);let C=this.s;if(this.P&&(C?(C=jt(C),Ln(C,this.P)):C=this.P),null===this.o&&(h.H=C),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break e}if(4096===e||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=Pi(this,h,e),k(i=Zr(this.F),"RID",s),k(i,"CVER",22),this.D&&k(i,"X-HTTP-Session-Id",this.D),_i(this,i),this.o&&C&&zr(i,this.o,C),Yi(this.i,h),this.Ra&&k(i,"TYPE","init"),this.ja?(k(i,"$req",e),k(i,"SID","null"),h.$=!0,Pr(h,i,null)):Pr(h,i,e),this.G=2}}else 3==this.G&&(s?fi(this,s):0==this.l.length||$i(this.i)||fi(this))},Ke.Ga=function(){if(this.u=null,Re(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=zt(Gn(this.bb,this),s)}},Ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Or(10),Zo(this),Re(this))},Ke.ab=function(){null!=this.v&&(this.v=null,Zo(this),Q(this),Or(19))},Ke.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Or(2)):(this.h.info("Failed to ping google.com"),Or(1))},(Ke=or.prototype).xa=function(){},Ke.wa=function(){},Ke.va=function(){},Ke.ua=function(){},Ke.Oa=function(){},Ir.prototype.g=function(s,e){return new zi(s,e)},kn(zi,si),zi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),xn(Gn(s.hb,s,e))),Or(0),s.W=e,s.aa=i||{},s.N=s.X,s.F=ti(s,null,s.W),bo(s)},zi.prototype.close=function(){Zs(this.g)},zi.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,Xr(this.g,e)}else this.v?((e={}).__data__=$e(s),Xr(this.g,e)):Xr(this.g,s)},zi.prototype.M=function(){this.g.j=null,delete this.j,Zs(this.g),delete this.g,zi.Z.M.call(this)},kn(es,Ei),kn(Ds,Br),kn(xs,or),xs.prototype.xa=function(){li(this.g,"a")},xs.prototype.wa=function(s){li(this.g,new es(s))},xs.prototype.va=function(s){li(this.g,new Ds(s))},xs.prototype.ua=function(){li(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,zi.prototype.send=zi.prototype.u,zi.prototype.open=zi.prototype.m,zi.prototype.close=zi.prototype.close,rn.NO_ERROR=0,rn.TIMEOUT=8,rn.HTTP_ERROR=6,pn.COMPLETE="complete",ki.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",si.prototype.listen=si.prototype.N,gn.prototype.listenOnce=gn.prototype.O,gn.prototype.getLastError=gn.prototype.La,gn.prototype.getLastErrorCode=gn.prototype.Da,gn.prototype.getStatus=gn.prototype.ba,gn.prototype.getResponseJson=gn.prototype.Qa,gn.prototype.getResponseText=gn.prototype.ga,gn.prototype.send=gn.prototype.ea;var ms=ut.createWebChannelTransport=function(){return new Ir},Ts=ut.getStatEventTarget=function(){return Jr()},no=ut.ErrorCode=rn,gs=ut.EventType=pn,Is=ut.Event=Ji,Ko=ut.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Rr=ut.FetchXmlHttpFactory=A,uo=ut.WebChannel=ki,io=ut.XhrIo=gn;const Ha="@firebase/firestore";class bs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");let ea="9.8.0";const Gs=new hn.Yd("@firebase/firestore");function Sa(){return Gs.logLevel}function P(s,...e){if(Gs.logLevel<=hn.in.DEBUG){const i=e.map(_e);Gs.debug(`Firestore (${ea}): ${s}`,...i)}}function O(s,...e){if(Gs.logLevel<=hn.in.ERROR){const i=e.map(_e);Gs.error(`Firestore (${ea}): ${s}`,...i)}}function X(s,...e){if(Gs.logLevel<=hn.in.WARN){const i=e.map(_e);Gs.warn(`Firestore (${ea}): ${s}`,...i)}}function _e(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Se(s="Unexpected state"){const e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+s;throw O(e),new Error(e)}function lt(s,e){s||Se()}function qt(s,e){return s}const Yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sn extends Gt.ZR{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class qr{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(bs.UNAUTHENTICATED))}shutdown(){}}class Go{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ja{constructor(e){this.t=e,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var o=this;let h=this.i;const C=Fe=>this.i!==h?(h=this.i,i(Fe)):Promise.resolve();let M=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),M.resolve(),M=new mi,e.enqueueRetryable(()=>C(this.currentUser))};const G=()=>{const Fe=M;e.enqueueRetryable((0,Me.Z)(function*(){yield Fe.promise,yield C(o.currentUser)}))},Ce=Fe=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Fe,this.auth.addAuthTokenListener(this.o),G()};this.t.onInit(Fe=>Ce(Fe)),setTimeout(()=>{if(!this.auth){const Fe=this.t.getImmediate({optional:!0});Fe?Ce(Fe):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),M.resolve(),M=new mi)}},0),G()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(lt("string"==typeof o.accessToken),new qr(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new bs(e)}}class qs{constructor(e,i,o){this.type="FirstParty",this.user=bs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",i);const h=e.auth.getAuthHeaderValueForFirstParty([]);h&&this.headers.set("Authorization",h),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class ga{constructor(e,i,o){this.h=e,this.l=i,this.m=o}getToken(){return Promise.resolve(new qs(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _a{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mo{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,i){const o=C=>{null!=C.error&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${C.error.message}`);const M=C.token!==this.p;return this.p=C.token,P("FirebaseAppCheckTokenProvider",`Received ${M?"new":"existing"} token.`),M?i(C.token):Promise.resolve()};this.o=C=>{e.enqueueRetryable(()=>o(C))};const h=C=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=C,this.appCheck.addTokenListener(this.o)};this.g.onInit(C=>h(C)),setTimeout(()=>{if(!this.appCheck){const C=this.g.getImmediate({optional:!0});C?h(C):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(lt("string"==typeof i.token),this.p=i.token,new _a(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class gr{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=o=>this.I(o),this.T=o=>i.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Xc(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}gr.A=-1;class ya{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const h=Xc(40);for(let C=0;C<h.length;++C)o.length<20&&h[C]<i&&(o+=e.charAt(h[C]%e.length))}return o}}function ar(s,e){return s<e?-1:s>e?1:0}function Ao(s,e,i){return s.length===e.length&&s.every((o,h)=>i(o,e[h]))}function nl(s){return s+"\0"}class ls{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Sn(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Sn(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new Sn(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sn(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ls.fromMillis(Date.now())}static fromDate(e){return ls.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*i));return new ls(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ar(this.nanoseconds,e.nanoseconds):ar(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fi(e)}static min(){return new Fi(new ls(0,0))}static max(){return new Fi(new ls(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function _c(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function xo(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Ol(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yl{constructor(e,i,o){void 0===i?i=0:i>e.length&&Se(),void 0===o?o=e.length-i:o>e.length-i&&Se(),this.segments=e,this.offset=i,this.len=o}get length(){return this.len}isEqual(e){return 0===yl.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(o=>{i.push(o)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,o=this.limit();i<o;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const o=Math.min(e.length,i.length);for(let h=0;h<o;h++){const C=e.get(h),M=i.get(h);if(C<M)return-1;if(C>M)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Sr extends yl{construct(e,i,o){return new Sr(e,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const o of e){if(o.indexOf("//")>=0)throw new Sn(Yt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(h=>h.length>0))}return new Sr(i)}static emptyPath(){return new Sr([])}}const Yh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ho extends yl{construct(e,i,o){return new ho(e,i,o)}static isValidIdentifier(e){return Yh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ho.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ho(["__name__"])}static fromServerFormat(e){const i=[];let o="",h=0;const C=()=>{if(0===o.length)throw new Sn(Yt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let M=!1;for(;h<e.length;){const G=e[h];if("\\"===G){if(h+1===e.length)throw new Sn(Yt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Ce=e[h+1];if("\\"!==Ce&&"."!==Ce&&"`"!==Ce)throw new Sn(Yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=Ce,h+=2}else"`"===G?(M=!M,h++):"."!==G||M?(o+=G,h++):(C(),h++)}if(C(),M)throw new Sn(Yt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ho(i)}static emptyPath(){return new ho([])}}class cs{constructor(e){this.fields=e,e.sort(ho.comparator)}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(i,o)=>i.isEqual(o))}}class zs{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new zs(i)}static fromUint8Array(e){const i=function(o){let h="";for(let C=0;C<o.length;++C)h+=String.fromCharCode(o[C]);return h}(e);return new zs(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ar(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zs.EMPTY_BYTE_STRING=new zs("");const eu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(s){if(lt(!!s),"string"==typeof s){let e=0;const i=eu.exec(s);if(lt(!!i),i[1]){let h=i[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Qs(s.seconds),nanos:Qs(s.nanos)}}function Qs(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function rl(s){return"string"==typeof s?zs.fromBase64String(s):zs.fromUint8Array(s)}function Nu(s){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Pl(s){const e=s.mapValue.fields.__previous_value__;return Nu(e)?Pl(e):e}function yc(s){const e=il(s.mapValue.fields.__local_write_time__.timestampValue);return new ls(e.seconds,e.nanos)}class Fu{constructor(e,i,o,h,C,M,G,Ce){this.databaseId=e,this.appId=i,this.persistenceKey=o,this.host=h,this.ssl=C,this.forceLongPolling=M,this.autoDetectLongPolling=G,this.useFetchStreams=Ce}}class Ma{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}function ta(s){return null==s}function Nl(s){return 0===s&&1/s==-1/0}function Rs(s){return"number"==typeof s&&Number.isInteger(s)&&!Nl(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class ri{constructor(e){this.path=e}static fromPath(e){return new ri(Sr.fromString(e))}static fromName(e){return new ri(Sr.fromString(e).popFirst(5))}static empty(){return new ri(Sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return Sr.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ri(new Sr(e.slice()))}}const qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tu={nullValue:"NULL_VALUE"};function Ga(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nu(s)?4:xa(s)?9007199254740991:10:Se()}function ro(s,e){if(s===e)return!0;const i=Ga(s);if(i!==Ga(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return yc(s).isEqual(yc(e));case 3:return function(o,h){if("string"==typeof o.timestampValue&&"string"==typeof h.timestampValue&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const C=il(o.timestampValue),M=il(h.timestampValue);return C.seconds===M.seconds&&C.nanos===M.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return h=e,rl(s.bytesValue).isEqual(rl(h.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return Qs(o.geoPointValue.latitude)===Qs(h.geoPointValue.latitude)&&Qs(o.geoPointValue.longitude)===Qs(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return Qs(o.integerValue)===Qs(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const C=Qs(o.doubleValue),M=Qs(h.doubleValue);return C===M?Nl(C)===Nl(M):isNaN(C)&&isNaN(M)}return!1}(s,e);case 9:return Ao(s.arrayValue.values||[],e.arrayValue.values||[],ro);case 10:return function(o,h){const C=o.mapValue.fields||{},M=h.mapValue.fields||{};if(_c(C)!==_c(M))return!1;for(const G in C)if(C.hasOwnProperty(G)&&(void 0===M[G]||!ro(C[G],M[G])))return!1;return!0}(s,e);default:return Se()}var h}function Ro(s,e){return void 0!==(s.values||[]).find(i=>ro(i,e))}function la(s,e){if(s===e)return 0;const i=Ga(s),o=Ga(e);if(i!==o)return ar(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return ar(s.booleanValue,e.booleanValue);case 2:return function(h,C){const M=Qs(h.integerValue||h.doubleValue),G=Qs(C.integerValue||C.doubleValue);return M<G?-1:M>G?1:M===G?0:isNaN(M)?isNaN(G)?0:-1:1}(s,e);case 3:return zo(s.timestampValue,e.timestampValue);case 4:return zo(yc(s),yc(e));case 5:return ar(s.stringValue,e.stringValue);case 6:return function(h,C){const M=rl(h),G=rl(C);return M.compareTo(G)}(s.bytesValue,e.bytesValue);case 7:return function(h,C){const M=h.split("/"),G=C.split("/");for(let Ce=0;Ce<M.length&&Ce<G.length;Ce++){const Fe=ar(M[Ce],G[Ce]);if(0!==Fe)return Fe}return ar(M.length,G.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,C){const M=ar(Qs(h.latitude),Qs(C.latitude));return 0!==M?M:ar(Qs(h.longitude),Qs(C.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(h,C){const M=h.values||[],G=C.values||[];for(let Ce=0;Ce<M.length&&Ce<G.length;++Ce){const Fe=la(M[Ce],G[Ce]);if(Fe)return Fe}return ar(M.length,G.length)}(s.arrayValue,e.arrayValue);case 10:return function(h,C){if(h===qo.mapValue&&C===qo.mapValue)return 0;if(h===qo.mapValue)return 1;if(C===qo.mapValue)return-1;const M=h.fields||{},G=Object.keys(M),Ce=C.fields||{},Fe=Object.keys(Ce);G.sort(),Fe.sort();for(let It=0;It<G.length&&It<Fe.length;++It){const Wt=ar(G[It],Fe[It]);if(0!==Wt)return Wt;const Dn=la(M[G[It]],Ce[Fe[It]]);if(0!==Dn)return Dn}return ar(G.length,Fe.length)}(s.mapValue,e.mapValue);default:throw Se()}}function zo(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return ar(s,e);const i=il(s),o=il(e),h=ar(i.seconds,o.seconds);return 0!==h?h:ar(i.nanos,o.nanos)}function Qo(s){return vc(s)}function vc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const h=il(o);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?rl(s.bytesValue).toBase64():"referenceValue"in s?ri.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(o){let h="[",C=!0;for(const M of o.values||[])C?C=!1:h+=",",h+=vc(M);return h+"]"}(s.arrayValue):"mapValue"in s?function(o){const h=Object.keys(o.fields||{}).sort();let C="{",M=!0;for(const G of h)M?M=!1:C+=",",C+=`${G}:${vc(o.fields[G])}`;return C+"}"}(s.mapValue):Se();var e}function za(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Aa(s){return!!s&&"integerValue"in s}function bc(s){return!!s&&"arrayValue"in s}function sl(s){return!!s&&"nullValue"in s}function Cc(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Js(s){return!!s&&"mapValue"in s}function $a(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return xo(s.mapValue.fields,(i,o)=>e.mapValue.fields[i]=$a(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=$a(s.arrayValue.values[i]);return e}return Object.assign({},s)}function xa(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function bl(s){return"nullValue"in s?tu:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?za(Ma.empty(),ri.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Se()}function Fl(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?za(Ma.empty(),ri.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?qo:Se()}function Y(s,e){const i=la(s.value,e.value);return 0!==i?i:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function ce(s,e){const i=la(s.value,e.value);return 0!==i?i:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class He{constructor(e){this.value=e}static empty(){return new He({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let o=0;o<e.length-1;++o)if(i=(i.mapValue.fields||{})[e.get(o)],!Js(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(i)}setAll(e){let i=ho.emptyPath(),o={},h=[];e.forEach((M,G)=>{if(!i.isImmediateParentOf(G)){const Ce=this.getFieldsMap(i);this.applyChanges(Ce,o,h),o={},h=[],i=G.popLast()}M?o[G.lastSegment()]=$a(M):h.push(G.lastSegment())});const C=this.getFieldsMap(i);this.applyChanges(C,o,h)}delete(e){const i=this.field(e.popLast());Js(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ro(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=i.mapValue.fields[e.get(o)];Js(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},i.mapValue.fields[e.get(o)]=h),i=h}return i.mapValue.fields}applyChanges(e,i,o){xo(i,(h,C)=>e[h]=C);for(const h of o)delete e[h]}clone(){return new He($a(this.value))}}function At(s){const e=[];return xo(s.fields,(i,o)=>{const h=new ho([i]);if(Js(o)){const C=At(o.mapValue).fields;if(0===C.length)e.push(h);else for(const M of C)e.push(h.child(M))}else e.push(h)}),new cs(e)}class Jt{constructor(e,i,o,h,C,M){this.key=e,this.documentType=i,this.version=o,this.readTime=h,this.data=C,this.documentState=M}static newInvalidDocument(e){return new Jt(e,0,Fi.min(),Fi.min(),He.empty(),0)}static newFoundDocument(e,i,o){return new Jt(e,1,i,Fi.min(),o,0)}static newNoDocument(e,i){return new Jt(e,2,i,Fi.min(),He.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,Fi.min(),He.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=He.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=He.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yn{constructor(e,i,o,h){this.indexId=e,this.collectionGroup=i,this.fields=o,this.indexState=h}}function qn(s){return s.fields.find(e=>2===e.kind)}function ai(s){return s.fields.filter(e=>2!==e.kind)}yn.UNKNOWN_ID=-1;class Ni{constructor(e,i){this.fieldPath=e,this.kind=i}}class Si{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new Si(0,ks.min())}}function wr(s,e){const i=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,h=Fi.fromTimestamp(1e9===o?new ls(i+1,0):new ls(i,o));return new ks(h,ri.empty(),e)}function Qi(s){return new ks(s.readTime,s.key,-1)}class ks{constructor(e,i,o){this.readTime=e,this.documentKey=i,this.largestBatchId=o}static min(){return new ks(Fi.min(),ri.empty(),-1)}static max(){return new ks(Fi.max(),ri.empty(),-1)}}function Co(s,e){let i=s.readTime.compareTo(e.readTime);return 0!==i?i:(i=ri.comparator(s.documentKey,e.documentKey),0!==i?i:ar(s.largestBatchId,e.largestBatchId))}class Cs{constructor(e,i){this.comparator=e,this.root=i||$s.EMPTY}insert(e,i){return new Cs(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new Cs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(e){let i=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return i+o.left.size;h<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,o)=>(e(i,o),!1))}toString(){const e=[];return this.inorderTraversal((i,o)=>(e.push(`${i}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ra(this.root,e,this.comparator,!0)}}class Ra{constructor(e,i,o,h){this.isReverse=h,this.nodeStack=[];let C=1;for(;!e.isEmpty();)if(C=i?o(e.key,i):1,i&&h&&(C*=-1),C<0)e=this.isReverse?e.left:e.right;else{if(0===C){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $s{constructor(e,i,o,h,C){this.key=e,this.value=i,this.color=null!=o?o:$s.RED,this.left=null!=h?h:$s.EMPTY,this.right=null!=C?C:$s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,o,h,C){return new $s(null!=e?e:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=h?h:this.left,null!=C?C:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let h=this;const C=o(e,h.key);return h=C<0?h.copy(null,null,null,h.left.insert(e,i,o),null):0===C?h.copy(null,i,null,null,null):h.copy(null,null,null,null,h.right.insert(e,i,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return $s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let o,h=this;if(i(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,i),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===i(e,h.key)){if(h.right.isEmpty())return $s.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,i))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1,$s.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(s,e,i,o,h){return this}insert(s,e,i){return new $s(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lr{constructor(e){this.comparator=e,this.data=new Cs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,o)=>(e(i),!1))}forEachInRange(e,i){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;i(h.key)}}forEachWhile(e,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Eo(this.data.getIterator())}getIteratorFrom(e){return new Eo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(o=>{i=i.add(o)}),i}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const i=this.data.getIterator(),o=e.data.getIterator();for(;i.hasNext();){const h=i.getNext().key,C=o.getNext().key;if(0!==this.comparator(h,C))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Lr(this.comparator);return i.data=e,i}}class Eo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function na(s){return s.hasNext()?s.getNext():void 0}class Lu{constructor(e,i=null,o=[],h=[],C=null,M=null,G=null){this.path=e,this.collectionGroup=i,this.orderBy=o,this.filters=h,this.limit=C,this.startAt=M,this.endAt=G,this.P=null}}function so(s,e=null,i=[],o=[],h=null,C=null,M=null){return new Lu(s,e,i,o,h,C,M)}function va(s){const e=qt(s);if(null===e.P){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(o=>{return(h=o).field.canonicalString()+h.op.toString()+Qo(h.value);var h}).join(","),i+="|ob:",i+=e.orderBy.map(o=>{return(h=o).field.canonicalString()+h.dir;var h}).join(","),ta(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(o=>Qo(o)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(o=>Qo(o)).join(",")),e.P=i}return e.P}function ba(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<s.orderBy.length;h++)if(!nu(s.orderBy[h],e.orderBy[h]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let h=0;h<s.filters.length;h++)if((i=s.filters[h]).op!==(o=e.filters[h]).op||!i.field.isEqual(o.field)||!ro(i.value,o.value))return!1;var i,o;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Dl(s.startAt,e.startAt)&&Dl(s.endAt,e.endAt)}function ca(s){return ri.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function wc(s,e){return s.filters.filter(i=>i instanceof Bo&&i.field.isEqual(e))}function gd(s,e,i){let o=tu,h=!0;for(const C of wc(s,e)){let M=tu,G=!0;switch(C.op){case"<":case"<=":M=bl(C.value);break;case"==":case"in":case">=":M=C.value;break;case">":M=C.value,G=!1;break;case"!=":case"not-in":M=tu}Y({value:o,inclusive:h},{value:M,inclusive:G})<0&&(o=M,h=G)}if(null!==i)for(let C=0;C<s.orderBy.length;++C)if(s.orderBy[C].field.isEqual(e)){const M=i.position[C];Y({value:o,inclusive:h},{value:M,inclusive:i.inclusive})<0&&(o=M,h=i.inclusive);break}return{value:o,inclusive:h}}function Cl(s,e,i){let o=qo,h=!0;for(const C of wc(s,e)){let M=qo,G=!0;switch(C.op){case">=":case">":M=Fl(C.value),G=!1;break;case"==":case"in":case"<=":M=C.value;break;case"<":M=C.value,G=!1;break;case"!=":case"not-in":M=qo}ce({value:o,inclusive:h},{value:M,inclusive:G})>0&&(o=M,h=G)}if(null!==i)for(let C=0;C<s.orderBy.length;++C)if(s.orderBy[C].field.isEqual(e)){const M=i.position[C];ce({value:o,inclusive:h},{value:M,inclusive:i.inclusive})>0&&(o=M,h=i.inclusive);break}return{value:o,inclusive:h}}class Bo extends class{}{constructor(e,i,o){super(),this.field=e,this.op=i,this.value=o}static create(e,i,o){return e.isKeyField()?"in"===i||"not-in"===i?this.V(e,i,o):new Ll(e,i,o):"array-contains"===i?new eh(e,o):"in"===i?new _d(e,o):"not-in"===i?new yd(e,o):"array-contains-any"===i?new Dc(e,o):new Bo(e,i,o)}static V(e,i,o){return"in"===i?new El(e,o):new Vl(e,o)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.v(la(i,this.value)):null!==i&&Ga(this.value)===Ga(i)&&this.v(la(i,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Se()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ll extends Bo{constructor(e,i,o){super(e,i,o),this.key=ri.fromName(o.referenceValue)}matches(e){const i=ri.comparator(e.key,this.key);return this.v(i)}}class El extends Bo{constructor(e,i){super(e,"in",i),this.keys=ka(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Vl extends Bo{constructor(e,i){super(e,"not-in",i),this.keys=ka(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function ka(s,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>ri.fromName(o.referenceValue))}class eh extends Bo{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return bc(i)&&Ro(i.arrayValue,this.value)}}class _d extends Bo{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&Ro(this.value.arrayValue,i)}}class yd extends Bo{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!Ro(this.value.arrayValue,i)}}class Dc extends Bo{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!bc(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>Ro(this.value.arrayValue,o))}}class ol{constructor(e,i){this.position=e,this.inclusive=i}}class Bl{constructor(e,i="asc"){this.field=e,this.dir=i}}function nu(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function wl(s,e,i){let o=0;for(let h=0;h<s.position.length;h++){const C=e[h],M=s.position[h];if(o=C.field.isKeyField()?ri.comparator(ri.fromName(M.referenceValue),i.key):la(M,i.data.field(C.field)),"desc"===C.dir&&(o*=-1),0!==o)break}return o}function Dl(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ro(s.position[i],e.position[i]))return!1;return!0}class $o{constructor(e,i=null,o=[],h=[],C=null,M="F",G=null,Ce=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=h,this.limit=C,this.limitType=M,this.startAt=G,this.endAt=Ce,this.D=null,this.C=null}}function vd(s,e,i,o,h,C,M,G){return new $o(s,e,i,o,h,C,M,G)}function al(s){return new $o(s)}function nc(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function iu(s){for(const e of s.filters)if(e.S())return e.field;return null}function ru(s){return null!==s.collectionGroup}function ll(s){const e=qt(s);if(null===e.D){e.D=[];const i=iu(e),o=nc(e);if(null!==i&&null===o)i.isKeyField()||e.D.push(new Bl(i)),e.D.push(new Bl(ho.keyField(),"asc"));else{let h=!1;for(const C of e.explicitOrderBy)e.D.push(C),C.field.isKeyField()&&(h=!0);if(!h){const C=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Bl(ho.keyField(),C))}}}return e.D}function Uo(s){const e=qt(s);if(!e.C)if("F"===e.limitType)e.C=so(e.path,e.collectionGroup,ll(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const C of ll(e))i.push(new Bl(C.field,"desc"===C.dir?"asc":"desc"));const o=e.endAt?new ol(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new ol(e.startAt.position,e.startAt.inclusive):null;e.C=so(e.path,e.collectionGroup,i,e.filters,e.limit,o,h)}return e.C}function su(s,e,i){return new $o(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Wa(s,e){return ba(Uo(s),Uo(e))&&s.limitType===e.limitType}function th(s){return`${va(Uo(s))}|lt:${s.limitType}`}function Tc(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(i=>{return`${(o=i).field.canonicalString()} ${o.op} ${Qo(o.value)}`;var o}).join(", ")}]`),ta(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(i=>Qo(i)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(i=>Qo(i)).join(",")),`Target(${e})`}(Uo(s))}; limitType=${s.limitType})`}function ic(s,e){return e.isFoundDocument()&&function(i,o){const h=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(h):ri.isDocumentKey(i.path)?i.path.isEqual(h):i.path.isImmediateParentOf(h)}(s,e)&&function(i,o){for(const h of i.explicitOrderBy)if(!h.field.isKeyField()&&null===o.data.field(h.field))return!1;return!0}(s,e)&&function(i,o){for(const h of i.filters)if(!h.matches(o))return!1;return!0}(s,e)&&(o=e,!((i=s).startAt&&!function(h,C,M){const G=wl(h,C,M);return h.inclusive?G<=0:G<0}(i.startAt,ll(i),o)||i.endAt&&!function(h,C,M){const G=wl(h,C,M);return h.inclusive?G>=0:G>0}(i.endAt,ll(i),o)));var i,o}function Ic(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Bu(s){return(e,i)=>{let o=!1;for(const h of ll(s)){const C=Sc(h,e,i);if(0!==C)return C;o=o||h.field.isKeyField()}return 0}}function Sc(s,e,i){const o=s.field.isKeyField()?ri.comparator(e.key,i.key):function(h,C,M){const G=C.data.field(h),Ce=M.data.field(h);return null!==G&&null!==Ce?la(G,Ce):Se()}(s.field,e,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return Se()}}function ua(s,e){if(s.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nl(e)?"-0":e}}function rc(s){return{integerValue:""+s}}function Ul(s,e){return Rs(e)?rc(e):ua(s,e)}class Mc{constructor(){this._=void 0}}function bd(s,e,i){return s instanceof xc?function(o,h){const C={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&(C.fields.__previous_value__=h),{mapValue:C}}(i,e):s instanceof Os?jl(s,e):s instanceof Gl?ou(s,e):function(o,h){const C=Ac(o,h),M=Ca(C)+Ca(o.k);return Aa(C)&&Aa(o.k)?rc(M):ua(o.M,M)}(s,e)}function Hl(s,e,i){return s instanceof Os?jl(s,e):s instanceof Gl?ou(s,e):i}function Ac(s,e){return s instanceof zl?Aa(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var o,i}class xc extends Mc{}class Os extends Mc{constructor(e){super(),this.elements=e}}function jl(s,e){const i=au(e);for(const o of s.elements)i.some(h=>ro(h,o))||i.push(o);return{arrayValue:{values:i}}}class Gl extends Mc{constructor(e){super(),this.elements=e}}function ou(s,e){let i=au(e);for(const o of s.elements)i=i.filter(h=>!ro(h,o));return{arrayValue:{values:i}}}class zl extends Mc{constructor(e,i){super(),this.M=e,this.k=i}}function Ca(s){return Qs(s.integerValue||s.doubleValue)}function au(s){return bc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class lu{constructor(e,i){this.field=e,this.transform=i}}class Zh{constructor(e,i){this.version=e,this.transformResults=i}}class wo{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wo}static exists(e){return new wo(void 0,e)}static updateTime(e){return new wo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Rc{}function Hu(s,e,i){s instanceof Oa?function(o,h,C){const M=o.value.clone(),G=Gu(o.fieldTransforms,h,C.transformResults);M.setAll(G),h.convertToFoundDocument(C.version,M).setHasCommittedMutations()}(s,e,i):s instanceof cl?function(o,h,C){if(!Uu(o.precondition,h))return void h.convertToUnknownDocument(C.version);const M=Gu(o.fieldTransforms,h,C.transformResults),G=h.data;G.setAll(cu(o)),G.setAll(M),h.convertToFoundDocument(C.version,G).setHasCommittedMutations()}(s,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function ju(s,e,i){var h;s instanceof Oa?function(o,h,C){if(!Uu(o.precondition,h))return;const M=o.value.clone(),G=Kh(o.fieldTransforms,C,h);M.setAll(G),h.convertToFoundDocument(ia(h),M).setHasLocalMutations()}(s,e,i):s instanceof cl?function(o,h,C){if(!Uu(o.precondition,h))return;const M=Kh(o.fieldTransforms,C,h),G=h.data;G.setAll(cu(o)),G.setAll(M),h.convertToFoundDocument(ia(h),G).setHasLocalMutations()}(s,e,i):Uu(s.precondition,h=e)&&h.convertToNoDocument(Fi.min())}function kc(s,e){let i=null;for(const o of s.fieldTransforms){const h=e.data.field(o.field),C=Ac(o.transform,h||null);null!=C&&(null==i&&(i=He.empty()),i.set(o.field,C))}return i||null}function Ed(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===o||i&&o&&Ao(i,o,(h,C)=>function(s,e){return s.field.isEqual(e.field)&&(o=e.transform,(i=s.transform)instanceof Os&&o instanceof Os||i instanceof Gl&&o instanceof Gl?Ao(i.elements,o.elements,ro):i instanceof zl&&o instanceof zl?ro(i.k,o.k):i instanceof xc&&o instanceof xc);var i,o}(h,C))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var i,o}function ia(s){return s.isFoundDocument()?s.version:Fi.min()}class Oa extends Rc{constructor(e,i,o,h=[]){super(),this.key=e,this.value=i,this.precondition=o,this.fieldTransforms=h,this.type=0}}class cl extends Rc{constructor(e,i,o,h,C=[]){super(),this.key=e,this.data=i,this.fieldMask=o,this.precondition=h,this.fieldTransforms=C,this.type=1}}function cu(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=s.data.field(i);e.set(i,o)}}),e}function Gu(s,e,i){const o=new Map;lt(s.length===i.length);for(let h=0;h<i.length;h++){const C=s[h],M=C.transform,G=e.data.field(C.field);o.set(C.field,Hl(M,G,i[h]))}return o}function Kh(s,e,i){const o=new Map;for(const h of s){const C=h.transform,M=i.data.field(h.field);o.set(h.field,bd(C,M,e))}return o}class Oc extends Rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class wd extends Rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class zu{constructor(e){this.count=e}}var oo,Vr;function Dd(s){switch(s){default:return Se();case Yt.CANCELLED:case Yt.UNKNOWN:case Yt.DEADLINE_EXCEEDED:case Yt.RESOURCE_EXHAUSTED:case Yt.INTERNAL:case Yt.UNAVAILABLE:case Yt.UNAUTHENTICATED:return!1;case Yt.INVALID_ARGUMENT:case Yt.NOT_FOUND:case Yt.ALREADY_EXISTS:case Yt.PERMISSION_DENIED:case Yt.FAILED_PRECONDITION:case Yt.ABORTED:case Yt.OUT_OF_RANGE:case Yt.UNIMPLEMENTED:case Yt.DATA_LOSS:return!0}}function nh(s){if(void 0===s)return O("GRPC error has no .code"),Yt.UNKNOWN;switch(s){case oo.OK:return Yt.OK;case oo.CANCELLED:return Yt.CANCELLED;case oo.UNKNOWN:return Yt.UNKNOWN;case oo.DEADLINE_EXCEEDED:return Yt.DEADLINE_EXCEEDED;case oo.RESOURCE_EXHAUSTED:return Yt.RESOURCE_EXHAUSTED;case oo.INTERNAL:return Yt.INTERNAL;case oo.UNAVAILABLE:return Yt.UNAVAILABLE;case oo.UNAUTHENTICATED:return Yt.UNAUTHENTICATED;case oo.INVALID_ARGUMENT:return Yt.INVALID_ARGUMENT;case oo.NOT_FOUND:return Yt.NOT_FOUND;case oo.ALREADY_EXISTS:return Yt.ALREADY_EXISTS;case oo.PERMISSION_DENIED:return Yt.PERMISSION_DENIED;case oo.FAILED_PRECONDITION:return Yt.FAILED_PRECONDITION;case oo.ABORTED:return Yt.ABORTED;case oo.OUT_OF_RANGE:return Yt.OUT_OF_RANGE;case oo.UNIMPLEMENTED:return Yt.UNIMPLEMENTED;case oo.DATA_LOSS:return Yt.DATA_LOSS;default:return Se()}}(Vr=oo||(oo={}))[Vr.OK=0]="OK",Vr[Vr.CANCELLED=1]="CANCELLED",Vr[Vr.UNKNOWN=2]="UNKNOWN",Vr[Vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vr[Vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vr[Vr.NOT_FOUND=5]="NOT_FOUND",Vr[Vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vr[Vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vr[Vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vr[Vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vr[Vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vr[Vr.ABORTED=10]="ABORTED",Vr[Vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vr[Vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vr[Vr.INTERNAL=13]="INTERNAL",Vr[Vr.UNAVAILABLE=14]="UNAVAILABLE",Vr[Vr.DATA_LOSS=15]="DATA_LOSS";class $l{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),o=this.inner[i];if(void 0!==o)for(const[h,C]of o)if(this.equalsFn(h,e))return C}has(e){return void 0!==this.get(e)}set(e,i){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,i]],void this.innerSize++;for(let C=0;C<h.length;C++)if(this.equalsFn(h[C][0],e))return void(h[C]=[e,i]);h.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),o=this.inner[i];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[i]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(i,o)=>{for(const[h,C]of o)e(h,C)})}isEmpty(){return Ol(this.inner)}size(){return this.innerSize}}const Pa=new Cs(ri.comparator);function ko(){return Pa}const qh=new Cs(ri.comparator);function sc(...s){let e=qh;for(const i of s)e=e.insert(i.key,i);return e}function Tl(){return new $l(s=>s.toString(),(s,e)=>s.isEqual(e))}const Pc=new Cs(ri.comparator),oc=new Lr(ri.comparator);function is(...s){let e=oc;for(const i of s)e=e.add(i);return e}const $u=new Lr(ar);function Ps(){return $u}class ac{constructor(e,i,o,h,C){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=C}static createSynthesizedRemoteEventForCurrentChange(e,i){const o=new Map;return o.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,i)),new ac(Fi.min(),o,Ps(),ko(),is())}}class ul{constructor(e,i,o,h,C){this.resumeToken=e,this.current=i,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=C}static createSynthesizedTargetChangeForCurrentChange(e,i){return new ul(zs.EMPTY_BYTE_STRING,i,is(),is(),is())}}class Wl{constructor(e,i,o,h){this.O=e,this.removedTargetIds=i,this.key=o,this.F=h}}class uu{constructor(e,i){this.targetId=e,this.$=i}}class ih{constructor(e,i,o=zs.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=i,this.resumeToken=o,this.cause=h}}class rh{constructor(){this.B=0,this.L=du(),this.U=zs.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=is(),i=is(),o=is();return this.L.forEach((h,C)=>{switch(C){case 0:e=e.add(h);break;case 2:i=i.add(h);break;case 1:o=o.add(h);break;default:Se()}}),new ul(this.U,this.q,e,i,o)}J(){this.K=!1,this.L=du()}Y(e,i){this.K=!0,this.L=this.L.insert(e,i)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Td{constructor(e){this.nt=e,this.st=new Map,this.it=ko(),this.rt=Id(),this.ot=new Lr(ar)}ut(e){for(const i of e.O)e.F&&e.F.isFoundDocument()?this.at(i,e.F):this.ct(i,e.key,e.F);for(const i of e.removedTargetIds)this.ct(i,e.key,e.F)}ht(e){this.forEachTarget(e,i=>{const o=this.lt(i);switch(e.state){case 0:this.ft(i)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(i);break;case 3:this.ft(i)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(i)&&(this.dt(i),o.W(e.resumeToken));break;default:Se()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.st.forEach((o,h)=>{this.ft(h)&&i(h)})}_t(e){const i=e.targetId,o=e.$.count,h=this.wt(i);if(h){const C=h.target;if(ca(C))if(0===o){const M=new ri(C.path);this.ct(i,M,Jt.newNoDocument(M,Fi.min()))}else lt(1===o);else this.gt(i)!==o&&(this.dt(i),this.ot=this.ot.add(i))}}yt(e){const i=new Map;this.st.forEach((C,M)=>{const G=this.wt(M);if(G){if(C.current&&ca(G.target)){const Ce=new ri(G.target.path);null!==this.it.get(Ce)||this.It(M,Ce)||this.ct(M,Ce,Jt.newNoDocument(Ce,e))}C.j&&(i.set(M,C.H()),C.J())}});let o=is();this.rt.forEach((C,M)=>{let G=!0;M.forEachWhile(Ce=>{const Fe=this.wt(Ce);return!Fe||2===Fe.purpose||(G=!1,!1)}),G&&(o=o.add(C))}),this.it.forEach((C,M)=>M.setReadTime(e));const h=new ac(e,i,this.ot,this.it,o);return this.it=ko(),this.rt=Id(),this.ot=new Lr(ar),h}at(e,i){if(!this.ft(e))return;const o=this.It(e,i.key)?2:0;this.lt(e).Y(i.key,o),this.it=this.it.insert(i.key,i),this.rt=this.rt.insert(i.key,this.Tt(i.key).add(e))}ct(e,i,o){if(!this.ft(e))return;const h=this.lt(e);this.It(e,i)?h.Y(i,1):h.X(i),this.rt=this.rt.insert(i,this.Tt(i).delete(e)),o&&(this.it=this.it.insert(i,o))}removeTarget(e){this.st.delete(e)}gt(e){const i=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let i=this.st.get(e);return i||(i=new rh,this.st.set(e,i)),i}Tt(e){let i=this.rt.get(e);return i||(i=new Lr(ar),this.rt=this.rt.insert(e,i)),i}ft(e){const i=null!==this.wt(e);return i||P("WatchChangeAggregator","Detected inactive target",e),i}wt(e){const i=this.st.get(e);return i&&i.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new rh),this.nt.getRemoteKeysForTarget(e).forEach(i=>{this.ct(e,i,null)})}It(e,i){return this.nt.getRemoteKeysForTarget(e).has(i)}}function Id(){return new Cs(ri.comparator)}function du(){return new Cs(ri.comparator)}const Qh={asc:"ASCENDING",desc:"DESCENDING"},Jh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Yl{constructor(e,i){this.databaseId=e,this.N=i}}function Qr(s,e){return s.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lc(s,e){return s.N?e.toBase64():e.toUint8Array()}function Il(s,e){return Qr(s,e.toTimestamp())}function Ws(s){return lt(!!s),Fi.fromTimestamp(function(e){const i=il(e);return new ls(i.seconds,i.nanos)}(s))}function _s(s,e){return(i=s,new Sr(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Na(s){const e=Sr.fromString(s);return lt(pu(e)),e}function Zl(s,e){return _s(s.databaseId,e.path)}function Fa(s,e){const i=Na(e);if(i.get(1)!==s.databaseId.projectId)throw new Sn(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Sn(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ri(Sd(i))}function Sl(s,e){return _s(s.databaseId,e)}function sh(s){const e=Na(s);return 4===e.length?Sr.emptyPath():Sd(e)}function hu(s){return new Sr(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Sd(s){return lt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function cc(s,e,i){return{name:Zl(s,e),fields:i.value.mapValue.fields}}function Md(s,e,i){const o=Fa(s,e.name),h=Ws(e.updateTime),C=new He({mapValue:{fields:e.fields}}),M=Jt.newFoundDocument(o,h,C);return i&&M.setHasCommittedMutations(),i?M.setHasCommittedMutations():M}function fu(s,e){let i;if(e instanceof Oa)i={update:cc(s,e.key,e.value)};else if(e instanceof Oc)i={delete:Zl(s,e.key)};else if(e instanceof cl)i={update:cc(s,e.key,e.data),updateMask:Ad(e.fieldMask)};else{if(!(e instanceof wd))return Se();i={verify:Zl(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(o=>function(h,C){const M=C.transform;if(M instanceof xc)return{fieldPath:C.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof Os)return{fieldPath:C.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof Gl)return{fieldPath:C.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof zl)return{fieldPath:C.field.canonicalString(),increment:M.k};throw Se()}(0,o))),e.precondition.isNone||(i.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Il(s,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Se()),i;var h}function uc(s,e){const i=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?wo.updateTime(Ws(h.updateTime)):void 0!==h.exists?wo.exists(h.exists):wo.none():wo.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(C,M){let G=null;"setToServerValue"in M?(lt("REQUEST_TIME"===M.setToServerValue),G=new xc):"appendMissingElements"in M?G=new Os(M.appendMissingElements.values||[]):"removeAllFromArray"in M?G=new Gl(M.removeAllFromArray.values||[]):"increment"in M?G=new zl(C,M.increment):Se();const Ce=ho.fromServerFormat(M.fieldPath);return new lu(Ce,G)}(s,h)):[];var h;if(e.update){const h=Fa(s,e.update.name),C=new He({mapValue:{fields:e.update.fields}});if(e.updateMask){const M=new cs((e.updateMask.fieldPaths||[]).map(Fe=>ho.fromServerFormat(Fe)));return new cl(h,C,M,i,o)}return new Oa(h,C,i,o)}if(e.delete){const h=Fa(s,e.delete);return new Oc(h,i)}if(e.verify){const h=Fa(s,e.verify);return new wd(h,i)}return Se()}function Kl(s,e){return{documents:[Sl(s,e.path)]}}function Fc(s,e){const i={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(i.parent=Sl(s,o),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Sl(s,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const h=function(Ce){if(0===Ce.length)return;const Fe=Ce.map(It=>function(Wt){if("=="===Wt.op){if(Cc(Wt.value))return{unaryFilter:{field:ts(Wt.field),op:"IS_NAN"}};if(sl(Wt.value))return{unaryFilter:{field:ts(Wt.field),op:"IS_NULL"}}}else if("!="===Wt.op){if(Cc(Wt.value))return{unaryFilter:{field:ts(Wt.field),op:"IS_NOT_NAN"}};if(sl(Wt.value))return{unaryFilter:{field:ts(Wt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(Wt.field),op:ah(Wt.op),value:Wt.value}}}(It));return 1===Fe.length?Fe[0]:{compositeFilter:{op:"AND",filters:Fe}}}(e.filters);h&&(i.structuredQuery.where=h);const C=function(Ce){if(0!==Ce.length)return Ce.map(Fe=>{return{field:ts((It=Fe).field),direction:Zu(It.dir)};var It})}(e.orderBy);C&&(i.structuredQuery.orderBy=C);const M=(Fe=e.limit,s.N||ta(Fe)?Fe:{value:Fe});var Fe,G,Ce;return null!==M&&(i.structuredQuery.limit=M),e.startAt&&(i.structuredQuery.startAt={before:(G=e.startAt).inclusive,values:G.position}),e.endAt&&(i.structuredQuery.endAt={before:!(Ce=e.endAt).inclusive,values:Ce.position}),i}function Wu(s){let e=sh(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let h=null;if(o>0){lt(1===o);const It=i.from[0];It.allDescendants?h=It.collectionId:e=e.child(It.collectionId)}let C=[];i.where&&(C=Lc(i.where));let M=[];i.orderBy&&(M=i.orderBy.map(It=>{return new Bl(Ya((Wt=It).field),function(Dn){switch(Dn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Wt.direction));var Wt}));let G=null;i.limit&&(G=function(It){let Wt;return Wt="object"==typeof It?It.value:It,ta(Wt)?null:Wt}(i.limit));let Ce=null;var It;i.startAt&&(Ce=new ol((It=i.startAt).values||[],!!It.before));let Fe=null;return i.endAt&&(Fe=function(It){return new ol(It.values||[],!It.before)}(i.endAt)),vd(e,h,M,C,G,"F",Ce,Fe)}function Lc(s){return s?void 0!==s.unaryFilter?[ef(s)]:void 0!==s.fieldFilter?[lh(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>Lc(e)).reduce((e,i)=>e.concat(i)):Se():[]}function Zu(s){return Qh[s]}function ah(s){return Jh[s]}function ts(s){return{fieldPath:s.canonicalString()}}function Ya(s){return ho.fromServerFormat(s.fieldPath)}function lh(s){return Bo.create(Ya(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(s.fieldFilter.op),s.fieldFilter.value)}function ef(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Ya(s.unaryFilter.field);return Bo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Ya(s.unaryFilter.field);return Bo.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ya(s.unaryFilter.field);return Bo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ya(s.unaryFilter.field);return Bo.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}function Ad(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function pu(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Ho(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=xd(e)),e=Ea(s.get(i),e);return xd(e)}function Ea(s,e){let i=e;const o=s.length;for(let h=0;h<o;h++){const C=s.charAt(h);switch(C){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=C}}return i}function xd(s){return s+"\x01\x01"}function Wo(s){const e=s.length;if(lt(e>=2),2===e)return lt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Sr.emptyPath();const i=e-2,o=[];let h="";for(let C=0;C<e;){const M=s.indexOf("\x01",C);switch((M<0||M>i)&&Se(),s.charAt(M+1)){case"\x01":const G=s.substring(C,M);let Ce;0===h.length?Ce=G:(h+=G,Ce=h,h=""),o.push(Ce);break;case"\x10":h+=s.substring(C,M),h+="\0";break;case"\x11":h+=s.substring(C,M+1);break;default:Se()}C=M+2}return new Sr(o)}const Rd=["userId","batchId"];function mu(s,e){return[s,Ho(e)]}function tf(s,e,i){return[s,Ho(e),i]}const ch={},uh=["prefixPath","collectionGroup","readTime","documentId"],da=["prefixPath","collectionGroup","documentId"],kd=["collectionGroup","readTime","prefixPath","documentId"],ql=["canonicalId","targetId"],dl=["targetId","path"],Ql=["path","targetId"],Ku=["collectionId","parent"],Od=["indexId","uid"],nf=["uid","sequenceNumber"],Do=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gu=["indexId","uid","orderedDocumentKey"],_u=["userId","collectionPath","documentId"],dh=["userId","collectionPath","largestBatchId"],hh=["userId","collectionGroup","largestBatchId"],dc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],T=[...dc,"documentOverlays"],g=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],v=[...g,"indexConfiguration","indexState","indexEntries"],R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class re{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ee((o,h)=>{this.nextCallback=C=>{this.wrapSuccess(e,C).next(o,h)},this.catchCallback=C=>{this.wrapFailure(i,C).next(o,h)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ee?i:ee.resolve(i)}catch(i){return ee.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ee.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ee.reject(i)}static resolve(e){return new ee((i,o)=>{i(e)})}static reject(e){return new ee((i,o)=>{o(e)})}static waitFor(e){return new ee((i,o)=>{let h=0,C=0,M=!1;e.forEach(G=>{++h,G.next(()=>{++C,M&&C===h&&i()},Ce=>o(Ce))}),M=!0,C===h&&i()})}static or(e){let i=ee.resolve(!1);for(const o of e)i=i.next(h=>h?ee.resolve(h):o());return i}static forEach(e,i){const o=[];return e.forEach((h,C)=>{o.push(i.call(this,h,C))}),this.waitFor(o)}}class Pt{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.At=new mi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{i.error?this.At.reject(new zn(e,i.error)):this.At.resolve()},this.transaction.onerror=o=>{const h=hl(o.target.error);this.At.reject(new zn(e,h))}}static open(e,i,o,h){try{return new Pt(i,e.transaction(h,o))}catch(C){throw new zn(i,C)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(P("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const i=this.transaction.objectStore(e);return new Ii(i)}}class dn{constructor(e,i,o){this.name=e,this.version=i,this.Pt=o,12.2===dn.Vt((0,Gt.z$)())&&O("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return P("SimpleDb","Removing database:",e),_r(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Gt.hl)())return!1;if(dn.St())return!0;const e=(0,Gt.z$)(),i=dn.Vt(e),o=0<i&&i<10,h=dn.Dt(e),C=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||C)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,i){return e.store(i)}static Vt(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const i=e.match(/Android ([\d.]+)/i),o=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var i=this;return(0,Me.Z)(function*(){return i.db||(P("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,h)=>{const C=indexedDB.open(i.name,i.version);C.onsuccess=M=>{o(M.target.result)},C.onblocked=()=>{h(new zn(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},C.onerror=M=>{const G=M.target.error;h("VersionError"===G.name?new Sn(Yt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===G.name?new Sn(Yt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+G):new zn(e,G))},C.onupgradeneeded=M=>{P("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',M.oldVersion),i.Pt.kt(M.target.result,C.transaction,M.oldVersion,i.version).next(()=>{P("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Mt&&(i.db.onversionchange=o=>i.Mt(o)),i.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,o,h){var C=this;return(0,Me.Z)(function*(){const M="readonly"===i;let G=0;for(;;){++G;try{C.db=yield C.Nt(e);const Ce=Pt.open(C.db,e,M?"readonly":"readwrite",o),Fe=h(Ce).next(It=>(Ce.bt(),It)).catch(It=>(Ce.abort(It),ee.reject(It))).toPromise();return Fe.catch(()=>{}),yield Ce.Rt,Fe}catch(Ce){const Fe="FirebaseError"!==Ce.name&&G<3;if(P("SimpleDb","Transaction failed with error:",Ce.message,"Retrying:",Fe),C.close(),!Fe)return Promise.reject(Ce)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Xn{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return _r(this.Ft.delete())}}class zn extends Sn{constructor(e,i){super(Yt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function gi(s){return"IndexedDbTransactionError"===s.name}class Ii{constructor(e){this.store=e}put(e,i){let o;return void 0!==i?(P("SimpleDb","PUT",this.store.name,e,i),o=this.store.put(i,e)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),_r(o)}add(e){return P("SimpleDb","ADD",this.store.name,e,e),_r(this.store.add(e))}get(e){return _r(this.store.get(e)).next(i=>(void 0===i&&(i=null),P("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return P("SimpleDb","DELETE",this.store.name,e),_r(this.store.delete(e))}count(){return P("SimpleDb","COUNT",this.store.name),_r(this.store.count())}qt(e,i){const o=this.options(e,i);if(o.index||"function"!=typeof this.store.getAll){const h=this.cursor(o),C=[];return this.Kt(h,(M,G)=>{C.push(G)}).next(()=>C)}{const h=this.store.getAll(o.range);return new ee((C,M)=>{h.onerror=G=>{M(G.target.error)},h.onsuccess=G=>{C(G.target.result)}})}}Gt(e,i){const o=this.store.getAll(e,null===i?void 0:i);return new ee((h,C)=>{o.onerror=M=>{C(M.target.error)},o.onsuccess=M=>{h(M.target.result)}})}Qt(e,i){P("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,i);o.jt=!1;const h=this.cursor(o);return this.Kt(h,(C,M,G)=>G.delete())}Wt(e,i){let o;i?o=e:(o={},i=e);const h=this.cursor(o);return this.Kt(h,i)}zt(e){const i=this.cursor({});return new ee((o,h)=>{i.onerror=C=>{const M=hl(C.target.error);h(M)},i.onsuccess=C=>{const M=C.target.result;M?e(M.primaryKey,M.value).next(G=>{G?M.continue():o()}):o()}})}Kt(e,i){const o=[];return new ee((h,C)=>{e.onerror=M=>{C(M.target.error)},e.onsuccess=M=>{const G=M.target.result;if(!G)return void h();const Ce=new Xn(G),Fe=i(G.primaryKey,G.value,Ce);if(Fe instanceof ee){const It=Fe.catch(Wt=>(Ce.done(),ee.reject(Wt)));o.push(It)}Ce.isDone?h():null===Ce.Lt?G.continue():G.continue(Ce.Lt)}}).next(()=>ee.waitFor(o))}options(e,i){let o;return void 0!==e&&("string"==typeof e?o=e:i=e),{index:o,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,i):o.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function _r(s){return new ee((e,i)=>{s.onsuccess=o=>{e(o.target.result)},s.onerror=o=>{const h=hl(o.target.error);i(h)}})}let Oo=!1;function hl(s){const e=dn.Vt((0,Gt.z$)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const o=new Sn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Oo||(Oo=!0,setTimeout(()=>{throw o},0)),o}}return s}class yu extends re{constructor(e,i){super(),this.Ht=e,this.currentSequenceNumber=i}}function To(s,e){const i=qt(s);return dn.xt(i.Ht,e)}class vu{constructor(e,i,o,h){this.batchId=e,this.localWriteTime=i,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,i){const o=i.mutationResults;for(let h=0;h<this.mutations.length;h++){const C=this.mutations[h];C.key.isEqual(e.key)&&Hu(C,e,o[h])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&ju(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&ju(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const o=e.get(i.key),h=o;this.applyToLocalView(h),o.isValidDocument()||h.convertToNoDocument(Fi.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),is())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(i,o)=>Ed(i,o))&&Ao(this.baseMutations,e.baseMutations,(i,o)=>Ed(i,o))}}class bu{constructor(e,i,o,h){this.batch=e,this.commitVersion=i,this.mutationResults=o,this.docVersions=h}static from(e,i,o){lt(e.mutations.length===o.length);let h=Pc;const C=e.mutations;for(let M=0;M<C.length;M++)h=h.insert(C[M].key,o[M].version);return new bu(e,i,o,h)}}class Cu{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Za{constructor(e,i,o,h,C=Fi.min(),M=Fi.min(),G=zs.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=C,this.lastLimboFreeSnapshotVersion=M,this.resumeToken=G}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Pd{constructor(e){this.Jt=e}}function Eu(s,e){const i=e.key,o={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:wu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Zl(h=s.Jt,(C=e).key),fields:C.data.value.mapValue.fields,updateTime:Qr(h,C.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:i.path.toArray(),readTime:ra(e.version)};else{if(!e.isUnknownDocument())return Se();o.unknownDocument={path:i.path.toArray(),version:ra(e.version)}}var h,C;return o}function wu(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function ra(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jl(s){const e=new ls(s.seconds,s.nanoseconds);return Fi.fromTimestamp(e)}function Du(s,e){const i=(e.baseMutations||[]).map(C=>uc(s.Jt,C));for(let C=0;C<e.mutations.length-1;++C){const M=e.mutations[C];C+1<e.mutations.length&&void 0!==e.mutations[C+1].transform&&(M.updateTransforms=e.mutations[C+1].transform.fieldTransforms,e.mutations.splice(C+1,1),++C)}const o=e.mutations.map(C=>uc(s.Jt,C)),h=ls.fromMillis(e.localWriteTimeMs);return new vu(e.batchId,h,i,o)}function fl(s){const e=Jl(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Jl(s.lastLimboFreeSnapshotVersion):Fi.min();let o;var h;return void 0!==s.query.documents?(lt(1===(h=s.query).documents.length),o=Uo(al(sh(h.documents[0])))):o=Uo(Wu(s.query)),new Za(o,s.targetId,0,s.lastListenSequenceNumber,e,i,zs.fromBase64String(s.resumeToken))}function Po(s,e){const i=ra(e.snapshotVersion),o=ra(e.lastLimboFreeSnapshotVersion);let h;h=ca(e.target)?Kl(s.Jt,e.target):Fc(s.Jt,e.target);const C=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:va(e.target),readTime:i,resumeToken:C,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function wa(s){const e=Wu({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?su(e,e.limit,"L"):e}function Vc(s,e){return new Cu(e.largestBatchId,uc(s.Jt,e.overlayMutation))}function rf(s,e){const i=e.path.lastSegment();return[s,Ho(e.path.popLast()),i]}class jf{getBundleMetadata(e,i){return fh(e).get(i).next(o=>{if(o)return{id:(h=o).bundleId,createTime:Jl(h.createTime),version:h.version};var h})}saveBundleMetadata(e,i){return fh(e).put({bundleId:(o=i).id,createTime:ra(Ws(o.createTime)),version:o.version});var o}getNamedQuery(e,i){return sf(e).get(i).next(o=>{if(o)return{name:(h=o).name,query:wa(h.bundledQuery),readTime:Jl(h.readTime)};var h})}saveNamedQuery(e,i){return sf(e).put({name:(o=i).name,readTime:ra(Ws(o.readTime)),bundledQuery:o.bundledQuery});var o}}function fh(s){return To(s,"bundles")}function sf(s){return To(s,"namedQueries")}class Ka{constructor(e,i){this.M=e,this.userId=i}static Yt(e,i){return new Ka(e,i.uid||"")}getOverlay(e,i){return Bc(e).get(rf(this.userId,i)).next(o=>o?Vc(this.M,o):null)}saveOverlays(e,i,o){const h=[];return o.forEach((C,M)=>{const G=new Cu(i,M);h.push(this.Xt(e,G))}),ee.waitFor(h)}removeOverlaysForBatchId(e,i,o){const h=new Set;i.forEach(M=>h.add(Ho(M.getCollectionPath())));const C=[];return h.forEach(M=>{const G=IDBKeyRange.bound([this.userId,M,o],[this.userId,M,o+1],!1,!0);C.push(Bc(e).Qt("collectionPathOverlayIndex",G))}),ee.waitFor(C)}getOverlaysForCollection(e,i,o){const h=Tl(),C=Ho(i),M=IDBKeyRange.bound([this.userId,C,o],[this.userId,C,Number.POSITIVE_INFINITY],!0);return Bc(e).qt("collectionPathOverlayIndex",M).next(G=>{for(const Ce of G){const Fe=Vc(this.M,Ce);h.set(Fe.getKey(),Fe)}return h})}getOverlaysForCollectionGroup(e,i,o,h){const C=Tl();let M;const G=IDBKeyRange.bound([this.userId,i,o],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Bc(e).Wt({index:"collectionGroupOverlayIndex",range:G},(Ce,Fe,It)=>{const Wt=Vc(this.M,Fe);C.size()<h||Wt.largestBatchId===M?(C.set(Wt.getKey(),Wt),M=Wt.largestBatchId):It.done()}).next(()=>C)}Xt(e,i){return Bc(e).put(function(o,h,C){const[M,G,Ce]=rf(h,C.mutation.key);return{userId:h,collectionPath:G,documentId:Ce,collectionGroup:C.mutation.key.getCollectionGroup(),largestBatchId:C.largestBatchId,overlayMutation:fu(o.Jt,C.mutation)}}(this.M,this.userId,i))}}function Bc(s){return To(s,"documentOverlays")}class Uc{constructor(){}Zt(e,i){this.te(e,i),i.ee()}te(e,i){if("nullValue"in e)this.ne(i,5);else if("booleanValue"in e)this.ne(i,10),i.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(i,15),i.se(Qs(e.integerValue));else if("doubleValue"in e){const o=Qs(e.doubleValue);isNaN(o)?this.ne(i,13):(this.ne(i,15),Nl(o)?i.se(0):i.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(i,20),"string"==typeof o?i.ie(o):(i.ie(`${o.seconds||""}`),i.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,i),this.oe(i);else if("bytesValue"in e)this.ne(i,30),i.ue(rl(e.bytesValue)),this.oe(i);else if("referenceValue"in e)this.ae(e.referenceValue,i);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(i,45),i.se(o.latitude||0),i.se(o.longitude||0)}else"mapValue"in e?xa(e)?this.ne(i,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,i),this.oe(i)):"arrayValue"in e?(this.he(e.arrayValue,i),this.oe(i)):Se()}re(e,i){this.ne(i,25),this.le(e,i)}le(e,i){i.ie(e)}ce(e,i){const o=e.fields||{};this.ne(i,55);for(const h of Object.keys(o))this.re(h,i),this.te(o[h],i)}he(e,i){const o=e.values||[];this.ne(i,50);for(const h of o)this.te(h,i)}ae(e,i){this.ne(i,37),ri.fromName(e).path.forEach(o=>{this.ne(i,60),this.le(o,i)})}ne(e,i){e.se(i)}oe(e){e.se(2)}}function af(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function lf(s){const e=64-function(i){let o=0;for(let h=0;h<8;++h){const C=af(255&i[h]);if(o+=C,8!==C)break}return o}(s);return Math.ceil(e/8)}Uc.fe=new Uc;class ph{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const i=e[Symbol.iterator]();let o=i.next();for(;!o.done;)this._e(o.value),o=i.next();this.we()}me(e){const i=e[Symbol.iterator]();let o=i.next();for(;!o.done;)this.ge(o.value),o=i.next();this.ye()}pe(e){for(const i of e){const o=i.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(i<"\ud800"||"\udbff"<i)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const h=i.codePointAt(0);this._e(240|h>>>18),this._e(128|63&h>>>12),this._e(128|63&h>>>6),this._e(128|63&h)}}this.we()}Ie(e){for(const i of e){const o=i.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(i<"\ud800"||"\udbff"<i)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const h=i.codePointAt(0);this.ge(240|h>>>18),this.ge(128|63&h>>>12),this.ge(128|63&h>>>6),this.ge(128|63&h)}}this.ye()}Te(e){const i=this.Ee(e),o=lf(i);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let h=i.length-o;h<i.length;++h)this.buffer[this.position++]=255&i[h]}Re(e){const i=this.Ee(e),o=lf(i);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let h=i.length-o;h<i.length;++h)this.buffer[this.position++]=~(255&i[h])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const i=function(h){const C=new DataView(new ArrayBuffer(8));return C.setFloat64(0,h,!1),new Uint8Array(C.buffer)}(e),o=0!=(128&i[0]);i[0]^=o?255:128;for(let h=1;h<i.length;++h)i[h]^=o?255:0;return i}_e(e){const i=255&e;0===i?(this.Pe(0),this.Pe(255)):255===i?(this.Pe(255),this.Pe(0)):this.Pe(i)}ge(e){const i=255&e;0===i?(this.ve(0),this.ve(255)):255===i?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const i=e+this.position;if(i<=this.buffer.length)return;let o=2*this.buffer.length;o<i&&(o=i);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class qu{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Gf{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Tu{constructor(){this.De=new ph,this.Ce=new qu(this.De),this.xe=new Gf(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ml{constructor(e,i,o,h){this.indexId=e,this.documentKey=i,this.arrayValue=o,this.directionalValue=h}ke(){const e=this.directionalValue.length,i=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(i);return o.set(this.directionalValue,0),i!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ml(this.indexId,this.documentKey,this.arrayValue,o)}}function Iu(s,e){let i=s.indexId-e.indexId;return 0!==i?i:(i=mh(s.arrayValue,e.arrayValue),0!==i?i:(i=mh(s.directionalValue,e.directionalValue),0!==i?i:ri.comparator(s.documentKey,e.documentKey)))}function mh(s,e){for(let i=0;i<s.length&&i<e.length;++i){const o=s[i]-e[i];if(0!==o)return o}return s.length-e.length}class cf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const i of e.filters){const o=i;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const i=qn(e);if(void 0!==i&&!this.Be(i))return!1;const o=ai(e);let h=0,C=0;for(;h<o.length&&this.Be(o[h]);++h);if(h===o.length)return!0;if(void 0!==this.Fe){const M=o[h];if(!this.Le(this.Fe,M)||!this.Ue(this.Me[C++],M))return!1;++h}for(;h<o.length;++h){const M=o[h];if(C>=this.Me.length||!this.Ue(this.Me[C++],M))return!1}return!0}Be(e){for(const i of this.Oe)if(this.Le(i,e))return!0;return!1}Le(e,i){return!(void 0===e||!e.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,i){return!!e.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===e.dir||1===i.kind&&"desc"===e.dir)}}class zf{constructor(){this.qe=new uf}addToCollectionParentIndex(e,i){return this.qe.add(i),ee.resolve()}getCollectionParents(e,i){return ee.resolve(this.qe.getEntries(i))}addFieldIndex(e,i){return ee.resolve()}deleteFieldIndex(e,i){return ee.resolve()}getDocumentsMatchingTarget(e,i){return ee.resolve(null)}getIndexType(e,i){return ee.resolve(0)}getFieldIndexes(e,i){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,i){return ee.resolve(ks.min())}updateCollectionGroup(e,i,o){return ee.resolve()}updateIndexEntries(e,i){return ee.resolve()}}class uf{constructor(){this.index={}}add(e){const i=e.lastSegment(),o=e.popLast(),h=this.index[i]||new Lr(Sr.comparator),C=!h.has(o);return this.index[i]=h.add(o),C}has(e){const i=e.lastSegment(),o=e.popLast(),h=this.index[i];return h&&h.has(o)}getEntries(e){return(this.index[e]||new Lr(Sr.comparator)).toArray()}}const Qu=new Uint8Array(0);class $f{constructor(e,i){this.user=e,this.databaseId=i,this.Ke=new uf,this.Ge=new $l(o=>va(o),(o,h)=>ba(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.Ke.has(i)){const o=i.lastSegment(),h=i.popLast();e.addOnCommittedListener(()=>{this.Ke.add(i)});const C={collectionId:o,parent:Ho(h)};return df(e).put(C)}return ee.resolve()}getCollectionParents(e,i){const o=[],h=IDBKeyRange.bound([i,""],[nl(i),""],!1,!0);return df(e).qt(h).next(C=>{for(const M of C){if(M.collectionId!==i)break;o.push(Wo(M.parent))}return o})}addFieldIndex(e,i){const o=gh(e),h={indexId:(C=i).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var C;return delete h.indexId,o.add(h).next()}deleteFieldIndex(e,i){const o=gh(e),h=Da(e),C=Fd(e);return o.delete(i.indexId).next(()=>h.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>C.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,i){const o=Fd(e);let h=!0;const C=new Map;return ee.forEach(this.Qe(i),M=>this.je(e,M).next(G=>{h&&(h=!!G),C.set(M,G)})).next(()=>{if(h){let M=is();const G=[];return ee.forEach(C,(Ce,Fe)=>{var It;P("IndexedDbIndexManager",`Using index ${It=Ce,`id=${It.indexId}|cg=${It.collectionGroup}|f=${It.fields.map(Xs=>`${Xs.fieldPath}:${Xs.kind}`).join(",")}`} to execute ${va(i)}`);const Wt=function(Xs,No){const eo=qn(No);if(void 0===eo)return null;for(const Cr of wc(Xs,eo.fieldPath))switch(Cr.op){case"array-contains-any":return Cr.value.arrayValue.values||[];case"array-contains":return[Cr.value]}return null}(Fe,Ce),Dn=function(Xs,No){const eo=new Map;for(const Cr of ai(No))for(const el of wc(Xs,Cr.fieldPath))switch(el.op){case"==":case"in":eo.set(Cr.fieldPath.canonicalString(),el.value);break;case"not-in":case"!=":return eo.set(Cr.fieldPath.canonicalString(),el.value),Array.from(eo.values())}return null}(Fe,Ce),Yn=function(Xs,No){const eo=[];let Cr=!0;for(const el of ai(No)){const zh=0===el.kind?gd(Xs,el.fieldPath,Xs.startAt):Cl(Xs,el.fieldPath,Xs.startAt);eo.push(zh.value),Cr&&(Cr=zh.inclusive)}return new ol(eo,Cr)}(Fe,Ce),vn=function(Xs,No){const eo=[];let Cr=!0;for(const el of ai(No)){const zh=0===el.kind?Cl(Xs,el.fieldPath,Xs.endAt):gd(Xs,el.fieldPath,Xs.endAt);eo.push(zh.value),Cr&&(Cr=zh.inclusive)}return new ol(eo,Cr)}(Fe,Ce),Ti=this.We(Ce,Fe,Yn),dr=this.We(Ce,Fe,vn),_o=this.ze(Ce,Fe,Dn),So=this.He(Ce.indexId,Wt,Ti,Yn.inclusive,dr,vn.inclusive,_o);return ee.forEach(So,Xs=>o.Gt(Xs,i.limit).next(No=>{No.forEach(eo=>{const Cr=ri.fromSegments(eo.documentKey);M.has(Cr)||(M=M.add(Cr),G.push(Cr))})}))}).next(()=>G)}return ee.resolve(null)})}Qe(e){let i=this.Ge.get(e);return i||(i=[e],this.Ge.set(e,i),i)}He(e,i,o,h,C,M,G){const Ce=(null!=i?i.length:1)*Math.max(o.length,C.length),Fe=Ce/(null!=i?i.length:1),It=[];for(let Wt=0;Wt<Ce;++Wt){const Dn=i?this.Je(i[Wt/Fe]):Qu,Yn=this.Ye(e,Dn,o[Wt%Fe],h),vn=this.Xe(e,Dn,C[Wt%Fe],M),Ti=G.map(dr=>this.Ye(e,Dn,dr,!0));It.push(...this.createRange(Yn,vn,Ti))}return It}Ye(e,i,o,h){const C=new Ml(e,ri.empty(),i,o);return h?C:C.ke()}Xe(e,i,o,h){const C=new Ml(e,ri.empty(),i,o);return h?C.ke():C}je(e,i){const o=new cf(i),h=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(e,h).next(C=>{let M=null;for(const G of C)o.$e(G)&&(!M||G.fields.length>M.fields.length)&&(M=G);return M})}getIndexType(e,i){let o=2;return ee.forEach(this.Qe(i),h=>this.je(e,h).next(C=>{C?0!==o&&C.fields.length<function(M){let G=new Lr(ho.comparator),Ce=!1;for(const Fe of M.filters){const It=Fe;It.field.isKeyField()||("array-contains"===It.op||"array-contains-any"===It.op?Ce=!0:G=G.add(It.field))}for(const Fe of M.orderBy)Fe.field.isKeyField()||(G=G.add(Fe.field));return G.size+(Ce?1:0)}(h)&&(o=1):o=0})).next(()=>o)}Ze(e,i){const o=new Tu;for(const h of ai(e)){const C=i.data.field(h.fieldPath);if(null==C)return null;const M=o.Ne(h.kind);Uc.fe.Zt(C,M)}return o.Se()}Je(e){const i=new Tu;return Uc.fe.Zt(e,i.Ne(0)),i.Se()}tn(e,i){const o=new Tu;return Uc.fe.Zt(za(this.databaseId,i),o.Ne(function(h){const C=ai(h);return 0===C.length?0:C[C.length-1].kind}(e))),o.Se()}ze(e,i,o){if(null===o)return[];let h=[];h.push(new Tu);let C=0;for(const M of ai(e)){const G=o[C++];for(const Ce of h)if(this.en(i,M.fieldPath)&&bc(G))h=this.nn(h,M,G);else{const Fe=Ce.Ne(M.kind);Uc.fe.Zt(G,Fe)}}return this.sn(h)}We(e,i,o){return this.ze(e,i,o.position)}sn(e){const i=[];for(let o=0;o<e.length;++o)i[o]=e[o].Se();return i}nn(e,i,o){const h=[...e],C=[];for(const M of o.arrayValue.values||[])for(const G of h){const Ce=new Tu;Ce.seed(G.Se()),Uc.fe.Zt(M,Ce.Ne(i.kind)),C.push(Ce)}return C}en(e,i){return!!e.filters.find(o=>o instanceof Bo&&o.field.isEqual(i)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,i){const o=gh(e),h=Da(e);return(i?o.qt("collectionGroupIndex",IDBKeyRange.bound(i,i)):o.qt()).next(C=>{const M=[];return ee.forEach(C,G=>h.get([G.indexId,this.uid]).next(Ce=>{M.push(function(Fe,It){const Wt=It?new Si(It.sequenceNumber,new ks(Jl(It.readTime),new ri(Wo(It.documentKey)),It.largestBatchId)):Si.empty(),Dn=Fe.fields.map(([Yn,vn])=>new Ni(ho.fromServerFormat(Yn),vn));return new yn(Fe.indexId,Fe.collectionGroup,Dn,Wt)}(G,Ce))})).next(()=>M)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>0===i.length?null:(i.sort((o,h)=>{const C=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==C?C:ar(o.collectionGroup,h.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(e,i,o){const h=gh(e),C=Da(e);return this.rn(e).next(M=>h.qt("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(G=>ee.forEach(G,Ce=>{return C.put({indexId:Ce.indexId,uid:this.user.uid||"",sequenceNumber:M,readTime:ra((Dn=o).readTime),documentKey:Ho(Dn.documentKey.path),largestBatchId:Dn.largestBatchId});var Dn})))}updateIndexEntries(e,i){const o=new Map;return ee.forEach(i,(h,C)=>{const M=o.get(h.collectionGroup);return(M?ee.resolve(M):this.getFieldIndexes(e,h.collectionGroup)).next(G=>(o.set(h.collectionGroup,G),ee.forEach(G,Ce=>this.on(e,h,Ce).next(Fe=>{const It=this.un(C,Ce);return Fe.isEqual(It)?ee.resolve():this.an(e,C,Ce,Fe,It)}))))})}cn(e,i,o,h){return Fd(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.tn(o,i.key),documentKey:i.key.path.toArray()})}hn(e,i,o,h){return Fd(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.tn(o,i.key),i.key.path.toArray()])}on(e,i,o){const h=Fd(e);let C=new Lr(Iu);return h.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,i)])},(M,G)=>{C=C.add(new Ml(o.indexId,i,G.arrayValue,G.directionalValue))}).next(()=>C)}un(e,i){let o=new Lr(Iu);const h=this.Ze(i,e);if(null==h)return o;const C=qn(i);if(null!=C){const M=e.data.field(C.fieldPath);if(bc(M))for(const G of M.arrayValue.values||[])o=o.add(new Ml(i.indexId,e.key,this.Je(G),h))}else o=o.add(new Ml(i.indexId,e.key,Qu,h));return o}an(e,i,o,h,C){P("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const M=[];return function(G,Ce,Fe,It,Wt){const Dn=G.getIterator(),Yn=Ce.getIterator();let vn=na(Dn),Ti=na(Yn);for(;vn||Ti;){let dr=!1,_o=!1;if(vn&&Ti){const So=Fe(vn,Ti);So<0?_o=!0:So>0&&(dr=!0)}else null!=vn?_o=!0:dr=!0;dr?(It(Ti),Ti=na(Yn)):_o?(Wt(vn),vn=na(Dn)):(vn=na(Dn),Ti=na(Yn))}}(h,C,Iu,G=>{M.push(this.cn(e,i,o,G))},G=>{M.push(this.hn(e,i,o,G))}),ee.waitFor(M)}rn(e){let i=1;return Da(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,C)=>{C.done(),i=h.sequenceNumber+1}).next(()=>i)}createRange(e,i,o){o=o.sort((M,G)=>Iu(M,G)).filter((M,G,Ce)=>!G||0!==Iu(M,Ce[G-1]));const h=[];h.push(e);for(const M of o){const G=Iu(M,e),Ce=Iu(M,i);if(0===G)h[0]=e.ke();else if(G>0&&Ce<0)h.push(M),h.push(M.ke());else if(Ce>0)break}h.push(i);const C=[];for(let M=0;M<h.length;M+=2)C.push(IDBKeyRange.bound([h[M].indexId,this.uid,h[M].arrayValue,h[M].directionalValue,Qu,[]],[h[M+1].indexId,this.uid,h[M+1].arrayValue,h[M+1].directionalValue,Qu,[]]));return C}getMinOffset(e,i){let o;return ee.forEach(this.Qe(i),h=>this.je(e,h).next(C=>{C?(!o||Co(C.indexState.offset,o)<0)&&(o=C.indexState.offset):o=ks.min()})).next(()=>o)}}function df(s){return To(s,"collectionParents")}function Fd(s){return To(s,"indexEntries")}function gh(s){return To(s,"indexConfiguration")}function Da(s){return To(s,"indexState")}const Wf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ta{constructor(e,i,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ta(e,Ta.DEFAULT_COLLECTION_PERCENTILE,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hf(s,e,i){const o=s.store("mutations"),h=s.store("documentMutations"),C=[],M=IDBKeyRange.only(i.batchId);let G=0;const Ce=o.Wt({range:M},(It,Wt,Dn)=>(G++,Dn.delete()));C.push(Ce.next(()=>{lt(1===G)}));const Fe=[];for(const It of i.mutations){const Wt=tf(e,It.key.path,i.batchId);C.push(h.delete(Wt)),Fe.push(It.key)}return ee.waitFor(C).next(()=>Fe)}function _h(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Se();e=s.noDocument}return JSON.stringify(e).length}Ta.DEFAULT_COLLECTION_PERCENTILE=10,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ta.DEFAULT=new Ta(41943040,Ta.DEFAULT_COLLECTION_PERCENTILE,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ta.DISABLED=new Ta(-1,0,0);class ff{constructor(e,i,o,h){this.userId=e,this.M=i,this.indexManager=o,this.referenceDelegate=h,this.ln={}}static Yt(e,i,o,h){lt(""!==e.uid);const C=e.isAuthenticated()?e.uid:"";return new ff(C,i,o,h)}checkEmpty(e){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).Wt({index:"userMutationsIndex",range:o},(h,C,M)=>{i=!1,M.done()}).next(()=>i)}addMutationBatch(e,i,o,h){const C=Ju(e),M=Xl(e);return M.add({}).next(G=>{lt("number"==typeof G);const Ce=new vu(G,i,o,h),Fe=function(Dn,Yn,vn){const Ti=vn.baseMutations.map(_o=>fu(Dn.Jt,_o)),dr=vn.mutations.map(_o=>fu(Dn.Jt,_o));return{userId:Yn,batchId:vn.batchId,localWriteTimeMs:vn.localWriteTime.toMillis(),baseMutations:Ti,mutations:dr}}(this.M,this.userId,Ce),It=[];let Wt=new Lr((Dn,Yn)=>ar(Dn.canonicalString(),Yn.canonicalString()));for(const Dn of h){const Yn=tf(this.userId,Dn.key.path,G);Wt=Wt.add(Dn.key.path.popLast()),It.push(M.put(Fe)),It.push(C.put(Yn,ch))}return Wt.forEach(Dn=>{It.push(this.indexManager.addToCollectionParentIndex(e,Dn))}),e.addOnCommittedListener(()=>{this.ln[G]=Ce.keys()}),ee.waitFor(It).next(()=>Ce)})}lookupMutationBatch(e,i){return Xl(e).get(i).next(o=>o?(lt(o.userId===this.userId),Du(this.M,o)):null)}fn(e,i){return this.ln[i]?ee.resolve(this.ln[i]):this.lookupMutationBatch(e,i).next(o=>{if(o){const h=o.keys();return this.ln[i]=h,h}return null})}getNextMutationBatchAfterBatchId(e,i){const o=i+1,h=IDBKeyRange.lowerBound([this.userId,o]);let C=null;return Xl(e).Wt({index:"userMutationsIndex",range:h},(M,G,Ce)=>{G.userId===this.userId&&(lt(G.batchId>=o),C=Du(this.M,G)),Ce.done()}).next(()=>C)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Xl(e).Wt({index:"userMutationsIndex",range:i,reverse:!0},(h,C,M)=>{o=C.batchId,M.done()}).next(()=>o)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).qt("userMutationsIndex",i).next(o=>o.map(h=>Du(this.M,h)))}getAllMutationBatchesAffectingDocumentKey(e,i){const o=mu(this.userId,i.path),h=IDBKeyRange.lowerBound(o),C=[];return Ju(e).Wt({range:h},(M,G,Ce)=>{const[Fe,It,Wt]=M,Dn=Wo(It);if(Fe===this.userId&&i.path.isEqual(Dn))return Xl(e).get(Wt).next(Yn=>{if(!Yn)throw Se();lt(Yn.userId===this.userId),C.push(Du(this.M,Yn))});Ce.done()}).next(()=>C)}getAllMutationBatchesAffectingDocumentKeys(e,i){let o=new Lr(ar);const h=[];return i.forEach(C=>{const M=mu(this.userId,C.path),G=IDBKeyRange.lowerBound(M),Ce=Ju(e).Wt({range:G},(Fe,It,Wt)=>{const[Dn,Yn,vn]=Fe,Ti=Wo(Yn);Dn===this.userId&&C.path.isEqual(Ti)?o=o.add(vn):Wt.done()});h.push(Ce)}),ee.waitFor(h).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,i){const o=i.path,h=o.length+1,C=mu(this.userId,o),M=IDBKeyRange.lowerBound(C);let G=new Lr(ar);return Ju(e).Wt({range:M},(Ce,Fe,It)=>{const[Wt,Dn,Yn]=Ce,vn=Wo(Dn);Wt===this.userId&&o.isPrefixOf(vn)?vn.length===h&&(G=G.add(Yn)):It.done()}).next(()=>this.dn(e,G))}dn(e,i){const o=[],h=[];return i.forEach(C=>{h.push(Xl(e).get(C).next(M=>{if(null===M)throw Se();lt(M.userId===this.userId),o.push(Du(this.M,M))}))}),ee.waitFor(h).next(()=>o)}removeMutationBatch(e,i){return hf(e.Ht,this.userId,i).next(o=>(e.addOnCommittedListener(()=>{this._n(i.batchId)}),ee.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return ee.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return Ju(e).Wt({range:o},(C,M,G)=>{if(C[0]===this.userId){const Ce=Wo(C[1]);h.push(Ce)}else G.done()}).next(()=>{lt(0===h.length)})})}containsKey(e,i){return Yf(e,this.userId,i)}wn(e){return p(e).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Yf(s,e,i){const o=mu(e,i.path),h=o[1],C=IDBKeyRange.lowerBound(o);let M=!1;return Ju(s).Wt({range:C,jt:!0},(G,Ce,Fe)=>{const[It,Wt,Dn]=G;It===e&&Wt===h&&(M=!0),Fe.done()}).next(()=>M)}function Xl(s){return To(s,"mutations")}function Ju(s){return To(s,"documentMutations")}function p(s){return To(s,"mutationQueues")}class u{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new u(0)}static yn(){return new u(-1)}}class c{constructor(e,i){this.referenceDelegate=e,this.M=i}allocateTargetId(e){return this.pn(e).next(i=>{const o=new u(i.highestTargetId);return i.highestTargetId=o.next(),this.In(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(i=>Fi.fromTimestamp(new ls(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,o){return this.pn(e).next(h=>(h.highestListenSequenceNumber=i,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),i>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=i),this.In(e,h)))}addTargetData(e,i){return this.Tn(e,i).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(i,o),this.In(e,o))))}updateTargetData(e,i){return this.Tn(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>b(e).delete(i.targetId)).next(()=>this.pn(e)).next(o=>(lt(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,i,o){let h=0;const C=[];return b(e).Wt((M,G)=>{const Ce=fl(G);Ce.sequenceNumber<=i&&null===o.get(Ce.targetId)&&(h++,C.push(this.removeTargetData(e,Ce)))}).next(()=>ee.waitFor(C)).next(()=>h)}forEachTarget(e,i){return b(e).Wt((o,h)=>{const C=fl(h);i(C)})}pn(e){return x(e).get("targetGlobalKey").next(i=>(lt(null!==i),i))}In(e,i){return x(e).put("targetGlobalKey",i)}Tn(e,i){return b(e).put(Po(this.M,i))}En(e,i){let o=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,o=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(i=>i.targetCount)}getTargetData(e,i){const o=va(i),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let C=null;return b(e).Wt({range:h,index:"queryTargetsIndex"},(M,G,Ce)=>{const Fe=fl(G);ba(i,Fe.target)&&(C=Fe,Ce.done())}).next(()=>C)}addMatchingKeys(e,i,o){const h=[],C=j(e);return i.forEach(M=>{const G=Ho(M.path);h.push(C.put({targetId:o,path:G})),h.push(this.referenceDelegate.addReference(e,o,M))}),ee.waitFor(h)}removeMatchingKeys(e,i,o){const h=j(e);return ee.forEach(i,C=>{const M=Ho(C.path);return ee.waitFor([h.delete([o,M]),this.referenceDelegate.removeReference(e,o,C)])})}removeMatchingKeysForTargetId(e,i){const o=j(e),h=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),h=j(e);let C=is();return h.Wt({range:o,jt:!0},(M,G,Ce)=>{const Fe=Wo(M[1]),It=new ri(Fe);C=C.add(It)}).next(()=>C)}containsKey(e,i){const o=Ho(i.path),h=IDBKeyRange.bound([o],[nl(o)],!1,!0);let C=0;return j(e).Wt({index:"documentTargetsIndex",jt:!0,range:h},([M,G],Ce,Fe)=>{0!==M&&(C++,Fe.done())}).next(()=>C>0)}Et(e,i){return b(e).get(i).next(o=>o?fl(o):null)}}function b(s){return To(s,"targets")}function x(s){return To(s,"targetGlobal")}function j(s){return To(s,"targetDocuments")}function ie(s){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,Me.Z)(function*(s){if(s.code!==Yt.FAILED_PRECONDITION||s.message!==R)throw s;P("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function dt([s,e],[i,o]){const h=ar(s,i);return 0===h?ar(e,o):h}class Lt{constructor(e){this.An=e,this.buffer=new Lr(dt),this.Rn=0}bn(){return++this.Rn}Pn(e){const i=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();dt(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bn{constructor(e,i){this.garbageCollector=e,this.asyncQueue=i,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var i=this;const o=this.Vn?3e5:6e4;P("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Me.Z)(function*(){i.vn=null,i.Vn=!0;try{yield e.collectGarbage(i.garbageCollector)}catch(h){gi(h)?P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield ie(h)}yield i.Sn(e)}))}}class Cn{constructor(e,i){this.Dn=e,this.params=i}calculateTargetCount(e,i){return this.Dn.Cn(e).next(o=>Math.floor(i/100*o))}nthSequenceNumber(e,i){if(0===i)return ee.resolve(gr.A);const o=new Lt(i);return this.Dn.forEachTarget(e,h=>o.Pn(h.sequenceNumber)).next(()=>this.Dn.xn(e,h=>o.Pn(h))).next(()=>o.maxValue)}removeTargets(e,i,o){return this.Dn.removeTargets(e,i,o)}removeOrphanedDocuments(e,i){return this.Dn.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Wf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wf):this.Nn(e,i))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,i){let o,h,C,M,G,Ce,Fe;const It=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Wt=>(Wt>this.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Wt}`),h=this.params.maximumSequenceNumbersToCollect):h=Wt,M=Date.now(),this.nthSequenceNumber(e,h))).next(Wt=>(o=Wt,G=Date.now(),this.removeTargets(e,o,i))).next(Wt=>(C=Wt,Ce=Date.now(),this.removeOrphanedDocuments(e,o))).next(Wt=>(Fe=Date.now(),Sa()<=hn.in.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${M-It}ms\n\tDetermined least recently used ${h} in `+(G-M)+`ms\n\tRemoved ${C} targets in `+(Ce-G)+`ms\n\tRemoved ${Wt} documents in `+(Fe-Ce)+`ms\nTotal Duration: ${Fe-It}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:C,documentsRemoved:Wt})))}}class Un{constructor(e,i){this.db=e,this.garbageCollector=new Cn(this,i)}Cn(e){const i=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>i.next(h=>o+h))}kn(e){let i=0;return this.xn(e,o=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}xn(e,i){return this.Mn(e,(o,h)=>i(h))}addReference(e,i,o){return yi(e,o)}removeReference(e,i,o){return yi(e,o)}removeTargets(e,i,o){return this.db.getTargetCache().removeTargets(e,i,o)}markPotentiallyOrphaned(e,i){return yi(e,i)}On(e,i){return function(o,h){let C=!1;return p(o).zt(M=>Yf(o,M,h).next(G=>(G&&(C=!0),ee.resolve(!G)))).next(()=>C)}(e,i)}removeOrphanedDocuments(e,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let C=0;return this.Mn(e,(M,G)=>{if(G<=i){const Ce=this.On(e,M).next(Fe=>{if(!Fe)return C++,o.getEntry(e,M).next(()=>(o.removeEntry(M,Fi.min()),j(e).delete([0,Ho(M.path)])))});h.push(Ce)}}).next(()=>ee.waitFor(h)).next(()=>o.apply(e)).next(()=>C)}removeTarget(e,i){const o=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,i){return yi(e,i)}Mn(e,i){const o=j(e);let h,C=gr.A;return o.Wt({index:"documentTargetsIndex"},([M,G],{path:Ce,sequenceNumber:Fe})=>{0===M?(C!==gr.A&&i(new ri(Wo(h)),C),C=Fe,h=Ce):C=gr.A}).next(()=>{C!==gr.A&&i(new ri(Wo(h)),C)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yi(s,e){return j(s).put((o=s.currentSequenceNumber,{targetId:0,path:Ho(e.path),sequenceNumber:o}));var o}class ji{constructor(){this.changes=new $l(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?ee.resolve(o):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ys{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,o){return Jo(e).put(o)}removeEntry(e,i,o){return Jo(e).delete(function(h,C){const M=h.path.toArray();return[M.slice(0,M.length-2),M[M.length-2],wu(C),M[M.length-1]]}(i,o))}updateMetadata(e,i){return this.getMetadata(e).next(o=>(o.byteSize+=i,this.Fn(e,o)))}getEntry(e,i){let o=Jt.newInvalidDocument(i);return Jo(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qa(i))},(h,C)=>{o=this.$n(i,C)}).next(()=>o)}Bn(e,i){let o={size:0,document:Jt.newInvalidDocument(i)};return Jo(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qa(i))},(h,C)=>{o={document:this.$n(i,C),size:_h(C)}}).next(()=>o)}getEntries(e,i){let o=ko();return this.Ln(e,i,(h,C)=>{const M=this.$n(h,C);o=o.insert(h,M)}).next(()=>o)}Un(e,i){let o=ko(),h=new Cs(ri.comparator);return this.Ln(e,i,(C,M)=>{const G=this.$n(C,M);o=o.insert(C,G),h=h.insert(C,_h(M))}).next(()=>({documents:o,qn:h}))}Ln(e,i,o){if(i.isEmpty())return ee.resolve();let h=new Lr(zy);i.forEach(Ce=>h=h.add(Ce));const C=IDBKeyRange.bound(qa(h.first()),qa(h.last())),M=h.getIterator();let G=M.getNext();return Jo(e).Wt({index:"documentKeyIndex",range:C},(Ce,Fe,It)=>{const Wt=ri.fromSegments([...Fe.prefixPath,Fe.collectionGroup,Fe.documentId]);for(;G&&zy(G,Wt)<0;)o(G,null),G=M.getNext();G&&G.isEqual(Wt)&&(o(G,Fe),G=M.hasNext()?M.getNext():null),G?It.Ut(qa(G)):It.done()}).next(()=>{for(;G;)o(G,null),G=M.hasNext()?M.getNext():null})}getAllFromCollection(e,i,o){const h=[i.popLast().toArray(),i.lastSegment(),wu(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],C=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jo(e).qt(IDBKeyRange.bound(h,C,!0)).next(M=>{let G=ko();for(const Ce of M){const Fe=this.$n(ri.fromSegments(Ce.prefixPath.concat(Ce.collectionGroup,Ce.documentId)),Ce);G=G.insert(Fe.key,Fe)}return G})}getAllFromCollectionGroup(e,i,o,h){let C=ko();const M=yh(i,o),G=yh(i,ks.max());return Jo(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(M,G,!0)},(Ce,Fe,It)=>{const Wt=this.$n(ri.fromSegments(Fe.prefixPath.concat(Fe.collectionGroup,Fe.documentId)),Fe);C=C.insert(Wt.key,Wt),C.size===h&&It.done()}).next(()=>C)}newChangeBuffer(e){return new sa(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return ha(e).get("remoteDocumentGlobalKey").next(i=>(lt(!!i),i))}Fn(e,i){return ha(e).put("remoteDocumentGlobalKey",i)}$n(e,i){if(i){const o=function(s,e){let i;if(e.document)i=Md(s.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=ri.fromSegments(e.noDocument.path),h=Jl(e.noDocument.readTime);i=Jt.newNoDocument(o,h),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se();{const o=ri.fromSegments(e.unknownDocument.path),h=Jl(e.unknownDocument.version);i=Jt.newUnknownDocument(o,h)}}return e.readTime&&i.setReadTime(function(o){const h=new ls(o[0],o[1]);return Fi.fromTimestamp(h)}(e.readTime)),i}(this.M,i);if(!o.isNoDocument()||!o.version.isEqual(Fi.min()))return o}return Jt.newInvalidDocument(e)}}class sa extends ji{constructor(e,i){super(),this.Kn=e,this.trackRemovals=i,this.Gn=new $l(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const i=[];let o=0,h=new Lr((C,M)=>ar(C.canonicalString(),M.canonicalString()));return this.changes.forEach((C,M)=>{const G=this.Gn.get(C);if(i.push(this.Kn.removeEntry(e,C,G.readTime)),M.isValidDocument()){const Ce=Eu(this.Kn.M,M);h=h.add(C.path.popLast()),o+=_h(Ce)-G.size,i.push(this.Kn.addEntry(e,C,Ce))}else if(o-=G.size,this.trackRemovals){const Ce=Eu(this.Kn.M,M.convertToNoDocument(Fi.min()));i.push(this.Kn.addEntry(e,C,Ce))}}),h.forEach(C=>{i.push(this.Kn.indexManager.addToCollectionParentIndex(e,C))}),i.push(this.Kn.updateMetadata(e,o)),ee.waitFor(i)}getFromCache(e,i){return this.Kn.Bn(e,i).next(o=>(this.Gn.set(i,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,i){return this.Kn.Un(e,i).next(({documents:o,qn:h})=>(h.forEach((C,M)=>{this.Gn.set(C,{size:M,readTime:o.get(C).readTime})}),o))}}function ha(s){return To(s,"remoteDocumentGlobal")}function Jo(s){return To(s,"remoteDocumentsV14")}function qa(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yh(s,e){const i=e.documentKey.path.toArray();return[s,wu(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function zy(s,e){const i=s.path.toArray(),o=e.path.toArray();let h=0;for(let C=0;C<i.length-2&&C<o.length-2;++C)if(h=ar(i[C],o[C]),h)return h;return h=ar(i.length,o.length),h||(h=ar(i[i.length-2],o[o.length-2]),h||ar(i[i.length-1],o[o.length-1]))}class $y{constructor(e){this.M=e}kt(e,i,o,h){const C=new Pt("createOrUpgrade",i);var G;o<1&&h>=1&&(e.createObjectStore("owner"),(G=e).createObjectStore("mutationQueues",{keyPath:"userId"}),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rd,{unique:!0}),G.createObjectStore("documentMutations"),om(e),function(G){G.createObjectStore("remoteDocuments")}(e));let M=ee.resolve();return o<3&&h>=3&&(0!==o&&(function(G){G.deleteObjectStore("targetDocuments"),G.deleteObjectStore("targets"),G.deleteObjectStore("targetGlobal")}(e),om(e)),M=M.next(()=>function(G){const Ce=G.store("targetGlobal"),Fe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fi.min().toTimestamp(),targetCount:0};return Ce.put("targetGlobalKey",Fe)}(C))),o<4&&h>=4&&(0!==o&&(M=M.next(()=>function(G,Ce){return Ce.store("mutations").qt().next(Fe=>{G.deleteObjectStore("mutations"),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rd,{unique:!0});const It=Ce.store("mutations"),Wt=Fe.map(Dn=>It.put(Dn));return ee.waitFor(Wt)})}(e,C))),M=M.next(()=>{!function(G){G.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(M=M.next(()=>this.Qn(C))),o<6&&h>=6&&(M=M.next(()=>(function(G){G.createObjectStore("remoteDocumentGlobal")}(e),this.jn(C)))),o<7&&h>=7&&(M=M.next(()=>this.Wn(C))),o<8&&h>=8&&(M=M.next(()=>this.zn(e,C))),o<9&&h>=9&&(M=M.next(()=>{!function(G){G.objectStoreNames.contains("remoteDocumentChanges")&&G.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(M=M.next(()=>this.Hn(C))),o<11&&h>=11&&(M=M.next(()=>{(function(G){G.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(G){G.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(M=M.next(()=>{!function(G){const Ce=G.createObjectStore("documentOverlays",{keyPath:_u});Ce.createIndex("collectionPathOverlayIndex",dh,{unique:!1}),Ce.createIndex("collectionGroupOverlayIndex",hh,{unique:!1})}(e)})),o<13&&h>=13&&(M=M.next(()=>function(G){const Ce=G.createObjectStore("remoteDocumentsV14",{keyPath:uh});Ce.createIndex("documentKeyIndex",da),Ce.createIndex("collectionGroupIndex",kd)}(e)).next(()=>this.Jn(e,C)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(M=M.next(()=>{!function(G){G.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),G.createObjectStore("indexState",{keyPath:Od}).createIndex("sequenceNumberIndex",nf,{unique:!1}),G.createObjectStore("indexEntries",{keyPath:Do}).createIndex("documentKeyIndex",gu,{unique:!1})}(e)})),M}jn(e){let i=0;return e.store("remoteDocuments").Wt((o,h)=>{i+=_h(h)}).next(()=>{const o={byteSize:i};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const i=e.store("mutationQueues"),o=e.store("mutations");return i.qt().next(h=>ee.forEach(h,C=>{const M=IDBKeyRange.bound([C.userId,-1],[C.userId,C.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",M).next(G=>ee.forEach(G,Ce=>{lt(Ce.userId===C.userId);const Fe=Du(this.M,Ce);return hf(e,C.userId,Fe).next(()=>{})}))}))}Wn(e){const i=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const C=[];return o.Wt((M,G)=>{const Ce=new Sr(M),Fe=[0,Ho(Ce)];C.push(i.get(Fe).next(It=>It?ee.resolve():i.put({targetId:0,path:Ho(Ce),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>ee.waitFor(C))})}zn(e,i){e.createObjectStore("collectionParents",{keyPath:Ku});const o=i.store("collectionParents"),h=new uf,C=M=>{if(h.add(M)){const G=M.lastSegment(),Ce=M.popLast();return o.put({collectionId:G,parent:Ho(Ce)})}};return i.store("remoteDocuments").Wt({jt:!0},(M,G)=>{const Ce=new Sr(M);return C(Ce.popLast())}).next(()=>i.store("documentMutations").Wt({jt:!0},([M,G,Ce],Fe)=>{const It=Wo(G);return C(It.popLast())}))}Hn(e){const i=e.store("targets");return i.Wt((o,h)=>{const C=fl(h),M=Po(this.M,C);return i.put(M)})}Jn(e,i){const o=i.store("remoteDocuments"),h=[];return o.Wt((C,M)=>{const G=i.store("remoteDocumentsV14"),Ce=(Fe=M,Fe.document?new ri(Sr.fromString(Fe.document.name).popFirst(5)):Fe.noDocument?ri.fromSegments(Fe.noDocument.path):Fe.unknownDocument?ri.fromSegments(Fe.unknownDocument.path):Se()).path.toArray();var Fe;const It={prefixPath:Ce.slice(0,Ce.length-2),collectionGroup:Ce[Ce.length-2],documentId:Ce[Ce.length-1],readTime:M.readTime||[0,0],unknownDocument:M.unknownDocument,noDocument:M.noDocument,document:M.document,hasCommittedMutations:!!M.hasCommittedMutations};h.push(G.put(It))}).next(()=>ee.waitFor(h))}}function om(s){s.createObjectStore("targetDocuments",{keyPath:dl}).createIndex("documentTargetsIndex",Ql,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ql,{unique:!0}),s.createObjectStore("targetGlobal")}const r_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class am{constructor(e,i,o,h,C,M,G,Ce,Fe,It,Wt=13){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=o,this.Yn=C,this.window=M,this.document=G,this.Xn=Fe,this.Zn=It,this.ts=Wt,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Dn=>Promise.resolve(),!am.vt())throw new Sn(Yt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Un(this,h),this.hs=i+"main",this.M=new Pd(Ce),this.ls=new dn(this.hs,this.ts,new $y(this.M)),this.fs=new c(this.referenceDelegate,this.M),this.ds=new ys(this.M),this._s=new jf,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===It&&O("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Sn(Yt.FAILED_PRECONDITION,r_);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new gr(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var i=this;return this.cs=function(){var o=(0,Me.Z)(function*(h){if(i.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var i=(0,Me.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Me.Z)(function*(){i.started&&(yield i.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>pf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(i=>{i||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(i=>this.isPrimary&&!i?this.Rs(e).next(()=>!1):!!i&&this.bs(e).next(()=>!0))).catch(e=>{if(gi(e))return P("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Zf(e).get("owner").next(i=>ee.resolve(this.Ps(i)))}Vs(e){return pf(e).delete(this.clientId)}vs(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=To(o,"clientMetadata");return h.qt().next(C=>{const M=e.Ds(C,18e5),G=C.filter(Ce=>-1===M.indexOf(Ce));return ee.forEach(G,Ce=>h.delete(Ce.clientId)).next(()=>G)})}).catch(()=>[]);if(e.ws)for(const o of i)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ee.resolve(!0):Zf(e).get("owner").next(i=>{if(null!==i&&this.Ss(i.leaseTimestampMs,5e3)&&!this.xs(i.ownerId)){if(this.Ps(i)&&this.networkEnabled)return!0;if(!this.Ps(i)){if(!i.allowTabSynchronization)throw new Sn(Yt.FAILED_PRECONDITION,r_);return!1}}return!(!this.networkEnabled||!this.inForeground)||pf(e).qt().next(o=>void 0===this.Ds(o,5e3).find(h=>{if(this.clientId!==h.clientId){const M=!this.inForeground&&h.inForeground,G=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||M&&G)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&P("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const o=new yu(i,gr.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,i){return e.filter(o=>this.Ss(o.updateTimeMs,i)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>pf(e).qt().next(i=>this.Ds(i,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,i){return ff.Yt(e,this.M,i,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new $f(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Ka.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,i,o){P("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===i?"readonly":"readwrite",C=14===(M=this.ts)?v:13===M?g:12===M?T:11===M?dc:void Se();var M;let G;return this.ls.runTransaction(e,h,C,Ce=>(G=new yu(Ce,this.es?this.es.next():gr.A),"readwrite-primary"===i?this.Es(G).next(Fe=>!!Fe||this.As(G)).next(Fe=>{if(!Fe)throw O(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Sn(Yt.FAILED_PRECONDITION,R);return o(G)}).next(Fe=>this.bs(G).next(()=>Fe)):this.$s(G).next(()=>o(G)))).then(Ce=>(G.raiseOnCommittedEvent(),Ce))}$s(e){return Zf(e).get("owner").next(i=>{if(null!==i&&this.Ss(i.leaseTimestampMs,5e3)&&!this.xs(i.ownerId)&&!this.Ps(i)&&!(this.Zn||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Sn(Yt.FAILED_PRECONDITION,r_)})}bs(e){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zf(e).put("owner",i)}static vt(){return dn.vt()}Rs(e){const i=Zf(e);return i.get("owner").next(o=>this.Ps(o)?(P("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):ee.resolve())}Ss(e,i){const o=Date.now();return!(e<o-i||e>o&&(O(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Gt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var i;try{const o=null!==(null===(i=this.ws)||void 0===i?void 0:i.getItem(this.Cs(e)));return P("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return O("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){O("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zf(s){return To(s,"owner")}function pf(s){return To(s,"clientMetadata")}function Kf(s,e){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+e+"/"+i+"/"}class Wy{constructor(e,i,o){this.ds=e,this.Bs=i,this.indexManager=o}Ls(e,i){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,i).next(o=>this.Us(e,i,o))}Us(e,i,o){return this.ds.getEntry(e,i).next(h=>{for(const C of o)C.applyToLocalView(h);return h})}qs(e,i){e.forEach((o,h)=>{for(const C of i)C.applyToLocalView(h)})}Ks(e,i){return this.ds.getEntries(e,i).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,i){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,i).next(o=>this.qs(i,o))}Qs(e,i,o){return ri.isDocumentKey((h=i).path)&&null===h.collectionGroup&&0===h.filters.length?this.js(e,i.path):ru(i)?this.Ws(e,i,o):this.zs(e,i,o);var h}js(e,i){return this.Ls(e,new ri(i)).next(o=>{let h=sc();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}Ws(e,i,o){const h=i.collectionGroup;let C=sc();return this.indexManager.getCollectionParents(e,h).next(M=>ee.forEach(M,G=>{const Ce=(Fe=i,It=G.child(h),new $o(It,null,Fe.explicitOrderBy.slice(),Fe.filters.slice(),Fe.limit,Fe.limitType,Fe.startAt,Fe.endAt));var Fe,It;return this.zs(e,Ce,o).next(Fe=>{Fe.forEach((It,Wt)=>{C=C.insert(It,Wt)})})}).next(()=>C))}zs(e,i,o){let h;return this.ds.getAllFromCollection(e,i.path,o).next(C=>(h=C,this.Bs.getAllMutationBatchesAffectingQuery(e,i))).next(C=>{for(const M of C)for(const G of M.mutations){const Ce=G.key;let Fe=h.get(Ce);null==Fe&&(Fe=Jt.newInvalidDocument(Ce),h=h.insert(Ce,Fe)),ju(G,Fe,M.localWriteTime),Fe.isFoundDocument()||(h=h.remove(Ce))}}).next(()=>(h.forEach((C,M)=>{ic(i,M)||(h=h.remove(C))}),h))}}class mf{constructor(e,i,o,h){this.targetId=e,this.fromCache=i,this.Hs=o,this.Js=h}static Ys(e,i){let o=is(),h=is();for(const C of i.docChanges)switch(C.type){case 0:o=o.add(C.doc.key);break;case 1:h=h.add(C.doc.key)}return new mf(e,i.fromCache,o,h)}}class Yy{constructor(){this.Xs=!1}initialize(e,i){this.Zs=e,this.indexManager=i,this.Xs=!0}Qs(e,i,o,h){return this.ti(e,i).next(C=>C||this.ei(e,i,h,o)).next(C=>C||this.ni(e,i))}ti(e,i){return ee.resolve(null)}ei(e,i,o,h){return function(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}(i)||h.isEqual(Fi.min())?this.ni(e,i):this.Zs.Ks(e,o).next(C=>{const M=this.si(i,C);return this.ii(i,M,o,h)?this.ni(e,i):(Sa()<=hn.in.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Tc(i)),this.ri(e,M,i,wr(h,-1)))})}si(e,i){let o=new Lr(Bu(e));return i.forEach((h,C)=>{ic(e,C)&&(o=o.add(C))}),o}ii(e,i,o,h){if(null===e.limit)return!1;if(o.size!==i.size)return!0;const C="F"===e.limitType?i.last():i.first();return!!C&&(C.hasPendingWrites||C.version.compareTo(h)>0)}ni(e,i){return Sa()<=hn.in.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Tc(i)),this.Zs.Qs(e,i,ks.min())}ri(e,i,o,h){return this.Zs.Qs(e,o,h).next(C=>(i.forEach(M=>{C=C.insert(M.key,M)}),C))}}class aC{constructor(e,i,o,h){this.persistence=e,this.oi=i,this.M=h,this.ui=new Cs(ar),this.ai=new $l(C=>va(C),ba),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(o)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Wy(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.ui))}}function Zy(s,e,i,o){return new aC(s,e,i,o)}function Ky(s,e){return s_.apply(this,arguments)}function s_(){return(s_=(0,Me.Z)(function*(s,e){const i=qt(s);return yield i.persistence.runTransaction("Handle user change","readonly",o=>{let h;return i.Bs.getAllMutationBatches(o).next(C=>(h=C,i.li(e),i.Bs.getAllMutationBatches(o))).next(C=>{const M=[],G=[];let Ce=is();for(const Fe of h){M.push(Fe.batchId);for(const It of Fe.mutations)Ce=Ce.add(It.key)}for(const Fe of C){G.push(Fe.batchId);for(const It of Fe.mutations)Ce=Ce.add(It.key)}return i.fi.Ks(o,Ce).next(Fe=>({di:Fe,removedBatchIds:M,addedBatchIds:G}))})})})).apply(this,arguments)}function lC(s,e){const i=qt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),C=i.hi.newChangeBuffer({trackRemovals:!0});return function(M,G,Ce,Fe){const It=Ce.batch,Wt=It.keys();let Dn=ee.resolve();return Wt.forEach(Yn=>{Dn=Dn.next(()=>Fe.getEntry(G,Yn)).next(vn=>{const Ti=Ce.docVersions.get(Yn);lt(null!==Ti),vn.version.compareTo(Ti)<0&&(It.applyToRemoteDocument(vn,Ce),vn.isValidDocument()&&(vn.setReadTime(Ce.commitVersion),Fe.addEntry(vn)))})}),Dn.next(()=>M.Bs.removeMutationBatch(G,It))}(i,o,e,C).next(()=>C.apply(o)).next(()=>i.Bs.performConsistencyCheck(o)).next(()=>i.fi.Ks(o,h))})}function qy(s){const e=qt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.fs.getLastRemoteSnapshotVersion(i))}function cC(s,e){const i=qt(s),o=e.snapshotVersion;let h=i.ui;return i.persistence.runTransaction("Apply remote event","readwrite-primary",C=>{const M=i.hi.newChangeBuffer({trackRemovals:!0});h=i.ui;const G=[];e.targetChanges.forEach((Fe,It)=>{const Wt=h.get(It);if(!Wt)return;G.push(i.fs.removeMatchingKeys(C,Fe.removedDocuments,It).next(()=>i.fs.addMatchingKeys(C,Fe.addedDocuments,It)));let Dn=Wt.withSequenceNumber(C.currentSequenceNumber);var Yn,vn,Ti;e.targetMismatches.has(It)?Dn=Dn.withResumeToken(zs.EMPTY_BYTE_STRING,Fi.min()).withLastLimboFreeSnapshotVersion(Fi.min()):Fe.resumeToken.approximateByteSize()>0&&(Dn=Dn.withResumeToken(Fe.resumeToken,o)),h=h.insert(It,Dn),vn=Dn,Ti=Fe,(0===(Yn=Wt).resumeToken.approximateByteSize()||vn.snapshotVersion.toMicroseconds()-Yn.snapshotVersion.toMicroseconds()>=3e8||Ti.addedDocuments.size+Ti.modifiedDocuments.size+Ti.removedDocuments.size>0)&&G.push(i.fs.updateTargetData(C,Dn))});let Ce=ko();if(e.documentUpdates.forEach(Fe=>{e.resolvedLimboDocuments.has(Fe)&&G.push(i.persistence.referenceDelegate.updateLimboDocument(C,Fe))}),G.push(Qy(C,M,e.documentUpdates).next(Fe=>{Ce=Fe})),!o.isEqual(Fi.min())){const Fe=i.fs.getLastRemoteSnapshotVersion(C).next(It=>i.fs.setTargetsMetadata(C,C.currentSequenceNumber,o));G.push(Fe)}return ee.waitFor(G).next(()=>M.apply(C)).next(()=>i.fi.Gs(C,Ce)).next(()=>Ce)}).then(C=>(i.ui=h,C))}function Qy(s,e,i){let o=is();return i.forEach(h=>o=o.add(h)),e.getEntries(s,o).next(h=>{let C=ko();return i.forEach((M,G)=>{const Ce=h.get(M);G.isNoDocument()&&G.version.isEqual(Fi.min())?(e.removeEntry(M,G.readTime),C=C.insert(M,G)):!Ce.isValidDocument()||G.version.compareTo(Ce.version)>0||0===G.version.compareTo(Ce.version)&&Ce.hasPendingWrites?(e.addEntry(G),C=C.insert(M,G)):P("LocalStore","Ignoring outdated watch update for ",M,". Current version:",Ce.version," Watch version:",G.version)}),C})}function uC(s,e){const i=qt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),i.Bs.getNextMutationBatchAfterBatchId(o,e)))}function gf(s,e){const i=qt(s);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return i.fs.getTargetData(o,e).next(C=>C?(h=C,ee.resolve(h)):i.fs.allocateTargetId(o).next(M=>(h=new Za(e,M,0,o.currentSequenceNumber),i.fs.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=i.ui.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(i.ui=i.ui.insert(o.targetId,o),i.ai.set(e,o.targetId)),o})}function Al(s,e,i){return _f.apply(this,arguments)}function _f(){return(_f=(0,Me.Z)(function*(s,e,i){const o=qt(s),h=o.ui.get(e),C=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",C,M=>o.persistence.referenceDelegate.removeTarget(M,h)))}catch(M){if(!gi(M))throw M;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${M}`)}o.ui=o.ui.remove(e),o.ai.delete(h.target)})).apply(this,arguments)}function qf(s,e,i){const o=qt(s);let h=Fi.min(),C=is();return o.persistence.runTransaction("Execute query","readonly",M=>function(G,Ce,Fe){const It=qt(G),Wt=It.ai.get(Fe);return void 0!==Wt?ee.resolve(It.ui.get(Wt)):It.fs.getTargetData(Ce,Fe)}(o,M,Uo(e)).next(G=>{if(G)return h=G.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(M,G.targetId).next(Ce=>{C=Ce})}).next(()=>o.oi.Qs(M,e,i?h:Fi.min(),i?C:is())).next(G=>(cm(o,Ic(e),G),{documents:G,_i:C})))}function lm(s,e){const i=qt(s),o=qt(i.fs),h=i.ui.get(e);return h?Promise.resolve(h.target):i.persistence.runTransaction("Get target data","readonly",C=>o.Et(C,e).next(M=>M?M.target:null))}function Qf(s,e){const i=qt(s),o=i.ci.get(e)||Fi.min();return i.persistence.runTransaction("Get new document changes","readonly",h=>i.hi.getAllFromCollectionGroup(h,e,wr(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(cm(i,e,h),h))}function cm(s,e,i){let o=Fi.min();i.forEach((h,C)=>{C.readTime.compareTo(o)>0&&(o=C.readTime)}),s.ci.set(e,o)}function dm(){return(dm=(0,Me.Z)(function*(s,e,i,o){const h=qt(s);let C=is(),M=ko();for(const Fe of i){const It=e.wi(Fe.metadata.name);Fe.document&&(C=C.add(It));const Wt=e.mi(Fe);Wt.setReadTime(e.gi(Fe.metadata.readTime)),M=M.insert(It,Wt)}const G=h.hi.newChangeBuffer({trackRemovals:!0}),Ce=yield gf(h,(Fe=o,Uo(al(Sr.fromString(`__bundle__/docs/${Fe}`)))));var Fe;return h.persistence.runTransaction("Apply bundle documents","readwrite",Fe=>Qy(Fe,G,M).next(It=>(G.apply(Fe),It)).next(It=>h.fs.removeMatchingKeysForTargetId(Fe,Ce.targetId).next(()=>h.fs.addMatchingKeys(Fe,C,Ce.targetId)).next(()=>h.fi.Gs(Fe,It)).next(()=>It)))})).apply(this,arguments)}function Xu(s,e){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,Me.Z)(function*(s,e,i=is()){const o=yield gf(s,Uo(wa(e.bundledQuery))),h=qt(s);return h.persistence.runTransaction("Save named query","readwrite",C=>{const M=Ws(e.readTime);if(o.snapshotVersion.compareTo(M)>=0)return h._s.saveNamedQuery(C,e);const G=o.withResumeToken(zs.EMPTY_BYTE_STRING,M);return h.ui=h.ui.insert(G.targetId,G),h.fs.updateTargetData(C,G).next(()=>h.fs.removeMatchingKeysForTargetId(C,o.targetId)).next(()=>h.fs.addMatchingKeys(C,i,o.targetId)).next(()=>h._s.saveNamedQuery(C,e))})})).apply(this,arguments)}class Jy{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,i){return ee.resolve(this.yi.get(i))}saveBundleMetadata(e,i){var o;return this.yi.set(i.id,{id:(o=i).id,version:o.version,createTime:Ws(o.createTime)}),ee.resolve()}getNamedQuery(e,i){return ee.resolve(this.pi.get(i))}saveNamedQuery(e,i){return this.pi.set(i.name,{name:(o=i).name,query:wa(o.bundledQuery),readTime:Ws(o.readTime)}),ee.resolve();var o}}class dC{constructor(){this.overlays=new Cs(ri.comparator),this.Ii=new Map}getOverlay(e,i){return ee.resolve(this.overlays.get(i))}saveOverlays(e,i,o){return o.forEach((h,C)=>{this.Xt(e,i,C)}),ee.resolve()}removeOverlaysForBatchId(e,i,o){const h=this.Ii.get(o);return void 0!==h&&(h.forEach(C=>this.overlays=this.overlays.remove(C)),this.Ii.delete(o)),ee.resolve()}getOverlaysForCollection(e,i,o){const h=Tl(),C=i.length+1,M=new ri(i.child("")),G=this.overlays.getIteratorFrom(M);for(;G.hasNext();){const Ce=G.getNext().value,Fe=Ce.getKey();if(!i.isPrefixOf(Fe.path))break;Fe.path.length===C&&Ce.largestBatchId>o&&h.set(Ce.getKey(),Ce)}return ee.resolve(h)}getOverlaysForCollectionGroup(e,i,o,h){let C=new Cs((Fe,It)=>Fe-It);const M=this.overlays.getIterator();for(;M.hasNext();){const Fe=M.getNext().value;if(Fe.getKey().getCollectionGroup()===i&&Fe.largestBatchId>o){let It=C.get(Fe.largestBatchId);null===It&&(It=Tl(),C=C.insert(Fe.largestBatchId,It)),It.set(Fe.getKey(),Fe)}}const G=Tl(),Ce=C.getIterator();for(;Ce.hasNext()&&(Ce.getNext().value.forEach((Fe,It)=>G.set(Fe,It)),!(G.size()>=h)););return ee.resolve(G)}Xt(e,i,o){if(null===o)return;const h=this.overlays.get(o.key);if(null!==h){const M=this.Ii.get(h.largestBatchId).delete(o.key);this.Ii.set(h.largestBatchId,M)}this.overlays=this.overlays.insert(o.key,new Cu(i,o));let C=this.Ii.get(i);void 0===C&&(C=is(),this.Ii.set(i,C)),this.Ii.set(i,C.add(o.key))}}class yf{constructor(){this.Ti=new Lr(fa.Ei),this.Ai=new Lr(fa.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,i){const o=new fa(e,i);this.Ti=this.Ti.add(o),this.Ai=this.Ai.add(o)}bi(e,i){e.forEach(o=>this.addReference(o,i))}removeReference(e,i){this.Pi(new fa(e,i))}Vi(e,i){e.forEach(o=>this.removeReference(o,i))}vi(e){const i=new ri(new Sr([])),o=new fa(i,e),h=new fa(i,e+1),C=[];return this.Ai.forEachInRange([o,h],M=>{this.Pi(M),C.push(M.key)}),C}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const i=new ri(new Sr([])),o=new fa(i,e),h=new fa(i,e+1);let C=is();return this.Ai.forEachInRange([o,h],M=>{C=C.add(M.key)}),C}containsKey(e){const i=new fa(e,0),o=this.Ti.firstAfterOrEqual(i);return null!==o&&e.isEqual(o.key)}}class fa{constructor(e,i){this.key=e,this.Ci=i}static Ei(e,i){return ri.comparator(e.key,i.key)||ar(e.Ci,i.Ci)}static Ri(e,i){return ar(e.Ci,i.Ci)||ri.comparator(e.key,i.key)}}class o_{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.Bs=[],this.xi=1,this.Ni=new Lr(fa.Ei)}checkEmpty(e){return ee.resolve(0===this.Bs.length)}addMutationBatch(e,i,o,h){const C=this.xi;this.xi++;const M=new vu(C,i,o,h);this.Bs.push(M);for(const G of h)this.Ni=this.Ni.add(new fa(G.key,C)),this.indexManager.addToCollectionParentIndex(e,G.key.path.popLast());return ee.resolve(M)}lookupMutationBatch(e,i){return ee.resolve(this.ki(i))}getNextMutationBatchAfterBatchId(e,i){const h=this.Mi(i+1),C=h<0?0:h;return ee.resolve(this.Bs.length>C?this.Bs[C]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return ee.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const o=new fa(i,0),h=new fa(i,Number.POSITIVE_INFINITY),C=[];return this.Ni.forEachInRange([o,h],M=>{const G=this.ki(M.Ci);C.push(G)}),ee.resolve(C)}getAllMutationBatchesAffectingDocumentKeys(e,i){let o=new Lr(ar);return i.forEach(h=>{const C=new fa(h,0),M=new fa(h,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([C,M],G=>{o=o.add(G.Ci)})}),ee.resolve(this.Oi(o))}getAllMutationBatchesAffectingQuery(e,i){const o=i.path,h=o.length+1;let C=o;ri.isDocumentKey(C)||(C=C.child(""));const M=new fa(new ri(C),0);let G=new Lr(ar);return this.Ni.forEachWhile(Ce=>{const Fe=Ce.key.path;return!!o.isPrefixOf(Fe)&&(Fe.length===h&&(G=G.add(Ce.Ci)),!0)},M),ee.resolve(this.Oi(G))}Oi(e){const i=[];return e.forEach(o=>{const h=this.ki(o);null!==h&&i.push(h)}),i}removeMutationBatch(e,i){lt(0===this.Fi(i.batchId,"removed")),this.Bs.shift();let o=this.Ni;return ee.forEach(i.mutations,h=>{const C=new fa(h.key,i.batchId);return o=o.delete(C),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Ni=o})}_n(e){}containsKey(e,i){const o=new fa(i,0),h=this.Ni.firstAfterOrEqual(o);return ee.resolve(i.isEqual(h&&h.key))}performConsistencyCheck(e){return ee.resolve()}Fi(e,i){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const i=this.Mi(e);return i<0||i>=this.Bs.length?null:this.Bs[i]}}class Xy{constructor(e){this.$i=e,this.docs=new Cs(ri.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const o=i.key,h=this.docs.get(o),C=h?h.size:0,M=this.$i(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:M}),this.size+=M-C,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const o=this.docs.get(i);return ee.resolve(o?o.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let o=ko();return i.forEach(h=>{const C=this.docs.get(h);o=o.insert(h,C?C.document.mutableCopy():Jt.newInvalidDocument(h))}),ee.resolve(o)}getAllFromCollection(e,i,o){let h=ko();const C=new ri(i.child("")),M=this.docs.getIteratorFrom(C);for(;M.hasNext();){const{key:G,value:{document:Ce}}=M.getNext();if(!i.isPrefixOf(G.path))break;G.path.length>i.length+1||Co(Qi(Ce),o)<=0||(h=h.insert(Ce.key,Ce.mutableCopy()))}return ee.resolve(h)}getAllFromCollectionGroup(e,i,o,h){Se()}Bi(e,i){return ee.forEach(this.docs,o=>i(o))}newChangeBuffer(e){return new ev(this)}getSize(e){return ee.resolve(this.size)}}class ev extends ji{constructor(e){super(),this.Kn=e}applyChanges(e){const i=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?i.push(this.Kn.addEntry(e,h)):this.Kn.removeEntry(o)}),ee.waitFor(i)}getFromCache(e,i){return this.Kn.getEntry(e,i)}getAllFromCache(e,i){return this.Kn.getEntries(e,i)}}class vf{constructor(e){this.persistence=e,this.Li=new $l(i=>va(i),ba),this.lastRemoteSnapshotVersion=Fi.min(),this.highestTargetId=0,this.Ui=0,this.qi=new yf,this.targetCount=0,this.Ki=u.gn()}forEachTarget(e,i){return this.Li.forEach((o,h)=>i(h)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Ui&&(this.Ui=i),ee.resolve()}Tn(e){this.Li.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ki=new u(i),this.highestTargetId=i),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,i){return this.Tn(i),this.targetCount+=1,ee.resolve()}updateTargetData(e,i){return this.Tn(i),ee.resolve()}removeTargetData(e,i){return this.Li.delete(i.target),this.qi.vi(i.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,i,o){let h=0;const C=[];return this.Li.forEach((M,G)=>{G.sequenceNumber<=i&&null===o.get(G.targetId)&&(this.Li.delete(M),C.push(this.removeMatchingKeysForTargetId(e,G.targetId)),h++)}),ee.waitFor(C).next(()=>h)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,i){const o=this.Li.get(i)||null;return ee.resolve(o)}addMatchingKeys(e,i,o){return this.qi.bi(i,o),ee.resolve()}removeMatchingKeys(e,i,o){this.qi.Vi(i,o);const h=this.persistence.referenceDelegate,C=[];return h&&i.forEach(M=>{C.push(h.markPotentiallyOrphaned(e,M))}),ee.waitFor(C)}removeMatchingKeysForTargetId(e,i){return this.qi.vi(i),ee.resolve()}getMatchingKeysForTargetId(e,i){const o=this.qi.Di(i);return ee.resolve(o)}containsKey(e,i){return ee.resolve(this.qi.containsKey(i))}}class vh{constructor(e,i){this.Gi={},this.overlays={},this.es=new gr(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new vf(this),this.indexManager=new zf,this.ds=new Xy(o=>this.referenceDelegate.Qi(o)),this.M=new Pd(i),this._s=new Jy(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new dC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let o=this.Gi[e.toKey()];return o||(o=new o_(i,this.referenceDelegate),this.Gi[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,i,o){P("MemoryPersistence","Starting transaction:",e);const h=new hm(this.es.next());return this.referenceDelegate.ji(),o(h).next(C=>this.referenceDelegate.Wi(h).next(()=>C)).toPromise().then(C=>(h.raiseOnCommittedEvent(),C))}zi(e,i){return ee.or(Object.values(this.Gi).map(o=>()=>o.containsKey(e,i)))}}class hm extends re{constructor(e){super(),this.currentSequenceNumber=e}}class ed{constructor(e){this.persistence=e,this.Hi=new yf,this.Ji=null}static Yi(e){return new ed(e)}get Xi(){if(this.Ji)return this.Ji;throw Se()}addReference(e,i,o){return this.Hi.addReference(o,i),this.Xi.delete(o.toString()),ee.resolve()}removeReference(e,i,o){return this.Hi.removeReference(o,i),this.Xi.add(o.toString()),ee.resolve()}markPotentiallyOrphaned(e,i){return this.Xi.add(i.toString()),ee.resolve()}removeTarget(e,i){this.Hi.vi(i.targetId).forEach(h=>this.Xi.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,i.targetId).next(h=>{h.forEach(C=>this.Xi.add(C.toString()))}).next(()=>o.removeTargetData(e,i))}ji(){this.Ji=new Set}Wi(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xi,o=>{const h=ri.fromPath(o);return this.Zi(e,h).next(C=>{C||i.removeEntry(h,Fi.min())})}).next(()=>(this.Ji=null,i.apply(e)))}updateLimboDocument(e,i){return this.Zi(e,i).next(o=>{o?this.Xi.delete(i.toString()):this.Xi.add(i.toString())})}Qi(e){return 0}Zi(e,i){return ee.or([()=>ee.resolve(this.Hi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.zi(e,i)])}}function bh(s,e){return`firestore_clients_${s}_${e}`}function Ld(s,e,i){let o=`firestore_mutations_${s}_${i}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function fm(s,e){return`firestore_targets_${s}_${e}`}class bf{constructor(e,i,o,h){this.user=e,this.batchId=i,this.state=o,this.error=h}static tr(e,i,o){const h=JSON.parse(o);let C,M="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return M&&h.error&&(M="string"==typeof h.error.message&&"string"==typeof h.error.code,M&&(C=new Sn(h.error.code,h.error.message))),M?new bf(e,i,h.state,C):(O("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ch{constructor(e,i,o){this.targetId=e,this.state=i,this.error=o}static tr(e,i){const o=JSON.parse(i);let h,C="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return C&&o.error&&(C="string"==typeof o.error.message&&"string"==typeof o.error.code,C&&(h=new Sn(o.error.code,o.error.message))),C?new Ch(e,o.state,h):(O("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eh{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static tr(e,i){const o=JSON.parse(i);let h="object"==typeof o&&o.activeTargetIds instanceof Array,C=Ps();for(let M=0;h&&M<o.activeTargetIds.length;++M)h=Rs(o.activeTargetIds[M]),C=C.add(o.activeTargetIds[M]);return h?new Eh(e,C):(O("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class Cf{constructor(e,i){this.clientId=e,this.onlineState=i}static tr(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Cf(i.clientId,i.onlineState):(O("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Xf{constructor(){this.activeTargetIds=Ps()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wh{constructor(e,i,o,h,C){this.window=e,this.Yn=i,this.persistenceKey=o,this.ir=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Cs(ar),this.started=!1,this.cr=[];const M=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=C,this.hr=bh(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Xf),this.dr=new RegExp(`^firestore_clients_${M}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${M}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${M}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(G){return`firestore_bundle_loaded_v2_${G}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const i=yield e.syncEngine.Fs();for(const h of i){if(h===e.ir)continue;const C=e.getItem(bh(e.persistenceKey,h));if(C){const M=Eh.tr(h,C);M&&(e.ar=e.ar.insert(M.clientId,M))}}e.yr();const o=e.storage.getItem(e.mr);if(o){const h=e.pr(o);h&&e.Ir(h)}for(const h of e.cr)e.ur(h);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let i=!1;return this.ar.forEach((o,h)=>{h.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,i,o){this.Er(e,i,o),this.Ar(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(fm(this.persistenceKey,e));if(o){const h=Ch.tr(e,o);h&&(i=h.state)}}return this.Rr.nr(e),this.yr(),i}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fm(this.persistenceKey,e))}updateQueryState(e,i,o){this.br(e,i,o)}handleUserChange(e,i,o){i.forEach(h=>{this.Ar(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return P("SharedClientState","READ",e,i),i}setItem(e,i){P("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){P("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var i=this;const o=e;if(o.storageArea===this.storage){if(P("SharedClientState","EVENT",o.key,o.newValue),o.key===this.hr)return void O("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Me.Z)(function*(){if(i.started){if(null!==o.key)if(i.dr.test(o.key)){if(null==o.newValue){const h=i.vr(o.key);return i.Sr(h,null)}{const h=i.Dr(o.key,o.newValue);if(h)return i.Sr(h.clientId,h)}}else if(i._r.test(o.key)){if(null!==o.newValue){const h=i.Cr(o.key,o.newValue);if(h)return i.Nr(h)}}else if(i.wr.test(o.key)){if(null!==o.newValue){const h=i.kr(o.key,o.newValue);if(h)return i.Mr(h)}}else if(o.key===i.mr){if(null!==o.newValue){const h=i.pr(o.newValue);if(h)return i.Ir(h)}}else if(o.key===i.lr){const h=function(C){let M=gr.A;if(null!=C)try{const G=JSON.parse(C);lt("number"==typeof G),M=G}catch(G){O("SharedClientState","Failed to read sequence number from WebStorage",G)}return M}(o.newValue);h!==gr.A&&i.sequenceNumberHandler(h)}else if(o.key===i.gr){const h=i.Or(o.newValue);yield Promise.all(h.map(C=>i.syncEngine.Fr(C)))}}else i.cr.push(o)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,i,o){const h=new bf(this.currentUser,e,i,o),C=Ld(this.persistenceKey,this.currentUser,e);this.setItem(C,h.er())}Ar(e){const i=Ld(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,i,o){const h=fm(this.persistenceKey,e),C=new Ch(e,i,o);this.setItem(h,C.er())}Vr(e){const i=JSON.stringify(Array.from(e));this.setItem(this.gr,i)}vr(e){const i=this.dr.exec(e);return i?i[1]:null}Dr(e,i){const o=this.vr(e);return Eh.tr(o,i)}Cr(e,i){const o=this._r.exec(e),h=Number(o[1]);return bf.tr(new bs(void 0!==o[2]?o[2]:null),h,i)}kr(e,i){const o=this.wr.exec(e),h=Number(o[1]);return Ch.tr(h,i)}pr(e){return Cf.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var i=this;return(0,Me.Z)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine.$r(e.batchId,e.state,e.error);P("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,i){const o=i?this.ar.insert(e,i):this.ar.remove(e),h=this.Tr(this.ar),C=this.Tr(o),M=[],G=[];return C.forEach(Ce=>{h.has(Ce)||M.push(Ce)}),h.forEach(Ce=>{C.has(Ce)||G.push(Ce)}),this.syncEngine.Lr(M,G).then(()=>{this.ar=o})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let i=Ps();return e.forEach((o,h)=>{i=i.unionWith(h.activeTargetIds)}),i}}class a_{constructor(){this.Ur=new Xf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,o){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,i,o){this.qr[e]=i}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Xf,Promise.resolve()}handleUserChange(e,i,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class l_{Kr(e){}shutdown(){}}class tv{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const c_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class u_{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class nv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,i,o,h,C){const M=this.ho(e,i);P("RestConnection","Sending: ",M,o);const G={};return this.lo(G,h,C),this.fo(e,M,G,o).then(Ce=>(P("RestConnection","Received: ",Ce),Ce),Ce=>{throw X("RestConnection",`${e} failed with error: `,Ce,"url: ",M,"request:",o),Ce})}_o(e,i,o,h,C){return this.co(e,i,o,h,C)}lo(e,i,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ea,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((h,C)=>e[C]=h),o&&o.headers.forEach((h,C)=>e[C]=h)}ho(e,i){return`${this.uo}/v1/${i}:${c_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,i,o,h){return new Promise((C,M)=>{const G=new io;G.listenOnce(gs.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case no.NO_ERROR:const Fe=G.getResponseJson();P("Connection","XHR received:",JSON.stringify(Fe)),C(Fe);break;case no.TIMEOUT:P("Connection",'RPC "'+e+'" timed out'),M(new Sn(Yt.DEADLINE_EXCEEDED,"Request time out"));break;case no.HTTP_ERROR:const It=G.getStatus();if(P("Connection",'RPC "'+e+'" failed with status:',It,"response text:",G.getResponseText()),It>0){const Wt=G.getResponseJson().error;if(Wt&&Wt.status&&Wt.message){const Dn=function(Yn){const vn=Yn.toLowerCase().replace(/_/g,"-");return Object.values(Yt).indexOf(vn)>=0?vn:Yt.UNKNOWN}(Wt.status);M(new Sn(Dn,Wt.message))}else M(new Sn(Yt.UNKNOWN,"Server responded with status "+G.getStatus()))}else M(new Sn(Yt.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{P("Connection",'RPC "'+e+'" completed.')}});const Ce=JSON.stringify(h);G.send(i,"POST",Ce,o,15)})}wo(e,i,o){const h=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],C=ms(),M=Ts(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(G.xmlHttpFactory=new Rr({})),this.lo(G.initMessageHeaders,i,o),(0,Gt.uI)()||(0,Gt.b$)()||(0,Gt.d)()||(0,Gt.w1)()||(0,Gt.Mn)()||(0,Gt.ru)()||(G.httpHeadersOverwriteParam="$httpHeaders");const Ce=h.join("");P("Connection","Creating WebChannel: "+Ce,G);const Fe=C.createWebChannel(Ce,G);let It=!1,Wt=!1;const Dn=new u_({Jr:vn=>{Wt?P("Connection","Not sending because WebChannel is closed:",vn):(It||(P("Connection","Opening WebChannel transport."),Fe.open(),It=!0),P("Connection","WebChannel sending:",vn),Fe.send(vn))},Yr:()=>Fe.close()}),Yn=(vn,Ti,dr)=>{vn.listen(Ti,_o=>{try{dr(_o)}catch(So){setTimeout(()=>{throw So},0)}})};return Yn(Fe,uo.EventType.OPEN,()=>{Wt||P("Connection","WebChannel transport opened.")}),Yn(Fe,uo.EventType.CLOSE,()=>{Wt||(Wt=!0,P("Connection","WebChannel transport closed"),Dn.ro())}),Yn(Fe,uo.EventType.ERROR,vn=>{Wt||(Wt=!0,X("Connection","WebChannel transport errored:",vn),Dn.ro(new Sn(Yt.UNAVAILABLE,"The operation could not be completed")))}),Yn(Fe,uo.EventType.MESSAGE,vn=>{var Ti;if(!Wt){const dr=vn.data[0];lt(!!dr);const _o=dr,So=_o.error||(null===(Ti=_o[0])||void 0===Ti?void 0:Ti.error);if(So){P("Connection","WebChannel received error:",So);const Xs=So.status;let No=function(Cr){const el=oo[Cr];if(void 0!==el)return nh(el)}(Xs),eo=So.message;void 0===No&&(No=Yt.INTERNAL,eo="Unknown error status: "+Xs+" with message "+So.message),Wt=!0,Dn.ro(new Sn(No,eo)),Fe.close()}else P("Connection","WebChannel received:",dr),Dn.oo(dr)}}),Yn(M,Is.STAT_EVENT,vn=>{vn.stat===Ko.PROXY?P("Connection","Detected buffering proxy"):vn.stat===Ko.NOPROXY&&P("Connection","Detected no buffering proxy")}),setTimeout(()=>{Dn.io()},0),Dn}}function pm(){return"undefined"!=typeof window?window:null}function ep(){return"undefined"!=typeof document?document:null}function Ef(s){return new Yl(s,!0)}class Qa{constructor(e,i,o=1e3,h=1.5,C=6e4){this.Yn=e,this.timerId=i,this.mo=o,this.yo=h,this.po=C,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const i=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),h=Math.max(0,i-o);h>0&&P("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Io} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,h,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class d_{constructor(e,i,o,h,C,M,G,Ce){this.Yn=e,this.Vo=o,this.vo=h,this.So=C,this.authCredentialsProvider=M,this.appCheckCredentialsProvider=G,this.listener=Ce,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Qa(e,i)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Me.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Me.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,i){var o=this;return(0,Me.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():i&&i.code===Yt.RESOURCE_EXHAUSTED?(O(i.toString()),O("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):i&&i.code===Yt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.eo(i)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),i=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Do===i&&this.Qo(o,h)},o=>{e(()=>{const h=new Sn(Yt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(h)})})}Qo(e,i){const o=this.Go(this.Do);this.stream=this.Wo(e,i),this.stream.Xr(()=>{o(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(h=>{o(()=>this.jo(h))}),this.stream.onMessage(h=>{o(()=>this.onMessage(h))})}Oo(){var e=this;this.state=5,this.No.Ro((0,Me.Z)(function*(){e.state=0,e.start()}))}jo(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return i=>{this.Yn.enqueueAndForget(()=>this.Do===e?i():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iv extends d_{constructor(e,i,o,h,C,M){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,h,M),this.M=C}Wo(e,i){return this.So.wo("Listen",e,i)}onMessage(e){this.No.reset();const i=function(s,e){let i;if("targetChange"in e){const o="NO_CHANGE"===(Ce=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ce?1:"REMOVE"===Ce?2:"CURRENT"===Ce?3:"RESET"===Ce?4:Se(),h=e.targetChange.targetIds||[],C=function(Ce,Fe){return Ce.N?(lt(void 0===Fe||"string"==typeof Fe),zs.fromBase64String(Fe||"")):(lt(void 0===Fe||Fe instanceof Uint8Array),zs.fromUint8Array(Fe||new Uint8Array))}(s,e.targetChange.resumeToken),M=e.targetChange.cause,G=M&&function(Ce){const Fe=void 0===Ce.code?Yt.UNKNOWN:nh(Ce.code);return new Sn(Fe,Ce.message||"")}(M);i=new ih(o,h,C,G||null)}else if("documentChange"in e){const o=e.documentChange,h=Fa(s,o.document.name),C=Ws(o.document.updateTime),M=new He({mapValue:{fields:o.document.fields}}),G=Jt.newFoundDocument(h,C,M);i=new Wl(o.targetIds||[],o.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const o=e.documentDelete,h=Fa(s,o.document),C=o.readTime?Ws(o.readTime):Fi.min(),M=Jt.newNoDocument(h,C);i=new Wl([],o.removedTargetIds||[],M.key,M)}else if("documentRemove"in e){const o=e.documentRemove,h=Fa(s,o.document);i=new Wl([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Se();{const o=e.filter,C=new zu(o.count||0);i=new uu(o.targetId,C)}}var Ce;return i}(this.M,e),o=function(h){if(!("targetChange"in h))return Fi.min();const C=h.targetChange;return C.targetIds&&C.targetIds.length?Fi.min():C.readTime?Ws(C.readTime):Fi.min()}(e);return this.listener.zo(i,o)}Ho(e){const i={};i.database=hu(this.M),i.addTarget=function(h,C){let M;const G=C.target;return M=ca(G)?{documents:Kl(h,G)}:{query:Fc(h,G)},M.targetId=C.targetId,C.resumeToken.approximateByteSize()>0?M.resumeToken=lc(h,C.resumeToken):C.snapshotVersion.compareTo(Fi.min())>0&&(M.readTime=Qr(h,C.snapshotVersion.toTimestamp())),M}(this.M,e);const o=function(s,e){const i=function(o,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Se()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);o&&(i.labels=o),this.Lo(i)}Jo(e){const i={};i.database=hu(this.M),i.removeTarget=e,this.Lo(i)}}class hC extends d_{constructor(e,i,o,h,C,M){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,o,h,M),this.M=C,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,i){return this.So.wo("Write",e,i)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const i=function(s,e){return s&&s.length>0?(lt(void 0!==e),s.map(i=>function(o,h){let C=Ws(o.updateTime?o.updateTime:h);return C.isEqual(Fi.min())&&(C=Ws(h)),new Zh(C,o.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),o=Ws(e.commitTime);return this.listener.tu(o,i)}return lt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=hu(this.M),this.Lo(e)}Zo(e){const i={streamToken:this.lastStreamToken,writes:e.map(o=>fu(this.M,o))};this.Lo(i)}}class fC extends class{}{constructor(e,i,o,h){super(),this.authCredentials=e,this.appCheckCredentials=i,this.So=o,this.M=h,this.su=!1}iu(){if(this.su)throw new Sn(Yt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,i,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,C])=>this.So.co(e,i,o,h,C)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Sn(Yt.UNKNOWN,h.toString())})}_o(e,i,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,C])=>this.So._o(e,i,o,h,C)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Sn(Yt.UNKNOWN,h.toString())})}terminate(){this.su=!0}}class h_{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(O(i),this.uu=!1):P("OnlineStateTracker",i)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class pC{constructor(e,i,o,h,C){var M=this;this.localStore=e,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=C,this.gu.Kr(G=>{o.enqueueAndForget((0,Me.Z)(function*(){var Ce;td(M)&&(P("RemoteStore","Restarting streams for network reachability change."),yield(Ce=(0,Me.Z)(function*(Fe){const It=qt(Fe);It.wu.add(4),yield Vd(It),It.yu.set("Unknown"),It.wu.delete(4),yield wf(It)}),function(Fe){return Ce.apply(this,arguments)})(M))}))}),this.yu=new h_(o,h)}}function wf(s){return Df.apply(this,arguments)}function Df(){return(Df=(0,Me.Z)(function*(s){if(td(s))for(const e of s.mu)yield e(!0)})).apply(this,arguments)}function Vd(s){return mm.apply(this,arguments)}function mm(){return(mm=(0,Me.Z)(function*(s){for(const e of s.mu)yield e(!1)})).apply(this,arguments)}function tp(s,e){const i=qt(s);i._u.has(e.targetId)||(i._u.set(e.targetId,e),gm(i)?ip(i):Bd(i).Mo()&&np(i,e))}function Tf(s,e){const i=qt(s),o=Bd(i);i._u.delete(e),o.Mo()&&f_(i,e),0===i._u.size&&(o.Mo()?o.$o():td(i)&&i.yu.set("Unknown"))}function np(s,e){s.pu.Z(e.targetId),Bd(s).Ho(e)}function f_(s,e){s.pu.Z(e),Bd(s).Jo(e)}function ip(s){s.pu=new Td({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s._u.get(e)||null}),Bd(s).start(),s.yu.au()}function gm(s){return td(s)&&!Bd(s).ko()&&s._u.size>0}function td(s){return 0===qt(s).wu.size}function _m(s){s.pu=void 0}function p_(s){return ym.apply(this,arguments)}function ym(){return(ym=(0,Me.Z)(function*(s){s._u.forEach((e,i)=>{np(s,e)})})).apply(this,arguments)}function Hc(s,e){return If.apply(this,arguments)}function If(){return(If=(0,Me.Z)(function*(s,e){_m(s),gm(s)?(s.yu.lu(e),ip(s)):s.yu.set("Unknown")})).apply(this,arguments)}function rv(s,e,i){return vm.apply(this,arguments)}function vm(){return(vm=(0,Me.Z)(function*(s,e,i){if(s.yu.set("Online"),e instanceof ih&&2===e.state&&e.cause)try{yield(o=(0,Me.Z)(function*(h,C){const M=C.cause;for(const G of C.targetIds)h._u.has(G)&&(yield h.remoteSyncer.rejectListen(G,M),h._u.delete(G),h.pu.removeTarget(G))}),function(h,C){return o.apply(this,arguments)})(s,e)}catch(o){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield bm(s,o)}else if(e instanceof Wl?s.pu.ut(e):e instanceof uu?s.pu._t(e):s.pu.ht(e),!i.isEqual(Fi.min()))try{const o=yield qy(s.localStore);i.compareTo(o)>=0&&(yield function(h,C){const M=h.pu.yt(C);return M.targetChanges.forEach((G,Ce)=>{if(G.resumeToken.approximateByteSize()>0){const Fe=h._u.get(Ce);Fe&&h._u.set(Ce,Fe.withResumeToken(G.resumeToken,C))}}),M.targetMismatches.forEach(G=>{const Ce=h._u.get(G);if(!Ce)return;h._u.set(G,Ce.withResumeToken(zs.EMPTY_BYTE_STRING,Ce.snapshotVersion)),f_(h,G);const Fe=new Za(Ce.target,G,1,Ce.sequenceNumber);np(h,Fe)}),h.remoteSyncer.applyRemoteEvent(M)}(s,i))}catch(o){P("RemoteStore","Failed to raise snapshot:",o),yield bm(s,o)}var o})).apply(this,arguments)}function bm(s,e,i){return rp.apply(this,arguments)}function rp(){return(rp=(0,Me.Z)(function*(s,e,i){if(!gi(e))throw e;s.wu.add(1),yield Vd(s),s.yu.set("Offline"),i||(i=()=>qy(s.localStore)),s.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){P("RemoteStore","Retrying IndexedDB access"),yield i(),s.wu.delete(1),yield wf(s)}))})).apply(this,arguments)}function m_(s,e){return e().catch(i=>bm(s,i,e))}function Dh(s){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,Me.Z)(function*(s){const e=qt(s),i=Su(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Em(e);)try{const h=yield uC(e.localStore,o);if(null===h){0===e.du.length&&i.$o();break}o=h.batchId,sv(e,h)}catch(h){yield bm(e,h)}g_(e)&&Sf(e)})).apply(this,arguments)}function Em(s){return td(s)&&s.du.length<10}function sv(s,e){s.du.push(e);const i=Su(s);i.Mo()&&i.Xo&&i.Zo(e.mutations)}function g_(s){return td(s)&&!Su(s).ko()&&s.du.length>0}function Sf(s){Su(s).start()}function wm(s){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,Me.Z)(function*(s){Su(s).nu()})).apply(this,arguments)}function Tm(s){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,Me.Z)(function*(s){const e=Su(s);for(const i of s.du)e.Zo(i.mutations)})).apply(this,arguments)}function __(s,e,i){return Im.apply(this,arguments)}function Im(){return(Im=(0,Me.Z)(function*(s,e,i){const o=s.du.shift(),h=bu.from(o,e,i);yield m_(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),yield Dh(s)})).apply(this,arguments)}function ov(s,e){return Af.apply(this,arguments)}function Af(){return(Af=(0,Me.Z)(function*(s,e){var i;e&&Su(s).Xo&&(yield(i=(0,Me.Z)(function*(o,h){if(Dd(C=h.code)&&C!==Yt.ABORTED){const M=o.du.shift();Su(o).Fo(),yield m_(o,()=>o.remoteSyncer.rejectFailedWrite(M.batchId,h)),yield Dh(o)}var C}),function(o,h){return i.apply(this,arguments)})(s,e)),g_(s)&&Sf(s)})).apply(this,arguments)}function av(s,e){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,Me.Z)(function*(s,e){const i=qt(s);i.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const o=td(i);i.wu.add(3),yield Vd(i),o&&i.yu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.wu.delete(3),yield wf(i)})).apply(this,arguments)}function sp(s,e){return op.apply(this,arguments)}function op(){return(op=(0,Me.Z)(function*(s,e){const i=qt(s);e?(i.wu.delete(2),yield wf(i)):e||(i.wu.add(2),yield Vd(i),i.yu.set("Unknown"))})).apply(this,arguments)}function Bd(s){return s.Iu||(s.Iu=function(e,i,o){const h=qt(e);return h.iu(),new iv(i,h.So,h.authCredentials,h.appCheckCredentials,h.M,o)}(s.datastore,s.asyncQueue,{Xr:p_.bind(null,s),eo:Hc.bind(null,s),zo:rv.bind(null,s)}),s.mu.push(function(){var e=(0,Me.Z)(function*(i){i?(s.Iu.Fo(),gm(s)?ip(s):s.yu.set("Unknown")):(yield s.Iu.stop(),_m(s))});return function(i){return e.apply(this,arguments)}}())),s.Iu}function Su(s){return s.Tu||(s.Tu=function(e,i,o){const h=qt(e);return h.iu(),new hC(i,h.So,h.authCredentials,h.appCheckCredentials,h.M,o)}(s.datastore,s.asyncQueue,{Xr:wm.bind(null,s),eo:ov.bind(null,s),eu:Tm.bind(null,s),tu:__.bind(null,s)}),s.mu.push(function(){var e=(0,Me.Z)(function*(i){i?(s.Tu.Fo(),yield Dh(s)):(yield s.Tu.stop(),s.du.length>0&&(P("RemoteStore",`Stopping write stream with ${s.du.length} pending writes`),s.du=[]))});return function(i){return e.apply(this,arguments)}}())),s.Tu}class ap{constructor(e,i,o,h,C){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=o,this.op=h,this.removalCallback=C,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(M=>{})}static createAndSchedule(e,i,o,h,C){const M=Date.now()+o,G=new ap(e,i,M,h,C);return G.start(o),G}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sn(Yt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pl(s,e){if(O("AsyncQueue",`${e}: ${s}`),gi(s))return new Sn(Yt.UNAVAILABLE,`${e}: ${s}`);throw s}class Mu{constructor(e){this.comparator=e?(i,o)=>e(i,o)||ri.comparator(i.key,o.key):(i,o)=>ri.comparator(i.key,o.key),this.keyedMap=sc(),this.sortedSet=new Cs(this.comparator)}static emptySet(e){return new Mu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,o)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Mu)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;i.hasNext();){const h=i.getNext().key,C=o.getNext().key;if(!h.isEqual(C))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const o=new Mu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=i,o}}class y_{constructor(){this.Eu=new Cs(ri.comparator)}track(e){const i=e.doc.key,o=this.Eu.get(i);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(i,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(i,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(i,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(i,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(i):1===e.type&&2===o.type?this.Eu=this.Eu.insert(i,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(i,{type:2,doc:e.doc}):Se():this.Eu=this.Eu.insert(i,e)}Au(){const e=[];return this.Eu.inorderTraversal((i,o)=>{e.push(o)}),e}}class Th{constructor(e,i,o,h,C,M,G,Ce){this.query=e,this.docs=i,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=C,this.fromCache=M,this.syncStateChanged=G,this.excludesMetadataChanges=Ce}static fromInitialDocuments(e,i,o,h){const C=[];return i.forEach(M=>{C.push({type:0,doc:M})}),new Th(e,i,Mu.emptySet(i),C,o,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,o=e.docChanges;if(i.length!==o.length)return!1;for(let h=0;h<i.length;h++)if(i[h].type!==o[h].type||!i[h].doc.isEqual(o[h].doc))return!1;return!0}}class mC{constructor(){this.Ru=void 0,this.listeners=[]}}class Ih{constructor(){this.queries=new $l(e=>th(e),Wa),this.onlineState="Unknown",this.bu=new Set}}function lp(s,e){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,Me.Z)(function*(s,e){const i=qt(s),o=e.query;let h=!1,C=i.queries.get(o);if(C||(h=!0,C=new mC),h)try{C.Ru=yield i.onListen(o)}catch(M){const G=pl(M,`Initialization of query '${Tc(e.query)}' failed`);return void e.onError(G)}i.queries.set(o,C),C.listeners.push(e),e.Pu(i.onlineState),C.Ru&&e.Vu(C.Ru)&&xm(i)})).apply(this,arguments)}function Hd(s,e){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,Me.Z)(function*(s,e){const i=qt(s),o=e.query;let h=!1;const C=i.queries.get(o);if(C){const M=C.listeners.indexOf(e);M>=0&&(C.listeners.splice(M,1),h=0===C.listeners.length)}if(h)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function Am(s,e){const i=qt(s);let o=!1;for(const h of e){const M=i.queries.get(h.query);if(M){for(const G of M.listeners)G.Vu(h)&&(o=!0);M.Ru=h}}o&&xm(i)}function v_(s,e,i){const o=qt(s),h=o.queries.get(e);if(h)for(const C of h.listeners)C.onError(i);o.queries.delete(e)}function xm(s){s.bu.forEach(e=>{e.next()})}class cp{constructor(e,i,o){this.query=e,this.vu=i,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}Vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new Th(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),i=!0):this.xu(e,this.onlineState)&&(this.Nu(e),i=!0),this.Du=e,i}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let i=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),i=!0),i}xu(e,i){return!e.fromCache||!(this.options.ku&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class lv{constructor(e,i){this.payload=e,this.byteLength=i}Mu(){return"metadata"in this.payload}}class up{constructor(e){this.M=e}wi(e){return Fa(this.M,e)}mi(e){return e.metadata.exists?Md(this.M,e.document,!1):Jt.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Ws(e)}}class cv{constructor(e,i,o){this.Ou=e,this.localStore=i,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=b_(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i;const o=Sr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}$u(e){const i=new Map,o=new up(this.M);for(const h of e)if(h.metadata.queries){const C=o.wi(h.metadata.name);for(const M of h.metadata.queries){const G=(i.get(M)||is()).add(C);i.set(M,G)}}return i}complete(){var e=this;return(0,Me.Z)(function*(){const i=yield function(s,e,i,o){return dm.apply(this,arguments)}(e.localStore,new up(e.M),e.documents,e.Ou.id),o=e.$u(e.documents);for(const h of e.queries)yield Xu(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:i}})()}}function b_(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Rm{constructor(e){this.key=e}}class jd{constructor(e){this.key=e}}class km{constructor(e,i){this.query=e,this.Uu=i,this.qu=null,this.current=!1,this.Ku=is(),this.mutatedKeys=is(),this.Gu=Bu(e),this.Qu=new Mu(this.Gu)}get ju(){return this.Uu}Wu(e,i){const o=i?i.zu:new y_,h=i?i.Qu:this.Qu;let C=i?i.mutatedKeys:this.mutatedKeys,M=h,G=!1;const Ce="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,Fe="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((It,Wt)=>{const Dn=h.get(It),Yn=ic(this.query,Wt)?Wt:null,vn=!!Dn&&this.mutatedKeys.has(Dn.key),Ti=!!Yn&&(Yn.hasLocalMutations||this.mutatedKeys.has(Yn.key)&&Yn.hasCommittedMutations);let dr=!1;Dn&&Yn?Dn.data.isEqual(Yn.data)?vn!==Ti&&(o.track({type:3,doc:Yn}),dr=!0):this.Hu(Dn,Yn)||(o.track({type:2,doc:Yn}),dr=!0,(Ce&&this.Gu(Yn,Ce)>0||Fe&&this.Gu(Yn,Fe)<0)&&(G=!0)):!Dn&&Yn?(o.track({type:0,doc:Yn}),dr=!0):Dn&&!Yn&&(o.track({type:1,doc:Dn}),dr=!0,(Ce||Fe)&&(G=!0)),dr&&(Yn?(M=M.add(Yn),C=Ti?C.add(It):C.delete(It)):(M=M.delete(It),C=C.delete(It)))}),null!==this.query.limit)for(;M.size>this.query.limit;){const It="F"===this.query.limitType?M.last():M.first();M=M.delete(It.key),C=C.delete(It.key),o.track({type:1,doc:It})}return{Qu:M,zu:o,ii:G,mutatedKeys:C}}Hu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,o){const h=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const C=e.zu.Au();C.sort((Fe,It)=>function(Wt,Dn){const Yn=vn=>{switch(vn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return Yn(Wt)-Yn(Dn)}(Fe.type,It.type)||this.Gu(Fe.doc,It.doc)),this.Ju(o);const M=i?this.Yu():[],G=0===this.Ku.size&&this.current?1:0,Ce=G!==this.qu;return this.qu=G,0!==C.length||Ce?{snapshot:new Th(this.query,e.Qu,h,C,e.mutatedKeys,0===G,Ce,!1),Xu:M}:{Xu:M}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new y_,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(i=>this.Uu=this.Uu.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Uu=this.Uu.delete(i)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=is(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const i=[];return e.forEach(o=>{this.Ku.has(o)||i.push(new jd(o))}),this.Ku.forEach(o=>{e.has(o)||i.push(new Rm(o))}),i}ta(e){this.Uu=e._i,this.Ku=is();const i=this.Wu(e.documents);return this.applyChanges(i,!0)}ea(){return Th.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class uv{constructor(e,i,o){this.query=e,this.targetId=i,this.view=o}}class dv{constructor(e){this.key=e,this.na=!1}}class Sh{constructor(e,i,o,h,C,M){this.localStore=e,this.remoteStore=i,this.eventManager=o,this.sharedClientState=h,this.currentUser=C,this.maxConcurrentLimboResolutions=M,this.sa={},this.ia=new $l(G=>th(G),Wa),this.ra=new Map,this.oa=new Set,this.ua=new Cs(ri.comparator),this.aa=new Map,this.ca=new yf,this.ha={},this.la=new Map,this.fa=u.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function hv(s,e){return Om.apply(this,arguments)}function Om(){return(Om=(0,Me.Z)(function*(s,e){const i=M_(s);let o,h;const C=i.ia.get(e);if(C)o=C.targetId,i.sharedClientState.addLocalQueryTarget(o),h=C.view.ea();else{const M=yield gf(i.localStore,Uo(e));i.isPrimaryClient&&tp(i.remoteStore,M);const G=i.sharedClientState.addLocalQueryTarget(M.targetId);o=M.targetId,h=yield Pm(i,e,o,"current"===G)}return h})).apply(this,arguments)}function Pm(s,e,i,o){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,Me.Z)(function*(s,e,i,o){s._a=(It,Wt,Dn)=>{return(Yn=(0,Me.Z)(function*(vn,Ti,dr,_o){let So=Ti.view.Wu(dr);So.ii&&(So=yield qf(vn.localStore,Ti.query,!1).then(({documents:eo})=>Ti.view.Wu(eo,So)));const Xs=_o&&_o.targetChanges.get(Ti.targetId),No=Ti.view.applyChanges(So,vn.isPrimaryClient,Xs);return Rf(vn,Ti.targetId,No.Xu),No.snapshot}),function(vn,Ti,dr,_o){return Yn.apply(this,arguments)})(s,It,Wt,Dn);var Yn};const h=yield qf(s.localStore,e,!0),C=new km(e,h._i),M=C.Wu(h.documents),G=ul.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==s.onlineState),Ce=C.applyChanges(M,s.isPrimaryClient,G);Rf(s,i,Ce.Xu);const Fe=new uv(e,i,C);return s.ia.set(e,Fe),s.ra.has(i)?s.ra.get(i).push(e):s.ra.set(i,[e]),Ce.snapshot})).apply(this,arguments)}function gC(s,e){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,Me.Z)(function*(s,e){const i=qt(s),o=i.ia.get(e),h=i.ra.get(o.targetId);if(h.length>1)return i.ra.set(o.targetId,h.filter(C=>!Wa(C,e))),void i.ia.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Al(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),Tf(i.remoteStore,o.targetId),Mh(i,o.targetId)}).catch(ie))):(Mh(i,o.targetId),yield Al(i.localStore,o.targetId,!0))})).apply(this,arguments)}function fo(){return(fo=(0,Me.Z)(function*(s,e,i){const o=bp(s);try{const h=yield function(C,M){const G=qt(C),Ce=ls.now(),Fe=M.reduce((Wt,Dn)=>Wt.add(Dn.key),is());let It;return G.persistence.runTransaction("Locally write mutations","readwrite",Wt=>G.fi.Ks(Wt,Fe).next(Dn=>{It=Dn;const Yn=[];for(const vn of M){const Ti=kc(vn,It.get(vn.key));null!=Ti&&Yn.push(new cl(vn.key,Ti,At(Ti.value.mapValue),wo.exists(!0)))}return G.Bs.addMutationBatch(Wt,Ce,Yn,M)})).then(Wt=>(Wt.applyToLocalDocumentSet(It),{batchId:Wt.batchId,changes:It}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(C,M,G){let Ce=C.ha[C.currentUser.toKey()];Ce||(Ce=new Cs(ar)),Ce=Ce.insert(M,G),C.ha[C.currentUser.toKey()]=Ce}(o,h.batchId,i),yield Gc(o,h.changes),yield Dh(o.remoteStore)}catch(h){const C=pl(h,"Failed to persist write");i.reject(C)}})).apply(this,arguments)}function dp(s,e){return E_.apply(this,arguments)}function E_(){return(E_=(0,Me.Z)(function*(s,e){const i=qt(s);try{const o=yield cC(i.localStore,e);e.targetChanges.forEach((h,C)=>{const M=i.aa.get(C);M&&(lt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?M.na=!0:h.modifiedDocuments.size>0?lt(M.na):h.removedDocuments.size>0&&(lt(M.na),M.na=!1))}),yield Gc(i,o,e)}catch(o){yield ie(o)}})).apply(this,arguments)}function jc(s,e,i){const o=qt(s);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const h=[];o.ia.forEach((C,M)=>{const G=M.view.Pu(e);G.snapshot&&h.push(G.snapshot)}),function(C,M){const G=qt(C);G.onlineState=M;let Ce=!1;G.queries.forEach((Fe,It)=>{for(const Wt of It.listeners)Wt.Pu(M)&&(Ce=!0)}),Ce&&xm(G)}(o.eventManager,e),h.length&&o.sa.zo(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Lm(s,e,i){return xf.apply(this,arguments)}function xf(){return(xf=(0,Me.Z)(function*(s,e,i){const o=qt(s);o.sharedClientState.updateQueryState(e,"rejected",i);const h=o.aa.get(e),C=h&&h.key;if(C){let M=new Cs(ri.comparator);M=M.insert(C,Jt.newNoDocument(C,Fi.min()));const G=is().add(C),Ce=new ac(Fi.min(),new Map,new Lr(ar),M,G);yield dp(o,Ce),o.ua=o.ua.remove(C),o.aa.delete(e),mp(o)}else yield Al(o.localStore,e,!1).then(()=>Mh(o,e,i)).catch(ie)})).apply(this,arguments)}function _C(s,e){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,Me.Z)(function*(s,e){const i=qt(s),o=e.batch.batchId;try{const h=yield lC(i.localStore,e);Bm(i,o,null),pp(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Gc(i,h)}catch(h){yield ie(h)}})).apply(this,arguments)}function fv(s,e,i){return hp.apply(this,arguments)}function hp(){return(hp=(0,Me.Z)(function*(s,e,i){const o=qt(s);try{const h=yield function(C,M){const G=qt(C);return G.persistence.runTransaction("Reject batch","readwrite-primary",Ce=>{let Fe;return G.Bs.lookupMutationBatch(Ce,M).next(It=>(lt(null!==It),Fe=It.keys(),G.Bs.removeMutationBatch(Ce,It))).next(()=>G.Bs.performConsistencyCheck(Ce)).next(()=>G.fi.Ks(Ce,Fe))})}(o.localStore,e);Bm(o,e,i),pp(o,e),o.sharedClientState.updateMutationState(e,"rejected",i),yield Gc(o,h)}catch(h){yield ie(h)}})).apply(this,arguments)}function fp(){return(fp=(0,Me.Z)(function*(s,e){const i=qt(s);td(i.remoteStore)||P("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(C){const M=qt(C);return M.persistence.runTransaction("Get highest unacknowledged batch id","readonly",G=>M.Bs.getHighestUnacknowledgedBatchId(G))}(i.localStore);if(-1===o)return void e.resolve();const h=i.la.get(o)||[];h.push(e),i.la.set(o,h)}catch(o){const h=pl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function pp(s,e){(s.la.get(e)||[]).forEach(i=>{i.resolve()}),s.la.delete(e)}function Bm(s,e,i){const o=qt(s);let h=o.ha[o.currentUser.toKey()];if(h){const C=h.get(e);C&&(i?C.reject(i):C.resolve(),h=h.remove(e)),o.ha[o.currentUser.toKey()]=h}}function Mh(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.ra.get(e))s.ia.delete(o),i&&s.sa.wa(o,i);s.ra.delete(e),s.isPrimaryClient&&s.ca.vi(e).forEach(o=>{s.ca.containsKey(o)||Ah(s,o)})}function Ah(s,e){s.oa.delete(e.path.canonicalString());const i=s.ua.get(e);null!==i&&(Tf(s.remoteStore,i),s.ua=s.ua.remove(e),s.aa.delete(i),mp(s))}function Rf(s,e,i){for(const o of i)o instanceof Rm?(s.ca.addReference(o.key,e),D_(s,o)):o instanceof jd?(P("SyncEngine","Document no longer in limbo: "+o.key),s.ca.removeReference(o.key,e),s.ca.containsKey(o.key)||Ah(s,o.key)):Se()}function D_(s,e){const i=e.key,o=i.path.canonicalString();s.ua.get(i)||s.oa.has(o)||(P("SyncEngine","New document in limbo: "+i),s.oa.add(o),mp(s))}function mp(s){for(;s.oa.size>0&&s.ua.size<s.maxConcurrentLimboResolutions;){const e=s.oa.values().next().value;s.oa.delete(e);const i=new ri(Sr.fromString(e)),o=s.fa.next();s.aa.set(o,new dv(i)),s.ua=s.ua.insert(i,o),tp(s.remoteStore,new Za(Uo(al(i.path)),o,2,gr.A))}}function Gc(s,e,i){return gp.apply(this,arguments)}function gp(){return(gp=(0,Me.Z)(function*(s,e,i){const o=qt(s),h=[],C=[],M=[];var G;o.ia.isEmpty()||(o.ia.forEach((G,Ce)=>{M.push(o._a(Ce,e,i).then(Fe=>{if(Fe){o.isPrimaryClient&&o.sharedClientState.updateQueryState(Ce.targetId,Fe.fromCache?"not-current":"current"),h.push(Fe);const It=mf.Ys(Ce.targetId,Fe);C.push(It)}}))}),yield Promise.all(M),o.sa.zo(h),yield(G=(0,Me.Z)(function*(Ce,Fe){const It=qt(Ce);try{yield It.persistence.runTransaction("notifyLocalViewChanges","readwrite",Wt=>ee.forEach(Fe,Dn=>ee.forEach(Dn.Hs,Yn=>It.persistence.referenceDelegate.addReference(Wt,Dn.targetId,Yn)).next(()=>ee.forEach(Dn.Js,Yn=>It.persistence.referenceDelegate.removeReference(Wt,Dn.targetId,Yn)))))}catch(Wt){if(!gi(Wt))throw Wt;P("LocalStore","Failed to update sequence numbers: "+Wt)}for(const Wt of Fe){const Dn=Wt.targetId;if(!Wt.fromCache){const Yn=It.ui.get(Dn),Ti=Yn.withLastLimboFreeSnapshotVersion(Yn.snapshotVersion);It.ui=It.ui.insert(Dn,Ti)}}}),function(Ce,Fe){return G.apply(this,arguments)})(o.localStore,C))})).apply(this,arguments)}function pv(s,e){return Um.apply(this,arguments)}function Um(){return(Um=(0,Me.Z)(function*(s,e){const i=qt(s);if(!i.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const o=yield Ky(i.localStore,e);i.currentUser=e,(h=i).la.forEach(M=>{M.forEach(G=>{G.reject(new Sn(Yt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.la.clear(),i.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Gc(i,o.di)}var h})).apply(this,arguments)}function mv(s,e){const i=qt(s),o=i.aa.get(e);if(o&&o.na)return is().add(o.key);{let h=is();const C=i.ra.get(e);if(!C)return h;for(const M of C){const G=i.ia.get(M);h=h.unionWith(G.view.ju)}return h}}function gv(s,e){return _p.apply(this,arguments)}function _p(){return(_p=(0,Me.Z)(function*(s,e){const i=qt(s),o=yield qf(i.localStore,e.query,!0),h=e.view.ta(o);return i.isPrimaryClient&&Rf(i,e.targetId,h.Xu),h})).apply(this,arguments)}function yC(s,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,Me.Z)(function*(s,e){const i=qt(s);return Qf(i.localStore,e).then(o=>Gc(i,o))})).apply(this,arguments)}function _v(s,e,i,o){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,Me.Z)(function*(s,e,i,o){const h=qt(s),C=yield function(M,G){const Ce=qt(M),Fe=qt(Ce.Bs);return Ce.persistence.runTransaction("Lookup mutation documents","readonly",It=>Fe.fn(It,G).next(Wt=>Wt?Ce.fi.Ks(It,Wt):ee.resolve(null)))}(h.localStore,e);var G;null!==C?("pending"===i?yield Dh(h.remoteStore):"acknowledged"===i||"rejected"===i?(Bm(h,e,o||null),pp(h,e),G=e,qt(qt(h.localStore).Bs)._n(G)):Se(),yield Gc(h,C)):P("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function T_(){return(T_=(0,Me.Z)(function*(s,e){const i=qt(s);if(M_(i),bp(i),!0===e&&!0!==i.da){const o=i.sharedClientState.getAllActiveQueryTargets(),h=yield vp(i,o.toArray());i.da=!0,yield sp(i.remoteStore,!0);for(const C of h)tp(i.remoteStore,C)}else if(!1===e&&!1!==i.da){const o=[];let h=Promise.resolve();i.ra.forEach((C,M)=>{i.sharedClientState.isLocalQueryTarget(M)?o.push(M):h=h.then(()=>(Mh(i,M),Al(i.localStore,M,!0))),Tf(i.remoteStore,M)}),yield h,yield vp(i,o),function(C){const M=qt(C);M.aa.forEach((G,Ce)=>{Tf(M.remoteStore,Ce)}),M.ca.Si(),M.aa=new Map,M.ua=new Cs(ri.comparator)}(i),i.da=!1,yield sp(i.remoteStore,!1)}})).apply(this,arguments)}function vp(s,e,i){return jm.apply(this,arguments)}function jm(){return(jm=(0,Me.Z)(function*(s,e,i){const o=qt(s),h=[],C=[];for(const M of e){let G;const Ce=o.ra.get(M);if(Ce&&0!==Ce.length){G=yield gf(o.localStore,Uo(Ce[0]));for(const Fe of Ce){const It=o.ia.get(Fe),Wt=yield gv(o,It);Wt.snapshot&&C.push(Wt.snapshot)}}else{const Fe=yield lm(o.localStore,M);G=yield gf(o.localStore,Fe),yield Pm(o,Gm(Fe),M,!1)}h.push(G)}return o.sa.zo(C),h})).apply(this,arguments)}function Gm(s){return vd(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function I_(s){const e=qt(s);return qt(qt(e.localStore).persistence).Fs()}function bC(s,e,i,o){return xl.apply(this,arguments)}function xl(){return(xl=(0,Me.Z)(function*(s,e,i,o){const h=qt(s);if(h.da)return void P("SyncEngine","Ignoring unexpected query state notification.");const C=h.ra.get(e);if(C&&C.length>0)switch(i){case"current":case"not-current":{const M=yield Qf(h.localStore,Ic(C[0])),G=ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===i);yield Gc(h,M,G);break}case"rejected":yield Al(h.localStore,e,!0),Mh(h,e,o);break;default:Se()}})).apply(this,arguments)}function CC(s,e,i){return S_.apply(this,arguments)}function S_(){return(S_=(0,Me.Z)(function*(s,e,i){const o=M_(s);if(o.da){for(const h of e){if(o.ra.has(h)){P("SyncEngine","Adding an already active target "+h);continue}const C=yield lm(o.localStore,h),M=yield gf(o.localStore,C);yield Pm(o,Gm(C),M.targetId,!1),tp(o.remoteStore,M)}for(const h of i)o.ra.has(h)&&(yield Al(o.localStore,h,!1).then(()=>{Tf(o.remoteStore,h),Mh(o,h)}).catch(ie))}})).apply(this,arguments)}function M_(s){const e=qt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=dp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lm.bind(null,e),e.sa.zo=Am.bind(null,e.eventManager),e.sa.wa=v_.bind(null,e.eventManager),e}function bp(s){const e=qt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fv.bind(null,e),e}class zm{constructor(){this.synchronizeTabs=!1}initialize(e){var i=this;return(0,Me.Z)(function*(){i.M=Ef(e.databaseInfo.databaseId),i.sharedClientState=i.ga(e),i.persistence=i.ya(e),yield i.persistence.start(),i.gcScheduler=i.pa(e),i.localStore=i.Ia(e)})()}pa(e){return null}Ia(e){return Zy(this.persistence,new Yy,e.initialUser,this.M)}ya(e){return new vh(ed.Yi,this.M)}ga(e){return new a_}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class x_ extends zm{constructor(e,i,o){super(),this.Ta=e,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,o=this;return(0,Me.Z)(function*(){yield i().call(o,e),yield o.Ta.initialize(o,e),yield bp(o.Ta.syncEngine),yield Dh(o.Ta.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ia(e){return Zy(this.persistence,new Yy,e.initialUser,this.M)}pa(e){return new bn(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const i=Kf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ta.withCacheSize(this.cacheSizeBytes):Ta.DEFAULT;return new am(this.synchronizeTabs,i,e.clientId,o,e.asyncQueue,pm(),ep(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new a_}}class EC extends x_{constructor(e,i){super(e,i,!1),this.Ta=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,o=this;return(0,Me.Z)(function*(){yield i().call(o,e);const h=o.Ta.syncEngine;o.sharedClientState instanceof wh&&(o.sharedClientState.syncEngine={$r:_v.bind(null,h),Br:bC.bind(null,h),Lr:CC.bind(null,h),Fs:I_.bind(null,h),Fr:yC.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var C=(0,Me.Z)(function*(M){yield function(s,e){return T_.apply(this,arguments)}(o.Ta.syncEngine,M),o.gcScheduler&&(M&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):M||o.gcScheduler.stop())});return function(M){return C.apply(this,arguments)}}())})()}ga(e){const i=pm();if(!wh.vt(i))throw new Sn(Yt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Kf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wh(i,e.asyncQueue,o,e.clientId,e.initialUser)}}class Cp{initialize(e,i){var o=this;return(0,Me.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=h=>jc(o.syncEngine,h,1),o.remoteStore.remoteSyncer.handleCredentialChange=pv.bind(null,o.syncEngine),yield sp(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ih}createDatastore(e){const i=Ef(e.databaseInfo.databaseId),o=new nv(e.databaseInfo);return new fC(e.authCredentials,e.appCheckCredentials,o,i)}createRemoteStore(e){return i=this.localStore,o=this.datastore,h=e.asyncQueue,C=G=>jc(this.syncEngine,G,0),M=tv.vt()?new tv:new l_,new pC(i,o,h,C,M);var i,o,h,C,M}createSyncEngine(e,i){return function(o,h,C,M,G,Ce,Fe){const It=new Sh(o,h,C,M,G,Ce);return Fe&&(It.da=!0),It}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(e=(0,Me.Z)(function*(i){const o=qt(i);P("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Vd(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ep(s,e=10240){let i=0;return{read:()=>(0,Me.Z)(function*(){if(i<s.byteLength){const o={value:s.slice(i,i+e),done:!1};return i+=e,o}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}class $m{constructor(e,i){this.Ra=e,this.M=i,this.metadata=new mi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(o=>{o&&o.Mu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,Me.Z)(function*(){const i=yield e.Va();if(null===i)return null;const o=e.ba.decode(i),h=Number(o);isNaN(h)&&e.va(`length string (${o}) is not valid number`);const C=yield e.Sa(h);return new lv(JSON.parse(C),i.length+h)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,Me.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const i=e.Da();i<0&&e.va("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),o})()}Sa(e){var i=this;return(0,Me.Z)(function*(){for(;i.buffer.length<e;)(yield i.Ca())&&i.va("Reached the end of bundle when more is expected.");const o=i.ba.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),o})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,Me.Z)(function*(){const i=yield e.Ra.read();if(!i.done){const o=new Uint8Array(e.buffer.length+i.value.length);o.set(e.buffer),o.set(i.value,e.buffer.length),e.buffer=o}return i.done})()}}class yv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,Me.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Sn(Yt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(h=(0,Me.Z)(function*(C,M){const G=qt(C),Ce=hu(G.M)+"/documents",Fe={documents:M.map(Yn=>Zl(G.M,Yn))},It=yield G._o("BatchGetDocuments",Ce,Fe),Wt=new Map;It.forEach(Yn=>{const vn=function(s,e){return"found"in e?function(i,o){lt(!!o.found);const h=Fa(i,o.found.name),C=Ws(o.found.updateTime),M=new He({mapValue:{fields:o.found.fields}});return Jt.newFoundDocument(h,C,M)}(s,e):"missing"in e?function(i,o){lt(!!o.missing),lt(!!o.readTime);const h=Fa(i,o.missing),C=Ws(o.readTime);return Jt.newNoDocument(h,C)}(s,e):Se()}(G.M,Yn);Wt.set(vn.key.toString(),vn)});const Dn=[];return M.forEach(Yn=>{const vn=Wt.get(Yn.toString());lt(!!vn),Dn.push(vn)}),Dn}),function(C,M){return h.apply(this,arguments)})(i.datastore,e);var h;return o.forEach(h=>i.recordVersion(h)),o})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Oc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const i=e.readVersions;var o;e.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,h)=>{const C=ri.fromPath(h);e.mutations.push(new wd(C,e.precondition(C)))}),yield(o=(0,Me.Z)(function*(h,C){const M=qt(h),G=hu(M.M)+"/documents",Ce={writes:C.map(Fe=>fu(M.M,Fe))};yield M.co("Commit",G,Ce)}),function(h,C){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Se();i=Fi.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!i.isEqual(o))throw new Sn(Yt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?wo.updateTime(i):wo.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Fi.min()))throw new Sn(Yt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wo.updateTime(i)}return wo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vv{constructor(e,i,o,h,C){this.asyncQueue=e,this.datastore=i,this.options=o,this.updateFunction=h,this.deferred=C,this.xa=o.maxAttempts,this.No=new Qa(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,Me.Z)(function*(){const i=new yv(e.datastore),o=e.ka(i);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(h)}).catch(C=>{e.Ma(C)}))}).catch(h=>{e.Ma(h)})}))}ka(e){try{const i=this.updateFunction(e);return!ta(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||!Dd(i)}return!1}}class bv{constructor(e,i,o,h){var C=this;this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=h,this.user=bs.UNAUTHENTICATED,this.clientId=ya.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var M=(0,Me.Z)(function*(G){P("FirestoreClient","Received user=",G.uid),yield C.authCredentialListener(G),C.user=G});return function(G){return M.apply(this,arguments)}}()),this.appCheckCredentials.start(o,M=>(P("FirestoreClient","Received new app check token=",M),this.appCheckCredentialListener(M,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Sn(Yt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),i.resolve()}catch(o){const h=pl(o,"Failed to shutdown persistence");i.reject(h)}})),i.promise}}function R_(s,e){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,Me.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield e.initialize(i);let o=i.initialUser;s.setCredentialChangeListener(function(){var h=(0,Me.Z)(function*(C){o.isEqual(C)||(yield Ky(e.localStore,C),o=C)});return function(C){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e})).apply(this,arguments)}function k_(s,e){return xh.apply(this,arguments)}function xh(){return(xh=(0,Me.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const i=yield nd(s);P("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield e.initialize(i,o),s.setCredentialChangeListener(h=>av(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,C)=>av(e.remoteStore,C)),s.onlineComponents=e})).apply(this,arguments)}function nd(s){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,Me.Z)(function*(s){return s.offlineComponents||(P("FirestoreClient","Using default OfflineComponentProvider"),yield R_(s,new zm)),s.offlineComponents})).apply(this,arguments)}function ml(s){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,Me.Z)(function*(s){return s.onlineComponents||(P("FirestoreClient","Using default OnlineComponentProvider"),yield k_(s,new Cp)),s.onlineComponents})).apply(this,arguments)}function O_(s){return nd(s).then(e=>e.persistence)}function Ym(s){return nd(s).then(e=>e.localStore)}function Tp(s){return ml(s).then(e=>e.remoteStore)}function ec(s){return ml(s).then(e=>e.syncEngine)}function zc(s){return pa.apply(this,arguments)}function pa(){return(pa=(0,Me.Z)(function*(s){const e=yield ml(s),i=e.eventManager;return i.onListen=hv.bind(null,e.syncEngine),i.onUnlisten=gC.bind(null,e.syncEngine),i})).apply(this,arguments)}function Sp(s,e,i={}){const o=new mi;return s.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(h,C,M,G,Ce){const Fe=new wp({next:Wt=>{C.enqueueAndForget(()=>Hd(h,It));const Dn=Wt.docs.has(M);!Dn&&Wt.fromCache?Ce.reject(new Sn(Yt.UNAVAILABLE,"Failed to get document because the client is offline.")):Dn&&Wt.fromCache&&G&&"server"===G.source?Ce.reject(new Sn(Yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ce.resolve(Wt)},error:Wt=>Ce.reject(Wt)}),It=new cp(al(M.path),Fe,{includeMetadataChanges:!0,ku:!0});return lp(h,It)}(yield zc(s),s.asyncQueue,e,i,o)})),o.promise}function $d(s,e,i={}){const o=new mi;return s.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(h,C,M,G,Ce){const Fe=new wp({next:Wt=>{C.enqueueAndForget(()=>Hd(h,It)),Wt.fromCache&&"server"===G.source?Ce.reject(new Sn(Yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ce.resolve(Wt)},error:Wt=>Ce.reject(Wt)}),It=new cp(M,Fe,{includeMetadataChanges:!0,ku:!0});return lp(h,It)}(yield zc(s),s.asyncQueue,e,i,o)})),o.promise}const Wd=new Map;function id(s,e,i){if(!i)throw new Sn(Yt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Yd(s,e,i,o){if(!0===e&&!0===o)throw new Sn(Yt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Zm(s){if(!ri.isDocumentKey(s))throw new Sn(Yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Km(s){if(ri.isDocumentKey(s))throw new Sn(Yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function kf(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(i=s).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof s?"a function":Se()}function rs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Sn(Yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=kf(s);throw new Sn(Yt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function qm(s,e){if(e<=0)throw new Sn(Yt.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class Qm{constructor(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new Sn(Yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Sn(Yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Yd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,i,o){this._authCredentials=i,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qm({}),this._settingsFrozen=!1,e instanceof Ma?this._databaseId=e:(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Sn(Yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(h.options.projectId)}(e))}get app(){if(!this._app)throw new Sn(Yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Sn(Yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qm(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new fr;switch(i.type){case"gapi":const o=i.client;return lt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new ga(o,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Sn(Yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Wd.get(e);i&&(P("ComponentProvider","Removing Datastore"),Wd.delete(e),i.terminate())}(this),Promise.resolve()}}class po{constructor(e,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new po(this.firestore,e,this._key)}}class La{constructor(e,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class hc extends La{constructor(e,i,o){super(e,i,al(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new po(this.firestore,null,new ri(e))}withConverter(e){return new hc(this.firestore,e,this._path)}}function N_(s,e,...i){if(s=(0,Gt.m9)(s),id("collection","path",e),s instanceof Fh){const o=Sr.fromString(e,...i);return Km(o),new hc(s,null,o)}{if(!(s instanceof po||s instanceof hc))throw new Sn(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Sr.fromString(e,...i));return Km(o),new hc(s.firestore,null,o)}}function Of(s,e,...i){if(s=(0,Gt.m9)(s),1===arguments.length&&(e=ya.R()),id("doc","path",e),s instanceof Fh){const o=Sr.fromString(e,...i);return Zm(o),new po(s,null,new ri(o))}{if(!(s instanceof po||s instanceof hc))throw new Sn(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Sr.fromString(e,...i));return Zm(o),new po(s.firestore,s instanceof hc?s.converter:null,new ri(o))}}function L_(s,e){return s=(0,Gt.m9)(s),e=(0,Gt.m9)(e),(s instanceof po||s instanceof hc)&&(e instanceof po||e instanceof hc)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Cv(s,e){return s=(0,Gt.m9)(s),e=(0,Gt.m9)(e),s instanceof La&&e instanceof La&&s.firestore===e.firestore&&Wa(s._query,e._query)&&s.converter===e.converter}class Ev{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Qa(this,"async_queue_retry"),this.Qa=()=>{const i=ep();i&&P("AsyncQueue","Visibility state changed to "+i.visibilityState),this.No.Po()};const e=ep();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const i=ep();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const i=new mi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,Me.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(i){if(!gi(i))throw i;P("AsyncQueue","Operation failed with retryable error: "+i)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const i=this.Fa.then(()=>(this.qa=!0,e().catch(o=>{throw this.Ua=o,this.qa=!1,O("INTERNAL UNHANDLED ERROR: ",function(C){let M=C.message||"";return C.stack&&(M=C.stack.includes(C.message)?C.stack:C.message+"\n"+C.stack),M}(o)),o}).then(o=>(this.qa=!1,o))));return this.Fa=i,i}enqueueAfterDelay(e,i,o){this.ja(),this.Ga.indexOf(e)>-1&&(i=0);const h=ap.createAndSchedule(this,e,i,o,C=>this.Ha(C));return this.La.push(h),h}ja(){this.Ua&&Se()}verifyOperationInProgress(){}Ja(){var e=this;return(0,Me.Z)(function*(){let i;do{i=e.Fa,yield i}while(i!==e.Fa)})()}Ya(e){for(const i of this.La)if(i.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this.La)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const i=this.La.indexOf(e);this.La.splice(i,1)}}function Mp(s){return function(e,i){if("object"!=typeof e||null===e)return!1;const o=e;for(const h of["next","error","complete"])if(h in o&&"function"==typeof o[h])return!0;return!1}(s)}class wv{constructor(){this._progressObserver={},this._taskCompletionResolver=new mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,o){this._progressObserver={next:e,error:i,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Io extends Fh{constructor(e,i,o){super(e,i,o),this.type="firestore",this._queue=new Ev,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Jm(this),this._firestoreClient.terminate()}}function Xo(s){return s._firestoreClient||Jm(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Jm(s){var e;const i=s._freezeSettings(),o=(C=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Fu(s._databaseId,C,s._persistenceKey,(G=i).host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,G.useFetchStreams));var C,G;s._firestoreClient=new bv(s._authCredentials,s._appCheckCredentials,s._queue,o)}function Dv(s,e,i){const o=new mi;return s.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield R_(s,i),yield k_(s,e),o.resolve()}catch(h){if(!("FirebaseError"===(C=h).name?C.code===Yt.FAILED_PRECONDITION||C.code===Yt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),o.reject(h)}var C})).then(()=>o.promise)}function Av(s){if(s._initialized||s._terminated)throw new Sn(Yt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rd{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Sn(Yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ho(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $c(zs.fromBase64String(e))}catch(i){throw new Sn(Yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $c(zs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sd{constructor(e){this._methodName=e}}class eg{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Sn(Yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Sn(Yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ar(this._lat,e._lat)||ar(this._long,e._long)}}const xv=/^__.*__$/;class Lh{constructor(e,i,o){this.data=e,this.fieldMask=i,this.fieldTransforms=o}toMutation(e,i){return null!==this.fieldMask?new cl(e,this.data,this.fieldMask,i,this.fieldTransforms):new Oa(e,this.data,i,this.fieldTransforms)}}class U_{constructor(e,i,o){this.data=e,this.fieldMask=i,this.fieldTransforms=o}toMutation(e,i){return new cl(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function tg(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Ap{constructor(e,i,o,h,C,M){this.settings=e,this.databaseId=i,this.M=o,this.ignoreUndefinedProperties=h,void 0===C&&this.tc(),this.fieldTransforms=C||[],this.fieldMask=M||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.nc({path:o,ic:!1});return h.rc(e),h}oc(e){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.nc({path:o,ic:!1});return h.tc(),h}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Op(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(tg(this.ec)&&xv.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class H_{constructor(e,i,o){this.databaseId=e,this.ignoreUndefinedProperties=i,this.M=o||Ef(e)}lc(e,i,o,h=!1){return new Ap({ec:e,methodName:i,hc:o,path:ho.emptyPath(),ic:!1,cc:h},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Wc(s){const e=s._freezeSettings(),i=Ef(s._databaseId);return new H_(s._databaseId,!!e.ignoreUndefinedProperties,i)}function xp(s,e,i,o,h,C={}){const M=s.lc(C.merge||C.mergeFields?2:0,e,i,h);Pf("Data must be an object, but it was:",M,o);const G=kp(o,M);let Ce,Fe;if(C.merge)Ce=new cs(M.fieldMask),Fe=M.fieldTransforms;else if(C.mergeFields){const It=[];for(const Wt of C.mergeFields){const Dn=sg(e,Wt,i);if(!M.contains(Dn))throw new Sn(Yt.INVALID_ARGUMENT,`Field '${Dn}' is specified in your field mask but missing from your input data.`);Pp(It,Dn)||It.push(Dn)}Ce=new cs(It),Fe=M.fieldTransforms.filter(Wt=>Ce.covers(Wt.field))}else Ce=null,Fe=M.fieldTransforms;return new Lh(new He(G),Ce,Fe)}class Vh extends sd{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function j_(s,e,i){return new Ap({ec:3,hc:e.settings.hc,methodName:s._methodName,ic:i},e.databaseId,e.M,e.ignoreUndefinedProperties)}class ng extends sd{_toFieldTransform(e){return new lu(e.path,new xc)}isEqual(e){return e instanceof ng}}class Rv extends sd{constructor(e,i){super(e),this.fc=i}_toFieldTransform(e){const i=j_(this,e,!0),o=this.fc.map(C=>od(C,i)),h=new Os(o);return new lu(e.path,h)}isEqual(e){return this===e}}class kv extends sd{constructor(e,i){super(e),this.fc=i}_toFieldTransform(e){const i=j_(this,e,!0),o=this.fc.map(C=>od(C,i)),h=new Gl(o);return new lu(e.path,h)}isEqual(e){return this===e}}class Ov extends sd{constructor(e,i){super(e),this.dc=i}_toFieldTransform(e){const i=new zl(e.M,Ul(e.M,this.dc));return new lu(e.path,i)}isEqual(e){return this===e}}function Rp(s,e,i,o){const h=s.lc(1,e,i);Pf("Data must be an object, but it was:",h,o);const C=[],M=He.empty();xo(o,(Ce,Fe)=>{const It=ad(e,Ce,i);Fe=(0,Gt.m9)(Fe);const Wt=h.oc(It);if(Fe instanceof Vh)C.push(It);else{const Dn=od(Fe,Wt);null!=Dn&&(C.push(It),M.set(It,Dn))}});const G=new cs(C);return new U_(M,G,h.fieldTransforms)}function ig(s,e,i,o,h,C){const M=s.lc(1,e,i),G=[sg(e,o,i)],Ce=[h];if(C.length%2!=0)throw new Sn(Yt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Dn=0;Dn<C.length;Dn+=2)G.push(sg(e,C[Dn])),Ce.push(C[Dn+1]);const Fe=[],It=He.empty();for(let Dn=G.length-1;Dn>=0;--Dn)if(!Pp(Fe,G[Dn])){const Yn=G[Dn];let vn=Ce[Dn];vn=(0,Gt.m9)(vn);const Ti=M.oc(Yn);if(vn instanceof Vh)Fe.push(Yn);else{const dr=od(vn,Ti);null!=dr&&(Fe.push(Yn),It.set(Yn,dr))}}const Wt=new cs(Fe);return new U_(It,Wt,M.fieldTransforms)}function rg(s,e,i,o=!1){return od(i,s.lc(o?4:3,e))}function od(s,e){if(Pv(s=(0,Gt.m9)(s)))return Pf("Unsupported field value:",e,s),kp(s,e);if(s instanceof sd)return function(i,o){if(!tg(o.ec))throw o.ac(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ac(`${i._methodName}() is not currently supported inside arrays`);const h=i._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(i,o){const h=[];let C=0;for(const M of i){let G=od(M,o.uc(C));null==G&&(G={nullValue:"NULL_VALUE"}),h.push(G),C++}return{arrayValue:{values:h}}}(s,e)}return function(i,o){if(null===(i=(0,Gt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Ul(o.M,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const h=ls.fromDate(i);return{timestampValue:Qr(o.M,h)}}if(i instanceof ls){const h=new ls(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qr(o.M,h)}}if(i instanceof eg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $c)return{bytesValue:lc(o.M,i._byteString)};if(i instanceof po){const h=o.databaseId,C=i.firestore._databaseId;if(!C.isEqual(h))throw o.ac(`Document reference is for database ${C.projectId}/${C.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:_s(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.ac(`Unsupported field value: ${kf(i)}`)}(s,e)}function kp(s,e){const i={};return Ol(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(s,(o,h)=>{const C=od(h,e.sc(o));null!=C&&(i[o]=C)}),{mapValue:{fields:i}}}function Pv(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof ls||s instanceof eg||s instanceof $c||s instanceof po||s instanceof sd)}function Pf(s,e,i){if(!Pv(i)||"object"!=typeof(o=i)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=kf(i);throw e.ac("an object"===o?s+" a custom object":s+" "+o)}var o}function sg(s,e,i){if((e=(0,Gt.m9)(e))instanceof rd)return e._internalPath;if("string"==typeof e)return ad(s,e);throw Op("Field path arguments must be of type string or ",s,!1,void 0,i)}const SC=new RegExp("[~\\*/\\[\\]]");function ad(s,e,i){if(e.search(SC)>=0)throw Op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new rd(...e.split("."))._internalPath}catch(o){throw Op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Op(s,e,i,o,h){const C=o&&!o.isEmpty(),M=void 0!==h;let G=`Function ${e}() called with invalid data`;i&&(G+=" (via `toFirestore()`)"),G+=". ";let Ce="";return(C||M)&&(Ce+=" (found",C&&(Ce+=` in field ${o}`),M&&(Ce+=` in document ${h}`),Ce+=")"),new Sn(Yt.INVALID_ARGUMENT,G+s+Ce)}function Pp(s,e){return s.some(i=>i.isEqual(e))}class Zd{constructor(e,i,o,h,C){this._firestore=e,this._userDataWriter=i,this._key=o,this._document=h,this._converter=C}get id(){return this._key.path.lastSegment()}get ref(){return new po(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Bh("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class Nv extends Zd{data(){return super.data()}}function Bh(s,e){return"string"==typeof e?ad(s,e):e instanceof rd?e._internalPath:e._delegate._internalPath}class Au{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yc extends Zd{constructor(e,i,o,h,C,M){super(e,i,o,h,M),this._firestore=e,this._firestoreImpl=e,this.metadata=C}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const o=this._document.data.field(Bh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class Np extends Yc{data(e={}){return super.data(e)}}class ld{constructor(e,i,o,h){this._firestore=e,this._userDataWriter=i,this._snapshot=h,this.metadata=new Au(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(o=>{e.call(i,new Np(this._firestore,this._userDataWriter,o.key,o,new Au(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Sn(Yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let C=0;return o._snapshot.docChanges.map(M=>({type:"added",doc:new Np(o._firestore,o._userDataWriter,M.doc.key,M.doc,new Au(o._snapshot.mutatedKeys.has(M.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:C++}))}{let C=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(M=>h||3!==M.type).map(M=>{const G=new Np(o._firestore,o._userDataWriter,M.doc.key,M.doc,new Au(o._snapshot.mutatedKeys.has(M.doc.key),o._snapshot.fromCache),o.query.converter);let Ce=-1,Fe=-1;return 0!==M.type&&(Ce=C.indexOf(M.doc.key),C=C.delete(M.doc.key)),1!==M.type&&(C=C.add(M.doc),Fe=C.indexOf(M.doc.key)),{type:og(M.type),doc:G,oldIndex:Ce,newIndex:Fe}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function og(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function Fp(s,e){return s instanceof Yc&&e instanceof Yc?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof ld&&e instanceof ld&&s._firestore===e._firestore&&Cv(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function ag(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Sn(Yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uh{}function Zc(s,...e){for(const i of e)s=i._apply(s);return s}class G_ extends Uh{constructor(e,i,o){super(),this._c=e,this.wc=i,this.mc=o,this.type="where"}_apply(e){const i=Wc(e.firestore),o=function(h,C,M,G,Ce,Fe,It){let Wt;if(Ce.isKeyField()){if("array-contains"===Fe||"array-contains-any"===Fe)throw new Sn(Yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Fe}' queries on documentId().`);if("in"===Fe||"not-in"===Fe){fg(It,Fe);const Yn=[];for(const vn of It)Yn.push(hg(G,h,vn));Wt={arrayValue:{values:Yn}}}else Wt=hg(G,h,It)}else"in"!==Fe&&"not-in"!==Fe&&"array-contains-any"!==Fe||fg(It,Fe),Wt=rg(M,"where",It,"in"===Fe||"not-in"===Fe);const Dn=Bo.create(Ce,Fe,Wt);return function(Yn,vn){if(vn.S()){const dr=iu(Yn);if(null!==dr&&!dr.isEqual(vn.field))throw new Sn(Yt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${dr.toString()}' and '${vn.field.toString()}'`);const _o=nc(Yn);null!==_o&&pg(0,vn.field,_o)}const Ti=function(dr,_o){for(const So of dr.filters)if(_o.indexOf(So.op)>=0)return So.op;return null}(Yn,function(dr){switch(dr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(vn.op));if(null!==Ti)throw new Sn(Yt.INVALID_ARGUMENT,Ti===vn.op?`Invalid query. You cannot use more than one '${vn.op.toString()}' filter.`:`Invalid query. You cannot use '${vn.op.toString()}' filters with '${Ti.toString()}' filters.`)}(h,Dn),Dn}(e._query,0,i,e.firestore._databaseId,this._c,this.wc,this.mc);return new La(e.firestore,e.converter,function(h,C){const M=h.filters.concat([C]);return new $o(h.path,h.collectionGroup,h.explicitOrderBy.slice(),M,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,o))}}class cg extends Uh{constructor(e,i){super(),this._c=e,this.gc=i,this.type="orderBy"}_apply(e){const i=function(o,h,C){if(null!==o.startAt)throw new Sn(Yt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Sn(Yt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const M=new Bl(h,C);return function(G,Ce){if(null===nc(G)){const Fe=iu(G);null!==Fe&&pg(0,Fe,Ce.field)}}(o,M),M}(e._query,this._c,this.gc);return new La(e.firestore,e.converter,function(o,h){const C=o.explicitOrderBy.concat([h]);return new $o(o.path,o.collectionGroup,C,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}class z_ extends Uh{constructor(e,i,o){super(),this.type=e,this.yc=i,this.Ic=o}_apply(e){return new La(e.firestore,e.converter,su(e._query,this.yc,this.Ic))}}class Lp extends Uh{constructor(e,i,o){super(),this.type=e,this.Tc=i,this.Ec=o}_apply(e){const i=Vp(e,this.type,this.Tc,this.Ec);return new La(e.firestore,e.converter,(h=i,new $o((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,h,o.endAt)));var o,h}}class dg extends Uh{constructor(e,i,o){super(),this.type=e,this.Tc=i,this.Ec=o}_apply(e){const i=Vp(e,this.type,this.Tc,this.Ec);return new La(e.firestore,e.converter,(h=i,new $o((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,h)));var o,h}}function Vp(s,e,i,o){if(i[0]=(0,Gt.m9)(i[0]),i[0]instanceof Zd)return function(h,C,M,G,Ce){if(!G)throw new Sn(Yt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${M}().`);const Fe=[];for(const It of ll(h))if(It.field.isKeyField())Fe.push(za(C,G.key));else{const Wt=G.data.field(It.field);if(Nu(Wt))throw new Sn(Yt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+It.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Wt){const Dn=It.field.canonicalString();throw new Sn(Yt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dn}' (used as the orderBy) does not exist.`)}Fe.push(Wt)}return new ol(Fe,Ce)}(s._query,s.firestore._databaseId,e,i[0]._document,o);{const h=Wc(s.firestore);return function(C,M,G,Ce,Fe,It){const Wt=C.explicitOrderBy;if(Fe.length>Wt.length)throw new Sn(Yt.INVALID_ARGUMENT,`Too many arguments provided to ${Ce}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dn=[];for(let Yn=0;Yn<Fe.length;Yn++){const vn=Fe[Yn];if(Wt[Yn].field.isKeyField()){if("string"!=typeof vn)throw new Sn(Yt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Ce}(), but got a ${typeof vn}`);if(!ru(C)&&-1!==vn.indexOf("/"))throw new Sn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Ce}() must be a plain document ID, but '${vn}' contains a slash.`);const Ti=C.path.child(Sr.fromString(vn));if(!ri.isDocumentKey(Ti))throw new Sn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Ce}() must result in a valid document path, but '${Ti}' is not because it contains an odd number of segments.`);const dr=new ri(Ti);Dn.push(za(M,dr))}else{const Ti=rg(G,Ce,vn);Dn.push(Ti)}}return new ol(Dn,It)}(s._query,s.firestore._databaseId,h,e,i,o)}}function hg(s,e,i){if("string"==typeof(i=(0,Gt.m9)(i))){if(""===i)throw new Sn(Yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ru(e)&&-1!==i.indexOf("/"))throw new Sn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=e.path.child(Sr.fromString(i));if(!ri.isDocumentKey(o))throw new Sn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return za(s,new ri(o))}if(i instanceof po)return za(s,i._key);throw new Sn(Yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(i)}.`)}function fg(s,e){if(!Array.isArray(s)||0===s.length)throw new Sn(Yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new Sn(Yt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function pg(s,e,i){if(!i.isEqual(e))throw new Sn(Yt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}const q_={maxAttempts:5};class Bp{convertValue(e,i="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Se()}}convertObject(e,i){const o={};return xo(e.fields,(h,C)=>{o[h]=this.convertValue(C,i)}),o}convertGeoPoint(e){return new eg(Qs(e.latitude),Qs(e.longitude))}convertArray(e,i){return(e.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(e,i){switch(i){case"previous":const o=Pl(e);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const i=il(e);return new ls(i.seconds,i.nanos)}convertDocumentKey(e,i){const o=Sr.fromString(e);lt(pu(o));const h=new Ma(o.get(1),o.get(3)),C=new ri(o.popFirst(5));return h.isEqual(i)||O(`Document ${C} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),C}}function Nf(s,e,i){let o;return o=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,o}class Q_ extends Bp{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new po(this.firestore,null,i)}}class mg{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Wc(e)}set(e,i,o){this._verifyNotCommitted();const h=Kd(e,this._firestore),C=Nf(h.converter,i,o),M=xp(this._dataReader,"WriteBatch.set",h._key,C,null!==h.converter,o);return this._mutations.push(M.toMutation(h._key,wo.none())),this}update(e,i,o,...h){this._verifyNotCommitted();const C=Kd(e,this._firestore);let M;return M="string"==typeof(i=(0,Gt.m9)(i))||i instanceof rd?ig(this._dataReader,"WriteBatch.update",C._key,i,o,h):Rp(this._dataReader,"WriteBatch.update",C._key,i),this._mutations.push(M.toMutation(C._key,wo.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Kd(e,this._firestore);return this._mutations=this._mutations.concat(new Oc(i._key,wo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Sn(Yt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kd(s,e){if((s=(0,Gt.m9)(s)).firestore!==e)throw new Sn(Yt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class qd extends Bp{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new po(this.firestore,null,i)}}function ey(s,e,i){s=rs(s,po);const o=rs(s.firestore,Io),h=Nf(s.converter,e,i);return jh(o,[xp(Wc(o),"setDoc",s._key,h,null!==s.converter,i).toMutation(s._key,wo.none())])}function gg(s,e,i,...o){s=rs(s,po);const h=rs(s.firestore,Io),C=Wc(h);let M;return M="string"==typeof(e=(0,Gt.m9)(e))||e instanceof rd?ig(C,"updateDoc",s._key,e,i,o):Rp(C,"updateDoc",s._key,e),jh(h,[M.toMutation(s._key,wo.exists(!0))])}function _g(s,...e){var i,o,h;s=(0,Gt.m9)(s);let C={includeMetadataChanges:!1},M=0;"object"!=typeof e[M]||Mp(e[M])||(C=e[M],M++);const G={includeMetadataChanges:C.includeMetadataChanges};if(Mp(e[M])){const Wt=e[M];e[M]=null===(i=Wt.next)||void 0===i?void 0:i.bind(Wt),e[M+1]=null===(o=Wt.error)||void 0===o?void 0:o.bind(Wt),e[M+2]=null===(h=Wt.complete)||void 0===h?void 0:h.bind(Wt)}let Ce,Fe,It;if(s instanceof po)Fe=rs(s.firestore,Io),It=al(s._key.path),Ce={next:Wt=>{e[M]&&e[M](yg(Fe,s,Wt))},error:e[M+1],complete:e[M+2]};else{const Wt=rs(s,La);Fe=rs(Wt.firestore,Io),It=Wt._query;const Dn=new qd(Fe);Ce={next:Yn=>{e[M]&&e[M](new ld(Fe,Dn,Wt,Yn))},error:e[M+1],complete:e[M+2]},ag(s._query)}return function(Wt,Dn,Yn,vn){const Ti=new wp(vn),dr=new cp(Dn,Ti,Yn);return Wt.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return lp(yield zc(Wt),dr)})),()=>{Ti.Aa(),Wt.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return Hd(yield zc(Wt),dr)}))}}(Xo(Fe),It,G,Ce)}function jh(s,e){return function(i,o){const h=new mi;return i.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(s,e,i){return fo.apply(this,arguments)}(yield ec(i),o,h)})),h.promise}(Xo(s),e)}function yg(s,e,i){const o=i.docs.get(e._key),h=new qd(s);return new Yc(s,h,e._key,o,new Au(i.hasPendingWrites,i.fromCache),e.converter)}class ny extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Wc(e)}get(e){const i=Kd(e,this._firestore),o=new Q_(this._firestore);return this._transaction.lookup([i._key]).then(h=>{if(!h||1!==h.length)return Se();const C=h[0];if(C.isFoundDocument())return new Zd(this._firestore,o,C.key,C,i.converter);if(C.isNoDocument())return new Zd(this._firestore,o,i._key,null,i.converter);throw Se()})}set(e,i,o){const h=Kd(e,this._firestore),C=Nf(h.converter,i,o),M=xp(this._dataReader,"Transaction.set",h._key,C,null!==h.converter,o);return this._transaction.set(h._key,M),this}update(e,i,o,...h){const C=Kd(e,this._firestore);let M;return M="string"==typeof(i=(0,Gt.m9)(i))||i instanceof rd?ig(this._dataReader,"Transaction.update",C._key,i,o,h):Rp(this._dataReader,"Transaction.update",C._key,i),this._transaction.update(C._key,M),this}delete(e){const i=Kd(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=Kd(e,this._firestore),o=new qd(this._firestore);return super.get(e).then(h=>new Yc(this._firestore,o,i._key,h._document,new Au(!1,!1),i.converter))}}function Up(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Sn("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Cg(){if("undefined"==typeof Uint8Array)throw new Sn("unimplemented","Uint8Arrays are not available in this environment.")}function ry(){if("undefined"==typeof atob)throw new Sn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){ea=Qe.SDK_VERSION,(0,Qe._registerComponent)(new Qt.wA("firestore",(i,{options:o})=>{const h=i.getProvider("app").getImmediate(),C=new Io(h,new ja(i.getProvider("auth-internal")),new Mo(i.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),C._setSettings(o),C},"PUBLIC")),(0,Qe.registerVersion)(Ha,"3.4.9",s),(0,Qe.registerVersion)(Ha,"3.4.9","esm2017")}();class Ff{constructor(e){this._delegate=e}static fromBase64String(e){return ry(),new Ff($c.fromBase64String(e))}static fromUint8Array(e){return Cg(),new Ff($c.fromUint8Array(e))}toBase64(){return ry(),this._delegate.toBase64()}toUint8Array(){return Cg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Eg(s){return function(s,e){if("object"!=typeof s||null===s)return!1;const i=s;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(s)}class wg{enableIndexedDbPersistence(e,i){return function(s,e){Av(s=rs(s,Io));const i=Xo(s),o=s._freezeSettings(),h=new Cp;return Dv(i,h,new x_(h,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(e){return function(s){Av(s=rs(s,Io));const e=Xo(s),i=s._freezeSettings(),o=new Cp;return Dv(e,o,new EC(o,i.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(s){if(s._initialized&&!s._terminated)throw new Sn(Yt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new mi;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(i=(0,Me.Z)(function*(o){if(!dn.vt())return Promise.resolve();const h=o+"main";yield dn.delete(h)}),function(o){return i.apply(this,arguments)})(Kf(s._databaseId,s._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}(e._delegate)}}class Gh{constructor(e,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ma||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const i=this._delegate._getSettings();!e.merge&&i.host!==e.host&&X("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)}useEmulator(e,i,o={}){!function(s,e,i,o={}){var h;const C=(s=rs(s,Fh))._getSettings();if("firestore.googleapis.com"!==C.host&&C.host!==e&&X("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},C),{host:`${e}:${i}`,ssl:!1})),o.mockUserToken){let M,G;if("string"==typeof o.mockUserToken)M=o.mockUserToken,G=bs.MOCK_USER;else{M=(0,Gt.Sg)(o.mockUserToken,null===(h=s._app)||void 0===h?void 0:h.options.projectId);const Ce=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Ce)throw new Sn(Yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new bs(Ce)}s._authCredentials=new Go(new qr(M,G))}}(this._delegate,e,i,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield O_(s),i=yield Tp(s);return e.setNetworkEnabled(!0),function(o){const h=qt(o);return h.wu.delete(0),wf(h)}(i)}))}(Xo(s=rs(s,Io)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield O_(s),i=yield Tp(s);return e.setNetworkEnabled(!1),(o=(0,Me.Z)(function*(h){const C=qt(h);C.wu.add(0),yield Vd(C),C.yu.set("Offline")}),function(h){return o.apply(this,arguments)})(i);var o}))}(Xo(s=rs(s,Io)))}(this._delegate)}enablePersistence(e){let i=!1,o=!1;return e&&(i=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Yd("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(e){const i=new mi;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(s,e){return fp.apply(this,arguments)}(yield ec(e),i)})),i.promise}(Xo(s=rs(s,Io)))}(this._delegate)}onSnapshotsInSync(e){return function(s,e){return function(s,e){const i=new wp(e);return s.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return o=yield zc(s),h=i,qt(o).bu.add(h),void h.next();var o,h})),()=>{i.Aa(),s.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return o=yield zc(s),h=i,void qt(o).bu.delete(h);var o,h}))}}(Xo(s=rs(s,Io)),Mp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Sn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jd(this,N_(this._delegate,e))}catch(i){throw Xa(i,"collection()","Firestore.collection()")}}doc(e){try{return new Ja(this,Of(this._delegate,e))}catch(i){throw Xa(i,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Va(this,function(s,e){if(s=rs(s,Fh),id("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Sn(Yt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new La(s,null,(i=e,new $o(Sr.emptyPath(),i)));var i}(this._delegate,e))}catch(i){throw Xa(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(s,e,i){s=rs(s,Io);const o=Object.assign(Object.assign({},q_),i);return function(h){if(h.maxAttempts<1)throw new Sn(Yt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(s,e,i){const o=new mi;return s.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const h=yield(C=s,ml(C).then(M=>M.datastore));var C;new vv(s.asyncQueue,h,i,e,o).run()})),o.promise}(Xo(s),h=>e(new ny(s,h)),o)}(this._delegate,i=>e(new oy(this,i)))}batch(){return Xo(this._delegate),new Dg(new mg(this._delegate,e=>jh(this._delegate,e)))}loadBundle(e){return function(s,e){const i=Xo(s=rs(s,Io)),o=new wv;return function(s,e,i,o){const h=function(C,M){let G;return G="string"==typeof C?(new TextEncoder).encode(C):C,Ce=function(Ce,Fe){if(Ce instanceof Uint8Array)return Ep(Ce,void 0);if(Ce instanceof ArrayBuffer)return Ep(new Uint8Array(Ce),void 0);if(Ce instanceof ReadableStream)return Ce.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(G),new $m(Ce,M);var Ce}(i,Ef(e));s.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function(s,e,i){const o=qt(s);var h;(h=(0,Me.Z)(function*(C,M,G){try{const Ce=yield M.getMetadata();if(yield function(Dn,Yn){const vn=qt(Dn),Ti=Ws(Yn.createTime);return vn.persistence.runTransaction("hasNewerBundle","readonly",dr=>vn._s.getBundleMetadata(dr,Yn.id)).then(dr=>!!dr&&dr.createTime.compareTo(Ti)>=0)}(C.localStore,Ce))return yield M.close(),G._completeWith({taskState:"Success",documentsLoaded:(Dn=Ce).totalDocuments,bytesLoaded:Dn.totalBytes,totalDocuments:Dn.totalDocuments,totalBytes:Dn.totalBytes}),Promise.resolve(new Set);G._updateProgress(b_(Ce));const Fe=new cv(Ce,C.localStore,M.M);let It=yield M.ma();for(;It;){const Dn=yield Fe.Fu(It);Dn&&G._updateProgress(Dn),It=yield M.ma()}const Wt=yield Fe.complete();return yield Gc(C,Wt.Lu,void 0),yield function(Dn,Yn){const vn=qt(Dn);return vn.persistence.runTransaction("Save bundle","readwrite",Ti=>vn._s.saveBundleMetadata(Ti,Yn))}(C.localStore,Ce),G._completeWith(Wt.progress),Promise.resolve(Wt.Bu)}catch(Ce){return X("SyncEngine",`Loading bundle failed with ${Ce}`),G._failWith(Ce),Promise.resolve(new Set)}var Dn}),function(C,M,G){return h.apply(this,arguments)})(o,e,i).then(h=>{o.sharedClientState.notifyBundleLoaded(h)})}(yield ec(s),h,o)}))}(i,s._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function(s,e){return function(s,e){return s.asyncQueue.enqueue((0,Me.Z)(function*(){return function(i,o){const h=qt(i);return h.persistence.runTransaction("Get named query","readonly",C=>h._s.getNamedQuery(C,o))}(yield Ym(s),e)}))}(Xo(s=rs(s,Io)),e).then(i=>i?new La(s,null,i.query):null)}(this._delegate,e).then(i=>i?new Va(this,i):null)}}class Hp extends Bp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ff(new $c(e))}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return Ja.forKey(i,this.firestore,null)}}class oy{constructor(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new Hp(e)}get(e){const i=dd(e);return this._delegate.get(i).then(o=>new Qd(this._firestore,new Yc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(e,i,o){const h=dd(e);return o?(Up("Transaction.set",o),this._delegate.set(h,i,o)):this._delegate.set(h,i),this}update(e,i,o,...h){const C=dd(e);return 2===arguments.length?this._delegate.update(C,i):this._delegate.update(C,i,o,...h),this}delete(e){const i=dd(e);return this._delegate.delete(i),this}}class Dg{constructor(e){this._delegate=e}set(e,i,o){const h=dd(e);return o?(Up("WriteBatch.set",o),this._delegate.set(h,i,o)):this._delegate.set(h,i),this}update(e,i,o,...h){const C=dd(e);return 2===arguments.length?this._delegate.update(C,i):this._delegate.update(C,i,o,...h),this}delete(e){const i=dd(e);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class cd{constructor(e,i,o){this._firestore=e,this._userDataWriter=i,this._delegate=o}fromFirestore(e,i){const o=new Np(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ud(this._firestore,o),null!=i?i:{})}toFirestore(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)}static getInstance(e,i){const o=cd.INSTANCES;let h=o.get(e);h||(h=new WeakMap,o.set(e,h));let C=h.get(i);return C||(C=new cd(e,new Hp(e),i),h.set(i,C)),C}}cd.INSTANCES=new WeakMap;class Ja{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Hp(e)}static forPath(e,i,o){if(e.length%2!=0)throw new Sn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ja(i,new po(i._delegate,o,new ri(e)))}static forKey(e,i,o){return new Ja(i,new po(i._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Jd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jd(this.firestore,N_(this._delegate,e))}catch(i){throw Xa(i,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof po&&L_(this._delegate,e)}set(e,i){i=Up("DocumentReference.set",i);try{return i?ey(this._delegate,e,i):ey(this._delegate,e)}catch(o){throw Xa(o,"setDoc()","DocumentReference.set()")}}update(e,i,...o){try{return 1===arguments.length?gg(this._delegate,e):gg(this._delegate,e,i,...o)}catch(h){throw Xa(h,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return jh(rs(s.firestore,Io),[new Oc(s._key,wo.none())])}(this._delegate)}onSnapshot(...e){const i=Tg(e),o=Ig(e,h=>new Qd(this.firestore,new Yc(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return _g(this._delegate,i,o)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=rs(s,po);const e=rs(s.firestore,Io),i=Xo(e),o=new qd(e);return function(s,e){const i=new mi;return s.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(o=(0,Me.Z)(function*(h,C,M){try{const G=yield function(Ce,Fe){const It=qt(Ce);return It.persistence.runTransaction("read document","readonly",Wt=>It.fi.Ls(Wt,Fe))}(h,C);G.isFoundDocument()?M.resolve(G):G.isNoDocument()?M.resolve(null):M.reject(new Sn(Yt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(G){const Ce=pl(G,`Failed to get document '${C} from cache`);M.reject(Ce)}}),function(h,C,M){return o.apply(this,arguments)})(yield Ym(s),e,i);var o})),i.promise}(i,s._key).then(h=>new Yc(e,o,s._key,h,new Au(null!==h&&h.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=rs(s,po);const e=rs(s.firestore,Io);return Sp(Xo(e),s._key,{source:"server"}).then(i=>yg(e,s,i))}(this._delegate):function(s){s=rs(s,po);const e=rs(s.firestore,Io);return Sp(Xo(e),s._key).then(i=>yg(e,s,i))}(this._delegate),i.then(o=>new Qd(this.firestore,new Yc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Ja(this.firestore,this._delegate.withConverter(e?cd.getInstance(this.firestore,e):null))}}function Xa(s,e,i){return s.message=s.message.replace(e,i),s}function Tg(s){for(const e of s)if("object"==typeof e&&!Eg(e))return e;return{}}function Ig(s,e){var i,o;let h;return h=Eg(s[0])?s[0]:Eg(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:C=>{h.next&&h.next(e(C))},error:null===(i=h.error)||void 0===i?void 0:i.bind(h),complete:null===(o=h.complete)||void 0===o?void 0:o.bind(h)}}class Qd{constructor(e,i){this._firestore=e,this._delegate=i}get ref(){return new Ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,i){return this._delegate.get(e,i)}isEqual(e){return Fp(this._delegate,e._delegate)}}class ud extends Qd{data(e){const i=this._delegate.data(e);return function(s,e){s||Se()}(void 0!==i),i}}class Va{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Hp(e)}where(e,i,o){try{return new Va(this.firestore,Zc(this._delegate,function(s,e,i){const o=e,h=Bh("where",s);return new G_(h,o,i)}(e,i,o)))}catch(h){throw Xa(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,i){try{return new Va(this.firestore,Zc(this._delegate,function(s,e="asc"){const i=e,o=Bh("orderBy",s);return new cg(o,i)}(e,i)))}catch(o){throw Xa(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Va(this.firestore,Zc(this._delegate,function(s){return qm("limit",s),new z_("limit",s,"F")}(e)))}catch(i){throw Xa(i,"limit()","Query.limit()")}}limitToLast(e){try{return new Va(this.firestore,Zc(this._delegate,function(s){return qm("limitToLast",s),new z_("limitToLast",s,"L")}(e)))}catch(i){throw Xa(i,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Va(this.firestore,Zc(this._delegate,function(...s){return new Lp("startAt",s,!0)}(...e)))}catch(i){throw Xa(i,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Va(this.firestore,Zc(this._delegate,function(...s){return new Lp("startAfter",s,!1)}(...e)))}catch(i){throw Xa(i,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Va(this.firestore,Zc(this._delegate,function(...s){return new dg("endBefore",s,!1)}(...e)))}catch(i){throw Xa(i,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Va(this.firestore,Zc(this._delegate,function(...s){return new dg("endAt",s,!0)}(...e)))}catch(i){throw Xa(i,"endAt()","Query.endAt()")}}isEqual(e){return Cv(this._delegate,e._delegate)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=rs(s,La);const e=rs(s.firestore,Io),i=Xo(e),o=new qd(e);return function(s,e){const i=new mi;return s.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(o=(0,Me.Z)(function*(h,C,M){try{const G=yield qf(h,C,!0),Ce=new km(C,G._i),Fe=Ce.Wu(G.documents),It=Ce.applyChanges(Fe,!1);M.resolve(It.snapshot)}catch(G){const Ce=pl(G,`Failed to execute query '${C} against cache`);M.reject(Ce)}}),function(h,C,M){return o.apply(this,arguments)})(yield Ym(s),e,i);var o})),i.promise}(i,s._query).then(h=>new ld(e,o,s,h))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=rs(s,La);const e=rs(s.firestore,Io),i=Xo(e),o=new qd(e);return $d(i,s._query,{source:"server"}).then(h=>new ld(e,o,s,h))}(this._delegate):function(s){s=rs(s,La);const e=rs(s.firestore,Io),i=Xo(e),o=new qd(e);return ag(s._query),$d(i,s._query).then(h=>new ld(e,o,s,h))}(this._delegate),i.then(o=>new jp(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const i=Tg(e),o=Ig(e,h=>new jp(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return _g(this._delegate,i,o)}withConverter(e){return new Va(this.firestore,this._delegate.withConverter(e?cd.getInstance(this.firestore,e):null))}}class ay{constructor(e,i){this._firestore=e,this._delegate=i}get type(){return this._delegate.type}get doc(){return new ud(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jp{constructor(e,i){this._firestore=e,this._delegate=i}get query(){return new Va(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ud(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(i=>new ay(this._firestore,i))}forEach(e,i){this._delegate.forEach(o=>{e.call(i,new ud(this._firestore,o))})}isEqual(e){return Fp(this._delegate,e._delegate)}}class Jd extends Va{constructor(e,i){super(e,i),this.firestore=e,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ja(this.firestore,e):null}doc(e){try{return new Ja(this.firestore,void 0===e?Of(this._delegate):Of(this._delegate,e))}catch(i){throw Xa(i,"doc()","CollectionReference.doc()")}}add(e){return function(s,e){const i=rs(s.firestore,Io),o=Of(s),h=Nf(s.converter,e);return jh(i,[xp(Wc(s.firestore),"addDoc",o._key,h,null!==s.converter,{}).toMutation(o._key,wo.exists(!1))]).then(()=>o)}(this._delegate,e).then(i=>new Ja(this.firestore,i))}isEqual(e){return L_(this._delegate,e._delegate)}withConverter(e){return new Jd(this.firestore,this._delegate.withConverter(e?cd.getInstance(this.firestore,e):null))}}function dd(s){return rs(s,po)}class Gp{constructor(...e){this._delegate=new rd(...e)}static documentId(){return new Gp(ho.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof rd&&this._delegate._internalPath.isEqual(e._internalPath)}}class hd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new ng("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new hd(e)}static delete(){const e=new Vh("deleteField");return e._methodName="FieldValue.delete",new hd(e)}static arrayUnion(...e){const i=function(...s){return new Rv("arrayUnion",s)}(...e);return i._methodName="FieldValue.arrayUnion",new hd(i)}static arrayRemove(...e){const i=function(...s){return new kv("arrayRemove",s)}(...e);return i._methodName="FieldValue.arrayRemove",new hd(i)}static increment(e){const i=function(s){return new Ov("increment",s)}(e);return i._methodName="FieldValue.increment",new hd(i)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ly={Firestore:Gh,GeoPoint:eg,Timestamp:ls,Blob:Ff,Transaction:oy,WriteBatch:Dg,DocumentReference:Ja,DocumentSnapshot:Qd,Query:Va,QueryDocumentSnapshot:ud,QuerySnapshot:jp,CollectionReference:Jd,FieldPath:Gp,FieldValue:hd,setLogLevel:function(s){!function(s){Gs.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,e){s.INTERNAL.registerComponent(new Qt.wA("firestore-compat",i=>((e,i)=>new Gh(e,i,new wg))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},ly)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.18")}(nt.Z);var fd=D(3820),$v=D(6256),Wv=D(7841);function uy(s,e){return function(s,e=m.z){return new y.y(i=>{let o;return null!=e?e.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},i)}):o=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=o&&o()}})}(s,e)}function Sg(s,e){return uy(s,e).pipe((0,Ee.U)(i=>({payload:i,type:"query"})))}function zp(s,e){return Sg(s,e).pipe((0,De.O)(void 0),(0,le.G)(),(0,Ee.U)(([i,o])=>{const h=o.payload.docChanges(),C=h.map(M=>({type:M.type,payload:M}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((M,G)=>{const Ce=h.find(It=>It.doc.ref.isEqual(M.ref)),Fe=null==i?void 0:i.payload.docs.find(It=>It.ref.isEqual(M.ref));Ce&&JSON.stringify(Ce.doc.metadata)===JSON.stringify(M.metadata)||!Ce&&Fe&&JSON.stringify(Fe.metadata)===JSON.stringify(M.metadata)||C.push({type:"modified",payload:{oldIndex:G,newIndex:G,type:"modified",doc:M}})}),C}))}function dy(s,e,i){return zp(s,i).pipe((0,se.R)((o,h)=>function(s,e,i){return e.forEach(o=>{i.indexOf(o.type)>-1&&(s=function(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mg(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=s.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return Mg(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mg(s,e.oldIndex,1)}return s}(s,o))}),s}(o,h.map(C=>C.payload),e),[]),(0,Te.x)(),(0,Ee.U)(o=>o.map(h=>({type:h.type,payload:h}))))}function Mg(s,e,i,...o){const h=s.slice();return h.splice(e,i,...o),h}function hy(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class fy{constructor(e,i,o){this.ref=e,this.query=i,this.afs=o}stateChanges(e){let i=zp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,Ee.U)(o=>o.filter(h=>e.indexOf(h.type)>-1)))),i.pipe((0,De.O)(void 0),(0,le.G)(),(0,oe.h)(([o,h])=>h.length>0||!o),(0,Ee.U)(([o,h])=>h),U.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,se.R)((i,o)=>[...i,...o],[]))}snapshotChanges(e){const i=hy(e);return dy(this.query,i,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(e={}){return Sg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ee.U)(i=>i.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),U.iC)}get(e){return(0,d.D)(this.query.get(e)).pipe(U.iC)}add(e){return this.ref.add(e)}doc(e){return new py(this.ref.doc(e),this.afs)}}class py{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const o=this.ref.collection(e),{ref:h,query:C}=Rg(o,i);return new fy(h,C,this.afs)}snapshotChanges(){return function(s,e){return uy(s,e).pipe((0,De.O)(void 0),(0,le.G)(),(0,Ee.U)(([i,o])=>o.exists?(null==i?void 0:i.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ee.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,d.D)(this.ref.get(e)).pipe(U.iC)}}class Qv{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?zp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ee.U)(i=>i.filter(o=>e.indexOf(o.type)>-1)),(0,oe.h)(i=>i.length>0),U.iC):zp(this.query,this.afs.schedulers.outsideAngular).pipe(U.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,se.R)((i,o)=>[...i,...o],[]))}snapshotChanges(e){const i=hy(e);return dy(this.query,i,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(e={}){return Sg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ee.U)(o=>o.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),U.iC)}get(e){return(0,d.D)(this.query.get(e)).pipe(U.iC)}}const Ag=new _.OlP("angularfire2.enableFirestorePersistence"),xg=new _.OlP("angularfire2.firestore.persistenceSettings"),my=new _.OlP("angularfire2.firestore.settings"),gy=new _.OlP("angularfire2.firestore.use-emulator");function Rg(s,e=(i=>i)){return{query:e(s),ref:s}}let kg=(()=>{class s{constructor(i,o,h,C,M,G,Ce,Fe,It,Wt,Dn,Yn,vn,Ti,dr,_o,So){this.schedulers=Ce;const Xs=(0,Ye.on)(i,G,o),No=It;Wt&&(0,fd.nw)(Xs,G,Dn,vn,Ti,dr,Yn,_o),[this.firestore,this.persistenceEnabled$]=(0,Ye.cc)(`${Xs.name}.firestore`,"AngularFirestore",Xs.name,()=>{const eo=G.runOutsideAngular(()=>Xs.firestore());if(C&&eo.settings(C),No&&eo.useEmulator(...No),h&&!(0,tt.PM)(M)){const Cr=()=>{try{return(0,d.D)(eo.enablePersistence(Fe||void 0).then(()=>!0,()=>!1))}catch(el){return"undefined"!=typeof console&&console.warn(el),(0,he.of)(!1)}};return[eo,G.runOutsideAngular(Cr)]}return[eo,(0,he.of)(!1)]},[C,No,h])}collection(i,o){let h;h="string"==typeof i?this.firestore.collection(i):i;const{ref:C,query:M}=Rg(h,o),G=this.schedulers.ngZone.run(()=>C);return new fy(G,M,this)}collectionGroup(i,o){const h=o||(M=>M),C=this.firestore.collectionGroup(i);return new Qv(h(C),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const h=this.schedulers.ngZone.run(()=>o);return new py(h,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(Ye.Dh),_.LFG(Ye.xv,8),_.LFG(Ag,8),_.LFG(my,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(U.HU),_.LFG(xg,8),_.LFG(gy,8),_.LFG(fd.zQ,8),_.LFG(fd.Qv,8),_.LFG(fd.L6,8),_.LFG(fd._Q,8),_.LFG(fd.rT,8),_.LFG(fd.lh,8),_.LFG(fd.f7,8),_.LFG($v.nm,8))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),_y=(()=>{class s{constructor(){Wv.Z.registerVersion("angularfire",U.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:s,providers:[{provide:Ag,useValue:!0},{provide:xg,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({providers:[kg]}),s})()},8939:(In,mt,D)=>{"use strict";D.d(mt,{hO:()=>Ye,xv:()=>Ee,Dh:()=>le,GT:()=>U,cc:()=>tt,on:()=>se,pX:()=>he});var _=D(7716),m=D(7841),y=D(2310);In=D.hmd(In);const d=["ngOnDestroy"],he=(Qe,Qt,hn,Gt={})=>new Proxy(Qe,{get:(Et,ut)=>hn.runOutsideAngular(()=>{var Ke;if(Qe[ut])return(null===(Ke=null==Gt?void 0:Gt.spy)||void 0===Ke?void 0:Ke.get)&&Gt.spy.get(ut,Qe[ut]),Qe[ut];if(d.indexOf(ut)>-1)return()=>{};const ze=Qt.toPromise().then(be=>{const q=be&&be[ut];return"function"==typeof q?q.bind(be):q&&q.then?q.then(ke=>hn.run(()=>ke)):hn.run(()=>q)});return new Proxy(()=>{},{get:(be,q)=>ze[q],apply:(be,q,ke)=>ze.then(yt=>{var Ot;const un=yt&&yt(...ke);return(null===(Ot=null==Gt?void 0:Gt.spy)||void 0===Ot?void 0:Ot.apply)&&Gt.spy.apply(ut,ke,un),un})})})}),U=(Qe,Qt)=>{Qt.forEach(hn=>{Object.getOwnPropertyNames(hn.prototype||hn).forEach(Gt=>{Object.defineProperty(Qe.prototype,Gt,Object.getOwnPropertyDescriptor(hn.prototype||hn,Gt))})})};class De{constructor(Qt){return Qt}}const le=new _.OlP("angularfire2.app.options"),Ee=new _.OlP("angularfire2.app.name");function se(Qe,Qt,hn){const Et="object"==typeof hn&&hn||{};Et.name=Et.name||"string"==typeof hn&&hn||"[DEFAULT]";const Ke=m.Z.apps.filter(ze=>ze&&ze.name===Et.name)[0]||Qt.runOutsideAngular(()=>m.Z.initializeApp(Qe,Et));try{JSON.stringify(Qe)!==JSON.stringify(Ke.options)&&Te("error",`${Ke.name} Firebase App already initialized with different options${In.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ze){}return new De(Ke)}const Te=(Qe,...Qt)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[Qe](...Qt)},oe={provide:De,useFactory:se,deps:[le,_.R0b,[new _.FiY,Ee]]};let Ye=(()=>{class Qe{constructor(hn){m.Z.registerVersion("angularfire",y.q4.full,"core"),m.Z.registerVersion("angularfire",y.q4.full,"app-compat"),m.Z.registerVersion("angular",_.q4F.full,hn.toString())}static initializeApp(hn,Gt){return{ngModule:Qe,providers:[{provide:le,useValue:hn},{provide:Ee,useValue:Gt}]}}}return Qe.\u0275fac=function(hn){return new(hn||Qe)(_.LFG(_.Lbi))},Qe.\u0275mod=_.oAB({type:Qe}),Qe.\u0275inj=_.cJS({providers:[oe]}),Qe})();function tt(Qe,Qt,hn,Gt,Et){const[,ut,Ke]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===Qe)||[];if(ut)return function(Qe,Qt){try{return Qe.toString()===Qt.toString()}catch(hn){return Qe===Qt}}(Et,Ke)||(Me("error",`${Qt} was already initialized on the ${hn} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:Et,was:Ke})),ut;{const ze=Gt();return globalThis.\u0275AngularfireInstanceCache.push([Qe,ze,Et]),ze}}const nt=!!In.hot,Me=(Qe,...Qt)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[Qe](...Qt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2310:(In,mt,D)=>{"use strict";D.d(mt,{q4:()=>yc,iC:()=>$a,fc:()=>Cc,HU:()=>za,vb:()=>la,JM:()=>Ro});var _=D(7716),m=D(2329),y=D(8239),d=D(8026),he=D(3854),U=D(3910),De=D(5422),le=D(6904);const Ee="@firebase/installations",oe="w:0.5.9",Ye="FIS_v2",Qt=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function hn(Y){return Y instanceof he.ZR&&Y.code.includes("request-failed")}function Gt({projectId:Y}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Y}/installations`}function Et(Y){return{token:Y.token,requestStatus:2,expiresIn:yt(Y.expiresIn),creationTime:Date.now()}}function ut(Y,ce){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,y.Z)(function*(Y,ce){const At=(yield ce.json()).error;return Qt.create("request-failed",{requestName:Y,serverCode:At.code,serverMessage:At.message,serverStatus:At.status})})).apply(this,arguments)}function ze({apiKey:Y}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Y})}function be(Y,{refreshToken:ce}){const He=ze(Y);return He.append("Authorization",function(Y){return`${Ye} ${Y}`}(ce)),He}function q(Y){return ke.apply(this,arguments)}function ke(){return(ke=(0,y.Z)(function*(Y){const ce=yield Y();return ce.status>=500&&ce.status<600?Y():ce})).apply(this,arguments)}function yt(Y){return Number(Y.replace("s","000"))}function un(Y,ce){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,y.Z)(function*({appConfig:Y,heartbeatServiceProvider:ce},{fid:He}){const At=Gt(Y),Jt=ze(Y),yn=ce.getImmediate({optional:!0});if(yn){const Si=yield yn.getHeartbeatsHeader();Si&&Jt.append("x-firebase-client",Si)}const ai={method:"POST",headers:Jt,body:JSON.stringify({fid:He,authVersion:Ye,appId:Y.appId,sdkVersion:oe})},Ni=yield q(()=>fetch(At,ai));if(Ni.ok){const Si=yield Ni.json();return{fid:Si.fid||He,registrationStatus:2,refreshToken:Si.refreshToken,authToken:Et(Si.authToken)}}throw yield ut("Create Installation",Ni)})).apply(this,arguments)}function jn(Y){return new Promise(ce=>{setTimeout(ce,Y)})}const Gn=/^[cdef][\w-]{21}$/;function kn(){try{const Y=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Y),Y[0]=112+Y[0]%16;const He=function(Y){return function(Y){return btoa(String.fromCharCode(...Y)).replace(/\+/g,"-").replace(/\//g,"_")}(Y).substr(0,22)}(Y);return Gn.test(He)?He:""}catch(Y){return""}}function Zt(Y){return`${Y.appName}!${Y.appId}`}const Ae=new Map;function de(Y,ce){const He=Zt(Y);Pe(He,ce),function(Y,ce){const He=(!ct&&"BroadcastChannel"in self&&(ct=new BroadcastChannel("[Firebase] FID Change"),ct.onmessage=Y=>{Pe(Y.data.key,Y.data.fid)}),ct);He&&He.postMessage({key:Y,fid:ce}),0===Ae.size&&ct&&(ct.close(),ct=null)}(He,ce)}function Pe(Y,ce){const He=Ae.get(Y);if(He)for(const At of He)At(ce)}let ct=null;const We="firebase-installations-store";let at=null;function fn(){return at||(at=(0,le.X3)("firebase-installations-database",1,{upgrade:(Y,ce)=>{switch(ce){case 0:Y.createObjectStore(We)}}})),at}function jt(Y,ce){return cn.apply(this,arguments)}function cn(){return(cn=(0,y.Z)(function*(Y,ce){const He=Zt(Y),Jt=(yield fn()).transaction(We,"readwrite"),yn=Jt.objectStore(We),qn=yield yn.get(He);return yield yn.put(ce,He),yield Jt.done,(!qn||qn.fid!==ce.fid)&&de(Y,ce.fid),ce})).apply(this,arguments)}function Ln(Y){return pt.apply(this,arguments)}function pt(){return(pt=(0,y.Z)(function*(Y){const ce=Zt(Y),At=(yield fn()).transaction(We,"readwrite");yield At.objectStore(We).delete(ce),yield At.done})).apply(this,arguments)}function ue(Y,ce){return B.apply(this,arguments)}function B(){return(B=(0,y.Z)(function*(Y,ce){const He=Zt(Y),Jt=(yield fn()).transaction(We,"readwrite"),yn=Jt.objectStore(We),qn=yield yn.get(He),ai=ce(qn);return void 0===ai?yield yn.delete(He):yield yn.put(ai,He),yield Jt.done,ai&&(!qn||qn.fid!==ai.fid)&&de(Y,ai.fid),ai})).apply(this,arguments)}function H(Y){return ae.apply(this,arguments)}function ae(){return(ae=(0,y.Z)(function*(Y){let ce;const He=yield ue(Y.appConfig,At=>{const Jt=Le(At),yn=ge(Y,Jt);return ce=yn.registrationPromise,yn.installationEntry});return""===He.fid?{installationEntry:yield ce}:{installationEntry:He,registrationPromise:ce}})).apply(this,arguments)}function Le(Y){return Pn(Y||{fid:kn(),registrationStatus:0})}function ge(Y,ce){if(0===ce.registrationStatus){if(!navigator.onLine)return{installationEntry:ce,registrationPromise:Promise.reject(Qt.create("app-offline"))};const He={fid:ce.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:He,registrationPromise:function(Y,ce){return Bt.apply(this,arguments)}(Y,He)}}return 1===ce.registrationStatus?{installationEntry:ce,registrationPromise:an(Y)}:{installationEntry:ce}}function Bt(){return(Bt=(0,y.Z)(function*(Y,ce){try{const He=yield un(Y,ce);return jt(Y.appConfig,He)}catch(He){throw hn(He)&&409===He.customData.serverCode?yield Ln(Y.appConfig):yield jt(Y.appConfig,{fid:ce.fid,registrationStatus:0}),He}})).apply(this,arguments)}function an(Y){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,y.Z)(function*(Y){let ce=yield Nn(Y.appConfig);for(;1===ce.registrationStatus;)yield jn(100),ce=yield Nn(Y.appConfig);if(0===ce.registrationStatus){const{installationEntry:He,registrationPromise:At}=yield H(Y);return At||He}return ce})).apply(this,arguments)}function Nn(Y){return ue(Y,ce=>{if(!ce)throw Qt.create("installation-not-found");return Pn(ce)})}function Pn(Y){return function(Y){return 1===Y.registrationStatus&&Y.registrationTime+1e4<Date.now()}(Y)?{fid:Y.fid,registrationStatus:0}:Y}function Jn(Y,ce){return ft.apply(this,arguments)}function ft(){return(ft=(0,y.Z)(function*({appConfig:Y,heartbeatServiceProvider:ce},He){const At=gt(Y,He),Jt=be(Y,He),yn=ce.getImmediate({optional:!0});if(yn){const Si=yield yn.getHeartbeatsHeader();Si&&Jt.append("x-firebase-client",Si)}const ai={method:"POST",headers:Jt,body:JSON.stringify({installation:{sdkVersion:oe,appId:Y.appId}})},Ni=yield q(()=>fetch(At,ai));if(Ni.ok)return Et(yield Ni.json());throw yield ut("Generate Auth Token",Ni)})).apply(this,arguments)}function gt(Y,{fid:ce}){return`${Gt(Y)}/${ce}/authTokens:generate`}function wt(Y){return ln.apply(this,arguments)}function ln(){return(ln=(0,y.Z)(function*(Y,ce=!1){let He;const At=yield ue(Y.appConfig,yn=>{if(!Nt(yn))throw Qt.create("not-registered");const qn=yn.authToken;if(!ce&&pe(qn))return yn;if(1===qn.requestStatus)return He=Ct(Y,ce),yn;{if(!navigator.onLine)throw Qt.create("app-offline");const ai=Oe(yn);return He=Bn(Y,ai),ai}});return He?yield He:At.authToken})).apply(this,arguments)}function Ct(Y,ce){return nn.apply(this,arguments)}function nn(){return(nn=(0,y.Z)(function*(Y,ce){let He=yield Rn(Y.appConfig);for(;1===He.authToken.requestStatus;)yield jn(100),He=yield Rn(Y.appConfig);const At=He.authToken;return 0===At.requestStatus?wt(Y,ce):At})).apply(this,arguments)}function Rn(Y){return ue(Y,ce=>{if(!Nt(ce))throw Qt.create("not-registered");return function(Y){return 1===Y.requestStatus&&Y.requestTime+1e4<Date.now()}(ce.authToken)?Object.assign(Object.assign({},ce),{authToken:{requestStatus:0}}):ce})}function Bn(Y,ce){return _t.apply(this,arguments)}function _t(){return(_t=(0,y.Z)(function*(Y,ce){try{const He=yield Jn(Y,ce),At=Object.assign(Object.assign({},ce),{authToken:He});return yield jt(Y.appConfig,At),He}catch(He){if(!hn(He)||401!==He.customData.serverCode&&404!==He.customData.serverCode){const At=Object.assign(Object.assign({},ce),{authToken:{requestStatus:0}});yield jt(Y.appConfig,At)}else yield Ln(Y.appConfig);throw He}})).apply(this,arguments)}function Nt(Y){return void 0!==Y&&2===Y.registrationStatus}function pe(Y){return 2===Y.requestStatus&&!function(Y){const ce=Date.now();return ce<Y.creationTime||Y.creationTime+Y.expiresIn<ce+36e5}(Y)}function Oe(Y){const ce={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Y),{authToken:ce})}function Wn(){return(Wn=(0,y.Z)(function*(Y){const ce=Y,{installationEntry:He,registrationPromise:At}=yield H(ce);return At?At.catch(console.error):wt(ce).catch(console.error),He.fid})).apply(this,arguments)}function xi(){return(xi=(0,y.Z)(function*(Y,ce=!1){const He=Y;return yield Ui(He),(yield wt(He,ce)).token})).apply(this,arguments)}function Ui(Y){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,y.Z)(function*(Y){const{registrationPromise:ce}=yield H(Y);ce&&(yield ce)})).apply(this,arguments)}function li(Y){return Qt.create("missing-app-config-values",{valueName:Y})}const yr="installations";(0,d._registerComponent)(new U.wA(yr,Y=>{const ce=Y.getProvider("app").getImmediate();return{app:ce,appConfig:function(Y){if(!Y||!Y.options)throw li("App Configuration");if(!Y.name)throw li("App Name");const ce=["projectId","apiKey","appId"];for(const He of ce)if(!Y.options[He])throw li(He);return{appName:Y.name,projectId:Y.options.projectId,apiKey:Y.options.apiKey,appId:Y.options.appId}}(ce),heartbeatServiceProvider:(0,d._getProvider)(ce,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,d._registerComponent)(new U.wA("installations-internal",Y=>{const ce=Y.getProvider("app").getImmediate(),He=(0,d._getProvider)(ce,yr).getImmediate();return{getId:()=>function(Y){return Wn.apply(this,arguments)}(He),getToken:Jt=>function(Y){return xi.apply(this,arguments)}(He,Jt)}},"PRIVATE")),(0,d.registerVersion)(Ee,"0.5.9"),(0,d.registerVersion)(Ee,"0.5.9","esm2017");const Xt="@firebase/remote-config",st=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jr{constructor(ce,He,At,Jt){this.client=ce,this.storage=He,this.storageCache=At,this.logger=Jt}isCachedDataFresh(ce,He){if(!He)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const At=Date.now()-He,Jt=At<=ce;return this.logger.debug(`Config fetch cache check. Cache age millis: ${At}. Cache max age millis (minimumFetchIntervalMillis setting): ${ce}. Is cache hit: ${Jt}.`),Jt}fetch(ce){var He=this;return(0,y.Z)(function*(){const[At,Jt]=yield Promise.all([He.storage.getLastSuccessfulFetchTimestampMillis(),He.storage.getLastSuccessfulFetchResponse()]);if(Jt&&He.isCachedDataFresh(ce.cacheMaxAgeMillis,At))return Jt;ce.eTag=Jt&&Jt.eTag;const yn=yield He.client.fetch(ce),qn=[He.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===yn.status&&qn.push(He.storage.setLastSuccessfulFetchResponse(yn)),yield Promise.all(qn),yn})()}}function ds(Y=navigator){return Y.languages&&Y.languages[0]||Y.language}class kr{constructor(ce,He,At,Jt,yn,qn){this.firebaseInstallations=ce,this.sdkVersion=He,this.namespace=At,this.projectId=Jt,this.apiKey=yn,this.appId=qn}fetch(ce){var He=this;return(0,y.Z)(function*(){const[At,Jt]=yield Promise.all([He.firebaseInstallations.getId(),He.firebaseInstallations.getToken()]),qn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${He.projectId}/namespaces/${He.namespace}:fetch?key=${He.apiKey}`,ai={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ce.eTag||"*"},Ni={sdk_version:He.sdkVersion,app_instance_id:At,app_instance_id_token:Jt,app_id:He.appId,language_code:ds()},Si={method:"POST",headers:ai,body:JSON.stringify(Ni)},wr=fetch(qn,Si),Qi=new Promise((Lr,Eo)=>{ce.signal.addEventListener(()=>{const na=new Error("The operation was aborted.");na.name="AbortError",Eo(na)})});let ks;try{yield Promise.race([wr,Qi]),ks=yield wr}catch(Lr){let Eo="fetch-client-network";throw"AbortError"===Lr.name&&(Eo="fetch-timeout"),st.create(Eo,{originalErrorMessage:Lr.message})}let Co=ks.status;const Cs=ks.headers.get("ETag")||void 0;let Ra,$s;if(200===ks.status){let Lr;try{Lr=yield ks.json()}catch(Eo){throw st.create("fetch-client-parse",{originalErrorMessage:Eo.message})}Ra=Lr.entries,$s=Lr.state}if("INSTANCE_STATE_UNSPECIFIED"===$s?Co=500:"NO_CHANGE"===$s?Co=304:("NO_TEMPLATE"===$s||"EMPTY_CONFIG"===$s)&&(Ra={}),304!==Co&&200!==Co)throw st.create("fetch-status",{httpStatus:Co});return{status:Co,eTag:Cs,config:Ra}})()}}class Kt{constructor(ce,He){this.client=ce,this.storage=He}fetch(ce){var He=this;return(0,y.Z)(function*(){const At=(yield He.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return He.attemptFetch(ce,At)})()}attemptFetch(ce,{throttleEndTimeMillis:He,backoffCount:At}){var Jt=this;return(0,y.Z)(function*(){yield function(Y,ce){return new Promise((He,At)=>{const Jt=Math.max(ce-Date.now(),0),yn=setTimeout(He,Jt);Y.addEventListener(()=>{clearTimeout(yn),At(st.create("fetch-throttle",{throttleEndTimeMillis:ce}))})})}(ce.signal,He);try{const yn=yield Jt.client.fetch(ce);return yield Jt.storage.deleteThrottleMetadata(),yn}catch(yn){if(!function(Y){if(!(Y instanceof he.ZR&&Y.customData))return!1;const ce=Number(Y.customData.httpStatus);return 429===ce||500===ce||503===ce||504===ce}(yn))throw yn;const qn={throttleEndTimeMillis:Date.now()+(0,he.$s)(At),backoffCount:At+1};return yield Jt.storage.setThrottleMetadata(qn),Jt.attemptFetch(ce,qn)}})()}}class pn{constructor(ce,He,At,Jt,yn){this.app=ce,this._client=He,this._storageCache=At,this._storage=Jt,this._logger=yn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mn(Y,ce){const He=Y.target.error||void 0;return st.create(ce,{originalErrorMessage:He&&He.message})}const Vn="app_namespace_store";class Br{constructor(ce,He,At,Jt=function(){return new Promise((Y,ce)=>{try{const He=indexedDB.open("firebase_remote_config",1);He.onerror=At=>{ce(Mn(At,"storage-open"))},He.onsuccess=At=>{Y(At.target.result)},He.onupgradeneeded=At=>{const Jt=At.target.result;switch(At.oldVersion){case 0:Jt.createObjectStore(Vn,{keyPath:"compositeKey"})}}}catch(He){ce(st.create("storage-open",{originalErrorMessage:He}))}})}()){this.appId=ce,this.appName=He,this.namespace=At,this.openDbPromise=Jt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ce){return this.set("last_fetch_status",ce)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ce){return this.set("last_successful_fetch_timestamp_millis",ce)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ce){return this.set("last_successful_fetch_response",ce)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ce){return this.set("active_config",ce)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ce){return this.set("active_config_etag",ce)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ce){return this.set("throttle_metadata",ce)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ce){var He=this;return(0,y.Z)(function*(){const At=yield He.openDbPromise;return new Promise((Jt,yn)=>{const ai=At.transaction([Vn],"readonly").objectStore(Vn),Ni=He.createCompositeKey(ce);try{const Si=ai.get(Ni);Si.onerror=wr=>{yn(Mn(wr,"storage-get"))},Si.onsuccess=wr=>{const Qi=wr.target.result;Jt(Qi?Qi.value:void 0)}}catch(Si){yn(st.create("storage-get",{originalErrorMessage:Si&&Si.message}))}})})()}set(ce,He){var At=this;return(0,y.Z)(function*(){const Jt=yield At.openDbPromise;return new Promise((yn,qn)=>{const Ni=Jt.transaction([Vn],"readwrite").objectStore(Vn),Si=At.createCompositeKey(ce);try{const wr=Ni.put({compositeKey:Si,value:He});wr.onerror=Qi=>{qn(Mn(Qi,"storage-set"))},wr.onsuccess=()=>{yn()}}catch(wr){qn(st.create("storage-set",{originalErrorMessage:wr&&wr.message}))}})})()}delete(ce){var He=this;return(0,y.Z)(function*(){const At=yield He.openDbPromise;return new Promise((Jt,yn)=>{const ai=At.transaction([Vn],"readwrite").objectStore(Vn),Ni=He.createCompositeKey(ce);try{const Si=ai.delete(Ni);Si.onerror=wr=>{yn(Mn(wr,"storage-delete"))},Si.onsuccess=()=>{Jt()}}catch(Si){yn(st.create("storage-delete",{originalErrorMessage:Si&&Si.message}))}})})()}createCompositeKey(ce){return[this.appId,this.appName,this.namespace,ce].join()}}class Ns{constructor(ce){this.storage=ce}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ce=this;return(0,y.Z)(function*(){const He=ce.storage.getLastFetchStatus(),At=ce.storage.getLastSuccessfulFetchTimestampMillis(),Jt=ce.storage.getActiveConfig(),yn=yield He;yn&&(ce.lastFetchStatus=yn);const qn=yield At;qn&&(ce.lastSuccessfulFetchTimestampMillis=qn);const ai=yield Jt;ai&&(ce.activeConfig=ai)})()}setLastFetchStatus(ce){return this.lastFetchStatus=ce,this.storage.setLastFetchStatus(ce)}setLastSuccessfulFetchTimestampMillis(ce){return this.lastSuccessfulFetchTimestampMillis=ce,this.storage.setLastSuccessfulFetchTimestampMillis(ce)}setActiveConfig(ce){return this.activeConfig=ce,this.storage.setActiveConfig(ce)}}function Ur(){return as.apply(this,arguments)}function as(){return(as=(0,y.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(Y){return!1}})).apply(this,arguments)}(0,d._registerComponent)(new U.wA("remote-config",function(ce,{instanceIdentifier:He}){const At=ce.getProvider("app").getImmediate(),Jt=ce.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw st.create("registration-window");if(!(0,he.hl)())throw st.create("indexed-db-unavailable");const{projectId:yn,apiKey:qn,appId:ai}=At.options;if(!yn)throw st.create("registration-project-id");if(!qn)throw st.create("registration-api-key");if(!ai)throw st.create("registration-app-id");const Ni=new Br(ai,At.name,He=He||"firebase"),Si=new Ns(Ni),wr=new De.Yd(Xt);wr.logLevel=De.in.ERROR;const Qi=new kr(Jt,d.SDK_VERSION,He,yn,qn,ai),ks=new Kt(Qi,Ni),Co=new Jr(ks,Ni,Si,wr),Cs=new pn(At,Co,Si,Ni,wr);return function(Y){const ce=(0,he.m9)(Y);ce._initializePromise||(ce._initializePromise=ce._storageCache.loadFromStorage().then(()=>{ce._isInitializationComplete=!0}))}(Cs),Cs},"PUBLIC").setMultipleInstances(!0)),(0,d.registerVersion)(Xt,"0.3.8"),(0,d.registerVersion)(Xt,"0.3.8","esm2017");const Ss="/firebase-messaging-sw.js",Pr="/firebase-cloud-messaging-push-scope",Ls="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ms="google.c.a.c_id",jo="google.c.a.c_l",Ar="google.c.a.ts",hs="google.c.a.e";var hr=(()=>{return(Y=hr||(hr={})).PUSH_RECEIVED="push-received",Y.NOTIFICATION_CLICKED="notification-clicked",hr;var Y})();function ns(Y){const ce=new Uint8Array(Y);return btoa(String.fromCharCode(...ce)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ps(Y){const He=(Y+"=".repeat((4-Y.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),At=atob(He),Jt=new Uint8Array(At.length);for(let yn=0;yn<At.length;++yn)Jt[yn]=At.charCodeAt(yn);return Jt}const Vs="fcm_token_details_db",ao="fcm_token_object_Store";function jr(Y){return cr.apply(this,arguments)}function cr(){return(cr=(0,y.Z)(function*(Y){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(yn=>yn.name).includes(Vs))return null;let ce=null;return(yield(0,le.X3)(Vs,5,{upgrade:(At=(0,y.Z)(function*(Jt,yn,qn,ai){var Ni;if(yn<2||!Jt.objectStoreNames.contains(ao))return;const Si=ai.objectStore(ao),wr=yield Si.index("fcmSenderId").get(Y);if(yield Si.clear(),wr)if(2===yn){const Qi=wr;if(!Qi.auth||!Qi.p256dh||!Qi.endpoint)return;ce={token:Qi.fcmToken,createTime:null!==(Ni=Qi.createTime)&&void 0!==Ni?Ni:Date.now(),subscriptionOptions:{auth:Qi.auth,p256dh:Qi.p256dh,endpoint:Qi.endpoint,swScope:Qi.swScope,vapidKey:"string"==typeof Qi.vapidKey?Qi.vapidKey:ns(Qi.vapidKey)}}}else if(3===yn){const Qi=wr;ce={token:Qi.fcmToken,createTime:Qi.createTime,subscriptionOptions:{auth:ns(Qi.auth),p256dh:ns(Qi.p256dh),endpoint:Qi.endpoint,swScope:Qi.swScope,vapidKey:ns(Qi.vapidKey)}}}else if(4===yn){const Qi=wr;ce={token:Qi.fcmToken,createTime:Qi.createTime,subscriptionOptions:{auth:ns(Qi.auth),p256dh:ns(Qi.p256dh),endpoint:Qi.endpoint,swScope:Qi.swScope,vapidKey:ns(Qi.vapidKey)}}}}),function(yn,qn,ai,Ni){return At.apply(this,arguments)})})).close(),yield(0,le.Lj)(Vs),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),Ri(ce)?ce:null;var At})).apply(this,arguments)}function Ri(Y){if(!Y||!Y.subscriptionOptions)return!1;const{subscriptionOptions:ce}=Y;return"number"==typeof Y.createTime&&Y.createTime>0&&"string"==typeof Y.token&&Y.token.length>0&&"string"==typeof ce.auth&&ce.auth.length>0&&"string"==typeof ce.p256dh&&ce.p256dh.length>0&&"string"==typeof ce.endpoint&&ce.endpoint.length>0&&"string"==typeof ce.swScope&&ce.swScope.length>0&&"string"==typeof ce.vapidKey&&ce.vapidKey.length>0}const Zr="firebase-messaging-store";let Nr=null;function K(){return Nr||(Nr=(0,le.X3)("firebase-messaging-database",1,{upgrade:(Y,ce)=>{switch(ce){case 0:Y.createObjectStore(Zr)}}})),Nr}function Ve(Y){return ne.apply(this,arguments)}function ne(){return(ne=(0,y.Z)(function*(Y){const ce=$(Y),At=yield(yield K()).transaction(Zr).objectStore(Zr).get(ce);if(At)return At;{const Jt=yield jr(Y.appConfig.senderId);if(Jt)return yield k(Y,Jt),Jt}})).apply(this,arguments)}function k(Y,ce){return N.apply(this,arguments)}function N(){return(N=(0,y.Z)(function*(Y,ce){const He=$(Y),Jt=(yield K()).transaction(Zr,"readwrite");return yield Jt.objectStore(Zr).put(ce,He),yield Jt.done,ce})).apply(this,arguments)}function F(Y){return ye.apply(this,arguments)}function ye(){return(ye=(0,y.Z)(function*(Y){const ce=$(Y),At=(yield K()).transaction(Zr,"readwrite");yield At.objectStore(Zr).delete(ce),yield At.done})).apply(this,arguments)}function $({appConfig:Y}){return Y.appId}const w=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function V(Y,ce){return fe.apply(this,arguments)}function fe(){return(fe=(0,y.Z)(function*(Y,ce){const He=yield Bi(Y),At=vi(ce),Jt={method:"POST",headers:He,body:JSON.stringify(At)};let yn;try{yn=yield(yield fetch(Xi(Y.appConfig),Jt)).json()}catch(qn){throw w.create("token-subscribe-failed",{errorInfo:qn})}if(yn.error)throw w.create("token-subscribe-failed",{errorInfo:yn.error.message});if(!yn.token)throw w.create("token-subscribe-no-token");return yn.token})).apply(this,arguments)}function Ze(Y,ce){return wn.apply(this,arguments)}function wn(){return(wn=(0,y.Z)(function*(Y,ce){const He=yield Bi(Y),At=vi(ce.subscriptionOptions),Jt={method:"PATCH",headers:He,body:JSON.stringify(At)};let yn;try{yn=yield(yield fetch(`${Xi(Y.appConfig)}/${ce.token}`,Jt)).json()}catch(qn){throw w.create("token-update-failed",{errorInfo:qn})}if(yn.error)throw w.create("token-update-failed",{errorInfo:yn.error.message});if(!yn.token)throw w.create("token-update-no-token");return yn.token})).apply(this,arguments)}function oi(Y,ce){return rr.apply(this,arguments)}function rr(){return(rr=(0,y.Z)(function*(Y,ce){const At={method:"DELETE",headers:yield Bi(Y)};try{const yn=yield(yield fetch(`${Xi(Y.appConfig)}/${ce}`,At)).json();if(yn.error)throw w.create("token-unsubscribe-failed",{errorInfo:yn.error.message})}catch(Jt){throw w.create("token-unsubscribe-failed",{errorInfo:Jt})}})).apply(this,arguments)}function Xi({projectId:Y}){return`https://fcmregistrations.googleapis.com/v1/projects/${Y}/registrations`}function Bi(Y){return ur.apply(this,arguments)}function ur(){return(ur=(0,y.Z)(function*({appConfig:Y,installations:ce}){const He=yield ce.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Y.apiKey,"x-goog-firebase-installations-auth":`FIS ${He}`})})).apply(this,arguments)}function vi({p256dh:Y,auth:ce,endpoint:He,vapidKey:At}){const Jt={web:{endpoint:He,auth:ce,p256dh:Y}};return At!==Ls&&(Jt.web.applicationPubKey=At),Jt}const Us=6048e5;function Fo(Y){return vo.apply(this,arguments)}function vo(){return(vo=(0,y.Z)(function*(Y){const ce=yield xr(Y.swRegistration,Y.vapidKey),He={vapidKey:Y.vapidKey,swScope:Y.swRegistration.scope,endpoint:ce.endpoint,auth:ns(ce.getKey("auth")),p256dh:ns(ce.getKey("p256dh"))},At=yield Ve(Y.firebaseDependencies);if(At){if(aa(At.subscriptionOptions,He))return Date.now()>=At.createTime+Us?$i(Y,{token:At.token,createTime:Date.now(),subscriptionOptions:He}):At.token;try{yield oi(Y.firebaseDependencies,At.token)}catch(Jt){console.warn(Jt)}return Fn(Y.firebaseDependencies,He)}return Fn(Y.firebaseDependencies,He)})).apply(this,arguments)}function Hs(Y){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,y.Z)(function*(Y){const ce=yield Ve(Y.firebaseDependencies);ce&&(yield oi(Y.firebaseDependencies,ce.token),yield F(Y.firebaseDependencies));const He=yield Y.swRegistration.pushManager.getSubscription();return!He||He.unsubscribe()})).apply(this,arguments)}function $i(Y,ce){return ma.apply(this,arguments)}function ma(){return(ma=(0,y.Z)(function*(Y,ce){try{const He=yield Ze(Y.firebaseDependencies,ce),At=Object.assign(Object.assign({},ce),{token:He,createTime:Date.now()});return yield k(Y.firebaseDependencies,At),He}catch(He){throw yield Hs(Y),He}})).apply(this,arguments)}function Fn(Y,ce){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,y.Z)(function*(Y,ce){const At={token:yield V(Y,ce),createTime:Date.now(),subscriptionOptions:ce};return yield k(Y,At),At.token})).apply(this,arguments)}function xr(Y,ce){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,y.Z)(function*(Y,ce){return(yield Y.pushManager.getSubscription())||Y.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ps(ce)})})).apply(this,arguments)}function aa(Y,ce){return ce.vapidKey===Y.vapidKey&&ce.endpoint===Y.endpoint&&ce.auth===Y.auth&&ce.p256dh===Y.p256dh}function Vo(Y){const ce={from:Y.from,collapseKey:Y.collapse_key,messageId:Y.fcmMessageId};return function(Y,ce){if(!ce.notification)return;Y.notification={};const He=ce.notification.title;He&&(Y.notification.title=He);const At=ce.notification.body;At&&(Y.notification.body=At);const Jt=ce.notification.image;Jt&&(Y.notification.image=Jt)}(ce,Y),function(Y,ce){!ce.data||(Y.data=ce.data)}(ce,Y),function(Y,ce){if(!ce.fcmOptions)return;Y.fcmOptions={};const He=ce.fcmOptions.link;He&&(Y.fcmOptions.link=He);const At=ce.fcmOptions.analytics_label;At&&(Y.fcmOptions.analyticsLabel=At)}(ce,Y),ce}function A(Y){return"object"==typeof Y&&!!Y&&Ms in Y}function W(Y,ce){const He=[];for(let At=0;At<Y.length;At++)He.push(Y.charAt(At)),At<ce.length&&He.push(ce.charAt(At));return He.join("")}function Je(Y){return w.create("missing-app-config-values",{valueName:Y})}W("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),W("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dt{constructor(ce,He,At){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Jt=function(Y){if(!Y||!Y.options)throw Je("App Configuration Object");if(!Y.name)throw Je("App Name");const ce=["projectId","apiKey","appId","messagingSenderId"],{options:He}=Y;for(const At of ce)if(!He[At])throw Je(At);return{appName:Y.name,projectId:He.projectId,apiKey:He.apiKey,appId:He.appId,senderId:He.messagingSenderId}}(ce);this.firebaseDependencies={app:ce,appConfig:Jt,installations:He,analyticsProvider:At}}_delete(){return Promise.resolve()}}function xt(Y){return sn.apply(this,arguments)}function sn(){return(sn=(0,y.Z)(function*(Y){try{Y.swRegistration=yield navigator.serviceWorker.register(Ss,{scope:Pr}),Y.swRegistration.update().catch(()=>{})}catch(ce){throw w.create("failed-service-worker-registration",{browserErrorMessage:ce.message})}})).apply(this,arguments)}function gn(Y,ce){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,y.Z)(function*(Y,ce){if(!ce&&!Y.swRegistration&&(yield xt(Y)),ce||!Y.swRegistration){if(!(ce instanceof ServiceWorkerRegistration))throw w.create("invalid-sw-registration");Y.swRegistration=ce}})).apply(this,arguments)}function di(Y,ce){return bi.apply(this,arguments)}function bi(){return(bi=(0,y.Z)(function*(Y,ce){ce?Y.vapidKey=ce:Y.vapidKey||(Y.vapidKey=Ls)})).apply(this,arguments)}function wi(){return(wi=(0,y.Z)(function*(Y,ce){if(!navigator)throw w.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw w.create("permission-blocked");return yield di(Y,null==ce?void 0:ce.vapidKey),yield gn(Y,null==ce?void 0:ce.serviceWorkerRegistration),Fo(Y)})).apply(this,arguments)}function Oi(Y,ce,He){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,y.Z)(function*(Y,ce,He){const At=Kr(ce);(yield Y.firebaseDependencies.analyticsProvider.get()).logEvent(At,{message_id:He[Ms],message_name:He[jo],message_time:He[Ar],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Kr(Y){switch(Y){case hr.NOTIFICATION_CLICKED:return"notification_open";case hr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vs(){return(vs=(0,y.Z)(function*(Y,ce){const He=ce.data;if(!He.isFirebaseMessaging)return;Y.onMessageHandler&&He.messageType===hr.PUSH_RECEIVED&&("function"==typeof Y.onMessageHandler?Y.onMessageHandler(Vo(He)):Y.onMessageHandler.next(Vo(He)));const At=He.data;A(At)&&"1"===At[hs]&&(yield Oi(Y,He.messageType,At))})).apply(this,arguments)}const br="@firebase/messaging";function js(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,y.Z)(function*(){try{yield(0,he.eu)()}catch(Y){return!1}return"undefined"!=typeof window&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,d._registerComponent)(new U.wA("messaging",Y=>{const ce=new Dt(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),Y.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",He=>function(Y,ce){return vs.apply(this,arguments)}(ce,He)),ce},"PUBLIC")),(0,d._registerComponent)(new U.wA("messaging-internal",Y=>{const ce=Y.getProvider("messaging").getImmediate();return{getToken:At=>function(Y,ce){return wi.apply(this,arguments)}(ce,At)}},"PRIVATE")),(0,d.registerVersion)(br,"0.9.13"),(0,d.registerVersion)(br,"0.9.13","esm2017");const Ki="analytics",Q="firebase_id",J="origin",it="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kt="https://www.googletagmanager.com/gtag/js",on=new De.Yd("@firebase/analytics");function On(Y){return Promise.all(Y.map(ce=>ce.catch(He=>He)))}function ci(Y,ce){const He=document.createElement("script");He.src=`${kt}?l=${Y}&id=${ce}`,He.async=!0,document.head.appendChild(He)}function Di(Y,ce,He,At,Jt,yn){return or.apply(this,arguments)}function or(){return(or=(0,y.Z)(function*(Y,ce,He,At,Jt,yn){const qn=At[Jt];try{if(qn)yield ce[qn];else{const Ni=(yield On(He)).find(Si=>Si.measurementId===Jt);Ni&&(yield ce[Ni.appId])}}catch(ai){on.error(ai)}Y("config",Jt,yn)})).apply(this,arguments)}function Ir(Y,ce,He,At,Jt){return zi.apply(this,arguments)}function zi(){return(zi=(0,y.Z)(function*(Y,ce,He,At,Jt){try{let yn=[];if(Jt&&Jt.send_to){let qn=Jt.send_to;Array.isArray(qn)||(qn=[qn]);const ai=yield On(He);for(const Ni of qn){const Si=ai.find(Qi=>Qi.measurementId===Ni),wr=Si&&ce[Si.appId];if(!wr){yn=[];break}yn.push(wr)}}0===yn.length&&(yn=Object.values(ce)),yield Promise.all(yn),Y("event",At,Jt||{})}catch(yn){on.error(yn)}})).apply(this,arguments)}function xs(){const Y=window.document.getElementsByTagName("script");for(const ce of Object.values(Y))if(ce.src&&ce.src.includes(kt))return ce;return null}const Ts=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ko=new class{constructor(ce={},He=1e3){this.throttleMetadata=ce,this.intervalMillis=He}getThrottleMetadata(ce){return this.throttleMetadata[ce]}setThrottleMetadata(ce,He){this.throttleMetadata[ce]=He}deleteThrottleMetadata(ce){delete this.throttleMetadata[ce]}};function Rr(Y){return new Headers({Accept:"application/json","x-goog-api-key":Y})}function uo(Y){return io.apply(this,arguments)}function io(){return(io=(0,y.Z)(function*(Y){var ce;const{appId:He,apiKey:At}=Y,Jt={method:"GET",headers:Rr(At)},yn=it.replace("{app-id}",He),qn=yield fetch(yn,Jt);if(200!==qn.status&&304!==qn.status){let ai="";try{const Ni=yield qn.json();(null===(ce=Ni.error)||void 0===ce?void 0:ce.message)&&(ai=Ni.error.message)}catch(Ni){}throw Ts.create("config-fetch-failed",{httpStatus:qn.status,responseMessage:ai})}return qn.json()})).apply(this,arguments)}function Ha(Y){return bs.apply(this,arguments)}function bs(){return(bs=(0,y.Z)(function*(Y,ce=Ko,He){const{appId:At,apiKey:Jt,measurementId:yn}=Y.options;if(!At)throw Ts.create("no-app-id");if(!Jt){if(yn)return{measurementId:yn,appId:At};throw Ts.create("no-api-key")}const qn=ce.getThrottleMetadata(At)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ai=new P;return setTimeout((0,y.Z)(function*(){ai.abort()}),void 0!==He?He:6e4),ea({appId:At,apiKey:Jt,measurementId:yn},qn,ai,ce)})).apply(this,arguments)}function ea(Y,ce,He){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,y.Z)(function*(Y,{throttleEndTimeMillis:ce,backoffCount:He},At,Jt=Ko){const{appId:yn,measurementId:qn}=Y;try{yield Sa(At,ce)}catch(ai){if(qn)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qn} provided in the "measurementId" field in the local Firebase config. [${ai.message}]`),{appId:yn,measurementId:qn};throw ai}try{const ai=yield uo(Y);return Jt.deleteThrottleMetadata(yn),ai}catch(ai){if(!z(ai)){if(Jt.deleteThrottleMetadata(yn),qn)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qn} provided in the "measurementId" field in the local Firebase config. [${ai.message}]`),{appId:yn,measurementId:qn};throw ai}const Ni=503===Number(ai.customData.httpStatus)?(0,he.$s)(He,Jt.intervalMillis,30):(0,he.$s)(He,Jt.intervalMillis),Si={throttleEndTimeMillis:Date.now()+Ni,backoffCount:He+1};return Jt.setThrottleMetadata(yn,Si),on.debug(`Calling attemptFetch again in ${Ni} millis`),ea(Y,Si,At,Jt)}})).apply(this,arguments)}function Sa(Y,ce){return new Promise((He,At)=>{const Jt=Math.max(ce-Date.now(),0),yn=setTimeout(He,Jt);Y.addEventListener(()=>{clearTimeout(yn),At(Ts.create("fetch-throttle",{throttleEndTimeMillis:ce}))})})}function z(Y){if(!(Y instanceof he.ZR&&Y.customData))return!1;const ce=Number(Y.customData.httpStatus);return 429===ce||500===ce||503===ce||504===ce}class P{constructor(){this.listeners=[]}addEventListener(ce){this.listeners.push(ce)}abort(){this.listeners.forEach(ce=>ce())}}function O(){return X.apply(this,arguments)}function X(){return(X=(0,y.Z)(function*(){if(!(0,he.hl)())return on.warn(Ts.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(Y){return on.warn(Ts.create("indexeddb-unavailable",{errorInfo:Y}).message),!1}return!0})).apply(this,arguments)}function Se(){return(Se=(0,y.Z)(function*(Y,ce,He,At,Jt,yn,qn){var ai;const Ni=Ha(Y);Ni.then(Co=>{He[Co.measurementId]=Co.appId,Y.options.measurementId&&Co.measurementId!==Y.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${Y.options.measurementId}) does not match the measurement ID fetched from the server (${Co.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Co=>on.error(Co)),ce.push(Ni);const Si=O().then(Co=>{if(Co)return At.getId()}),[wr,Qi]=yield Promise.all([Ni,Si]);xs()||ci(yn,wr.measurementId),Jt("js",new Date);const ks=null!==(ai=null==qn?void 0:qn.config)&&void 0!==ai?ai:{};return ks[J]="firebase",ks.update=!0,null!=Qi&&(ks[Q]=Qi),Jt("config",wr.measurementId,ks),wr.measurementId})).apply(this,arguments)}class lt{constructor(ce){this.app=ce}_delete(){return delete Ht[this.app.options.appId],Promise.resolve()}}let Ht={},qt=[];const Yt={};let qr,fr,Sn="dataLayer",Go=!1;function ga(Y,ce,He){!function(){const Y=[];if((0,he.ru)()&&Y.push("This is a browser extension environment."),(0,he.zI)()||Y.push("Cookies are not available."),Y.length>0){const ce=Y.map((At,Jt)=>`(${Jt+1}) ${At}`).join(" "),He=Ts.create("invalid-analytics-context",{errorInfo:ce});on.warn(He.message)}}();const At=Y.options.appId;if(!At)throw Ts.create("no-app-id");if(!Y.options.apiKey){if(!Y.options.measurementId)throw Ts.create("no-api-key");on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Y.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ht[At])throw Ts.create("already-exists",{id:At});if(!Go){!function(Y){let ce=[];Array.isArray(window[Y])?ce=window[Y]:window[Y]=ce}(Sn);const{wrappedGtag:yn,gtagCore:qn}=function(Y,ce,He,At,Jt){let yn=function(...qn){window[At].push(arguments)};return window[Jt]&&"function"==typeof window[Jt]&&(yn=window[Jt]),window[Jt]=function(Y,ce,He,At){function yn(){return(yn=(0,y.Z)(function*(qn,ai,Ni){try{"event"===qn?yield Ir(Y,ce,He,ai,Ni):"config"===qn?yield Di(Y,ce,He,At,ai,Ni):Y("set",ai)}catch(Si){on.error(Si)}})).apply(this,arguments)}return function(qn,ai,Ni){return yn.apply(this,arguments)}}(yn,Y,ce,He),{gtagCore:yn,wrappedGtag:window[Jt]}}(Ht,qt,Yt,Sn,"gtag");fr=yn,qr=qn,Go=!0}return Ht[At]=function(Y,ce,He,At,Jt,yn,qn){return Se.apply(this,arguments)}(Y,qt,Yt,ce,qr,Sn,He),new lt(Y)}function Mo(){return(Mo=(0,y.Z)(function*(Y,ce,He,At,Jt){if(Jt&&Jt.global)Y("event",He,At);else{const yn=yield ce;Y("event",He,Object.assign(Object.assign({},At),{send_to:yn}))}})).apply(this,arguments)}function xo(){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,y.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(Y){return!1}})).apply(this,arguments)}const vl="@firebase/analytics";(0,d._registerComponent)(new U.wA(Ki,(ce,{options:He})=>ga(ce.getProvider("app").getImmediate(),ce.getProvider("installations-internal").getImmediate(),He),"PUBLIC")),(0,d._registerComponent)(new U.wA("analytics-internal",function(ce){try{const He=ce.getProvider(Ki).getImmediate();return{logEvent:(At,Jt,yn)=>function(Y,ce,He,At){Y=(0,he.m9)(Y),function(Y,ce,He,At,Jt){return Mo.apply(this,arguments)}(fr,Ht[Y.app.options.appId],ce,He,At).catch(Jt=>on.error(Jt))}(He,At,Jt,yn)}}catch(He){throw Ts.create("interop-component-reg-failed",{reason:He})}},"PRIVATE")),(0,d.registerVersion)(vl,"0.7.9"),(0,d.registerVersion)(vl,"0.7.9","esm2017");var il=D(7771),Qs=D(3637),rl=D(3342),Nu=D(9746),Pl=D(9673);const yc=new _.GfV("7.3.0"),Fu="__angularfire_symbol__analyticsIsSupportedValue",Ma="__angularfire_symbol__analyticsIsSupported",ta="__angularfire_symbol__remoteConfigIsSupportedValue",Nl="__angularfire_symbol__remoteConfigIsSupported",Rs="__angularfire_symbol__messagingIsSupportedValue",ri="__angularfire_symbol__messagingIsSupported";function Ro(Y,ce,He){if(ce){if(1===ce.length)return ce[0];const yn=ce.filter(qn=>qn.app===He);if(1===yn.length)return yn[0]}return He.container.getProvider(Y).getImmediate({optional:!0})}globalThis[Ma]||(globalThis[Ma]=xo().then(Y=>globalThis[Fu]=Y).catch(()=>globalThis[Fu]=!1)),globalThis[ri]||(globalThis[ri]=js().then(Y=>globalThis[Rs]=Y).catch(()=>globalThis[Rs]=!1)),globalThis[Nl]||(globalThis[Nl]=Ur().then(Y=>globalThis[ta]=Y).catch(()=>globalThis[ta]=!1));const la=(Y,ce)=>{const He=ce?[ce]:(0,m.C6)(),At=[];return He.forEach(Jt=>{Jt.container.getProvider(Y).instances.forEach(qn=>{At.includes(qn)||At.push(qn)})}),At};function zo(){}class Qo{constructor(ce,He=il.N){this.zone=ce,this.delegate=He}now(){return this.delegate.now()}schedule(ce,He,At){const Jt=this.zone;return this.delegate.schedule(function(qn){Jt.runGuarded(()=>{ce.apply(this,[qn])})},He,At)}}class vc{constructor(ce){this.zone=ce,this.task=null}call(ce,He){const At=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo)),He.pipe((0,rl.b)({next:At,complete:At,error:At})).subscribe(ce).add(At)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let za=(()=>{class Y{constructor(He){this.ngZone=He,this.outsideAngular=He.runOutsideAngular(()=>new Qo(Zone.current)),this.insideAngular=He.run(()=>new Qo(Zone.current,Qs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Y.\u0275fac=function(He){return new(He||Y)(_.LFG(_.R0b))},Y.\u0275prov=_.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();function Aa(){const Y=globalThis.\u0275AngularFireScheduler;if(!Y)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Y}function Cc(Y){return Y.pipe((0,Nu.QV)(Aa().outsideAngular))}function $a(Y){return Aa(),function(Y){return function(He){return(He=He.lift(new vc(Y.ngZone))).pipe((0,Pl.R)(Y.outsideAngular),(0,Nu.QV)(Y.insideAngular))}}(Aa())(Y)}},3679:(In,mt,D)=>{"use strict";D.d(mt,{Zs:()=>hs,gN:()=>me,Fj:()=>tt,qu:()=>Ve,u:()=>rn,sg:()=>Jr,u5:()=>Zr,Fd:()=>Pr,qQ:()=>go,Cf:()=>Me,JU:()=>le,a5:()=>rt,JJ:()=>fn,JL:()=>jt,F:()=>ht,wV:()=>mr,UX:()=>Nr,kI:()=>hn,_Y:()=>ui});var _=D(7716),m=D(8583),y=D(4402),d=D(5758),he=D(8002);let U=(()=>{class k{constructor(F,ye){this._renderer=F,this._elementRef=ye,this.onChange=$=>{},this.onTouched=()=>{}}setProperty(F,ye){this._renderer.setProperty(this._elementRef.nativeElement,F,ye)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return k.\u0275fac=function(F){return new(F||k)(_.Y36(_.Qsj),_.Y36(_.SBq))},k.\u0275dir=_.lG2({type:k}),k})(),De=(()=>{class k extends U{}return k.\u0275fac=function(){let N;return function(ye){return(N||(N=_.n5z(k)))(ye||k)}}(),k.\u0275dir=_.lG2({type:k,features:[_.qOj]}),k})();const le=new _.OlP("NgValueAccessor"),Te={provide:le,useExisting:(0,_.Gpc)(()=>tt),multi:!0},Ye=new _.OlP("CompositionEventMode");let tt=(()=>{class k extends U{constructor(F,ye,$){super(F,ye),this._compositionMode=$,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const k=(0,m.q)()?(0,m.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(F){this.setProperty("value",null==F?"":F)}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return k.\u0275fac=function(F){return new(F||k)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Ye,8))},k.\u0275dir=_.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,ye){1&F&&_.NdJ("input",function(et){return ye._handleInput(et.target.value)})("blur",function(){return ye.onTouched()})("compositionstart",function(){return ye._compositionStart()})("compositionend",function(et){return ye._compositionEnd(et.target.value)})},features:[_._Bn([Te]),_.qOj]}),k})();function Xe(k){return null==k||0===k.length}function nt(k){return null!=k&&"number"==typeof k.length}const Me=new _.OlP("NgValidators"),Qe=new _.OlP("NgAsyncValidators"),Qt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hn{static min(N){return Gt(N)}static max(N){return Et(N)}static required(N){return ut(N)}static requiredTrue(N){return Ke(N)}static email(N){return Xe((k=N).value)||Qt.test(k.value)?null:{email:!0};var k}static minLength(N){return k=N,N=>Xe(N.value)||!nt(N.value)?null:N.value.length<k?{minlength:{requiredLength:k,actualLength:N.value.length}}:null;var k}static maxLength(N){return k=N,N=>nt(N.value)&&N.value.length>k?{maxlength:{requiredLength:k,actualLength:N.value.length}}:null;var k}static pattern(N){return function(k){if(!k)return yt;let N,F;return"string"==typeof k?(F="","^"!==k.charAt(0)&&(F+="^"),F+=k,"$"!==k.charAt(k.length-1)&&(F+="$"),N=new RegExp(F)):(F=k.toString(),N=k),ye=>{if(Xe(ye.value))return null;const $=ye.value;return N.test($)?null:{pattern:{requiredPattern:F,actualValue:$}}}}(N)}static nullValidator(N){return null}static compose(N){return Qn(N)}static composeAsync(N){return Rt(N)}}function Gt(k){return N=>{if(Xe(N.value)||Xe(k))return null;const F=parseFloat(N.value);return!isNaN(F)&&F<k?{min:{min:k,actual:N.value}}:null}}function Et(k){return N=>{if(Xe(N.value)||Xe(k))return null;const F=parseFloat(N.value);return!isNaN(F)&&F>k?{max:{max:k,actual:N.value}}:null}}function ut(k){return Xe(k.value)?{required:!0}:null}function Ke(k){return!0===k.value?null:{required:!0}}function yt(k){return null}function Ot(k){return null!=k}function un(k){const N=(0,_.QGY)(k)?(0,y.D)(k):k;return(0,_.CqO)(N),N}function Ut(k){let N={};return k.forEach(F=>{N=null!=F?Object.assign(Object.assign({},N),F):N}),0===Object.keys(N).length?null:N}function jn(k,N){return N.map(F=>F(k))}function Gn(k){return k.map(N=>function(k){return!k.validate}(N)?N:F=>N.validate(F))}function Qn(k){if(!k)return null;const N=k.filter(Ot);return 0==N.length?null:function(F){return Ut(jn(F,N))}}function kn(k){return null!=k?Qn(Gn(k)):null}function Rt(k){if(!k)return null;const N=k.filter(Ot);return 0==N.length?null:function(F){const ye=jn(F,N).map(un);return(0,d.D)(ye).pipe((0,he.U)(Ut))}}function Zt(k){return null!=k?Rt(Gn(k)):null}function Ae(k,N){return null===k?[N]:Array.isArray(k)?[...k,N]:[k,N]}function de(k){return k._rawValidators}function te(k){return k._rawAsyncValidators}function Be(k){return k?Array.isArray(k)?k:[k]:[]}function Pe(k,N){return Array.isArray(k)?k.includes(N):k===N}function bt(k,N){const F=Be(N);return Be(k).forEach($=>{Pe(F,$)||F.push($)}),F}function ct(k,N){return Be(N).filter(F=>!Pe(k,F))}let Ft=(()=>{class k{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=kn(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,ye){return!!this.control&&this.control.hasError(F,ye)}getError(F,ye){return this.control?this.control.getError(F,ye):null}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275dir=_.lG2({type:k}),k})(),me=(()=>{class k extends Ft{get formDirective(){return null}get path(){return null}}return k.\u0275fac=function(){let N;return function(ye){return(N||(N=_.n5z(k)))(ye||k)}}(),k.\u0275dir=_.lG2({type:k,features:[_.qOj]}),k})();class rt extends Ft{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class je{constructor(N){this._cd=N}is(N){var F,ye,$;return"submitted"===N?!!(null===(F=this._cd)||void 0===F?void 0:F.submitted):!!(null===($=null===(ye=this._cd)||void 0===ye?void 0:ye.control)||void 0===$?void 0:$[N])}}let fn=(()=>{class k extends je{constructor(F){super(F)}}return k.\u0275fac=function(F){return new(F||k)(_.Y36(rt,2))},k.\u0275dir=_.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,ye){2&F&&_.ekj("ng-untouched",ye.is("untouched"))("ng-touched",ye.is("touched"))("ng-pristine",ye.is("pristine"))("ng-dirty",ye.is("dirty"))("ng-valid",ye.is("valid"))("ng-invalid",ye.is("invalid"))("ng-pending",ye.is("pending"))},features:[_.qOj]}),k})(),jt=(()=>{class k extends je{constructor(F){super(F)}}return k.\u0275fac=function(F){return new(F||k)(_.Y36(me,10))},k.\u0275dir=_.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,ye){2&F&&_.ekj("ng-untouched",ye.is("untouched"))("ng-touched",ye.is("touched"))("ng-pristine",ye.is("pristine"))("ng-dirty",ye.is("dirty"))("ng-valid",ye.is("valid"))("ng-invalid",ye.is("invalid"))("ng-pending",ye.is("pending"))("ng-submitted",ye.is("submitted"))},features:[_.qOj]}),k})();function Nn(k,N){ft(k,N),N.valueAccessor.writeValue(k.value),function(k,N){N.valueAccessor.registerOnChange(F=>{k._pendingValue=F,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&Ct(k,N)})}(k,N),function(k,N){const F=(ye,$)=>{N.valueAccessor.writeValue(ye),$&&N.viewToModelUpdate(ye)};k.registerOnChange(F),N._registerOnDestroy(()=>{k._unregisterOnChange(F)})}(k,N),function(k,N){N.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&Ct(k,N),"submit"!==k.updateOn&&k.markAsTouched()})}(k,N),function(k,N){if(N.valueAccessor.setDisabledState){const F=ye=>{N.valueAccessor.setDisabledState(ye)};k.registerOnDisabledChange(F),N._registerOnDestroy(()=>{k._unregisterOnDisabledChange(F)})}}(k,N)}function Pn(k,N,F=!0){const ye=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(ye),N.valueAccessor.registerOnTouched(ye)),gt(k,N),k&&(N._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function ei(k,N){k.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(N)})}function ft(k,N){const F=de(k);null!==N.validator?k.setValidators(Ae(F,N.validator)):"function"==typeof F&&k.setValidators([F]);const ye=te(k);null!==N.asyncValidator?k.setAsyncValidators(Ae(ye,N.asyncValidator)):"function"==typeof ye&&k.setAsyncValidators([ye]);const $=()=>k.updateValueAndValidity();ei(N._rawValidators,$),ei(N._rawAsyncValidators,$)}function gt(k,N){let F=!1;if(null!==k){if(null!==N.validator){const $=de(k);if(Array.isArray($)&&$.length>0){const et=$.filter(w=>w!==N.validator);et.length!==$.length&&(F=!0,k.setValidators(et))}}if(null!==N.asyncValidator){const $=te(k);if(Array.isArray($)&&$.length>0){const et=$.filter(w=>w!==N.asyncValidator);et.length!==$.length&&(F=!0,k.setAsyncValidators(et))}}}const ye=()=>{};return ei(N._rawValidators,ye),ei(N._rawAsyncValidators,ye),F}function Ct(k,N){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function Rn(k,N){ft(k,N)}function Oe(k,N){k._syncPendingControls(),N.forEach(F=>{const ye=F.control;"submit"===ye.updateOn&&ye._pendingChange&&(F.viewToModelUpdate(ye._pendingValue),ye._pendingChange=!1)})}function tn(k,N){const F=k.indexOf(N);F>-1&&k.splice(F,1)}const hi="VALID",xi="INVALID",Ui="PENDING",Wi="DISABLED";function Hi(k){return(Li(k)?k.validators:k)||null}function vr(k){return Array.isArray(k)?kn(k):k||null}function qi(k,N){return(Li(N)?N.asyncValidators:k)||null}function $r(k){return Array.isArray(k)?Zt(k):k||null}function Li(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}class Kn{constructor(N,F){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=F,this._composedValidatorFn=vr(this._rawValidators),this._composedAsyncValidatorFn=$r(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===hi}get invalid(){return this.status===xi}get pending(){return this.status==Ui}get disabled(){return this.status===Wi}get enabled(){return this.status!==Wi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=vr(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=$r(N)}addValidators(N){this.setValidators(bt(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(bt(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(ct(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(ct(N,this._rawAsyncValidators))}hasValidator(N){return Pe(this._rawValidators,N)}hasAsyncValidator(N){return Pe(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=Ui,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const F=this._parentMarkedDirty(N.onlySelf);this.status=Wi,this.errors=null,this._forEachChild(ye=>{ye.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:F})),this._onDisabledChange.forEach(ye=>ye(!0))}enable(N={}){const F=this._parentMarkedDirty(N.onlySelf);this.status=hi,this._forEachChild(ye=>{ye.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:F})),this._onDisabledChange.forEach(ye=>ye(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hi||this.status===Ui)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wi:hi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=Ui,this._hasOwnPendingAsyncValidator=!0;const F=un(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ye=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ye,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,F={}){this.errors=N,this._updateControlsErrors(!1!==F.emitEvent)}get(N){return function(k,N,F){if(null==N||(Array.isArray(N)||(N=N.split(".")),Array.isArray(N)&&0===N.length))return null;let ye=k;return N.forEach($=>{ye=ye instanceof li?ye.controls.hasOwnProperty($)?ye.controls[$]:null:ye instanceof yr&&ye.at($)||null}),ye}(this,N)}getError(N,F){const ye=F?this.get(F):this;return ye&&ye.errors?ye.errors[N]:null}hasError(N,F){return!!this.getError(N,F)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Wi:this.errors?xi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ui)?Ui:this._anyControlsHaveStatus(xi)?xi:hi}_anyControlsHaveStatus(N){return this._anyControls(F=>F.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){Li(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class si extends Kn{constructor(N=null,F,ye){super(Hi(F),qi(ye,F)),this._onChange=[],this._applyFormState(N),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(N,F={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ye=>ye(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(N,F={}){this.setValue(N,F)}reset(N=null,F={}){this._applyFormState(N),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){tn(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){tn(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class li extends Kn{constructor(N,F,ye){super(Hi(F),qi(ye,F)),this.controls=N,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,F){return this.controls[N]?this.controls[N]:(this.controls[N]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(N,F,ye={}){this.registerControl(N,F),this.updateValueAndValidity({emitEvent:ye.emitEvent}),this._onCollectionChange()}removeControl(N,F={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(N,F,ye={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],F&&this.registerControl(N,F),this.updateValueAndValidity({emitEvent:ye.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,F={}){this._checkAllValuesPresent(N),Object.keys(N).forEach(ye=>{this._throwIfControlMissing(ye),this.controls[ye].setValue(N[ye],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(N,F={}){null!=N&&(Object.keys(N).forEach(ye=>{this.controls[ye]&&this.controls[ye].patchValue(N[ye],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(N={},F={}){this._forEachChild((ye,$)=>{ye.reset(N[$],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(N,F,ye)=>(N[ye]=F instanceof si?F.value:F.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(F,ye)=>!!ye._syncPendingControls()||F);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_throwIfControlMissing(N){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[N])throw new Error(`Cannot find form control with name: ${N}.`)}_forEachChild(N){Object.keys(this.controls).forEach(F=>{const ye=this.controls[F];ye&&N(ye,F)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const F of Object.keys(this.controls)){const ye=this.controls[F];if(this.contains(F)&&N(ye))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,F,ye)=>((F.enabled||this.disabled)&&(N[ye]=F.value),N))}_reduceChildren(N,F){let ye=N;return this._forEachChild(($,et)=>{ye=F(ye,$,et)}),ye}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(N){this._forEachChild((F,ye)=>{if(void 0===N[ye])throw new Error(`Must supply a value for form control with name: '${ye}'.`)})}}class yr extends Kn{constructor(N,F,ye){super(Hi(F),qi(ye,F)),this.controls=N,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,F={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(N,F,ye={}){this.controls.splice(N,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:ye.emitEvent})}removeAt(N,F={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(N,F,ye={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),F&&(this.controls.splice(N,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:ye.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,F={}){this._checkAllValuesPresent(N),N.forEach((ye,$)=>{this._throwIfControlMissing($),this.at($).setValue(ye,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(N,F={}){null!=N&&(N.forEach((ye,$)=>{this.at($)&&this.at($).patchValue(ye,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(N=[],F={}){this._forEachChild((ye,$)=>{ye.reset(N[$],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(N=>N instanceof si?N.value:N.getRawValue())}clear(N={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((F,ye)=>!!ye._syncPendingControls()||F,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_throwIfControlMissing(N){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(N))throw new Error(`Cannot find form control at index ${N}`)}_forEachChild(N){this.controls.forEach((F,ye)=>{N(F,ye)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(F=>F.enabled&&N(F))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_checkAllValuesPresent(N){this._forEachChild((F,ye)=>{if(void 0===N[ye])throw new Error(`Must supply a value for form control at index: ${ye}.`)})}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const $e={provide:me,useExisting:(0,_.Gpc)(()=>ht)},Ne=(()=>Promise.resolve(null))();let ht=(()=>{class k extends me{constructor(F,ye){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _.vpe,this.form=new li({},kn(F),Zt(ye))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){Ne.then(()=>{const ye=this._findContainer(F.path);F.control=ye.registerControl(F.name,F.control),Nn(F.control,F),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){Ne.then(()=>{const ye=this._findContainer(F.path);ye&&ye.removeControl(F.name),tn(this._directives,F)})}addFormGroup(F){Ne.then(()=>{const ye=this._findContainer(F.path),$=new li({});Rn($,F),ye.registerControl(F.name,$),$.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){Ne.then(()=>{const ye=this._findContainer(F.path);ye&&ye.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,ye){Ne.then(()=>{this.form.get(F.path).setValue(ye)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,Oe(this.form,this._directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return k.\u0275fac=function(F){return new(F||k)(_.Y36(Me,10),_.Y36(Qe,10))},k.\u0275dir=_.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,ye){1&F&&_.NdJ("submit",function(et){return ye.onSubmit(et)})("reset",function(){return ye.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([$e]),_.qOj]}),k})(),ui=(()=>{class k{}return k.\u0275fac=function(F){return new(F||k)},k.\u0275dir=_.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})();const Tr={provide:le,useExisting:(0,_.Gpc)(()=>mr),multi:!0};let mr=(()=>{class k extends De{writeValue(F){this.setProperty("value",null==F?"":F)}registerOnChange(F){this.onChange=ye=>{F(""==ye?null:parseFloat(ye))}}}return k.\u0275fac=function(){let N;return function(ye){return(N||(N=_.n5z(k)))(ye||k)}}(),k.\u0275dir=_.lG2({type:k,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(F,ye){1&F&&_.NdJ("input",function(et){return ye.onChange(et.target.value)})("blur",function(){return ye.onTouched()})},features:[_._Bn([Tr]),_.qOj]}),k})(),Mr=(()=>{class k{}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({}),k})();const ws=new _.OlP("NgModelWithFormControlWarning"),os={provide:me,useExisting:(0,_.Gpc)(()=>Jr)};let Jr=(()=>{class k extends me{constructor(F,ye){super(),this.validators=F,this.asyncValidators=ye,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(F),this._setAsyncValidators(ye)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const ye=this.form.get(F.path);return Nn(ye,F),ye.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),ye}getControl(F){return this.form.get(F.path)}removeControl(F){Pn(F.control||null,F,!1),tn(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,ye){this.form.get(F.path).setValue(ye)}onSubmit(F){return this.submitted=!0,Oe(this.form,this.directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const ye=F.control,$=this.form.get(F.path);ye!==$&&(Pn(ye||null,F),$ instanceof si&&(Nn($,F),F.control=$))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const ye=this.form.get(F.path);Rn(ye,F),ye.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const ye=this.form.get(F.path);ye&&function(k,N){return gt(k,N)}(ye,F)&&ye.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ft(this.form,this),this._oldForm&&gt(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(F){return new(F||k)(_.Y36(Me,10),_.Y36(Qe,10))},k.\u0275dir=_.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(F,ye){1&F&&_.NdJ("submit",function(et){return ye.onSubmit(et)})("reset",function(){return ye.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([os]),_.qOj,_.TTD]}),k})();const zt={provide:rt,useExisting:(0,_.Gpc)(()=>rn)};let rn=(()=>{class k extends rt{constructor(F,ye,$,et,w){super(),this._ngModelWarningConfig=w,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(ye),this._setAsyncValidators($),this.valueAccessor=function(k,N){if(!N)return null;let F,ye,$;return Array.isArray(N),N.forEach(et=>{et.constructor===tt?F=et:function(k){return Object.getPrototypeOf(k.constructor)===De}(et)?ye=et:$=et}),$||ye||F||null}(0,et)}set isDisabled(F){}ngOnChanges(F){this._added||this._setUpControl(),function(k,N){if(!k.hasOwnProperty("model"))return!1;const F=k.model;return!!F.isFirstChange()||!Object.is(N,F.currentValue)}(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return function(k,N){return[...N.path,k]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return k.\u0275fac=function(F){return new(F||k)(_.Y36(me,13),_.Y36(Me,10),_.Y36(Qe,10),_.Y36(le,10),_.Y36(ws,8))},k.\u0275dir=_.lG2({type:k,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([zt]),_.qOj,_.TTD]}),k._ngModelWarningSentOnce=!1,k})(),as=(()=>{class k{constructor(){this._validator=yt}handleChanges(F){if(this.inputName in F){const ye=this.normalizeInput(F[this.inputName].currentValue);this._validator=this.createValidator(ye),this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275dir=_.lG2({type:k}),k})();const Ss={provide:Me,useExisting:(0,_.Gpc)(()=>Pr),multi:!0};let Pr=(()=>{class k extends as{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=F=>parseFloat(F),this.createValidator=F=>Et(F)}ngOnChanges(F){this.handleChanges(F)}}return k.\u0275fac=function(){let N;return function(ye){return(N||(N=_.n5z(k)))(ye||k)}}(),k.\u0275dir=_.lG2({type:k,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(F,ye){if(2&F){let $;_.uIk("max",null!==($=ye.max)&&void 0!==$?$:null)}},inputs:{max:"max"},features:[_._Bn([Ss]),_.qOj,_.TTD]}),k})();const Ls={provide:Me,useExisting:(0,_.Gpc)(()=>go),multi:!0};let go=(()=>{class k extends as{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=F=>parseFloat(F),this.createValidator=F=>Gt(F)}ngOnChanges(F){this.handleChanges(F)}}return k.\u0275fac=function(){let N;return function(ye){return(N||(N=_.n5z(k)))(ye||k)}}(),k.\u0275dir=_.lG2({type:k,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(F,ye){if(2&F){let $;_.uIk("min",null!==($=ye.min)&&void 0!==$?$:null)}},inputs:{min:"min"},features:[_._Bn([Ls]),_.qOj,_.TTD]}),k})();const Ms={provide:Me,useExisting:(0,_.Gpc)(()=>Ar),multi:!0},jo={provide:Me,useExisting:(0,_.Gpc)(()=>hs),multi:!0};let Ar=(()=>{class k{constructor(){this._required=!1}get required(){return this._required}set required(F){this._required=null!=F&&!1!==F&&"false"!=`${F}`,this._onChange&&this._onChange()}validate(F){return this.required?ut(F):null}registerOnValidatorChange(F){this._onChange=F}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275dir=_.lG2({type:k,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(F,ye){2&F&&_.uIk("required",ye.required?"":null)},inputs:{required:"required"},features:[_._Bn([Ms])]}),k})(),hs=(()=>{class k extends Ar{validate(F){return this.required?Ke(F):null}}return k.\u0275fac=function(){let N;return function(ye){return(N||(N=_.n5z(k)))(ye||k)}}(),k.\u0275dir=_.lG2({type:k,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(F,ye){2&F&&_.uIk("required",ye.required?"":null)},features:[_._Bn([jo]),_.qOj]}),k})(),Bs=(()=>{class k{}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({imports:[[Mr]]}),k})(),Zr=(()=>{class k{}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({imports:[Bs]}),k})(),Nr=(()=>{class k{static withConfig(F){return{ngModule:k,providers:[{provide:ws,useValue:F.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({imports:[Bs]}),k})(),Ve=(()=>{class k{group(F,ye=null){const $=this._reduceControls(F);let V,et=null,w=null;return null!=ye&&(function(k){return void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn}(ye)?(et=null!=ye.validators?ye.validators:null,w=null!=ye.asyncValidators?ye.asyncValidators:null,V=null!=ye.updateOn?ye.updateOn:void 0):(et=null!=ye.validator?ye.validator:null,w=null!=ye.asyncValidator?ye.asyncValidator:null)),new li($,{asyncValidators:w,updateOn:V,validators:et})}control(F,ye,$){return new si(F,ye,$)}array(F,ye,$){const et=F.map(w=>this._createControl(w));return new yr(et,ye,$)}_reduceControls(F){const ye={};return Object.keys(F).forEach($=>{ye[$]=this._createControl(F[$])}),ye}_createControl(F){return F instanceof si||F instanceof li||F instanceof yr?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275prov=(0,_.Yz7)({factory:function(){return new k},token:k,providedIn:Nr}),k})()},1095:(In,mt,D)=>{"use strict";D.d(mt,{lW:()=>Te,ot:()=>Ye});var _=D(2458),m=D(6237),y=D(7716),d=D(9238);const he=["mat-button",""],U=["*"],Ee=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],se=(0,_.pj)((0,_.Id)((0,_.Kr)(class{constructor(tt){this._elementRef=tt}})));let Te=(()=>{class tt extends se{constructor(nt,Me,Qe){super(nt),this._focusMonitor=Me,this._animationMode=Qe,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Qt of Ee)this._hasHostAttributes(Qt)&&this._getHostElement().classList.add(Qt);nt.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(nt,Me){nt?this._focusMonitor.focusVia(this._getHostElement(),nt,Me):this._getHostElement().focus(Me)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...nt){return nt.some(Me=>this._getHostElement().hasAttribute(Me))}}return tt.\u0275fac=function(nt){return new(nt||tt)(y.Y36(y.SBq),y.Y36(d.tE),y.Y36(m.Qb,8))},tt.\u0275cmp=y.Xpm({type:tt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(nt,Me){if(1&nt&&y.Gf(_.wG,5),2&nt){let Qe;y.iGM(Qe=y.CRH())&&(Me.ripple=Qe.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(nt,Me){2&nt&&(y.uIk("disabled",Me.disabled||null),y.ekj("_mat-animation-noopable","NoopAnimations"===Me._animationMode)("mat-button-disabled",Me.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[y.qOj],attrs:he,ngContentSelectors:U,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(nt,Me){1&nt&&(y.F$t(),y.TgZ(0,"span",0),y.Hsn(1),y.qZA(),y._UZ(2,"span",1),y._UZ(3,"span",2)),2&nt&&(y.xp6(2),y.ekj("mat-button-ripple-round",Me.isRoundButton||Me.isIconButton),y.Q6J("matRippleDisabled",Me._isRippleDisabled())("matRippleCentered",Me.isIconButton)("matRippleTrigger",Me._getHostElement()))},directives:[_.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),tt})(),Ye=(()=>{class tt{}return tt.\u0275fac=function(nt){return new(nt||tt)},tt.\u0275mod=y.oAB({type:tt}),tt.\u0275inj=y.cJS({imports:[[_.si,_.BQ],_.BQ]}),tt})()},3738:(In,mt,D)=>{"use strict";D.d(mt,{a8:()=>Gt,dn:()=>se,QW:()=>Ke});var _=D(6237),m=D(2458),y=D(7716);const d=["*",[["mat-card-footer"]]],he=["*","mat-card-footer"];let se=(()=>{class ze{}return ze.\u0275fac=function(q){return new(q||ze)},ze.\u0275dir=y.lG2({type:ze,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),ze})(),Gt=(()=>{class ze{constructor(q){this._animationMode=q}}return ze.\u0275fac=function(q){return new(q||ze)(y.Y36(_.Qb,8))},ze.\u0275cmp=y.Xpm({type:ze,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(q,ke){2&q&&y.ekj("_mat-animation-noopable","NoopAnimations"===ke._animationMode)},exportAs:["matCard"],ngContentSelectors:he,decls:2,vars:0,template:function(q,ke){1&q&&(y.F$t(d),y.Hsn(0),y.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),ze})(),Ke=(()=>{class ze{}return ze.\u0275fac=function(q){return new(q||ze)},ze.\u0275mod=y.oAB({type:ze}),ze.\u0275inj=y.cJS({imports:[[m.BQ],m.BQ]}),ze})()},2458:(In,mt,D)=>{"use strict";D.d(mt,{yN:()=>Qt,mZ:()=>hn,_A:()=>jn,rD:()=>me,sG:()=>ii,Ad:()=>un,K7:()=>Jn,HF:()=>Tn,BQ:()=>Ke,X2:()=>rt,uc:()=>at,XK:()=>ct,ey:()=>Ct,Ng:()=>Bn,nP:()=>Bt,us:()=>an,wG:()=>ge,si:()=>Ue,CB:()=>nn,jH:()=>Rn,pj:()=>be,Kr:()=>q,Id:()=>ze,FD:()=>yt,dB:()=>Ot,sb:()=>ke,E0:()=>je});var _=D(7716),m=D(9238),y=D(946);const d=new _.GfV("12.2.13");var he=D(8583),U=D(521),De=D(9490),le=D(9765),Ee=D(7574),se=D(9761),Te=D(6237),oe=D(6461);function Xe(_t,Nt){if(1&_t&&_._UZ(0,"mat-pseudo-checkbox",4),2&_t){const pe=_.oxw();_.Q6J("state",pe.selected?"checked":"unchecked")("disabled",pe.disabled)}}function nt(_t,Nt){if(1&_t&&(_.TgZ(0,"span",5),_._uU(1),_.qZA()),2&_t){const pe=_.oxw();_.xp6(1),_.hij("(",pe.group.label,")")}}const Me=["*"];let Qt=(()=>{class _t{}return _t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",_t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",_t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",_t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",_t})(),hn=(()=>{class _t{}return _t.COMPLEX="375ms",_t.ENTERING="225ms",_t.EXITING="195ms",_t})();const Gt=new _.GfV("12.2.13"),ut=new _.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ke=(()=>{class _t{constructor(pe,we,Oe){this._hasDoneGlobalChecks=!1,this._document=Oe,pe._applyBodyHighContrastModeCssClasses(),this._sanityChecks=we,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(pe){return!(!(0,_.X6Q)()||(0,U.Oy)())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[pe])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const pe=this._document.createElement("div");pe.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(pe);const we=getComputedStyle(pe);we&&"none"!==we.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(pe)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Gt.full!==d.full&&console.warn("The Angular Material version ("+Gt.full+") does not match the Angular CDK version ("+d.full+").\nPlease ensure the versions of these two packages exactly match.")}}return _t.\u0275fac=function(pe){return new(pe||_t)(_.LFG(m.qm),_.LFG(ut,8),_.LFG(he.K0))},_t.\u0275mod=_.oAB({type:_t}),_t.\u0275inj=_.cJS({imports:[[y.vT],y.vT]}),_t})();function ze(_t){return class extends _t{constructor(...Nt){super(...Nt),this._disabled=!1}get disabled(){return this._disabled}set disabled(Nt){this._disabled=(0,De.Ig)(Nt)}}}function be(_t,Nt){return class extends _t{constructor(...pe){super(...pe),this.defaultColor=Nt,this.color=Nt}get color(){return this._color}set color(pe){const we=pe||this.defaultColor;we!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),we&&this._elementRef.nativeElement.classList.add(`mat-${we}`),this._color=we)}}}function q(_t){return class extends _t{constructor(...Nt){super(...Nt),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Nt){this._disableRipple=(0,De.Ig)(Nt)}}}function ke(_t,Nt=0){return class extends _t{constructor(...pe){super(...pe),this._tabIndex=Nt,this.defaultTabIndex=Nt}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(pe){this._tabIndex=null!=pe?(0,De.su)(pe):this.defaultTabIndex}}}function yt(_t){return class extends _t{constructor(...Nt){super(...Nt),this.stateChanges=new le.xQ,this.errorState=!1}updateErrorState(){const Nt=this.errorState,Tt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Tt!==Nt&&(this.errorState=Tt,this.stateChanges.next())}}}function Ot(_t){return class extends _t{constructor(...Nt){super(...Nt),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Ee.y(pe=>{this._isInitialized?this._notifySubscriber(pe):this._pendingSubscribers.push(pe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(Nt){Nt.next(),Nt.complete()}}}const un=new _.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,_.f3M)(_.soG)}});class jn{constructor(){this._localeChanges=new le.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(Nt){return this.isDateInstance(Nt)&&this.isValid(Nt)?Nt:null}deserialize(Nt){return null==Nt||this.isDateInstance(Nt)&&this.isValid(Nt)?Nt:this.invalid()}setLocale(Nt){this.locale=Nt,this._localeChanges.next()}compareDate(Nt,pe){return this.getYear(Nt)-this.getYear(pe)||this.getMonth(Nt)-this.getMonth(pe)||this.getDate(Nt)-this.getDate(pe)}sameDate(Nt,pe){if(Nt&&pe){let we=this.isValid(Nt),Oe=this.isValid(pe);return we&&Oe?!this.compareDate(Nt,pe):we==Oe}return Nt==pe}clampDate(Nt,pe,we){return pe&&this.compareDate(Nt,pe)<0?pe:we&&this.compareDate(Nt,we)>0?we:Nt}}const ii=new _.OlP("mat-date-formats");let Gn;try{Gn="undefined"!=typeof Intl}catch(_t){Gn=!1}const Qn={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Rt=de(31,_t=>String(_t+1)),Zt={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Ae=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function de(_t,Nt){const pe=Array(_t);for(let we=0;we<_t;we++)pe[we]=Nt(we);return pe}let te=(()=>{class _t extends jn{constructor(pe,we){super(),this.useUtcForDisplay=!0,super.setLocale(pe),this.useUtcForDisplay=!we.TRIDENT,this._clampDate=we.TRIDENT||we.EDGE}getYear(pe){return pe.getFullYear()}getMonth(pe){return pe.getMonth()}getDate(pe){return pe.getDate()}getDayOfWeek(pe){return pe.getDay()}getMonthNames(pe){if(Gn){const we=new Intl.DateTimeFormat(this.locale,{month:pe,timeZone:"utc"});return de(12,Oe=>this._stripDirectionalityCharacters(this._format(we,new Date(2017,Oe,1))))}return Qn[pe]}getDateNames(){if(Gn){const pe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return de(31,we=>this._stripDirectionalityCharacters(this._format(pe,new Date(2017,0,we+1))))}return Rt}getDayOfWeekNames(pe){if(Gn){const we=new Intl.DateTimeFormat(this.locale,{weekday:pe,timeZone:"utc"});return de(7,Oe=>this._stripDirectionalityCharacters(this._format(we,new Date(2017,0,Oe+1))))}return Zt[pe]}getYearName(pe){if(Gn){const we=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(we,pe))}return String(this.getYear(pe))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(pe){return this.getDate(this._createDateWithOverflow(this.getYear(pe),this.getMonth(pe)+1,0))}clone(pe){return new Date(pe.getTime())}createDate(pe,we,Oe){let Tt=this._createDateWithOverflow(pe,we,Oe);return Tt.getMonth(),Tt}today(){return new Date}parse(pe){return"number"==typeof pe?new Date(pe):pe?new Date(Date.parse(pe)):null}format(pe,we){if(!this.isValid(pe))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Gn){this._clampDate&&(pe.getFullYear()<1||pe.getFullYear()>9999)&&(pe=this.clone(pe)).setFullYear(Math.max(1,Math.min(9999,pe.getFullYear()))),we=Object.assign(Object.assign({},we),{timeZone:"utc"});const Oe=new Intl.DateTimeFormat(this.locale,we);return this._stripDirectionalityCharacters(this._format(Oe,pe))}return this._stripDirectionalityCharacters(pe.toDateString())}addCalendarYears(pe,we){return this.addCalendarMonths(pe,12*we)}addCalendarMonths(pe,we){let Oe=this._createDateWithOverflow(this.getYear(pe),this.getMonth(pe)+we,this.getDate(pe));return this.getMonth(Oe)!=((this.getMonth(pe)+we)%12+12)%12&&(Oe=this._createDateWithOverflow(this.getYear(Oe),this.getMonth(Oe),0)),Oe}addCalendarDays(pe,we){return this._createDateWithOverflow(this.getYear(pe),this.getMonth(pe),this.getDate(pe)+we)}toIso8601(pe){return[pe.getUTCFullYear(),this._2digit(pe.getUTCMonth()+1),this._2digit(pe.getUTCDate())].join("-")}deserialize(pe){if("string"==typeof pe){if(!pe)return null;if(Ae.test(pe)){let we=new Date(pe);if(this.isValid(we))return we}}return super.deserialize(pe)}isDateInstance(pe){return pe instanceof Date}isValid(pe){return!isNaN(pe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(pe,we,Oe){const Tt=new Date;return Tt.setFullYear(pe,we,Oe),Tt.setHours(0,0,0,0),Tt}_2digit(pe){return("00"+pe).slice(-2)}_stripDirectionalityCharacters(pe){return pe.replace(/[\u200e\u200f]/g,"")}_format(pe,we){const Oe=new Date;return Oe.setUTCFullYear(we.getFullYear(),we.getMonth(),we.getDate()),Oe.setUTCHours(we.getHours(),we.getMinutes(),we.getSeconds(),we.getMilliseconds()),pe.format(Oe)}}return _t.\u0275fac=function(pe){return new(pe||_t)(_.LFG(un,8),_.LFG(U.t4))},_t.\u0275prov=_.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),Pe=(()=>{class _t{}return _t.\u0275fac=function(pe){return new(pe||_t)},_t.\u0275mod=_.oAB({type:_t}),_t.\u0275inj=_.cJS({providers:[{provide:jn,useClass:te}],imports:[[U.ud]]}),_t})();const bt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ct=(()=>{class _t{}return _t.\u0275fac=function(pe){return new(pe||_t)},_t.\u0275mod=_.oAB({type:_t}),_t.\u0275inj=_.cJS({providers:[{provide:ii,useValue:bt}],imports:[[Pe]]}),_t})(),me=(()=>{class _t{isErrorState(pe,we){return!!(pe&&pe.invalid&&(pe.touched||we&&we.submitted))}}return _t.\u0275fac=function(pe){return new(pe||_t)},_t.\u0275prov=_.Yz7({factory:function(){return new _t},token:_t,providedIn:"root"}),_t})(),rt=(()=>{class _t{}return _t.\u0275fac=function(pe){return new(pe||_t)},_t.\u0275dir=_.lG2({type:_t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),_t})();function je(_t,Nt,pe="mat"){_t.changes.pipe((0,se.O)(_t)).subscribe(({length:we})=>{We(Nt,`${pe}-2-line`,!1),We(Nt,`${pe}-3-line`,!1),We(Nt,`${pe}-multi-line`,!1),2===we||3===we?We(Nt,`${pe}-${we}-line`,!0):we>3&&We(Nt,`${pe}-multi-line`,!0)})}function We(_t,Nt,pe){const we=_t.nativeElement.classList;pe?we.add(Nt):we.remove(Nt)}let at=(()=>{class _t{}return _t.\u0275fac=function(pe){return new(pe||_t)},_t.\u0275mod=_.oAB({type:_t}),_t.\u0275inj=_.cJS({imports:[[Ke],Ke]}),_t})();class fn{constructor(Nt,pe,we){this._renderer=Nt,this.element=pe,this.config=we,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const jt={enterDuration:225,exitDuration:150},Ln=(0,U.i$)({passive:!0}),pt=["mousedown","touchstart"],ue=["mouseup","mouseleave","touchend","touchcancel"];class B{constructor(Nt,pe,we,Oe){this._target=Nt,this._ngZone=pe,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Oe.isBrowser&&(this._containerElement=(0,De.fI)(we))}fadeInRipple(Nt,pe,we={}){const Oe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Tt=Object.assign(Object.assign({},jt),we.animation);we.centered&&(Nt=Oe.left+Oe.width/2,pe=Oe.top+Oe.height/2);const tn=we.radius||function(_t,Nt,pe){const we=Math.max(Math.abs(_t-pe.left),Math.abs(_t-pe.right)),Oe=Math.max(Math.abs(Nt-pe.top),Math.abs(Nt-pe.bottom));return Math.sqrt(we*we+Oe*Oe)}(Nt,pe,Oe),Wn=Nt-Oe.left,hi=pe-Oe.top,xi=Tt.enterDuration,Ui=document.createElement("div");Ui.classList.add("mat-ripple-element"),Ui.style.left=Wn-tn+"px",Ui.style.top=hi-tn+"px",Ui.style.height=2*tn+"px",Ui.style.width=2*tn+"px",null!=we.color&&(Ui.style.backgroundColor=we.color),Ui.style.transitionDuration=`${xi}ms`,this._containerElement.appendChild(Ui),window.getComputedStyle(Ui).getPropertyValue("opacity"),Ui.style.transform="scale(1)";const Wi=new fn(this,Ui,we);return Wi.state=0,this._activeRipples.add(Wi),we.persistent||(this._mostRecentTransientRipple=Wi),this._runTimeoutOutsideZone(()=>{const Ai=Wi===this._mostRecentTransientRipple;Wi.state=1,!we.persistent&&(!Ai||!this._isPointerDown)&&Wi.fadeOut()},xi),Wi}fadeOutRipple(Nt){const pe=this._activeRipples.delete(Nt);if(Nt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!pe)return;const we=Nt.element,Oe=Object.assign(Object.assign({},jt),Nt.config.animation);we.style.transitionDuration=`${Oe.exitDuration}ms`,we.style.opacity="0",Nt.state=2,this._runTimeoutOutsideZone(()=>{Nt.state=3,we.parentNode.removeChild(we)},Oe.exitDuration)}fadeOutAll(){this._activeRipples.forEach(Nt=>Nt.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(Nt=>{Nt.config.persistent||Nt.fadeOut()})}setupTriggerEvents(Nt){const pe=(0,De.fI)(Nt);!pe||pe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=pe,this._registerEvents(pt))}handleEvent(Nt){"mousedown"===Nt.type?this._onMousedown(Nt):"touchstart"===Nt.type?this._onTouchStart(Nt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ue),this._pointerUpEventsRegistered=!0)}_onMousedown(Nt){const pe=(0,m.X6)(Nt),we=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!pe&&!we&&(this._isPointerDown=!0,this.fadeInRipple(Nt.clientX,Nt.clientY,this._target.rippleConfig))}_onTouchStart(Nt){if(!this._target.rippleDisabled&&!(0,m.yG)(Nt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const pe=Nt.changedTouches;for(let we=0;we<pe.length;we++)this.fadeInRipple(pe[we].clientX,pe[we].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(Nt=>{!Nt.config.persistent&&(1===Nt.state||Nt.config.terminateOnPointerUp&&0===Nt.state)&&Nt.fadeOut()}))}_runTimeoutOutsideZone(Nt,pe=0){this._ngZone.runOutsideAngular(()=>setTimeout(Nt,pe))}_registerEvents(Nt){this._ngZone.runOutsideAngular(()=>{Nt.forEach(pe=>{this._triggerElement.addEventListener(pe,this,Ln)})})}_removeTriggerEvents(){this._triggerElement&&(pt.forEach(Nt=>{this._triggerElement.removeEventListener(Nt,this,Ln)}),this._pointerUpEventsRegistered&&ue.forEach(Nt=>{this._triggerElement.removeEventListener(Nt,this,Ln)}))}}const Le=new _.OlP("mat-ripple-global-options");let ge=(()=>{class _t{constructor(pe,we,Oe,Tt,tn){this._elementRef=pe,this._animationMode=tn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Tt||{},this._rippleRenderer=new B(this,we,pe,Oe)}get disabled(){return this._disabled}set disabled(pe){pe&&this.fadeOutAllNonPersistent(),this._disabled=pe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(pe){this._trigger=pe,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(pe,we=0,Oe){return"number"==typeof pe?this._rippleRenderer.fadeInRipple(pe,we,Object.assign(Object.assign({},this.rippleConfig),Oe)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),pe))}}return _t.\u0275fac=function(pe){return new(pe||_t)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(U.t4),_.Y36(Le,8),_.Y36(Te.Qb,8))},_t.\u0275dir=_.lG2({type:_t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(pe,we){2&pe&&_.ekj("mat-ripple-unbounded",we.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),_t})(),Ue=(()=>{class _t{}return _t.\u0275fac=function(pe){return new(pe||_t)},_t.\u0275mod=_.oAB({type:_t}),_t.\u0275inj=_.cJS({imports:[[Ke,U.ud],Ke]}),_t})(),Bt=(()=>{class _t{constructor(pe){this._animationMode=pe,this.state="unchecked",this.disabled=!1}}return _t.\u0275fac=function(pe){return new(pe||_t)(_.Y36(Te.Qb,8))},_t.\u0275cmp=_.Xpm({type:_t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(pe,we){2&pe&&_.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===we.state)("mat-pseudo-checkbox-checked","checked"===we.state)("mat-pseudo-checkbox-disabled",we.disabled)("_mat-animation-noopable","NoopAnimations"===we._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(pe,we){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),_t})(),an=(()=>{class _t{}return _t.\u0275fac=function(pe){return new(pe||_t)},_t.\u0275mod=_.oAB({type:_t}),_t.\u0275inj=_.cJS({imports:[[Ke]]}),_t})();const Tn=new _.OlP("MAT_OPTION_PARENT_COMPONENT"),Nn=ze(class{});let Pn=0,ei=(()=>{class _t extends Nn{constructor(pe){var we;super(),this._labelId="mat-optgroup-label-"+Pn++,this._inert=null!==(we=null==pe?void 0:pe.inertGroups)&&void 0!==we&&we}}return _t.\u0275fac=function(pe){return new(pe||_t)(_.Y36(Tn,8))},_t.\u0275dir=_.lG2({type:_t,inputs:{label:"label"},features:[_.qOj]}),_t})();const Jn=new _.OlP("MatOptgroup");let gt=0;class wt{constructor(Nt,pe=!1){this.source=Nt,this.isUserInput=pe}}let ln=(()=>{class _t{constructor(pe,we,Oe,Tt){this._element=pe,this._changeDetectorRef=we,this._parent=Oe,this.group=Tt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+gt++,this.onSelectionChange=new _.vpe,this._stateChanges=new le.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(pe){this._disabled=(0,De.Ig)(pe)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(pe,we){const Oe=this._getHostElement();"function"==typeof Oe.focus&&Oe.focus(we)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(pe){(pe.keyCode===oe.K5||pe.keyCode===oe.L_)&&!(0,oe.Vb)(pe)&&(this._selectViaInteraction(),pe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const pe=this.viewValue;pe!==this._mostRecentViewValue&&(this._mostRecentViewValue=pe,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(pe=!1){this.onSelectionChange.emit(new wt(this,pe))}}return _t.\u0275fac=function(pe){return new(pe||_t)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(void 0),_.Y36(ei))},_t.\u0275dir=_.lG2({type:_t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),_t})(),Ct=(()=>{class _t extends ln{constructor(pe,we,Oe,Tt){super(pe,we,Oe,Tt)}}return _t.\u0275fac=function(pe){return new(pe||_t)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(Tn,8),_.Y36(Jn,8))},_t.\u0275cmp=_.Xpm({type:_t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(pe,we){1&pe&&_.NdJ("click",function(){return we._selectViaInteraction()})("keydown",function(Tt){return we._handleKeydown(Tt)}),2&pe&&(_.Ikx("id",we.id),_.uIk("tabindex",we._getTabIndex())("aria-selected",we._getAriaSelected())("aria-disabled",we.disabled.toString()),_.ekj("mat-selected",we.selected)("mat-option-multiple",we.multiple)("mat-active",we.active)("mat-option-disabled",we.disabled))},exportAs:["matOption"],features:[_.qOj],ngContentSelectors:Me,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(pe,we){1&pe&&(_.F$t(),_.YNc(0,Xe,1,2,"mat-pseudo-checkbox",0),_.TgZ(1,"span",1),_.Hsn(2),_.qZA(),_.YNc(3,nt,2,1,"span",2),_._UZ(4,"div",3)),2&pe&&(_.Q6J("ngIf",we.multiple),_.xp6(3),_.Q6J("ngIf",we.group&&we.group._inert),_.xp6(1),_.Q6J("matRippleTrigger",we._getHostElement())("matRippleDisabled",we.disabled||we.disableRipple))},directives:[he.O5,ge,Bt],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),_t})();function nn(_t,Nt,pe){if(pe.length){let we=Nt.toArray(),Oe=pe.toArray(),Tt=0;for(let tn=0;tn<_t+1;tn++)we[tn].group&&we[tn].group===Oe[Tt]&&Tt++;return Tt}return 0}function Rn(_t,Nt,pe,we){return _t<pe?_t:_t+Nt>pe+we?Math.max(0,_t-we+Nt):pe}let Bn=(()=>{class _t{}return _t.\u0275fac=function(pe){return new(pe||_t)},_t.\u0275mod=_.oAB({type:_t}),_t.\u0275inj=_.cJS({imports:[[Ue,he.ez,Ke,an]]}),_t})()},2238:(In,mt,D)=>{"use strict";D.d(mt,{uw:()=>jn,H8:()=>Zt,ZT:()=>Qn,xY:()=>Rt,Is:()=>de,uh:()=>kn});var _=D(625),m=D(7636),y=D(7716),d=D(2458),he=D(946),U=D(8583),De=D(9765),le=D(1439),Ee=D(5917),se=D(5435),Te=D(5257),oe=D(9761),Ye=D(521),tt=D(7238),Xe=D(6461),nt=D(9238);function Me(te,Be){}class Qe{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Qt={dialogContainer:(0,tt.X$)("dialogContainer",[(0,tt.SB)("void, exit",(0,tt.oB)({opacity:0,transform:"scale(0.7)"})),(0,tt.SB)("enter",(0,tt.oB)({transform:"none"})),(0,tt.eR)("* => enter",(0,tt.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,tt.oB)({transform:"none",opacity:1}))),(0,tt.eR)("* => void, * => exit",(0,tt.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,tt.oB)({opacity:0})))])};let Gt=(()=>{class te extends m.en{constructor(Pe,bt,ct,Ft,me,rt){super(),this._elementRef=Pe,this._focusTrapFactory=bt,this._changeDetectorRef=ct,this._config=me,this._focusMonitor=rt,this._animationStateChanged=new y.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=je=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(je)),this._ariaLabelledBy=me.ariaLabelledBy||null,this._document=Ft}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(Pe){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(Pe)}attachTemplatePortal(Pe){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(Pe)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const Pe=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&Pe&&"function"==typeof Pe.focus){const bt=(0,Ye.ht)(),ct=this._elementRef.nativeElement;(!bt||bt===this._document.body||bt===ct||ct.contains(bt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Pe,this._closeInteractionType),this._closeInteractionType=null):Pe.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Ye.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Pe=this._elementRef.nativeElement,bt=(0,Ye.ht)();return Pe===bt||Pe.contains(bt)}}return te.\u0275fac=function(Pe){return new(Pe||te)(y.Y36(y.SBq),y.Y36(nt.qV),y.Y36(y.sBO),y.Y36(U.K0,8),y.Y36(Qe),y.Y36(nt.tE))},te.\u0275dir=y.lG2({type:te,viewQuery:function(Pe,bt){if(1&Pe&&y.Gf(m.Pl,7),2&Pe){let ct;y.iGM(ct=y.CRH())&&(bt._portalOutlet=ct.first)}},features:[y.qOj]}),te})(),Et=(()=>{class te extends Gt{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:Pe,totalTime:bt}){"enter"===Pe?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:bt})):"exit"===Pe&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:bt}))}_onAnimationStart({toState:Pe,totalTime:bt}){"enter"===Pe?this._animationStateChanged.next({state:"opening",totalTime:bt}):("exit"===Pe||"void"===Pe)&&this._animationStateChanged.next({state:"closing",totalTime:bt})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return te.\u0275fac=function(){let Be;return function(bt){return(Be||(Be=y.n5z(te)))(bt||te)}}(),te.\u0275cmp=y.Xpm({type:te,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(Pe,bt){1&Pe&&y.WFA("@dialogContainer.start",function(Ft){return bt._onAnimationStart(Ft)})("@dialogContainer.done",function(Ft){return bt._onAnimationDone(Ft)}),2&Pe&&(y.Ikx("id",bt._id),y.uIk("role",bt._config.role)("aria-labelledby",bt._config.ariaLabel?null:bt._ariaLabelledBy)("aria-label",bt._config.ariaLabel)("aria-describedby",bt._config.ariaDescribedBy||null),y.d8E("@dialogContainer",bt._state))},features:[y.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Pe,bt){1&Pe&&y.YNc(0,Me,0,0,"ng-template",0)},directives:[m.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Qt.dialogContainer]}}),te})(),ut=0;class Ke{constructor(Be,Pe,bt="mat-dialog-"+ut++){this._overlayRef=Be,this._containerInstance=Pe,this.id=bt,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new De.xQ,this._afterClosed=new De.xQ,this._beforeClosed=new De.xQ,this._state=0,Pe._id=bt,Pe._animationStateChanged.pipe((0,se.h)(ct=>"opened"===ct.state),(0,Te.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Pe._animationStateChanged.pipe((0,se.h)(ct=>"closed"===ct.state),(0,Te.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Be.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),Be.keydownEvents().pipe((0,se.h)(ct=>ct.keyCode===Xe.hY&&!this.disableClose&&!(0,Xe.Vb)(ct))).subscribe(ct=>{ct.preventDefault(),ze(this,"keyboard")}),Be.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ze(this,"mouse")})}close(Be){this._result=Be,this._containerInstance._animationStateChanged.pipe((0,se.h)(Pe=>"closing"===Pe.state),(0,Te.q)(1)).subscribe(Pe=>{this._beforeClosed.next(Be),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Pe.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(Be){let Pe=this._getPositionStrategy();return Be&&(Be.left||Be.right)?Be.left?Pe.left(Be.left):Pe.right(Be.right):Pe.centerHorizontally(),Be&&(Be.top||Be.bottom)?Be.top?Pe.top(Be.top):Pe.bottom(Be.bottom):Pe.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(Be="",Pe=""){return this._overlayRef.updateSize({width:Be,height:Pe}),this._overlayRef.updatePosition(),this}addPanelClass(Be){return this._overlayRef.addPanelClass(Be),this}removePanelClass(Be){return this._overlayRef.removePanelClass(Be),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ze(te,Be,Pe){return void 0!==te._containerInstance&&(te._containerInstance._closeInteractionType=Be),te.close(Pe)}const be=new y.OlP("MatDialogData"),q=new y.OlP("mat-dialog-default-options"),ke=new y.OlP("mat-dialog-scroll-strategy"),un={provide:ke,deps:[_.aV],useFactory:function(te){return()=>te.scrollStrategies.block()}};let Ut=(()=>{class te{constructor(Pe,bt,ct,Ft,me,rt,je,We,at){this._overlay=Pe,this._injector=bt,this._defaultOptions=ct,this._parentDialog=Ft,this._overlayContainer=me,this._dialogRefConstructor=je,this._dialogContainerType=We,this._dialogDataToken=at,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new De.xQ,this._afterOpenedAtThisLevel=new De.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,le.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,oe.O)(void 0))),this._scrollStrategy=rt}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Pe=this._parentDialog;return Pe?Pe._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Pe,bt){(bt=function(te,Be){return Object.assign(Object.assign({},Be),te)}(bt,this._defaultOptions||new Qe)).id&&this.getDialogById(bt.id);const ct=this._createOverlay(bt),Ft=this._attachDialogContainer(ct,bt),me=this._attachDialogContent(Pe,Ft,ct,bt);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(me),me.afterClosed().subscribe(()=>this._removeOpenDialog(me)),this.afterOpened.next(me),Ft._initializeWithAttachedContent(),me}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Pe){return this.openDialogs.find(bt=>bt.id===Pe)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(Pe){const bt=this._getOverlayConfig(Pe);return this._overlay.create(bt)}_getOverlayConfig(Pe){const bt=new _.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:Pe.scrollStrategy||this._scrollStrategy(),panelClass:Pe.panelClass,hasBackdrop:Pe.hasBackdrop,direction:Pe.direction,minWidth:Pe.minWidth,minHeight:Pe.minHeight,maxWidth:Pe.maxWidth,maxHeight:Pe.maxHeight,disposeOnNavigation:Pe.closeOnNavigation});return Pe.backdropClass&&(bt.backdropClass=Pe.backdropClass),bt}_attachDialogContainer(Pe,bt){const Ft=y.zs3.create({parent:bt&&bt.viewContainerRef&&bt.viewContainerRef.injector||this._injector,providers:[{provide:Qe,useValue:bt}]}),me=new m.C5(this._dialogContainerType,bt.viewContainerRef,Ft,bt.componentFactoryResolver);return Pe.attach(me).instance}_attachDialogContent(Pe,bt,ct,Ft){const me=new this._dialogRefConstructor(ct,bt,Ft.id);if(Pe instanceof y.Rgc)bt.attachTemplatePortal(new m.UE(Pe,null,{$implicit:Ft.data,dialogRef:me}));else{const rt=this._createInjector(Ft,me,bt),je=bt.attachComponentPortal(new m.C5(Pe,Ft.viewContainerRef,rt));me.componentInstance=je.instance}return me.updateSize(Ft.width,Ft.height).updatePosition(Ft.position),me}_createInjector(Pe,bt,ct){const Ft=Pe&&Pe.viewContainerRef&&Pe.viewContainerRef.injector,me=[{provide:this._dialogContainerType,useValue:ct},{provide:this._dialogDataToken,useValue:Pe.data},{provide:this._dialogRefConstructor,useValue:bt}];return Pe.direction&&(!Ft||!Ft.get(he.Is,null,y.XFs.Optional))&&me.push({provide:he.Is,useValue:{value:Pe.direction,change:(0,Ee.of)()}}),y.zs3.create({parent:Ft||this._injector,providers:me})}_removeOpenDialog(Pe){const bt=this.openDialogs.indexOf(Pe);bt>-1&&(this.openDialogs.splice(bt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((ct,Ft)=>{ct?Ft.setAttribute("aria-hidden",ct):Ft.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Pe=this._overlayContainer.getContainerElement();if(Pe.parentElement){const bt=Pe.parentElement.children;for(let ct=bt.length-1;ct>-1;ct--){let Ft=bt[ct];Ft!==Pe&&"SCRIPT"!==Ft.nodeName&&"STYLE"!==Ft.nodeName&&!Ft.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ft,Ft.getAttribute("aria-hidden")),Ft.setAttribute("aria-hidden","true"))}}}_closeDialogs(Pe){let bt=Pe.length;for(;bt--;)Pe[bt].close()}}return te.\u0275fac=function(Pe){return new(Pe||te)(y.Y36(_.aV),y.Y36(y.zs3),y.Y36(void 0),y.Y36(void 0),y.Y36(_.Xj),y.Y36(void 0),y.Y36(y.DyG),y.Y36(y.DyG),y.Y36(y.OlP))},te.\u0275dir=y.lG2({type:te}),te})(),jn=(()=>{class te extends Ut{constructor(Pe,bt,ct,Ft,me,rt,je){super(Pe,bt,Ft,rt,je,me,Ke,Et,be)}}return te.\u0275fac=function(Pe){return new(Pe||te)(y.LFG(_.aV),y.LFG(y.zs3),y.LFG(U.Ye,8),y.LFG(q,8),y.LFG(ke),y.LFG(te,12),y.LFG(_.Xj))},te.\u0275prov=y.Yz7({token:te,factory:te.\u0275fac}),te})(),Gn=0,Qn=(()=>{class te{constructor(Pe,bt,ct){this.dialogRef=Pe,this._elementRef=bt,this._dialog=ct,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Ae(this._elementRef,this._dialog.openDialogs))}ngOnChanges(Pe){const bt=Pe._matDialogClose||Pe._matDialogCloseResult;bt&&(this.dialogResult=bt.currentValue)}_onButtonClick(Pe){ze(this.dialogRef,0===Pe.screenX&&0===Pe.screenY?"keyboard":"mouse",this.dialogResult)}}return te.\u0275fac=function(Pe){return new(Pe||te)(y.Y36(Ke,8),y.Y36(y.SBq),y.Y36(jn))},te.\u0275dir=y.lG2({type:te,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Pe,bt){1&Pe&&y.NdJ("click",function(Ft){return bt._onButtonClick(Ft)}),2&Pe&&y.uIk("aria-label",bt.ariaLabel||null)("type",bt.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[y.TTD]}),te})(),kn=(()=>{class te{constructor(Pe,bt,ct){this._dialogRef=Pe,this._elementRef=bt,this._dialog=ct,this.id="mat-dialog-title-"+Gn++}ngOnInit(){this._dialogRef||(this._dialogRef=Ae(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const Pe=this._dialogRef._containerInstance;Pe&&!Pe._ariaLabelledBy&&(Pe._ariaLabelledBy=this.id)})}}return te.\u0275fac=function(Pe){return new(Pe||te)(y.Y36(Ke,8),y.Y36(y.SBq),y.Y36(jn))},te.\u0275dir=y.lG2({type:te,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(Pe,bt){2&Pe&&y.Ikx("id",bt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),te})(),Rt=(()=>{class te{}return te.\u0275fac=function(Pe){return new(Pe||te)},te.\u0275dir=y.lG2({type:te,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),te})(),Zt=(()=>{class te{}return te.\u0275fac=function(Pe){return new(Pe||te)},te.\u0275dir=y.lG2({type:te,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),te})();function Ae(te,Be){let Pe=te.nativeElement.parentElement;for(;Pe&&!Pe.classList.contains("mat-dialog-container");)Pe=Pe.parentElement;return Pe?Be.find(bt=>bt.id===Pe.id):null}let de=(()=>{class te{}return te.\u0275fac=function(Pe){return new(Pe||te)},te.\u0275mod=y.oAB({type:te}),te.\u0275inj=y.cJS({providers:[jn,un],imports:[[_.U8,m.eL,d.BQ],d.BQ]}),te})()},8295:(In,mt,D)=>{"use strict";D.d(mt,{G_:()=>cn,TO:()=>Gn,KE:()=>Ln,Eo:()=>kn,lN:()=>pt,hX:()=>Pe,R9:()=>rt});var _=D(8553),m=D(8583),y=D(7716),d=D(2458),he=D(9490),U=D(9765),De=D(6682),le=D(2759),Ee=D(9761),se=D(6782),Te=D(5257),oe=D(7238),Ye=D(6237),tt=D(946),Xe=D(521);const nt=["underline"],Me=["connectionContainer"],Qe=["inputContainer"],Qt=["label"];function hn(ue,B){1&ue&&(y.ynx(0),y.TgZ(1,"div",14),y._UZ(2,"div",15),y._UZ(3,"div",16),y._UZ(4,"div",17),y.qZA(),y.TgZ(5,"div",18),y._UZ(6,"div",15),y._UZ(7,"div",16),y._UZ(8,"div",17),y.qZA(),y.BQk())}function Gt(ue,B){1&ue&&(y.TgZ(0,"div",19),y.Hsn(1,1),y.qZA())}function Et(ue,B){if(1&ue&&(y.ynx(0),y.Hsn(1,2),y.TgZ(2,"span"),y._uU(3),y.qZA(),y.BQk()),2&ue){const H=y.oxw(2);y.xp6(3),y.Oqu(H._control.placeholder)}}function ut(ue,B){1&ue&&y.Hsn(0,3,["*ngSwitchCase","true"])}function Ke(ue,B){1&ue&&(y.TgZ(0,"span",23),y._uU(1," *"),y.qZA())}function ze(ue,B){if(1&ue){const H=y.EpF();y.TgZ(0,"label",20,21),y.NdJ("cdkObserveContent",function(){return y.CHM(H),y.oxw().updateOutlineGap()}),y.YNc(2,Et,4,1,"ng-container",12),y.YNc(3,ut,1,0,"ng-content",12),y.YNc(4,Ke,2,0,"span",22),y.qZA()}if(2&ue){const H=y.oxw();y.ekj("mat-empty",H._control.empty&&!H._shouldAlwaysFloat())("mat-form-field-empty",H._control.empty&&!H._shouldAlwaysFloat())("mat-accent","accent"==H.color)("mat-warn","warn"==H.color),y.Q6J("cdkObserveContentDisabled","outline"!=H.appearance)("id",H._labelId)("ngSwitch",H._hasLabel()),y.uIk("for",H._control.id)("aria-owns",H._control.id),y.xp6(2),y.Q6J("ngSwitchCase",!1),y.xp6(1),y.Q6J("ngSwitchCase",!0),y.xp6(1),y.Q6J("ngIf",!H.hideRequiredMarker&&H._control.required&&!H._control.disabled)}}function be(ue,B){1&ue&&(y.TgZ(0,"div",24),y.Hsn(1,4),y.qZA())}function q(ue,B){if(1&ue&&(y.TgZ(0,"div",25,26),y._UZ(2,"span",27),y.qZA()),2&ue){const H=y.oxw();y.xp6(2),y.ekj("mat-accent","accent"==H.color)("mat-warn","warn"==H.color)}}function ke(ue,B){if(1&ue&&(y.TgZ(0,"div"),y.Hsn(1,5),y.qZA()),2&ue){const H=y.oxw();y.Q6J("@transitionMessages",H._subscriptAnimationState)}}function yt(ue,B){if(1&ue&&(y.TgZ(0,"div",31),y._uU(1),y.qZA()),2&ue){const H=y.oxw(2);y.Q6J("id",H._hintLabelId),y.xp6(1),y.Oqu(H.hintLabel)}}function Ot(ue,B){if(1&ue&&(y.TgZ(0,"div",28),y.YNc(1,yt,2,2,"div",29),y.Hsn(2,6),y._UZ(3,"div",30),y.Hsn(4,7),y.qZA()),2&ue){const H=y.oxw();y.Q6J("@transitionMessages",H._subscriptAnimationState),y.xp6(1),y.Q6J("ngIf",H.hintLabel)}}const un=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ut=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let jn=0;const ii=new y.OlP("MatError");let Gn=(()=>{class ue{constructor(H,ae){this.id="mat-error-"+jn++,H||ae.nativeElement.setAttribute("aria-live","polite")}}return ue.\u0275fac=function(H){return new(H||ue)(y.$8M("aria-live"),y.Y36(y.SBq))},ue.\u0275dir=y.lG2({type:ue,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(H,ae){2&H&&y.uIk("id",ae.id)},inputs:{id:"id"},features:[y._Bn([{provide:ii,useExisting:ue}])]}),ue})();const Qn={transitionMessages:(0,oe.X$)("transitionMessages",[(0,oe.SB)("enter",(0,oe.oB)({opacity:1,transform:"translateY(0%)"})),(0,oe.eR)("void => enter",[(0,oe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,oe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let kn=(()=>{class ue{}return ue.\u0275fac=function(H){return new(H||ue)},ue.\u0275dir=y.lG2({type:ue}),ue})();const te=new y.OlP("MatHint");let Pe=(()=>{class ue{}return ue.\u0275fac=function(H){return new(H||ue)},ue.\u0275dir=y.lG2({type:ue,selectors:[["mat-label"]]}),ue})(),bt=(()=>{class ue{}return ue.\u0275fac=function(H){return new(H||ue)},ue.\u0275dir=y.lG2({type:ue,selectors:[["mat-placeholder"]]}),ue})();const ct=new y.OlP("MatPrefix"),me=new y.OlP("MatSuffix");let rt=(()=>{class ue{}return ue.\u0275fac=function(H){return new(H||ue)},ue.\u0275dir=y.lG2({type:ue,selectors:[["","matSuffix",""]],features:[y._Bn([{provide:me,useExisting:ue}])]}),ue})(),je=0;const fn=(0,d.pj)(class{constructor(ue){this._elementRef=ue}},"primary"),jt=new y.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),cn=new y.OlP("MatFormField");let Ln=(()=>{class ue extends fn{constructor(H,ae,Le,ge,Ue,Bt,an,Tn){super(H),this._changeDetectorRef=ae,this._dir=ge,this._defaults=Ue,this._platform=Bt,this._ngZone=an,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new U.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+je++,this._labelId="mat-form-field-label-"+je++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Tn,this.appearance=Ue&&Ue.appearance?Ue.appearance:"legacy",this._hideRequiredMarker=!(!Ue||null==Ue.hideRequiredMarker)&&Ue.hideRequiredMarker}get appearance(){return this._appearance}set appearance(H){const ae=this._appearance;this._appearance=H||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&ae!==H&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(H){this._hideRequiredMarker=(0,he.Ig)(H)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(H){this._hintLabel=H,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(H){H!==this._floatLabel&&(this._floatLabel=H||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(H){this._explicitFormFieldControl=H}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const H=this._control;H.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${H.controlType}`),H.stateChanges.pipe((0,Ee.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),H.ngControl&&H.ngControl.valueChanges&&H.ngControl.valueChanges.pipe((0,se.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,se.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,De.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Ee.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Ee.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,se.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(H){const ae=this._control?this._control.ngControl:null;return ae&&ae[H]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,le.R)(this._label.nativeElement,"transitionend").pipe((0,Te.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let H=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&H.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ae=this._hintChildren?this._hintChildren.find(ge=>"start"===ge.align):null,Le=this._hintChildren?this._hintChildren.find(ge=>"end"===ge.align):null;ae?H.push(ae.id):this._hintLabel&&H.push(this._hintLabelId),Le&&H.push(Le.id)}else this._errorChildren&&H.push(...this._errorChildren.map(ae=>ae.id));this._control.setDescribedByIds(H)}}_validateControlChild(){}updateOutlineGap(){const H=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&H&&H.children.length&&H.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let ae=0,Le=0;const ge=this._connectionContainerRef.nativeElement,Ue=ge.querySelectorAll(".mat-form-field-outline-start"),Bt=ge.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const an=ge.getBoundingClientRect();if(0===an.width&&0===an.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Tn=this._getStartEnd(an),Nn=H.children,Pn=this._getStartEnd(Nn[0].getBoundingClientRect());let ei=0;for(let Jn=0;Jn<Nn.length;Jn++)ei+=Nn[Jn].offsetWidth;ae=Math.abs(Pn-Tn)-5,Le=ei>0?.75*ei+10:0}for(let an=0;an<Ue.length;an++)Ue[an].style.width=`${ae}px`;for(let an=0;an<Bt.length;an++)Bt[an].style.width=`${Le}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(H){return this._dir&&"rtl"===this._dir.value?H.right:H.left}_isAttachedToDOM(){const H=this._elementRef.nativeElement;if(H.getRootNode){const ae=H.getRootNode();return ae&&ae!==H}return document.documentElement.contains(H)}}return ue.\u0275fac=function(H){return new(H||ue)(y.Y36(y.SBq),y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(tt.Is,8),y.Y36(jt,8),y.Y36(Xe.t4),y.Y36(y.R0b),y.Y36(Ye.Qb,8))},ue.\u0275cmp=y.Xpm({type:ue,selectors:[["mat-form-field"]],contentQueries:function(H,ae,Le){if(1&H&&(y.Suo(Le,kn,5),y.Suo(Le,kn,7),y.Suo(Le,Pe,5),y.Suo(Le,Pe,7),y.Suo(Le,bt,5),y.Suo(Le,ii,5),y.Suo(Le,te,5),y.Suo(Le,ct,5),y.Suo(Le,me,5)),2&H){let ge;y.iGM(ge=y.CRH())&&(ae._controlNonStatic=ge.first),y.iGM(ge=y.CRH())&&(ae._controlStatic=ge.first),y.iGM(ge=y.CRH())&&(ae._labelChildNonStatic=ge.first),y.iGM(ge=y.CRH())&&(ae._labelChildStatic=ge.first),y.iGM(ge=y.CRH())&&(ae._placeholderChild=ge.first),y.iGM(ge=y.CRH())&&(ae._errorChildren=ge),y.iGM(ge=y.CRH())&&(ae._hintChildren=ge),y.iGM(ge=y.CRH())&&(ae._prefixChildren=ge),y.iGM(ge=y.CRH())&&(ae._suffixChildren=ge)}},viewQuery:function(H,ae){if(1&H&&(y.Gf(nt,5),y.Gf(Me,7),y.Gf(Qe,5),y.Gf(Qt,5)),2&H){let Le;y.iGM(Le=y.CRH())&&(ae.underlineRef=Le.first),y.iGM(Le=y.CRH())&&(ae._connectionContainerRef=Le.first),y.iGM(Le=y.CRH())&&(ae._inputContainerRef=Le.first),y.iGM(Le=y.CRH())&&(ae._label=Le.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(H,ae){2&H&&y.ekj("mat-form-field-appearance-standard","standard"==ae.appearance)("mat-form-field-appearance-fill","fill"==ae.appearance)("mat-form-field-appearance-outline","outline"==ae.appearance)("mat-form-field-appearance-legacy","legacy"==ae.appearance)("mat-form-field-invalid",ae._control.errorState)("mat-form-field-can-float",ae._canLabelFloat())("mat-form-field-should-float",ae._shouldLabelFloat())("mat-form-field-has-label",ae._hasFloatingLabel())("mat-form-field-hide-placeholder",ae._hideControlPlaceholder())("mat-form-field-disabled",ae._control.disabled)("mat-form-field-autofilled",ae._control.autofilled)("mat-focused",ae._control.focused)("ng-untouched",ae._shouldForward("untouched"))("ng-touched",ae._shouldForward("touched"))("ng-pristine",ae._shouldForward("pristine"))("ng-dirty",ae._shouldForward("dirty"))("ng-valid",ae._shouldForward("valid"))("ng-invalid",ae._shouldForward("invalid"))("ng-pending",ae._shouldForward("pending"))("_mat-animation-noopable",!ae._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[y._Bn([{provide:cn,useExisting:ue}]),y.qOj],ngContentSelectors:Ut,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(H,ae){1&H&&(y.F$t(un),y.TgZ(0,"div",0),y.TgZ(1,"div",1,2),y.NdJ("click",function(ge){return ae._control.onContainerClick&&ae._control.onContainerClick(ge)}),y.YNc(3,hn,9,0,"ng-container",3),y.YNc(4,Gt,2,0,"div",4),y.TgZ(5,"div",5,6),y.Hsn(7),y.TgZ(8,"span",7),y.YNc(9,ze,5,16,"label",8),y.qZA(),y.qZA(),y.YNc(10,be,2,0,"div",9),y.qZA(),y.YNc(11,q,3,4,"div",10),y.TgZ(12,"div",11),y.YNc(13,ke,2,1,"div",12),y.YNc(14,Ot,5,2,"div",13),y.qZA(),y.qZA()),2&H&&(y.xp6(3),y.Q6J("ngIf","outline"==ae.appearance),y.xp6(1),y.Q6J("ngIf",ae._prefixChildren.length),y.xp6(5),y.Q6J("ngIf",ae._hasFloatingLabel()),y.xp6(1),y.Q6J("ngIf",ae._suffixChildren.length),y.xp6(1),y.Q6J("ngIf","outline"!=ae.appearance),y.xp6(1),y.Q6J("ngSwitch",ae._getDisplayedMessages()),y.xp6(1),y.Q6J("ngSwitchCase","error"),y.xp6(1),y.Q6J("ngSwitchCase","hint"))},directives:[m.O5,m.RF,m.n9,_.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Qn.transitionMessages]},changeDetection:0}),ue})(),pt=(()=>{class ue{}return ue.\u0275fac=function(H){return new(H||ue)},ue.\u0275mod=y.oAB({type:ue}),ue.\u0275inj=y.cJS({imports:[[m.ez,d.BQ,_.Q8],d.BQ]}),ue})()},6627:(In,mt,D)=>{"use strict";D.d(mt,{Hw:()=>Qn,Ps:()=>kn});var _=D(7716),m=D(2458),y=D(9490),d=D(8583),he=D(5917),U=D(205),De=D(5758),le=D(5319),Ee=D(3342),se=D(8002),Te=D(5304),oe=D(197),Ye=D(8819),tt=D(5257),Xe=D(1841),nt=D(9075);const Me=["*"];function Qe(Rt){return Error(`Unable to find icon with the name "${Rt}"`)}function hn(Rt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Rt}".`)}function Gt(Rt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Rt}".`)}class Et{constructor(Zt,Ae,de){this.url=Zt,this.svgText=Ae,this.options=de}}let ut=(()=>{class Rt{constructor(Ae,de,te,Be){this._httpClient=Ae,this._sanitizer=de,this._errorHandler=Be,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=te}addSvgIcon(Ae,de,te){return this.addSvgIconInNamespace("",Ae,de,te)}addSvgIconLiteral(Ae,de,te){return this.addSvgIconLiteralInNamespace("",Ae,de,te)}addSvgIconInNamespace(Ae,de,te,Be){return this._addSvgIconConfig(Ae,de,new Et(te,null,Be))}addSvgIconResolver(Ae){return this._resolvers.push(Ae),this}addSvgIconLiteralInNamespace(Ae,de,te,Be){const Pe=this._sanitizer.sanitize(_.q3G.HTML,te);if(!Pe)throw Gt(te);return this._addSvgIconConfig(Ae,de,new Et("",Pe,Be))}addSvgIconSet(Ae,de){return this.addSvgIconSetInNamespace("",Ae,de)}addSvgIconSetLiteral(Ae,de){return this.addSvgIconSetLiteralInNamespace("",Ae,de)}addSvgIconSetInNamespace(Ae,de,te){return this._addSvgIconSetConfig(Ae,new Et(de,null,te))}addSvgIconSetLiteralInNamespace(Ae,de,te){const Be=this._sanitizer.sanitize(_.q3G.HTML,de);if(!Be)throw Gt(de);return this._addSvgIconSetConfig(Ae,new Et("",Be,te))}registerFontClassAlias(Ae,de=Ae){return this._fontCssClassesByAlias.set(Ae,de),this}classNameForFontAlias(Ae){return this._fontCssClassesByAlias.get(Ae)||Ae}setDefaultFontSetClass(Ae){return this._defaultFontSetClass=Ae,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ae){const de=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,Ae);if(!de)throw hn(Ae);const te=this._cachedIconsByUrl.get(de);return te?(0,he.of)(be(te)):this._loadSvgIconFromConfig(new Et(Ae,null)).pipe((0,Ee.b)(Be=>this._cachedIconsByUrl.set(de,Be)),(0,se.U)(Be=>be(Be)))}getNamedSvgIcon(Ae,de=""){const te=q(de,Ae);let Be=this._svgIconConfigs.get(te);if(Be)return this._getSvgFromConfig(Be);if(Be=this._getIconConfigFromResolvers(de,Ae),Be)return this._svgIconConfigs.set(te,Be),this._getSvgFromConfig(Be);const Pe=this._iconSetConfigs.get(de);return Pe?this._getSvgFromIconSetConfigs(Ae,Pe):(0,U._)(Qe(te))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ae){return Ae.svgText?(0,he.of)(be(this._svgElementFromConfig(Ae))):this._loadSvgIconFromConfig(Ae).pipe((0,se.U)(de=>be(de)))}_getSvgFromIconSetConfigs(Ae,de){const te=this._extractIconWithNameFromAnySet(Ae,de);if(te)return(0,he.of)(te);const Be=de.filter(Pe=>!Pe.svgText).map(Pe=>this._loadSvgIconSetFromConfig(Pe).pipe((0,Te.K)(bt=>{const Ft=`Loading icon set URL: ${this._sanitizer.sanitize(_.q3G.RESOURCE_URL,Pe.url)} failed: ${bt.message}`;return this._errorHandler.handleError(new Error(Ft)),(0,he.of)(null)})));return(0,De.D)(Be).pipe((0,se.U)(()=>{const Pe=this._extractIconWithNameFromAnySet(Ae,de);if(!Pe)throw Qe(Ae);return Pe}))}_extractIconWithNameFromAnySet(Ae,de){for(let te=de.length-1;te>=0;te--){const Be=de[te];if(Be.svgText&&Be.svgText.indexOf(Ae)>-1){const Pe=this._svgElementFromConfig(Be),bt=this._extractSvgIconFromSet(Pe,Ae,Be.options);if(bt)return bt}}return null}_loadSvgIconFromConfig(Ae){return this._fetchIcon(Ae).pipe((0,Ee.b)(de=>Ae.svgText=de),(0,se.U)(()=>this._svgElementFromConfig(Ae)))}_loadSvgIconSetFromConfig(Ae){return Ae.svgText?(0,he.of)(null):this._fetchIcon(Ae).pipe((0,Ee.b)(de=>Ae.svgText=de))}_extractSvgIconFromSet(Ae,de,te){const Be=Ae.querySelector(`[id="${de}"]`);if(!Be)return null;const Pe=Be.cloneNode(!0);if(Pe.removeAttribute("id"),"svg"===Pe.nodeName.toLowerCase())return this._setSvgAttributes(Pe,te);if("symbol"===Pe.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Pe),te);const bt=this._svgElementFromString("<svg></svg>");return bt.appendChild(Pe),this._setSvgAttributes(bt,te)}_svgElementFromString(Ae){const de=this._document.createElement("DIV");de.innerHTML=Ae;const te=de.querySelector("svg");if(!te)throw Error("<svg> tag not found");return te}_toSvgElement(Ae){const de=this._svgElementFromString("<svg></svg>"),te=Ae.attributes;for(let Be=0;Be<te.length;Be++){const{name:Pe,value:bt}=te[Be];"id"!==Pe&&de.setAttribute(Pe,bt)}for(let Be=0;Be<Ae.childNodes.length;Be++)Ae.childNodes[Be].nodeType===this._document.ELEMENT_NODE&&de.appendChild(Ae.childNodes[Be].cloneNode(!0));return de}_setSvgAttributes(Ae,de){return Ae.setAttribute("fit",""),Ae.setAttribute("height","100%"),Ae.setAttribute("width","100%"),Ae.setAttribute("preserveAspectRatio","xMidYMid meet"),Ae.setAttribute("focusable","false"),de&&de.viewBox&&Ae.setAttribute("viewBox",de.viewBox),Ae}_fetchIcon(Ae){var de;const{url:te,options:Be}=Ae,Pe=null!==(de=null==Be?void 0:Be.withCredentials)&&void 0!==de&&de;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==te)throw Error(`Cannot fetch icon from URL "${te}".`);const bt=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,te);if(!bt)throw hn(te);const ct=this._inProgressUrlFetches.get(bt);if(ct)return ct;const Ft=this._httpClient.get(bt,{responseType:"text",withCredentials:Pe}).pipe((0,oe.x)(()=>this._inProgressUrlFetches.delete(bt)),(0,Ye.B)());return this._inProgressUrlFetches.set(bt,Ft),Ft}_addSvgIconConfig(Ae,de,te){return this._svgIconConfigs.set(q(Ae,de),te),this}_addSvgIconSetConfig(Ae,de){const te=this._iconSetConfigs.get(Ae);return te?te.push(de):this._iconSetConfigs.set(Ae,[de]),this}_svgElementFromConfig(Ae){if(!Ae.svgElement){const de=this._svgElementFromString(Ae.svgText);this._setSvgAttributes(de,Ae.options),Ae.svgElement=de}return Ae.svgElement}_getIconConfigFromResolvers(Ae,de){for(let te=0;te<this._resolvers.length;te++){const Be=this._resolvers[te](de,Ae);if(Be)return ke(Be)?new Et(Be.url,null,Be.options):new Et(Be,null)}}}return Rt.\u0275fac=function(Ae){return new(Ae||Rt)(_.LFG(Xe.eN,8),_.LFG(nt.H7),_.LFG(d.K0,8),_.LFG(_.qLn))},Rt.\u0275prov=_.Yz7({factory:function(){return new Rt(_.LFG(Xe.eN,8),_.LFG(nt.H7),_.LFG(d.K0,8),_.LFG(_.qLn))},token:Rt,providedIn:"root"}),Rt})();function be(Rt){return Rt.cloneNode(!0)}function q(Rt,Zt){return Rt+":"+Zt}function ke(Rt){return!(!Rt.url||!Rt.options)}const yt=(0,m.pj)(class{constructor(Rt){this._elementRef=Rt}}),Ot=new _.OlP("mat-icon-location",{providedIn:"root",factory:function(){const Rt=(0,_.f3M)(d.K0),Zt=Rt?Rt.location:null;return{getPathname:()=>Zt?Zt.pathname+Zt.search:""}}}),Ut=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ii=Ut.map(Rt=>`[${Rt}]`).join(", "),Gn=/^url\(['"]?#(.*?)['"]?\)$/;let Qn=(()=>{class Rt extends yt{constructor(Ae,de,te,Be,Pe){super(Ae),this._iconRegistry=de,this._location=Be,this._errorHandler=Pe,this._inline=!1,this._currentIconFetch=le.w.EMPTY,te||Ae.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Ae){this._inline=(0,y.Ig)(Ae)}get svgIcon(){return this._svgIcon}set svgIcon(Ae){Ae!==this._svgIcon&&(Ae?this._updateSvgIcon(Ae):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ae)}get fontSet(){return this._fontSet}set fontSet(Ae){const de=this._cleanupFontValue(Ae);de!==this._fontSet&&(this._fontSet=de,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ae){const de=this._cleanupFontValue(Ae);de!==this._fontIcon&&(this._fontIcon=de,this._updateFontIconClasses())}_splitIconName(Ae){if(!Ae)return["",""];const de=Ae.split(":");switch(de.length){case 1:return["",de[0]];case 2:return de;default:throw Error(`Invalid icon name: "${Ae}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ae=this._elementsWithExternalReferences;if(Ae&&Ae.size){const de=this._location.getPathname();de!==this._previousPath&&(this._previousPath=de,this._prependPathToReferences(de))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ae){this._clearSvgElement();const de=Ae.querySelectorAll("style");for(let Be=0;Be<de.length;Be++)de[Be].textContent+=" ";const te=this._location.getPathname();this._previousPath=te,this._cacheChildrenWithExternalReferences(Ae),this._prependPathToReferences(te),this._elementRef.nativeElement.appendChild(Ae)}_clearSvgElement(){const Ae=this._elementRef.nativeElement;let de=Ae.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();de--;){const te=Ae.childNodes[de];(1!==te.nodeType||"svg"===te.nodeName.toLowerCase())&&Ae.removeChild(te)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ae=this._elementRef.nativeElement,de=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();de!=this._previousFontSetClass&&(this._previousFontSetClass&&Ae.classList.remove(this._previousFontSetClass),de&&Ae.classList.add(de),this._previousFontSetClass=de),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&Ae.classList.remove(this._previousFontIconClass),this.fontIcon&&Ae.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ae){return"string"==typeof Ae?Ae.trim().split(" ")[0]:Ae}_prependPathToReferences(Ae){const de=this._elementsWithExternalReferences;de&&de.forEach((te,Be)=>{te.forEach(Pe=>{Be.setAttribute(Pe.name,`url('${Ae}#${Pe.value}')`)})})}_cacheChildrenWithExternalReferences(Ae){const de=Ae.querySelectorAll(ii),te=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Be=0;Be<de.length;Be++)Ut.forEach(Pe=>{const bt=de[Be],ct=bt.getAttribute(Pe),Ft=ct?ct.match(Gn):null;if(Ft){let me=te.get(bt);me||(me=[],te.set(bt,me)),me.push({name:Pe,value:Ft[1]})}})}_updateSvgIcon(Ae){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ae){const[de,te]=this._splitIconName(Ae);de&&(this._svgNamespace=de),te&&(this._svgName=te),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(te,de).pipe((0,tt.q)(1)).subscribe(Be=>this._setSvgElement(Be),Be=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${de}:${te}! ${Be.message}`))})}}}return Rt.\u0275fac=function(Ae){return new(Ae||Rt)(_.Y36(_.SBq),_.Y36(ut),_.$8M("aria-hidden"),_.Y36(Ot),_.Y36(_.qLn))},Rt.\u0275cmp=_.Xpm({type:Rt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(Ae,de){2&Ae&&(_.uIk("data-mat-icon-type",de._usingFontIcon()?"font":"svg")("data-mat-icon-name",de._svgName||de.fontIcon)("data-mat-icon-namespace",de._svgNamespace||de.fontSet),_.ekj("mat-icon-inline",de.inline)("mat-icon-no-color","primary"!==de.color&&"accent"!==de.color&&"warn"!==de.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[_.qOj],ngContentSelectors:Me,decls:1,vars:0,template:function(Ae,de){1&Ae&&(_.F$t(),_.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Rt})(),kn=(()=>{class Rt{}return Rt.\u0275fac=function(Ae){return new(Ae||Rt)},Rt.\u0275mod=_.oAB({type:Rt}),Rt.\u0275inj=_.cJS({imports:[[m.BQ],m.BQ]}),Rt})()},9983:(In,mt,D)=>{"use strict";D.d(mt,{Jk:()=>hn,Nt:()=>Ke,c:()=>ze});var _=D(521),m=D(7716),y=D(9490),d=D(9193),he=D(9765);D(2759),D(628),D(6782),D(8583);const se=(0,_.i$)({passive:!0});let Te=(()=>{class be{constructor(ke,yt){this._platform=ke,this._ngZone=yt,this._monitoredElements=new Map}monitor(ke){if(!this._platform.isBrowser)return d.E;const yt=(0,y.fI)(ke),Ot=this._monitoredElements.get(yt);if(Ot)return Ot.subject;const un=new he.xQ,Ut="cdk-text-field-autofilled",jn=ii=>{"cdk-text-field-autofill-start"!==ii.animationName||yt.classList.contains(Ut)?"cdk-text-field-autofill-end"===ii.animationName&&yt.classList.contains(Ut)&&(yt.classList.remove(Ut),this._ngZone.run(()=>un.next({target:ii.target,isAutofilled:!1}))):(yt.classList.add(Ut),this._ngZone.run(()=>un.next({target:ii.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{yt.addEventListener("animationstart",jn,se),yt.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(yt,{subject:un,unlisten:()=>{yt.removeEventListener("animationstart",jn,se)}}),un}stopMonitoring(ke){const yt=(0,y.fI)(ke),Ot=this._monitoredElements.get(yt);Ot&&(Ot.unlisten(),Ot.subject.complete(),yt.classList.remove("cdk-text-field-autofill-monitored"),yt.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(yt))}ngOnDestroy(){this._monitoredElements.forEach((ke,yt)=>this.stopMonitoring(yt))}}return be.\u0275fac=function(ke){return new(ke||be)(m.LFG(_.t4),m.LFG(m.R0b))},be.\u0275prov=m.Yz7({factory:function(){return new be(m.LFG(_.t4),m.LFG(m.R0b))},token:be,providedIn:"root"}),be})(),tt=(()=>{class be{}return be.\u0275fac=function(ke){return new(ke||be)},be.\u0275mod=m.oAB({type:be}),be.\u0275inj=m.cJS({imports:[[_.ud]]}),be})();var Xe=D(2458),nt=D(8295),Me=D(3679);const hn=new m.OlP("MAT_INPUT_VALUE_ACCESSOR"),Gt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Et=0;const ut=(0,Xe.FD)(class{constructor(be,q,ke,yt){this._defaultErrorStateMatcher=be,this._parentForm=q,this._parentFormGroup=ke,this.ngControl=yt}});let Ke=(()=>{class be extends ut{constructor(ke,yt,Ot,un,Ut,jn,ii,Gn,Qn,kn){super(jn,un,Ut,Ot),this._elementRef=ke,this._platform=yt,this._autofillMonitor=Gn,this._formField=kn,this._uid="mat-input-"+Et++,this.focused=!1,this.stateChanges=new he.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ae=>(0,_.qK)().has(Ae));const Rt=this._elementRef.nativeElement,Zt=Rt.nodeName.toLowerCase();this._inputValueAccessor=ii||Rt,this._previousNativeValue=this.value,this.id=this.id,yt.IOS&&Qn.runOutsideAngular(()=>{ke.nativeElement.addEventListener("keyup",Ae=>{const de=Ae.target;!de.value&&0===de.selectionStart&&0===de.selectionEnd&&(de.setSelectionRange(1,1),de.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Zt,this._isTextarea="textarea"===Zt,this._isInFormField=!!kn,this._isNativeSelect&&(this.controlType=Rt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(ke){this._disabled=(0,y.Ig)(ke),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ke){this._id=ke||this._uid}get required(){return this._required}set required(ke){this._required=(0,y.Ig)(ke)}get type(){return this._type}set type(ke){this._type=ke||"text",this._validateType(),!this._isTextarea&&(0,_.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(ke){ke!==this.value&&(this._inputValueAccessor.value=ke,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ke){this._readonly=(0,y.Ig)(ke)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ke=>{this.autofilled=ke.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ke){this._elementRef.nativeElement.focus(ke)}_focusChanged(ke){ke!==this.focused&&(this.focused=ke,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var ke,yt;const Ot=(null===(yt=null===(ke=this._formField)||void 0===ke?void 0:ke._hideControlPlaceholder)||void 0===yt?void 0:yt.call(ke))?null:this.placeholder;if(Ot!==this._previousPlaceholder){const un=this._elementRef.nativeElement;this._previousPlaceholder=Ot,Ot?un.setAttribute("placeholder",Ot):un.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const ke=this._elementRef.nativeElement.value;this._previousNativeValue!==ke&&(this._previousNativeValue=ke,this.stateChanges.next())}_validateType(){Gt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ke=this._elementRef.nativeElement.validity;return ke&&ke.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ke=this._elementRef.nativeElement,yt=ke.options[0];return this.focused||ke.multiple||!this.empty||!!(ke.selectedIndex>-1&&yt&&yt.label)}return this.focused||!this.empty}setDescribedByIds(ke){ke.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ke.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ke=this._elementRef.nativeElement;return this._isNativeSelect&&(ke.multiple||ke.size>1)}}return be.\u0275fac=function(ke){return new(ke||be)(m.Y36(m.SBq),m.Y36(_.t4),m.Y36(Me.a5,10),m.Y36(Me.F,8),m.Y36(Me.sg,8),m.Y36(Xe.rD),m.Y36(hn,10),m.Y36(Te),m.Y36(m.R0b),m.Y36(nt.G_,8))},be.\u0275dir=m.lG2({type:be,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(ke,yt){1&ke&&m.NdJ("focus",function(){return yt._focusChanged(!0)})("blur",function(){return yt._focusChanged(!1)})("input",function(){return yt._onInput()}),2&ke&&(m.Ikx("disabled",yt.disabled)("required",yt.required),m.uIk("id",yt.id)("data-placeholder",yt.placeholder)("readonly",yt.readonly&&!yt._isNativeSelect||null)("aria-invalid",yt.empty&&yt.required?null:yt.errorState)("aria-required",yt.required),m.ekj("mat-input-server",yt._isServer)("mat-native-select-inline",yt._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[m._Bn([{provide:nt.Eo,useExisting:be}]),m.qOj,m.TTD]}),be})(),ze=(()=>{class be{}return be.\u0275fac=function(ke){return new(ke||be)},be.\u0275mod=m.oAB({type:be}),be.\u0275inj=m.cJS({providers:[Xe.rD],imports:[[tt,nt.lN,Xe.BQ],tt,nt.lN]}),be})()},9992:(In,mt,D)=>{"use strict";D.d(mt,{Tg:()=>un,ie:()=>Rt,Hk:()=>be});var _=D(8583),m=D(7716),y=D(2458),d=D(9490),he=D(9765),U=D(6782);D(9761),D(9238),D(8345),D(6461),D(3679);let Ye=(()=>{class Zt{}return Zt.\u0275fac=function(de){return new(de||Zt)},Zt.\u0275mod=m.oAB({type:Zt}),Zt.\u0275inj=m.cJS({imports:[[y.BQ],y.BQ]}),Zt})();const tt=["*"],nt=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Me=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Et=(0,y.Id)((0,y.Kr)(class{})),ut=(0,y.Kr)(class{}),Ke=new m.OlP("MatList"),ze=new m.OlP("MatNavList");let be=(()=>{class Zt extends Et{constructor(){super(...arguments),this._stateChanges=new he.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return Zt.\u0275fac=function(){let Ae;return function(te){return(Ae||(Ae=m.n5z(Zt)))(te||Zt)}}(),Zt.\u0275cmp=m.Xpm({type:Zt,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[m._Bn([{provide:ze,useExisting:Zt}]),m.qOj,m.TTD],ngContentSelectors:tt,decls:1,vars:0,template:function(de,te){1&de&&(m.F$t(),m.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),Zt})(),ke=(()=>{class Zt{}return Zt.\u0275fac=function(de){return new(de||Zt)},Zt.\u0275dir=m.lG2({type:Zt,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),Zt})(),yt=(()=>{class Zt{}return Zt.\u0275fac=function(de){return new(de||Zt)},Zt.\u0275dir=m.lG2({type:Zt,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),Zt})(),un=(()=>{class Zt extends ut{constructor(de,te,Be,Pe){super(),this._element=de,this._isInteractiveList=!1,this._destroyed=new he.xQ,this._disabled=!1,this._isInteractiveList=!!(Be||Pe&&"action-list"===Pe._getListType()),this._list=Be||Pe;const bt=this._getHostElement();"button"===bt.nodeName.toLowerCase()&&!bt.hasAttribute("type")&&bt.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,U.R)(this._destroyed)).subscribe(()=>{te.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(de){this._disabled=(0,d.Ig)(de)}ngAfterContentInit(){(0,y.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return Zt.\u0275fac=function(de){return new(de||Zt)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(ze,8),m.Y36(Ke,8))},Zt.\u0275cmp=m.Xpm({type:Zt,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(de,te,Be){if(1&de&&(m.Suo(Be,ke,5),m.Suo(Be,yt,5),m.Suo(Be,y.X2,5)),2&de){let Pe;m.iGM(Pe=m.CRH())&&(te._avatar=Pe.first),m.iGM(Pe=m.CRH())&&(te._icon=Pe.first),m.iGM(Pe=m.CRH())&&(te._lines=Pe)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(de,te){2&de&&m.ekj("mat-list-item-disabled",te.disabled)("mat-list-item-avatar",te._avatar||te._icon)("mat-list-item-with-avatar",te._avatar||te._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[m.qOj],ngContentSelectors:Me,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(de,te){1&de&&(m.F$t(nt),m.TgZ(0,"div",0),m._UZ(1,"div",1),m.Hsn(2),m.TgZ(3,"div",2),m.Hsn(4,1),m.qZA(),m.Hsn(5,2),m.qZA()),2&de&&(m.xp6(1),m.Q6J("matRippleTrigger",te._getHostElement())("matRippleDisabled",te._isRippleDisabled()))},directives:[y.wG],encapsulation:2,changeDetection:0}),Zt})(),Rt=(()=>{class Zt{}return Zt.\u0275fac=function(de){return new(de||Zt)},Zt.\u0275mod=m.oAB({type:Zt}),Zt.\u0275inj=m.cJS({imports:[[y.uc,y.si,y.BQ,y.us,_.ez],y.uc,y.BQ,y.us,Ye]}),Zt})()},5384:(In,mt,D)=>{"use strict";D.d(mt,{Tx:()=>H}),D(9238),D(9490),D(6461);var d=D(7716);D(9765),D(5319),D(6682),D(5917),D(4581),D(3637),D(7393),D(3098),D(9761),D(3190),D(5257),D(5435),D(6782),D(7238),D(7636);var ze=D(8583),be=D(2458),q=D(625),yt=(D(521),D(2692));D(946);const cn={provide:new d.OlP("mat-menu-scroll-strategy"),deps:[q.aV],useFactory:function(ae){return()=>ae.scrollStrategies.reposition()}};let H=(()=>{class ae{}return ae.\u0275fac=function(ge){return new(ge||ae)},ae.\u0275mod=d.oAB({type:ae}),ae.\u0275inj=d.cJS({providers:[cn],imports:[[ze.ez,be.BQ,be.si,q.U8],yt.ZD,be.BQ]}),ae})()},9692:(In,mt,D)=>{"use strict";D.d(mt,{NW:()=>Ke,TU:()=>ze});var _=D(8583),m=D(7716),y=D(2458),d=D(1095),he=D(7441),U=D(8590),De=D(9490),le=D(9765),Ee=D(8295);function se(be,q){if(1&be&&(m.TgZ(0,"mat-option",19),m._uU(1),m.qZA()),2&be){const ke=q.$implicit;m.Q6J("value",ke),m.xp6(1),m.hij(" ",ke," ")}}function Te(be,q){if(1&be){const ke=m.EpF();m.TgZ(0,"mat-form-field",16),m.TgZ(1,"mat-select",17),m.NdJ("selectionChange",function(Ot){return m.CHM(ke),m.oxw(2)._changePageSize(Ot.value)}),m.YNc(2,se,2,2,"mat-option",18),m.qZA(),m.qZA()}if(2&be){const ke=m.oxw(2);m.Q6J("appearance",ke._formFieldAppearance)("color",ke.color),m.xp6(1),m.Q6J("value",ke.pageSize)("disabled",ke.disabled)("aria-label",ke._intl.itemsPerPageLabel),m.xp6(1),m.Q6J("ngForOf",ke._displayedPageSizeOptions)}}function oe(be,q){if(1&be&&(m.TgZ(0,"div",20),m._uU(1),m.qZA()),2&be){const ke=m.oxw(2);m.xp6(1),m.Oqu(ke.pageSize)}}function Ye(be,q){if(1&be&&(m.TgZ(0,"div",12),m.TgZ(1,"div",13),m._uU(2),m.qZA(),m.YNc(3,Te,3,6,"mat-form-field",14),m.YNc(4,oe,2,1,"div",15),m.qZA()),2&be){const ke=m.oxw();m.xp6(2),m.hij(" ",ke._intl.itemsPerPageLabel," "),m.xp6(1),m.Q6J("ngIf",ke._displayedPageSizeOptions.length>1),m.xp6(1),m.Q6J("ngIf",ke._displayedPageSizeOptions.length<=1)}}function tt(be,q){if(1&be){const ke=m.EpF();m.TgZ(0,"button",21),m.NdJ("click",function(){return m.CHM(ke),m.oxw().firstPage()}),m.O4$(),m.TgZ(1,"svg",7),m._UZ(2,"path",22),m.qZA(),m.qZA()}if(2&be){const ke=m.oxw();m.Q6J("matTooltip",ke._intl.firstPageLabel)("matTooltipDisabled",ke._previousButtonsDisabled())("matTooltipPosition","above")("disabled",ke._previousButtonsDisabled()),m.uIk("aria-label",ke._intl.firstPageLabel)}}function Xe(be,q){if(1&be){const ke=m.EpF();m.O4$(),m.kcU(),m.TgZ(0,"button",23),m.NdJ("click",function(){return m.CHM(ke),m.oxw().lastPage()}),m.O4$(),m.TgZ(1,"svg",7),m._UZ(2,"path",24),m.qZA(),m.qZA()}if(2&be){const ke=m.oxw();m.Q6J("matTooltip",ke._intl.lastPageLabel)("matTooltipDisabled",ke._nextButtonsDisabled())("matTooltipPosition","above")("disabled",ke._nextButtonsDisabled()),m.uIk("aria-label",ke._intl.lastPageLabel)}}let nt=(()=>{class be{constructor(){this.changes=new le.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(ke,yt,Ot)=>{if(0==Ot||0==yt)return`0 of ${Ot}`;const un=ke*yt;return`${un+1} \u2013 ${un<(Ot=Math.max(Ot,0))?Math.min(un+yt,Ot):un+yt} of ${Ot}`}}}return be.\u0275fac=function(ke){return new(ke||be)},be.\u0275prov=m.Yz7({factory:function(){return new be},token:be,providedIn:"root"}),be})();const Qe={provide:nt,deps:[[new m.FiY,new m.tp0,nt]],useFactory:function(be){return be||new nt}},Gt=new m.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Et=(0,y.Id)((0,y.dB)(class{}));let ut=(()=>{class be extends Et{constructor(ke,yt,Ot){if(super(),this._intl=ke,this._changeDetectorRef=yt,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new m.vpe,this._intlChanges=ke.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),Ot){const{pageSize:un,pageSizeOptions:Ut,hidePageSize:jn,showFirstLastButtons:ii}=Ot;null!=un&&(this._pageSize=un),null!=Ut&&(this._pageSizeOptions=Ut),null!=jn&&(this._hidePageSize=jn),null!=ii&&(this._showFirstLastButtons=ii)}}get pageIndex(){return this._pageIndex}set pageIndex(ke){this._pageIndex=Math.max((0,De.su)(ke),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(ke){this._length=(0,De.su)(ke),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(ke){this._pageSize=Math.max((0,De.su)(ke),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(ke){this._pageSizeOptions=(ke||[]).map(yt=>(0,De.su)(yt)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(ke){this._hidePageSize=(0,De.Ig)(ke)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(ke){this._showFirstLastButtons=(0,De.Ig)(ke)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const ke=this.pageIndex;this.pageIndex++,this._emitPageEvent(ke)}previousPage(){if(!this.hasPreviousPage())return;const ke=this.pageIndex;this.pageIndex--,this._emitPageEvent(ke)}firstPage(){if(!this.hasPreviousPage())return;const ke=this.pageIndex;this.pageIndex=0,this._emitPageEvent(ke)}lastPage(){if(!this.hasNextPage())return;const ke=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(ke)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const ke=this.getNumberOfPages()-1;return this.pageIndex<ke&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(ke){const Ot=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/ke)||0,this.pageSize=ke,this._emitPageEvent(Ot)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((ke,yt)=>ke-yt),this._changeDetectorRef.markForCheck())}_emitPageEvent(ke){this.page.emit({previousPageIndex:ke,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return be.\u0275fac=function(ke){return new(ke||be)(m.Y36(nt),m.Y36(m.sBO),m.Y36(void 0))},be.\u0275dir=m.lG2({type:be,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[m.qOj]}),be})(),Ke=(()=>{class be extends ut{constructor(ke,yt,Ot){super(ke,yt,Ot),Ot&&null!=Ot.formFieldAppearance&&(this._formFieldAppearance=Ot.formFieldAppearance)}}return be.\u0275fac=function(ke){return new(ke||be)(m.Y36(nt),m.Y36(m.sBO),m.Y36(Gt,8))},be.\u0275cmp=m.Xpm({type:be,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[m.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(ke,yt){1&ke&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.YNc(2,Ye,5,3,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"div",4),m._uU(5),m.qZA(),m.YNc(6,tt,3,5,"button",5),m.TgZ(7,"button",6),m.NdJ("click",function(){return yt.previousPage()}),m.O4$(),m.TgZ(8,"svg",7),m._UZ(9,"path",8),m.qZA(),m.qZA(),m.kcU(),m.TgZ(10,"button",9),m.NdJ("click",function(){return yt.nextPage()}),m.O4$(),m.TgZ(11,"svg",7),m._UZ(12,"path",10),m.qZA(),m.qZA(),m.YNc(13,Xe,3,5,"button",11),m.qZA(),m.qZA(),m.qZA()),2&ke&&(m.xp6(2),m.Q6J("ngIf",!yt.hidePageSize),m.xp6(3),m.hij(" ",yt._intl.getRangeLabel(yt.pageIndex,yt.pageSize,yt.length)," "),m.xp6(1),m.Q6J("ngIf",yt.showFirstLastButtons),m.xp6(1),m.Q6J("matTooltip",yt._intl.previousPageLabel)("matTooltipDisabled",yt._previousButtonsDisabled())("matTooltipPosition","above")("disabled",yt._previousButtonsDisabled()),m.uIk("aria-label",yt._intl.previousPageLabel),m.xp6(3),m.Q6J("matTooltip",yt._intl.nextPageLabel)("matTooltipDisabled",yt._nextButtonsDisabled())("matTooltipPosition","above")("disabled",yt._nextButtonsDisabled()),m.uIk("aria-label",yt._intl.nextPageLabel),m.xp6(3),m.Q6J("ngIf",yt.showFirstLastButtons))},directives:[_.O5,d.lW,U.gM,Ee.KE,he.gD,_.sg,y.ey],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),be})(),ze=(()=>{class be{}return be.\u0275fac=function(ke){return new(ke||be)},be.\u0275mod=m.oAB({type:be}),be.\u0275inj=m.cJS({providers:[Qe],imports:[[_.ez,d.ot,he.LD,U.AV,y.BQ]]}),be})()},7441:(In,mt,D)=>{"use strict";D.d(mt,{gD:()=>fn,LD:()=>jt});var _=D(625),m=D(8583),y=D(7716),d=D(2458),he=D(8295),U=D(2692),De=D(9238),le=D(9490),Ee=D(8345),se=D(6461),Te=D(9765),oe=D(1439),Ye=D(6682),tt=D(9761),Xe=D(3190),nt=D(5257),Me=D(5435),Qe=D(8002),Qt=D(7519),hn=D(6782),Gt=D(7238),Et=D(946),ut=D(3679);const Ke=["trigger"],ze=["panel"];function be(cn,Ln){if(1&cn&&(y.TgZ(0,"span",8),y._uU(1),y.qZA()),2&cn){const pt=y.oxw();y.xp6(1),y.Oqu(pt.placeholder)}}function q(cn,Ln){if(1&cn&&(y.TgZ(0,"span",12),y._uU(1),y.qZA()),2&cn){const pt=y.oxw(2);y.xp6(1),y.Oqu(pt.triggerValue)}}function ke(cn,Ln){1&cn&&y.Hsn(0,0,["*ngSwitchCase","true"])}function yt(cn,Ln){if(1&cn&&(y.TgZ(0,"span",9),y.YNc(1,q,2,1,"span",10),y.YNc(2,ke,1,0,"ng-content",11),y.qZA()),2&cn){const pt=y.oxw();y.Q6J("ngSwitch",!!pt.customTrigger),y.xp6(2),y.Q6J("ngSwitchCase",!0)}}function Ot(cn,Ln){if(1&cn){const pt=y.EpF();y.TgZ(0,"div",13),y.TgZ(1,"div",14,15),y.NdJ("@transformPanel.done",function(B){return y.CHM(pt),y.oxw()._panelDoneAnimatingStream.next(B.toState)})("keydown",function(B){return y.CHM(pt),y.oxw()._handleKeydown(B)}),y.Hsn(3,1),y.qZA(),y.qZA()}if(2&cn){const pt=y.oxw();y.Q6J("@transformPanelWrap",void 0),y.xp6(1),y.Gre("mat-select-panel ",pt._getPanelTheme(),""),y.Udp("transform-origin",pt._transformOrigin)("font-size",pt._triggerFontSize,"px"),y.Q6J("ngClass",pt.panelClass)("@transformPanel",pt.multiple?"showing-multiple":"showing"),y.uIk("id",pt.id+"-panel")("aria-multiselectable",pt.multiple)("aria-label",pt.ariaLabel||null)("aria-labelledby",pt._getPanelAriaLabelledby())}}const un=[[["mat-select-trigger"]],"*"],Ut=["mat-select-trigger","*"],jn={transformPanelWrap:(0,Gt.X$)("transformPanelWrap",[(0,Gt.eR)("* => void",(0,Gt.IO)("@transformPanel",[(0,Gt.pV)()],{optional:!0}))]),transformPanel:(0,Gt.X$)("transformPanel",[(0,Gt.SB)("void",(0,Gt.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,Gt.SB)("showing",(0,Gt.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,Gt.SB)("showing-multiple",(0,Gt.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,Gt.eR)("void => *",(0,Gt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,Gt.eR)("* => void",(0,Gt.jt)("100ms 25ms linear",(0,Gt.oB)({opacity:0})))])};let kn=0;const Pe=new y.OlP("mat-select-scroll-strategy"),ct=new y.OlP("MAT_SELECT_CONFIG"),Ft={provide:Pe,deps:[_.aV],useFactory:function(cn){return()=>cn.scrollStrategies.reposition()}};class me{constructor(Ln,pt){this.source=Ln,this.value=pt}}const rt=(0,d.Kr)((0,d.sb)((0,d.Id)((0,d.FD)(class{constructor(cn,Ln,pt,ue,B){this._elementRef=cn,this._defaultErrorStateMatcher=Ln,this._parentForm=pt,this._parentFormGroup=ue,this.ngControl=B}})))),je=new y.OlP("MatSelectTrigger");let at=(()=>{class cn extends rt{constructor(pt,ue,B,H,ae,Le,ge,Ue,Bt,an,Tn,Nn,Pn,ei){var Jn,ft,gt;super(ae,H,ge,Ue,an),this._viewportRuler=pt,this._changeDetectorRef=ue,this._ngZone=B,this._dir=Le,this._parentFormField=Bt,this._liveAnnouncer=Pn,this._defaultOptions=ei,this._panelOpen=!1,this._compareWith=(wt,ln)=>wt===ln,this._uid="mat-select-"+kn++,this._triggerAriaLabelledBy=null,this._destroy=new Te.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+kn++,this._panelDoneAnimatingStream=new Te.xQ,this._overlayPanelClass=(null===(Jn=this._defaultOptions)||void 0===Jn?void 0:Jn.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(gt=null===(ft=this._defaultOptions)||void 0===ft?void 0:ft.disableOptionCentering)&&void 0!==gt&&gt,this.ariaLabel="",this.optionSelectionChanges=(0,oe.P)(()=>{const wt=this.options;return wt?wt.changes.pipe((0,tt.O)(wt),(0,Xe.w)(()=>(0,Ye.T)(...wt.map(ln=>ln.onSelectionChange)))):this._ngZone.onStable.pipe((0,nt.q)(1),(0,Xe.w)(()=>this.optionSelectionChanges))}),this.openedChange=new y.vpe,this._openedStream=this.openedChange.pipe((0,Me.h)(wt=>wt),(0,Qe.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Me.h)(wt=>!wt),(0,Qe.U)(()=>{})),this.selectionChange=new y.vpe,this.valueChange=new y.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ei?void 0:ei.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ei.typeaheadDebounceInterval),this._scrollStrategyFactory=Nn,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Tn)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(pt){this._placeholder=pt,this.stateChanges.next()}get required(){return this._required}set required(pt){this._required=(0,le.Ig)(pt),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(pt){this._multiple=(0,le.Ig)(pt)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(pt){this._disableOptionCentering=(0,le.Ig)(pt)}get compareWith(){return this._compareWith}set compareWith(pt){this._compareWith=pt,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(pt){(pt!==this._value||this._multiple&&Array.isArray(pt))&&(this.options&&this._setSelectionByValue(pt),this._value=pt)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(pt){this._typeaheadDebounceInterval=(0,le.su)(pt)}get id(){return this._id}set id(pt){this._id=pt||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Ee.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Qt.x)(),(0,hn.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,hn.R)(this._destroy)).subscribe(pt=>{pt.added.forEach(ue=>ue.select()),pt.removed.forEach(ue=>ue.deselect())}),this.options.changes.pipe((0,tt.O)(null),(0,hn.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const pt=this._getTriggerAriaLabelledby();if(pt!==this._triggerAriaLabelledBy){const ue=this._elementRef.nativeElement;this._triggerAriaLabelledBy=pt,pt?ue.setAttribute("aria-labelledby",pt):ue.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(pt){pt.disabled&&this.stateChanges.next(),pt.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(pt){this.value=pt}registerOnChange(pt){this._onChange=pt}registerOnTouched(pt){this._onTouched=pt}setDisabledState(pt){this.disabled=pt,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var pt,ue;return this.multiple?(null===(pt=this._selectionModel)||void 0===pt?void 0:pt.selected)||[]:null===(ue=this._selectionModel)||void 0===ue?void 0:ue.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const pt=this._selectionModel.selected.map(ue=>ue.viewValue);return this._isRtl()&&pt.reverse(),pt.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(pt){this.disabled||(this.panelOpen?this._handleOpenKeydown(pt):this._handleClosedKeydown(pt))}_handleClosedKeydown(pt){const ue=pt.keyCode,B=ue===se.JH||ue===se.LH||ue===se.oh||ue===se.SV,H=ue===se.K5||ue===se.L_,ae=this._keyManager;if(!ae.isTyping()&&H&&!(0,se.Vb)(pt)||(this.multiple||pt.altKey)&&B)pt.preventDefault(),this.open();else if(!this.multiple){const Le=this.selected;ae.onKeydown(pt);const ge=this.selected;ge&&Le!==ge&&this._liveAnnouncer.announce(ge.viewValue,1e4)}}_handleOpenKeydown(pt){const ue=this._keyManager,B=pt.keyCode,H=B===se.JH||B===se.LH,ae=ue.isTyping();if(H&&pt.altKey)pt.preventDefault(),this.close();else if(ae||B!==se.K5&&B!==se.L_||!ue.activeItem||(0,se.Vb)(pt))if(!ae&&this._multiple&&B===se.A&&pt.ctrlKey){pt.preventDefault();const Le=this.options.some(ge=>!ge.disabled&&!ge.selected);this.options.forEach(ge=>{ge.disabled||(Le?ge.select():ge.deselect())})}else{const Le=ue.activeItemIndex;ue.onKeydown(pt),this._multiple&&H&&pt.shiftKey&&ue.activeItem&&ue.activeItemIndex!==Le&&ue.activeItem._selectViaInteraction()}else pt.preventDefault(),ue.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,nt.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(pt){if(this._selectionModel.selected.forEach(ue=>ue.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&pt)Array.isArray(pt),pt.forEach(ue=>this._selectValue(ue)),this._sortValues();else{const ue=this._selectValue(pt);ue?this._keyManager.updateActiveItem(ue):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(pt){const ue=this.options.find(B=>{if(this._selectionModel.isSelected(B))return!1;try{return null!=B.value&&this._compareWith(B.value,pt)}catch(H){return!1}});return ue&&this._selectionModel.select(ue),ue}_initKeyManager(){this._keyManager=new De.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,hn.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,hn.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const pt=(0,Ye.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,hn.R)(pt)).subscribe(ue=>{this._onSelect(ue.source,ue.isUserInput),ue.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ye.T)(...this.options.map(ue=>ue._stateChanges)).pipe((0,hn.R)(pt)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(pt,ue){const B=this._selectionModel.isSelected(pt);null!=pt.value||this._multiple?(B!==pt.selected&&(pt.selected?this._selectionModel.select(pt):this._selectionModel.deselect(pt)),ue&&this._keyManager.setActiveItem(pt),this.multiple&&(this._sortValues(),ue&&this.focus())):(pt.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(pt.value)),B!==this._selectionModel.isSelected(pt)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const pt=this.options.toArray();this._selectionModel.sort((ue,B)=>this.sortComparator?this.sortComparator(ue,B,pt):pt.indexOf(ue)-pt.indexOf(B)),this.stateChanges.next()}}_propagateChanges(pt){let ue=null;ue=this.multiple?this.selected.map(B=>B.value):this.selected?this.selected.value:pt,this._value=ue,this.valueChange.emit(ue),this._onChange(ue),this.selectionChange.emit(this._getChangeEvent(ue)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var pt;return!this._panelOpen&&!this.disabled&&(null===(pt=this.options)||void 0===pt?void 0:pt.length)>0}focus(pt){this._elementRef.nativeElement.focus(pt)}_getPanelAriaLabelledby(){var pt;if(this.ariaLabel)return null;const ue=null===(pt=this._parentFormField)||void 0===pt?void 0:pt.getLabelId();return this.ariaLabelledby?(ue?ue+" ":"")+this.ariaLabelledby:ue}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var pt;if(this.ariaLabel)return null;const ue=null===(pt=this._parentFormField)||void 0===pt?void 0:pt.getLabelId();let B=(ue?ue+" ":"")+this._valueId;return this.ariaLabelledby&&(B+=" "+this.ariaLabelledby),B}_panelDoneAnimating(pt){this.openedChange.emit(pt)}setDescribedByIds(pt){this._ariaDescribedby=pt.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return cn.\u0275fac=function(pt){return new(pt||cn)(y.Y36(U.rL),y.Y36(y.sBO),y.Y36(y.R0b),y.Y36(d.rD),y.Y36(y.SBq),y.Y36(Et.Is,8),y.Y36(ut.F,8),y.Y36(ut.sg,8),y.Y36(he.G_,8),y.Y36(ut.a5,10),y.$8M("tabindex"),y.Y36(Pe),y.Y36(De.Kd),y.Y36(ct,8))},cn.\u0275dir=y.lG2({type:cn,viewQuery:function(pt,ue){if(1&pt&&(y.Gf(Ke,5),y.Gf(ze,5),y.Gf(_.pI,5)),2&pt){let B;y.iGM(B=y.CRH())&&(ue.trigger=B.first),y.iGM(B=y.CRH())&&(ue.panel=B.first),y.iGM(B=y.CRH())&&(ue._overlayDir=B.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[y.qOj,y.TTD]}),cn})(),fn=(()=>{class cn extends at{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(pt,ue,B){const H=this._getItemHeight();return Math.min(Math.max(0,H*pt-ue+H/2),B)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,hn.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,nt.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(pt){const ue=(0,d.CB)(pt,this.options,this.optionGroups),B=this._getItemHeight();this.panel.nativeElement.scrollTop=0===pt&&1===ue?0:(0,d.jH)((pt+ue)*B,B,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(pt){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(pt)}_getChangeEvent(pt){return new me(this,pt)}_calculateOverlayOffsetX(){const pt=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),ue=this._viewportRuler.getViewportSize(),B=this._isRtl(),H=this.multiple?56:32;let ae;if(this.multiple)ae=40;else if(this.disableOptionCentering)ae=16;else{let Ue=this._selectionModel.selected[0]||this.options.first;ae=Ue&&Ue.group?32:16}B||(ae*=-1);const Le=0-(pt.left+ae-(B?H:0)),ge=pt.right+ae-ue.width+(B?0:H);Le>0?ae+=Le+8:ge>0&&(ae-=ge+8),this._overlayDir.offsetX=Math.round(ae),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(pt,ue,B){const H=this._getItemHeight(),ae=(H-this._triggerRect.height)/2,Le=Math.floor(256/H);let ge;return this.disableOptionCentering?0:(ge=0===this._scrollTop?pt*H:this._scrollTop===B?(pt-(this._getItemCount()-Le))*H+(H-(this._getItemCount()*H-256)%H):ue-H/2,Math.round(-1*ge-ae))}_checkOverlayWithinViewport(pt){const ue=this._getItemHeight(),B=this._viewportRuler.getViewportSize(),H=this._triggerRect.top-8,ae=B.height-this._triggerRect.bottom-8,Le=Math.abs(this._offsetY),Ue=Math.min(this._getItemCount()*ue,256)-Le-this._triggerRect.height;Ue>ae?this._adjustPanelUp(Ue,ae):Le>H?this._adjustPanelDown(Le,H,pt):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(pt,ue){const B=Math.round(pt-ue);this._scrollTop-=B,this._offsetY-=B,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(pt,ue,B){const H=Math.round(pt-ue);if(this._scrollTop+=H,this._offsetY+=H,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=B)return this._scrollTop=B,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const pt=this._getItemHeight(),ue=this._getItemCount(),B=Math.min(ue*pt,256),ae=ue*pt-B;let Le;Le=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),Le+=(0,d.CB)(Le,this.options,this.optionGroups);const ge=B/2;this._scrollTop=this._calculateOverlayScroll(Le,ge,ae),this._offsetY=this._calculateOverlayOffsetY(Le,ge,ae),this._checkOverlayWithinViewport(ae)}_getOriginBasedOnOption(){const pt=this._getItemHeight(),ue=(pt-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-ue+pt/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return cn.\u0275fac=function(){let Ln;return function(ue){return(Ln||(Ln=y.n5z(cn)))(ue||cn)}}(),cn.\u0275cmp=y.Xpm({type:cn,selectors:[["mat-select"]],contentQueries:function(pt,ue,B){if(1&pt&&(y.Suo(B,je,5),y.Suo(B,d.ey,5),y.Suo(B,d.K7,5)),2&pt){let H;y.iGM(H=y.CRH())&&(ue.customTrigger=H.first),y.iGM(H=y.CRH())&&(ue.options=H),y.iGM(H=y.CRH())&&(ue.optionGroups=H)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(pt,ue){1&pt&&y.NdJ("keydown",function(H){return ue._handleKeydown(H)})("focus",function(){return ue._onFocus()})("blur",function(){return ue._onBlur()}),2&pt&&(y.uIk("id",ue.id)("tabindex",ue.tabIndex)("aria-controls",ue.panelOpen?ue.id+"-panel":null)("aria-expanded",ue.panelOpen)("aria-label",ue.ariaLabel||null)("aria-required",ue.required.toString())("aria-disabled",ue.disabled.toString())("aria-invalid",ue.errorState)("aria-describedby",ue._ariaDescribedby||null)("aria-activedescendant",ue._getAriaActiveDescendant()),y.ekj("mat-select-disabled",ue.disabled)("mat-select-invalid",ue.errorState)("mat-select-required",ue.required)("mat-select-empty",ue.empty)("mat-select-multiple",ue.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[y._Bn([{provide:he.Eo,useExisting:cn},{provide:d.HF,useExisting:cn}]),y.qOj],ngContentSelectors:Ut,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(pt,ue){if(1&pt&&(y.F$t(un),y.TgZ(0,"div",0,1),y.NdJ("click",function(){return ue.toggle()}),y.TgZ(3,"div",2),y.YNc(4,be,2,1,"span",3),y.YNc(5,yt,3,2,"span",4),y.qZA(),y.TgZ(6,"div",5),y._UZ(7,"div",6),y.qZA(),y.qZA(),y.YNc(8,Ot,4,14,"ng-template",7),y.NdJ("backdropClick",function(){return ue.close()})("attach",function(){return ue._onAttached()})("detach",function(){return ue.close()})),2&pt){const B=y.MAs(1);y.uIk("aria-owns",ue.panelOpen?ue.id+"-panel":null),y.xp6(3),y.Q6J("ngSwitch",ue.empty),y.uIk("id",ue._valueId),y.xp6(1),y.Q6J("ngSwitchCase",!0),y.xp6(1),y.Q6J("ngSwitchCase",!1),y.xp6(3),y.Q6J("cdkConnectedOverlayPanelClass",ue._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",ue._scrollStrategy)("cdkConnectedOverlayOrigin",B)("cdkConnectedOverlayOpen",ue.panelOpen)("cdkConnectedOverlayPositions",ue._positions)("cdkConnectedOverlayMinWidth",null==ue._triggerRect?null:ue._triggerRect.width)("cdkConnectedOverlayOffsetY",ue._offsetY)}},directives:[_.xu,m.RF,m.n9,_.pI,m.ED,m.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[jn.transformPanelWrap,jn.transformPanel]},changeDetection:0}),cn})(),jt=(()=>{class cn{}return cn.\u0275fac=function(pt){return new(pt||cn)},cn.\u0275mod=y.oAB({type:cn}),cn.\u0275inj=y.cJS({providers:[Ft],imports:[[m.ez,_.U8,d.Ng,d.BQ],U.ZD,he.lN,d.Ng,d.BQ]}),cn})()},3017:(In,mt,D)=>{"use strict";D.d(mt,{JX:()=>bt,TM:()=>ct,Rh:()=>Pe,SJ:()=>Ft});var _=D(521),m=D(2692),y=D(8583),d=D(7716),he=D(2458),U=D(9490),De=D(6461),le=D(9765),Ee=D(2759),se=D(6682),Te=D(7393);function oe(me){return rt=>rt.lift(new Ye(me))}class Ye{constructor(rt){this.value=rt}call(rt,je){return je.subscribe(new tt(rt,this.value))}}class tt extends Te.L{constructor(rt,je){super(rt),this.value=je}_next(rt){this.destination.next(this.value)}}var Xe=D(5435),nt=D(8002),Me=D(6782),Qe=D(7519),Qt=D(5257),hn=D(9761),Gt=D(4395),Et=D(7238),ut=D(6237),Ke=D(9238),ze=D(946);const be=["*"];function q(me,rt){if(1&me){const je=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){return d.CHM(je),d.oxw()._onBackdropClicked()}),d.qZA()}if(2&me){const je=d.oxw();d.ekj("mat-drawer-shown",je._isShowingBackdrop())}}function ke(me,rt){1&me&&(d.TgZ(0,"mat-drawer-content"),d.Hsn(1,2),d.qZA())}const yt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ot=["mat-drawer","mat-drawer-content","*"];function un(me,rt){if(1&me){const je=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){return d.CHM(je),d.oxw()._onBackdropClicked()}),d.qZA()}if(2&me){const je=d.oxw();d.ekj("mat-drawer-shown",je._isShowingBackdrop())}}function Ut(me,rt){1&me&&(d.TgZ(0,"mat-sidenav-content",3),d.Hsn(1,2),d.qZA())}const jn=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],ii=["mat-sidenav","mat-sidenav-content","*"],Gn=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",Qn={transformDrawer:(0,Et.X$)("transform",[(0,Et.SB)("open, open-instant",(0,Et.oB)({transform:"none",visibility:"visible"})),(0,Et.SB)("void",(0,Et.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Et.eR)("void => open-instant",(0,Et.jt)("0ms")),(0,Et.eR)("void <=> open, open-instant => void",(0,Et.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Rt=new d.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Zt=new d.OlP("MAT_DRAWER_CONTAINER");let de=(()=>{class me extends m.PQ{constructor(je,We,at,fn,jt){super(at,fn,jt),this._changeDetectorRef=je,this._container=We}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return me.\u0275fac=function(je){return new(je||me)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>Be)),d.Y36(d.SBq),d.Y36(m.mF),d.Y36(d.R0b))},me.\u0275cmp=d.Xpm({type:me,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(je,We){2&je&&d.Udp("margin-left",We._container._contentMargins.left,"px")("margin-right",We._container._contentMargins.right,"px")},features:[d.qOj],ngContentSelectors:be,decls:1,vars:0,template:function(je,We){1&je&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),me})(),te=(()=>{class me{constructor(je,We,at,fn,jt,cn,Ln){this._elementRef=je,this._focusTrapFactory=We,this._focusMonitor=at,this._platform=fn,this._ngZone=jt,this._doc=cn,this._container=Ln,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new le.xQ,this._animationEnd=new le.xQ,this._animationState="void",this.openedChange=new d.vpe(!0),this._openedStream=this.openedChange.pipe((0,Xe.h)(pt=>pt),(0,nt.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Xe.h)(pt=>pt.fromState!==pt.toState&&0===pt.toState.indexOf("open")),oe(void 0)),this._closedStream=this.openedChange.pipe((0,Xe.h)(pt=>!pt),(0,nt.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Xe.h)(pt=>pt.fromState!==pt.toState&&"void"===pt.toState),oe(void 0)),this._destroyed=new le.xQ,this.onPositionChanged=new d.vpe,this._modeChanged=new le.xQ,this.openedChange.subscribe(pt=>{pt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{(0,Ee.R)(this._elementRef.nativeElement,"keydown").pipe((0,Xe.h)(pt=>pt.keyCode===De.hY&&!this.disableClose&&!(0,De.Vb)(pt)),(0,Me.R)(this._destroyed)).subscribe(pt=>this._ngZone.run(()=>{this.close(),pt.stopPropagation(),pt.preventDefault()}))}),this._animationEnd.pipe((0,Qe.x)((pt,ue)=>pt.fromState===ue.fromState&&pt.toState===ue.toState)).subscribe(pt=>{const{fromState:ue,toState:B}=pt;(0===B.indexOf("open")&&"void"===ue||"void"===B&&0===ue.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(je){(je="end"===je?"end":"start")!=this._position&&(this._position=je,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(je){this._mode=je,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(je){this._disableClose=(0,U.Ig)(je)}get autoFocus(){const je=this._autoFocus;return null==je?"side"!==this.mode:je}set autoFocus(je){this._autoFocus=(0,U.Ig)(je)}get opened(){return this._opened}set opened(je){this.toggle((0,U.Ig)(je))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(je=>{!je&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var je;const We=null===(je=this._doc)||void 0===je?void 0:je.activeElement;return!!We&&this._elementRef.nativeElement.contains(We)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(je){return this.toggle(!0,je)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(je=!this.opened,We){return this._setOpen(je,!je&&this._isFocusWithinDrawer(),We)}_setOpen(je,We,at="program"){return this._opened=je,je?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=at):(this._animationState="void",We&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(fn=>{this.openedChange.pipe((0,Qt.q)(1)).subscribe(jt=>fn(jt?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(je){this._animationStarted.next(je)}_animationDoneListener(je){this._animationEnd.next(je)}}return me.\u0275fac=function(je){return new(je||me)(d.Y36(d.SBq),d.Y36(Ke.qV),d.Y36(Ke.tE),d.Y36(_.t4),d.Y36(d.R0b),d.Y36(y.K0,8),d.Y36(Zt,8))},me.\u0275cmp=d.Xpm({type:me,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(je,We){1&je&&d.WFA("@transform.start",function(fn){return We._animationStartListener(fn)})("@transform.done",function(fn){return We._animationDoneListener(fn)}),2&je&&(d.uIk("align",null),d.d8E("@transform",We._animationState),d.ekj("mat-drawer-end","end"===We.position)("mat-drawer-over","over"===We.mode)("mat-drawer-push","push"===We.mode)("mat-drawer-side","side"===We.mode)("mat-drawer-opened",We.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:be,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(je,We){1&je&&(d.F$t(),d.TgZ(0,"div",0),d.Hsn(1),d.qZA())},directives:[m.PQ],encapsulation:2,data:{animation:[Qn.transformDrawer]},changeDetection:0}),me})(),Be=(()=>{class me{constructor(je,We,at,fn,jt,cn=!1,Ln){this._dir=je,this._element=We,this._ngZone=at,this._changeDetectorRef=fn,this._animationMode=Ln,this._drawers=new d.n_E,this.backdropClick=new d.vpe,this._destroyed=new le.xQ,this._doCheckSubject=new le.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new le.xQ,je&&je.change.pipe((0,Me.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),jt.change().pipe((0,Me.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=cn}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(je){this._autosize=(0,U.Ig)(je)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(je){this._backdropOverride=null==je?null:(0,U.Ig)(je)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,hn.O)(this._allDrawers),(0,Me.R)(this._destroyed)).subscribe(je=>{this._drawers.reset(je.filter(We=>!We._container||We._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,hn.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(je=>{this._watchDrawerToggle(je),this._watchDrawerPosition(je),this._watchDrawerMode(je)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Gt.b)(10),(0,Me.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(je=>je.open())}close(){this._drawers.forEach(je=>je.close())}updateContentMargins(){let je=0,We=0;if(this._left&&this._left.opened)if("side"==this._left.mode)je+=this._left._getWidth();else if("push"==this._left.mode){const at=this._left._getWidth();je+=at,We-=at}if(this._right&&this._right.opened)if("side"==this._right.mode)We+=this._right._getWidth();else if("push"==this._right.mode){const at=this._right._getWidth();We+=at,je-=at}je=je||null,We=We||null,(je!==this._contentMargins.left||We!==this._contentMargins.right)&&(this._contentMargins={left:je,right:We},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(je){je._animationStarted.pipe((0,Xe.h)(We=>We.fromState!==We.toState),(0,Me.R)(this._drawers.changes)).subscribe(We=>{"open-instant"!==We.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==je.mode&&je.openedChange.pipe((0,Me.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(je.opened))}_watchDrawerPosition(je){!je||je.onPositionChanged.pipe((0,Me.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Qt.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(je){je&&je._modeChanged.pipe((0,Me.R)((0,se.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(je){const We=this._element.nativeElement.classList,at="mat-drawer-container-has-open";je?We.add(at):We.remove(at)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(je=>{"end"==je.position?this._end=je:this._start=je}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(je=>je&&!je.disableClose&&this._canHaveBackdrop(je)).forEach(je=>je._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(je){return"side"!==je.mode||!!this._backdropOverride}_isDrawerOpen(je){return null!=je&&je.opened}}return me.\u0275fac=function(je){return new(je||me)(d.Y36(ze.Is,8),d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(m.rL),d.Y36(Rt),d.Y36(ut.Qb,8))},me.\u0275cmp=d.Xpm({type:me,selectors:[["mat-drawer-container"]],contentQueries:function(je,We,at){if(1&je&&(d.Suo(at,de,5),d.Suo(at,te,5)),2&je){let fn;d.iGM(fn=d.CRH())&&(We._content=fn.first),d.iGM(fn=d.CRH())&&(We._allDrawers=fn)}},viewQuery:function(je,We){if(1&je&&d.Gf(de,5),2&je){let at;d.iGM(at=d.CRH())&&(We._userContent=at.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(je,We){2&je&&d.ekj("mat-drawer-container-explicit-backdrop",We._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[d._Bn([{provide:Zt,useExisting:me}])],ngContentSelectors:Ot,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(je,We){1&je&&(d.F$t(yt),d.YNc(0,q,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,ke,2,0,"mat-drawer-content",1)),2&je&&(d.Q6J("ngIf",We.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!We._content))},directives:[y.O5,de],styles:[Gn],encapsulation:2,changeDetection:0}),me})(),Pe=(()=>{class me extends de{constructor(je,We,at,fn,jt){super(je,We,at,fn,jt)}}return me.\u0275fac=function(je){return new(je||me)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>ct)),d.Y36(d.SBq),d.Y36(m.mF),d.Y36(d.R0b))},me.\u0275cmp=d.Xpm({type:me,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(je,We){2&je&&d.Udp("margin-left",We._container._contentMargins.left,"px")("margin-right",We._container._contentMargins.right,"px")},features:[d.qOj],ngContentSelectors:be,decls:1,vars:0,template:function(je,We){1&je&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),me})(),bt=(()=>{class me extends te{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(je){this._fixedInViewport=(0,U.Ig)(je)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(je){this._fixedTopGap=(0,U.su)(je)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(je){this._fixedBottomGap=(0,U.su)(je)}}return me.\u0275fac=function(){let rt;return function(We){return(rt||(rt=d.n5z(me)))(We||me)}}(),me.\u0275cmp=d.Xpm({type:me,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(je,We){2&je&&(d.uIk("align",null),d.Udp("top",We.fixedInViewport?We.fixedTopGap:null,"px")("bottom",We.fixedInViewport?We.fixedBottomGap:null,"px"),d.ekj("mat-drawer-end","end"===We.position)("mat-drawer-over","over"===We.mode)("mat-drawer-push","push"===We.mode)("mat-drawer-side","side"===We.mode)("mat-drawer-opened",We.opened)("mat-sidenav-fixed",We.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[d.qOj],ngContentSelectors:be,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(je,We){1&je&&(d.F$t(),d.TgZ(0,"div",0),d.Hsn(1),d.qZA())},directives:[m.PQ],encapsulation:2,data:{animation:[Qn.transformDrawer]},changeDetection:0}),me})(),ct=(()=>{class me extends Be{}return me.\u0275fac=function(){let rt;return function(We){return(rt||(rt=d.n5z(me)))(We||me)}}(),me.\u0275cmp=d.Xpm({type:me,selectors:[["mat-sidenav-container"]],contentQueries:function(je,We,at){if(1&je&&(d.Suo(at,Pe,5),d.Suo(at,bt,5)),2&je){let fn;d.iGM(fn=d.CRH())&&(We._content=fn.first),d.iGM(fn=d.CRH())&&(We._allDrawers=fn)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(je,We){2&je&&d.ekj("mat-drawer-container-explicit-backdrop",We._backdropOverride)},exportAs:["matSidenavContainer"],features:[d._Bn([{provide:Zt,useExisting:me}]),d.qOj],ngContentSelectors:ii,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(je,We){1&je&&(d.F$t(jn),d.YNc(0,un,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,Ut,2,0,"mat-sidenav-content",1)),2&je&&(d.Q6J("ngIf",We.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!We._content))},directives:[y.O5,Pe,m.PQ],styles:[Gn],encapsulation:2,changeDetection:0}),me})(),Ft=(()=>{class me{}return me.\u0275fac=function(je){return new(je||me)},me.\u0275mod=d.oAB({type:me}),me.\u0275inj=d.cJS({imports:[[y.ez,he.BQ,_.ud,m.ZD],m.ZD,he.BQ]}),me})()},5396:(In,mt,D)=>{"use strict";D.d(mt,{rP:()=>Et});var _=D(8553),m=D(7716),y=D(2458);D(9490),D(3679),D(6237),D(9238);let Gt=(()=>{class ut{}return ut.\u0275fac=function(ze){return new(ze||ut)},ut.\u0275mod=m.oAB({type:ut}),ut.\u0275inj=m.cJS({}),ut})(),Et=(()=>{class ut{}return ut.\u0275fac=function(ze){return new(ze||ut)},ut.\u0275mod=m.oAB({type:ut}),ut.\u0275inj=m.cJS({imports:[[Gt,y.si,y.BQ,_.Q8],Gt,y.BQ]}),ut})()},2789:(In,mt,D)=>{"use strict";D.d(mt,{ev:()=>hi,Dz:()=>pe,w1:()=>Tt,ge:()=>tn,fO:()=>we,XQ:()=>Ai,as:()=>xi,Ee:()=>qi,Gk:()=>vr,nj:()=>Wi,BZ:()=>Nt,by:()=>yr,p0:()=>Kn});var _=D(9490),m=D(8345),y=D(7716),d=D(946),he=D(521),U=D(2692),De=D(8583),le=D(9765),Ee=D(4402),se=D(6215),Te=D(5639),oe=D(5917),Ye=D(6782),tt=D(5257);const Xe=[[["caption"]],[["colgroup"],["col"]]],nt=["caption","colgroup, col"];function Qt($e){return class extends $e{constructor(...Mt){super(...Mt),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(Mt){const Ne=this._sticky;this._sticky=(0,_.Ig)(Mt),this._hasStickyChanged=Ne!==this._sticky}hasStickyChanged(){const Mt=this._hasStickyChanged;return this._hasStickyChanged=!1,Mt}resetStickyChanged(){this._hasStickyChanged=!1}}}const hn=new y.OlP("CDK_TABLE");let Et=(()=>{class $e{constructor(Ne){this.template=Ne}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.Rgc))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","cdkCellDef",""]]}),$e})(),ut=(()=>{class $e{constructor(Ne){this.template=Ne}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.Rgc))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","cdkHeaderCellDef",""]]}),$e})(),Ke=(()=>{class $e{constructor(Ne){this.template=Ne}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.Rgc))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","cdkFooterCellDef",""]]}),$e})();class ze{}const be=Qt(ze);let q=(()=>{class $e extends be{constructor(Ne){super(),this._table=Ne,this._stickyEnd=!1}get name(){return this._name}set name(Ne){this._setNameInput(Ne)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Ne){const ht=this._stickyEnd;this._stickyEnd=(0,_.Ig)(Ne),this._hasStickyChanged=ht!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Ne){Ne&&(this._name=Ne,this.cssClassFriendlyName=Ne.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(hn,8))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","cdkColumnDef",""]],contentQueries:function(Ne,ht,Xt){if(1&Ne&&(y.Suo(Xt,Et,5),y.Suo(Xt,ut,5),y.Suo(Xt,Ke,5)),2&Ne){let En;y.iGM(En=y.CRH())&&(ht.cell=En.first),y.iGM(En=y.CRH())&&(ht.headerCell=En.first),y.iGM(En=y.CRH())&&(ht.footerCell=En.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[y._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:$e}]),y.qOj]}),$e})();class ke{constructor(Mt,Ne){const ht=Ne.nativeElement.classList;for(const Xt of Mt._columnCssClassName)ht.add(Xt)}}let yt=(()=>{class $e extends ke{constructor(Ne,ht){super(Ne,ht)}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(q),y.Y36(y.SBq))},$e.\u0275dir=y.lG2({type:$e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[y.qOj]}),$e})(),un=(()=>{class $e extends ke{constructor(Ne,ht){var Xt;if(super(Ne,ht),1===(null===(Xt=Ne._table)||void 0===Xt?void 0:Xt._elementRef.nativeElement.nodeType)){const En=Ne._table._elementRef.nativeElement.getAttribute("role");ht.nativeElement.setAttribute("role","grid"===En||"treegrid"===En?"gridcell":"cell")}}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(q),y.Y36(y.SBq))},$e.\u0275dir=y.lG2({type:$e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[y.qOj]}),$e})();class Ut{constructor(){this.tasks=[],this.endTasks=[]}}const jn=new y.OlP("_COALESCED_STYLE_SCHEDULER");let ii=(()=>{class $e{constructor(Ne){this._ngZone=Ne,this._currentSchedule=null,this._destroyed=new le.xQ}schedule(Ne){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Ne)}scheduleEnd(Ne){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Ne)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Ut,this._getScheduleObservable().pipe((0,Ye.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Ne=this._currentSchedule;this._currentSchedule=new Ut;for(const ht of Ne.tasks)ht();for(const ht of Ne.endTasks)ht()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ee.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,tt.q)(1))}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.LFG(y.R0b))},$e.\u0275prov=y.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),Qn=(()=>{class $e{constructor(Ne,ht){this.template=Ne,this._differs=ht}ngOnChanges(Ne){if(!this._columnsDiffer){const ht=Ne.columns&&Ne.columns.currentValue||[];this._columnsDiffer=this._differs.find(ht).create(),this._columnsDiffer.diff(ht)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Ne){return this instanceof Zt?Ne.headerCell.template:this instanceof te?Ne.footerCell.template:Ne.cell.template}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.Rgc),y.Y36(y.ZZ4))},$e.\u0275dir=y.lG2({type:$e,features:[y.TTD]}),$e})();class kn extends Qn{}const Rt=Qt(kn);let Zt=(()=>{class $e extends Rt{constructor(Ne,ht,Xt){super(Ne,ht),this._table=Xt}ngOnChanges(Ne){super.ngOnChanges(Ne)}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.Rgc),y.Y36(y.ZZ4),y.Y36(hn,8))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[y.qOj,y.TTD]}),$e})();class Ae extends Qn{}const de=Qt(Ae);let te=(()=>{class $e extends de{constructor(Ne,ht,Xt){super(Ne,ht),this._table=Xt}ngOnChanges(Ne){super.ngOnChanges(Ne)}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.Rgc),y.Y36(y.ZZ4),y.Y36(hn,8))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[y.qOj,y.TTD]}),$e})(),Be=(()=>{class $e extends Qn{constructor(Ne,ht,Xt){super(Ne,ht),this._table=Xt}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.Rgc),y.Y36(y.ZZ4),y.Y36(hn,8))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[y.qOj]}),$e})(),Pe=(()=>{class $e{constructor(Ne){this._viewContainer=Ne,$e.mostRecentCellOutlet=this}ngOnDestroy(){$e.mostRecentCellOutlet===this&&($e.mostRecentCellOutlet=null)}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.s_b))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","cdkCellOutlet",""]]}),$e.mostRecentCellOutlet=null,$e})(),bt=(()=>{class $e{}return $e.\u0275fac=function(Ne){return new(Ne||$e)},$e.\u0275cmp=y.Xpm({type:$e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ne,ht){1&Ne&&y.GkF(0,0)},directives:[Pe],encapsulation:2}),$e})(),Ft=(()=>{class $e{}return $e.\u0275fac=function(Ne){return new(Ne||$e)},$e.\u0275cmp=y.Xpm({type:$e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ne,ht){1&Ne&&y.GkF(0,0)},directives:[Pe],encapsulation:2}),$e})(),me=(()=>{class $e{constructor(Ne){this.templateRef=Ne}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.Rgc))},$e.\u0275dir=y.lG2({type:$e,selectors:[["ng-template","cdkNoDataRow",""]]}),$e})();const rt=["top","bottom","left","right"];class je{constructor(Mt,Ne,ht,Xt,En=!0,xn=!0,St){this._isNativeHtmlTable=Mt,this._stickCellCss=Ne,this.direction=ht,this._coalescedStyleScheduler=Xt,this._isBrowser=En,this._needsPositionStickyOnElement=xn,this._positionListener=St,this._cachedCellWidths=[],this._borderCellCss={top:`${Ne}-border-elem-top`,bottom:`${Ne}-border-elem-bottom`,left:`${Ne}-border-elem-left`,right:`${Ne}-border-elem-right`}}clearStickyPositioning(Mt,Ne){const ht=[];for(const Xt of Mt)if(Xt.nodeType===Xt.ELEMENT_NODE){ht.push(Xt);for(let En=0;En<Xt.children.length;En++)ht.push(Xt.children[En])}this._coalescedStyleScheduler.schedule(()=>{for(const Xt of ht)this._removeStickyStyle(Xt,Ne)})}updateStickyColumns(Mt,Ne,ht,Xt=!0){if(!Mt.length||!this._isBrowser||!Ne.some($n=>$n)&&!ht.some($n=>$n))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const En=Mt[0],xn=En.children.length,St=this._getCellWidths(En,Xt),vt=this._getStickyStartColumnPositions(St,Ne),st=this._getStickyEndColumnPositions(St,ht),$t=Ne.lastIndexOf(!0),_n=ht.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const $n="rtl"===this.direction,pi=$n?"right":"left",Mi=$n?"left":"right";for(const ui of Mt)for(let Tr=0;Tr<xn;Tr++){const mr=ui.children[Tr];Ne[Tr]&&this._addStickyStyle(mr,pi,vt[Tr],Tr===$t),ht[Tr]&&this._addStickyStyle(mr,Mi,st[Tr],Tr===_n)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===$t?[]:St.slice(0,$t+1).map((ui,Tr)=>Ne[Tr]?ui:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===_n?[]:St.slice(_n).map((ui,Tr)=>ht[Tr+_n]?ui:null).reverse()}))})}stickRows(Mt,Ne,ht){if(!this._isBrowser)return;const Xt="bottom"===ht?Mt.slice().reverse():Mt,En="bottom"===ht?Ne.slice().reverse():Ne,xn=[],St=[],vt=[];for(let $t=0,_n=0;$t<Xt.length;$t++){if(!En[$t])continue;xn[$t]=_n;const $n=Xt[$t];vt[$t]=this._isNativeHtmlTable?Array.from($n.children):[$n];const pi=$n.getBoundingClientRect().height;_n+=pi,St[$t]=pi}const st=En.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var $t,_n;for(let $n=0;$n<Xt.length;$n++){if(!En[$n])continue;const pi=xn[$n],Mi=$n===st;for(const ui of vt[$n])this._addStickyStyle(ui,ht,pi,Mi)}"top"===ht?null===($t=this._positionListener)||void 0===$t||$t.stickyHeaderRowsUpdated({sizes:St,offsets:xn,elements:vt}):null===(_n=this._positionListener)||void 0===_n||_n.stickyFooterRowsUpdated({sizes:St,offsets:xn,elements:vt})})}updateStickyFooterContainer(Mt,Ne){if(!this._isNativeHtmlTable)return;const ht=Mt.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{Ne.some(Xt=>!Xt)?this._removeStickyStyle(ht,["bottom"]):this._addStickyStyle(ht,"bottom",0,!1)})}_removeStickyStyle(Mt,Ne){for(const Xt of Ne)Mt.style[Xt]="",Mt.classList.remove(this._borderCellCss[Xt]);rt.some(Xt=>-1===Ne.indexOf(Xt)&&Mt.style[Xt])?Mt.style.zIndex=this._getCalculatedZIndex(Mt):(Mt.style.zIndex="",this._needsPositionStickyOnElement&&(Mt.style.position=""),Mt.classList.remove(this._stickCellCss))}_addStickyStyle(Mt,Ne,ht,Xt){Mt.classList.add(this._stickCellCss),Xt&&Mt.classList.add(this._borderCellCss[Ne]),Mt.style[Ne]=`${ht}px`,Mt.style.zIndex=this._getCalculatedZIndex(Mt),this._needsPositionStickyOnElement&&(Mt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Mt){const Ne={top:100,bottom:10,left:1,right:1};let ht=0;for(const Xt of rt)Mt.style[Xt]&&(ht+=Ne[Xt]);return ht?`${ht}`:""}_getCellWidths(Mt,Ne=!0){if(!Ne&&this._cachedCellWidths.length)return this._cachedCellWidths;const ht=[],Xt=Mt.children;for(let En=0;En<Xt.length;En++)ht.push(Xt[En].getBoundingClientRect().width);return this._cachedCellWidths=ht,ht}_getStickyStartColumnPositions(Mt,Ne){const ht=[];let Xt=0;for(let En=0;En<Mt.length;En++)Ne[En]&&(ht[En]=Xt,Xt+=Mt[En]);return ht}_getStickyEndColumnPositions(Mt,Ne){const ht=[];let Xt=0;for(let En=Mt.length;En>0;En--)Ne[En]&&(ht[En]=Xt,Xt+=Mt[En]);return ht}}const B=new y.OlP("CDK_SPL");let ae=(()=>{class $e{constructor(Ne,ht){this.viewContainer=Ne,this.elementRef=ht}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.s_b),y.Y36(y.SBq))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","rowOutlet",""]]}),$e})(),Le=(()=>{class $e{constructor(Ne,ht){this.viewContainer=Ne,this.elementRef=ht}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.s_b),y.Y36(y.SBq))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","headerRowOutlet",""]]}),$e})(),ge=(()=>{class $e{constructor(Ne,ht){this.viewContainer=Ne,this.elementRef=ht}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.s_b),y.Y36(y.SBq))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","footerRowOutlet",""]]}),$e})(),Ue=(()=>{class $e{constructor(Ne,ht){this.viewContainer=Ne,this.elementRef=ht}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.s_b),y.Y36(y.SBq))},$e.\u0275dir=y.lG2({type:$e,selectors:[["","noDataRowOutlet",""]]}),$e})(),Tn=(()=>{class $e{constructor(Ne,ht,Xt,En,xn,St,vt,st,$t,_n,$n){this._differs=Ne,this._changeDetectorRef=ht,this._elementRef=Xt,this._dir=xn,this._platform=vt,this._viewRepeater=st,this._coalescedStyleScheduler=$t,this._viewportRuler=_n,this._stickyPositioningListener=$n,this._onDestroy=new le.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new y.vpe,this.viewChange=new se.X({start:0,end:Number.MAX_VALUE}),En||this._elementRef.nativeElement.setAttribute("role","table"),this._document=St,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(Ne){this._trackByFn=Ne}get dataSource(){return this._dataSource}set dataSource(Ne){this._dataSource!==Ne&&this._switchDataSource(Ne)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Ne){this._multiTemplateDataRows=(0,_.Ig)(Ne),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Ne){this._fixedLayout=(0,_.Ig)(Ne),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((Ne,ht)=>this.trackBy?this.trackBy(ht.dataIndex,ht.data):ht),this._viewportRuler.change().pipe((0,Ye.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const ht=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||ht,this._forceRecalculateCellWidths=ht,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),(0,m.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Ne=this._dataDiffer.diff(this._renderRows);if(!Ne)return this._updateNoDataRow(),void this.contentChanged.next();const ht=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Ne,ht,(Xt,En,xn)=>this._getEmbeddedViewArgs(Xt.item,xn),Xt=>Xt.item.data,Xt=>{1===Xt.operation&&Xt.context&&this._renderCellTemplateForItem(Xt.record.item.rowDef,Xt.context)}),this._updateRowIndexContext(),Ne.forEachIdentityChange(Xt=>{ht.get(Xt.currentIndex).context.$implicit=Xt.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(Ne){this._customColumnDefs.add(Ne)}removeColumnDef(Ne){this._customColumnDefs.delete(Ne)}addRowDef(Ne){this._customRowDefs.add(Ne)}removeRowDef(Ne){this._customRowDefs.delete(Ne)}addHeaderRowDef(Ne){this._customHeaderRowDefs.add(Ne),this._headerRowDefChanged=!0}removeHeaderRowDef(Ne){this._customHeaderRowDefs.delete(Ne),this._headerRowDefChanged=!0}addFooterRowDef(Ne){this._customFooterRowDefs.add(Ne),this._footerRowDefChanged=!0}removeFooterRowDef(Ne){this._customFooterRowDefs.delete(Ne),this._footerRowDefChanged=!0}setNoDataRow(Ne){this._customNoDataRow=Ne}updateStickyHeaderRowStyles(){const Ne=this._getRenderedRows(this._headerRowOutlet),Xt=this._elementRef.nativeElement.querySelector("thead");Xt&&(Xt.style.display=Ne.length?"":"none");const En=this._headerRowDefs.map(xn=>xn.sticky);this._stickyStyler.clearStickyPositioning(Ne,["top"]),this._stickyStyler.stickRows(Ne,En,"top"),this._headerRowDefs.forEach(xn=>xn.resetStickyChanged())}updateStickyFooterRowStyles(){const Ne=this._getRenderedRows(this._footerRowOutlet),Xt=this._elementRef.nativeElement.querySelector("tfoot");Xt&&(Xt.style.display=Ne.length?"":"none");const En=this._footerRowDefs.map(xn=>xn.sticky);this._stickyStyler.clearStickyPositioning(Ne,["bottom"]),this._stickyStyler.stickRows(Ne,En,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,En),this._footerRowDefs.forEach(xn=>xn.resetStickyChanged())}updateStickyColumnStyles(){const Ne=this._getRenderedRows(this._headerRowOutlet),ht=this._getRenderedRows(this._rowOutlet),Xt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Ne,...ht,...Xt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Ne.forEach((En,xn)=>{this._addStickyColumnStyles([En],this._headerRowDefs[xn])}),this._rowDefs.forEach(En=>{const xn=[];for(let St=0;St<ht.length;St++)this._renderRows[St].rowDef===En&&xn.push(ht[St]);this._addStickyColumnStyles(xn,En)}),Xt.forEach((En,xn)=>{this._addStickyColumnStyles([En],this._footerRowDefs[xn])}),Array.from(this._columnDefsByName.values()).forEach(En=>En.resetStickyChanged())}_getAllRenderRows(){const Ne=[],ht=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Xt=0;Xt<this._data.length;Xt++){let En=this._data[Xt];const xn=this._getRenderRowsForData(En,Xt,ht.get(En));this._cachedRenderRowsMap.has(En)||this._cachedRenderRowsMap.set(En,new WeakMap);for(let St=0;St<xn.length;St++){let vt=xn[St];const st=this._cachedRenderRowsMap.get(vt.data);st.has(vt.rowDef)?st.get(vt.rowDef).push(vt):st.set(vt.rowDef,[vt]),Ne.push(vt)}}return Ne}_getRenderRowsForData(Ne,ht,Xt){return this._getRowDefs(Ne,ht).map(xn=>{const St=Xt&&Xt.has(xn)?Xt.get(xn):[];if(St.length){const vt=St.shift();return vt.dataIndex=ht,vt}return{data:Ne,rowDef:xn,dataIndex:ht}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Nn(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(ht=>{this._columnDefsByName.has(ht.name),this._columnDefsByName.set(ht.name,ht)})}_cacheRowDefs(){this._headerRowDefs=Nn(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Nn(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Nn(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Ne=this._rowDefs.filter(ht=>!ht.when);this._defaultRowDef=Ne[0]}_renderUpdatedColumns(){const Ne=(xn,St)=>xn||!!St.getColumnsDiff(),ht=this._rowDefs.reduce(Ne,!1);ht&&this._forceRenderDataRows();const Xt=this._headerRowDefs.reduce(Ne,!1);Xt&&this._forceRenderHeaderRows();const En=this._footerRowDefs.reduce(Ne,!1);return En&&this._forceRenderFooterRows(),ht||Xt||En}_switchDataSource(Ne){this._data=[],(0,m.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Ne||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=Ne}_observeRenderChanges(){if(!this.dataSource)return;let Ne;(0,m.Z9)(this.dataSource)?Ne=this.dataSource.connect(this):(0,Te.b)(this.dataSource)?Ne=this.dataSource:Array.isArray(this.dataSource)&&(Ne=(0,oe.of)(this.dataSource)),this._renderChangeSubscription=Ne.pipe((0,Ye.R)(this._onDestroy)).subscribe(ht=>{this._data=ht||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Ne,ht)=>this._renderRow(this._headerRowOutlet,Ne,ht)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Ne,ht)=>this._renderRow(this._footerRowOutlet,Ne,ht)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Ne,ht){const Xt=Array.from(ht.columns||[]).map(St=>this._columnDefsByName.get(St)),En=Xt.map(St=>St.sticky),xn=Xt.map(St=>St.stickyEnd);this._stickyStyler.updateStickyColumns(Ne,En,xn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Ne){const ht=[];for(let Xt=0;Xt<Ne.viewContainer.length;Xt++){const En=Ne.viewContainer.get(Xt);ht.push(En.rootNodes[0])}return ht}_getRowDefs(Ne,ht){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Xt=[];if(this.multiTemplateDataRows)Xt=this._rowDefs.filter(En=>!En.when||En.when(ht,Ne));else{let En=this._rowDefs.find(xn=>xn.when&&xn.when(ht,Ne))||this._defaultRowDef;En&&Xt.push(En)}return Xt}_getEmbeddedViewArgs(Ne,ht){return{templateRef:Ne.rowDef.template,context:{$implicit:Ne.data},index:ht}}_renderRow(Ne,ht,Xt,En={}){const xn=Ne.viewContainer.createEmbeddedView(ht.template,En,Xt);return this._renderCellTemplateForItem(ht,En),xn}_renderCellTemplateForItem(Ne,ht){for(let Xt of this._getCellTemplates(Ne))Pe.mostRecentCellOutlet&&Pe.mostRecentCellOutlet._viewContainer.createEmbeddedView(Xt,ht);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Ne=this._rowOutlet.viewContainer;for(let ht=0,Xt=Ne.length;ht<Xt;ht++){const xn=Ne.get(ht).context;xn.count=Xt,xn.first=0===ht,xn.last=ht===Xt-1,xn.even=ht%2==0,xn.odd=!xn.even,this.multiTemplateDataRows?(xn.dataIndex=this._renderRows[ht].dataIndex,xn.renderIndex=ht):xn.index=this._renderRows[ht].dataIndex}}_getCellTemplates(Ne){return Ne&&Ne.columns?Array.from(Ne.columns,ht=>{const Xt=this._columnDefsByName.get(ht);return Ne.extractCellTemplate(Xt)}):[]}_applyNativeTableSections(){const Ne=this._document.createDocumentFragment(),ht=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Xt of ht){const En=this._document.createElement(Xt.tag);En.setAttribute("role","rowgroup");for(const xn of Xt.outlets)En.appendChild(xn.elementRef.nativeElement);Ne.appendChild(En)}this._elementRef.nativeElement.appendChild(Ne)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Ne=(ht,Xt)=>ht||Xt.hasStickyChanged();this._headerRowDefs.reduce(Ne,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Ne,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Ne,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new je(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,oe.of)()).pipe((0,Ye.R)(this._onDestroy)).subscribe(ht=>{this._stickyStyler.direction=ht,this.updateStickyColumnStyles()})}_getOwnDefs(Ne){return Ne.filter(ht=>!ht._table||ht._table===this)}_updateNoDataRow(){const Ne=this._customNoDataRow||this._noDataRow;if(Ne){const ht=0===this._rowOutlet.viewContainer.length;if(ht!==this._isShowingNoDataRow){const Xt=this._noDataRowOutlet.viewContainer;ht?Xt.createEmbeddedView(Ne.templateRef):Xt.clear(),this._isShowingNoDataRow=ht}}}}return $e.\u0275fac=function(Ne){return new(Ne||$e)(y.Y36(y.ZZ4),y.Y36(y.sBO),y.Y36(y.SBq),y.$8M("role"),y.Y36(d.Is,8),y.Y36(De.K0),y.Y36(he.t4),y.Y36(m.k),y.Y36(jn),y.Y36(U.rL),y.Y36(B,12))},$e.\u0275cmp=y.Xpm({type:$e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Ne,ht,Xt){if(1&Ne&&(y.Suo(Xt,me,5),y.Suo(Xt,q,5),y.Suo(Xt,Be,5),y.Suo(Xt,Zt,5),y.Suo(Xt,te,5)),2&Ne){let En;y.iGM(En=y.CRH())&&(ht._noDataRow=En.first),y.iGM(En=y.CRH())&&(ht._contentColumnDefs=En),y.iGM(En=y.CRH())&&(ht._contentRowDefs=En),y.iGM(En=y.CRH())&&(ht._contentHeaderRowDefs=En),y.iGM(En=y.CRH())&&(ht._contentFooterRowDefs=En)}},viewQuery:function(Ne,ht){if(1&Ne&&(y.Gf(ae,7),y.Gf(Le,7),y.Gf(ge,7),y.Gf(Ue,7)),2&Ne){let Xt;y.iGM(Xt=y.CRH())&&(ht._rowOutlet=Xt.first),y.iGM(Xt=y.CRH())&&(ht._headerRowOutlet=Xt.first),y.iGM(Xt=y.CRH())&&(ht._footerRowOutlet=Xt.first),y.iGM(Xt=y.CRH())&&(ht._noDataRowOutlet=Xt.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(Ne,ht){2&Ne&&y.ekj("cdk-table-fixed-layout",ht.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[y._Bn([{provide:hn,useExisting:$e},{provide:m.k,useClass:m.yy},{provide:jn,useClass:ii},{provide:B,useValue:null}])],ngContentSelectors:nt,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Ne,ht){1&Ne&&(y.F$t(Xe),y.Hsn(0),y.Hsn(1,1),y.GkF(2,0),y.GkF(3,1),y.GkF(4,2),y.GkF(5,3))},directives:[Le,ae,Ue,ge],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),$e})();function Nn($e,Mt){return $e.concat(Array.from(Mt))}let Jn=(()=>{class $e{}return $e.\u0275fac=function(Ne){return new(Ne||$e)},$e.\u0275mod=y.oAB({type:$e}),$e.\u0275inj=y.cJS({imports:[[U.Cl]]}),$e})();var ft=D(2458),gt=D(6682),wt=D(9112),ln=D(8002);const Ct=[[["caption"]],[["colgroup"],["col"]]],nn=["caption","colgroup, col"];let Nt=(()=>{class $e extends Tn{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275cmp=y.Xpm({type:$e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(Ne,ht){2&Ne&&y.ekj("mat-table-fixed-layout",ht.fixedLayout)},exportAs:["matTable"],features:[y._Bn([{provide:m.k,useClass:m.yy},{provide:Tn,useExisting:$e},{provide:hn,useExisting:$e},{provide:jn,useClass:ii},{provide:B,useValue:null}]),y.qOj],ngContentSelectors:nn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Ne,ht){1&Ne&&(y.F$t(Ct),y.Hsn(0),y.Hsn(1,1),y.GkF(2,0),y.GkF(3,1),y.GkF(4,2),y.GkF(5,3))},directives:[Le,ae,Ue,ge],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),$e})(),pe=(()=>{class $e extends Et{}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275dir=y.lG2({type:$e,selectors:[["","matCellDef",""]],features:[y._Bn([{provide:Et,useExisting:$e}]),y.qOj]}),$e})(),we=(()=>{class $e extends ut{}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275dir=y.lG2({type:$e,selectors:[["","matHeaderCellDef",""]],features:[y._Bn([{provide:ut,useExisting:$e}]),y.qOj]}),$e})(),Tt=(()=>{class $e extends q{get name(){return this._name}set name(Ne){this._setNameInput(Ne)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275dir=y.lG2({type:$e,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[y._Bn([{provide:q,useExisting:$e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:$e}]),y.qOj]}),$e})(),tn=(()=>{class $e extends yt{}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275dir=y.lG2({type:$e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[y.qOj]}),$e})(),hi=(()=>{class $e extends un{}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275dir=y.lG2({type:$e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[y.qOj]}),$e})(),xi=(()=>{class $e extends Zt{}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275dir=y.lG2({type:$e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[y._Bn([{provide:Zt,useExisting:$e}]),y.qOj]}),$e})(),Wi=(()=>{class $e extends Be{}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275dir=y.lG2({type:$e,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[y._Bn([{provide:Be,useExisting:$e}]),y.qOj]}),$e})(),Ai=(()=>{class $e extends bt{}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275cmp=y.Xpm({type:$e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[y._Bn([{provide:bt,useExisting:$e}]),y.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ne,ht){1&Ne&&y.GkF(0,0)},directives:[Pe],encapsulation:2}),$e})(),vr=(()=>{class $e extends Ft{}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275cmp=y.Xpm({type:$e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[y._Bn([{provide:Ft,useExisting:$e}]),y.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ne,ht){1&Ne&&y.GkF(0,0)},directives:[Pe],encapsulation:2}),$e})(),qi=(()=>{class $e extends me{}return $e.\u0275fac=function(){let Mt;return function(ht){return(Mt||(Mt=y.n5z($e)))(ht||$e)}}(),$e.\u0275dir=y.lG2({type:$e,selectors:[["ng-template","matNoDataRow",""]],features:[y._Bn([{provide:me,useExisting:$e}]),y.qOj]}),$e})(),Kn=(()=>{class $e{}return $e.\u0275fac=function(Ne){return new(Ne||$e)},$e.\u0275mod=y.oAB({type:$e}),$e.\u0275inj=y.cJS({imports:[[Jn,ft.BQ],ft.BQ]}),$e})();class li extends m.o2{constructor(Mt=[]){super(),this._renderData=new se.X([]),this._filter=new se.X(""),this._internalPageChanges=new le.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(Ne,ht)=>{const Xt=Ne[ht];if((0,_.t6)(Xt)){const En=Number(Xt);return En<9007199254740991?En:Xt}return Xt},this.sortData=(Ne,ht)=>{const Xt=ht.active,En=ht.direction;return Xt&&""!=En?Ne.sort((xn,St)=>{let vt=this.sortingDataAccessor(xn,Xt),st=this.sortingDataAccessor(St,Xt);const $t=typeof vt,_n=typeof st;$t!==_n&&("number"===$t&&(vt+=""),"number"===_n&&(st+=""));let $n=0;return null!=vt&&null!=st?vt>st?$n=1:vt<st&&($n=-1):null!=vt?$n=1:null!=st&&($n=-1),$n*("asc"==En?1:-1)}):Ne},this.filterPredicate=(Ne,ht)=>{const Xt=Object.keys(Ne).reduce((xn,St)=>xn+Ne[St]+"\u25ec","").toLowerCase(),En=ht.trim().toLowerCase();return-1!=Xt.indexOf(En)},this._data=new se.X(Mt),this._updateChangeSubscription()}get data(){return this._data.value}set data(Mt){this._data.next(Mt),this._renderChangesSubscription||this._filterData(Mt)}get filter(){return this._filter.value}set filter(Mt){this._filter.next(Mt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Mt){this._sort=Mt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Mt){this._paginator=Mt,this._updateChangeSubscription()}_updateChangeSubscription(){var Mt;const Ne=this._sort?(0,gt.T)(this._sort.sortChange,this._sort.initialized):(0,oe.of)(null),ht=this._paginator?(0,gt.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,oe.of)(null),En=(0,wt.aj)([this._data,this._filter]).pipe((0,ln.U)(([vt])=>this._filterData(vt))),xn=(0,wt.aj)([En,Ne]).pipe((0,ln.U)(([vt])=>this._orderData(vt))),St=(0,wt.aj)([xn,ht]).pipe((0,ln.U)(([vt])=>this._pageData(vt)));null===(Mt=this._renderChangesSubscription)||void 0===Mt||Mt.unsubscribe(),this._renderChangesSubscription=St.subscribe(vt=>this._renderData.next(vt))}_filterData(Mt){return this.filteredData=null==this.filter||""===this.filter?Mt:Mt.filter(Ne=>this.filterPredicate(Ne,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Mt){return this.sort?this.sortData(Mt.slice(),this.sort):Mt}_pageData(Mt){if(!this.paginator)return Mt;const Ne=this.paginator.pageIndex*this.paginator.pageSize;return Mt.slice(Ne,Ne+this.paginator.pageSize)}_updatePaginator(Mt){Promise.resolve().then(()=>{const Ne=this.paginator;if(Ne&&(Ne.length=Mt,Ne.pageIndex>0)){const ht=Math.ceil(Ne.length/Ne.pageSize)-1||0,Xt=Math.min(Ne.pageIndex,ht);Xt!==Ne.pageIndex&&(Ne.pageIndex=Xt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var Mt;null===(Mt=this._renderChangesSubscription)||void 0===Mt||Mt.unsubscribe(),this._renderChangesSubscription=null}}class yr extends li{}},2522:(In,mt,D)=>{"use strict";D.d(mt,{g0:()=>Te});var _=D(2458),y=(D(8583),D(7716));D(521);let Te=(()=>{class oe{}return oe.\u0275fac=function(tt){return new(tt||oe)},oe.\u0275mod=y.oAB({type:oe}),oe.\u0275inj=y.cJS({imports:[[_.BQ],_.BQ]}),oe})()},8590:(In,mt,D)=>{"use strict";D.d(mt,{gM:()=>bt,AV:()=>me});var _=D(625),m=D(9238),y=D(8583),d=D(7716),he=D(2458),U=D(2692),De=D(9490),le=D(6461),Ee=D(9765),se=D(9112),Te=D(8071),oe=D(7574),Ye=D(5257),tt=D(3653),Xe=D(4395),nt=D(8002),Me=D(9761),Qe=D(6782),Qt=D(521);const Gt=new Set;let Et,ut=(()=>{class rt{constructor(We){this._platform=We,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ze}matchMedia(We){return(this._platform.WEBKIT||this._platform.BLINK)&&function(rt){if(!Gt.has(rt))try{Et||(Et=document.createElement("style"),Et.setAttribute("type","text/css"),document.head.appendChild(Et)),Et.sheet&&(Et.sheet.insertRule(`@media ${rt} {body{ }}`,0),Gt.add(rt))}catch(je){console.error(je)}}(We),this._matchMedia(We)}}return rt.\u0275fac=function(We){return new(We||rt)(d.LFG(Qt.t4))},rt.\u0275prov=d.Yz7({factory:function(){return new rt(d.LFG(Qt.t4))},token:rt,providedIn:"root"}),rt})();function ze(rt){return{matches:"all"===rt||""===rt,media:rt,addListener:()=>{},removeListener:()=>{}}}let be=(()=>{class rt{constructor(We,at){this._mediaMatcher=We,this._zone=at,this._queries=new Map,this._destroySubject=new Ee.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(We){return q((0,De.Eq)(We)).some(fn=>this._registerQuery(fn).mql.matches)}observe(We){const fn=q((0,De.Eq)(We)).map(cn=>this._registerQuery(cn).observable);let jt=(0,se.aj)(fn);return jt=(0,Te.z)(jt.pipe((0,Ye.q)(1)),jt.pipe((0,tt.T)(1),(0,Xe.b)(0))),jt.pipe((0,nt.U)(cn=>{const Ln={matches:!1,breakpoints:{}};return cn.forEach(({matches:pt,query:ue})=>{Ln.matches=Ln.matches||pt,Ln.breakpoints[ue]=pt}),Ln}))}_registerQuery(We){if(this._queries.has(We))return this._queries.get(We);const at=this._mediaMatcher.matchMedia(We),jt={observable:new oe.y(cn=>{const Ln=pt=>this._zone.run(()=>cn.next(pt));return at.addListener(Ln),()=>{at.removeListener(Ln)}}).pipe((0,Me.O)(at),(0,nt.U)(({matches:cn})=>({query:We,matches:cn})),(0,Qe.R)(this._destroySubject)),mql:at};return this._queries.set(We,jt),jt}}return rt.\u0275fac=function(We){return new(We||rt)(d.LFG(ut),d.LFG(d.R0b))},rt.\u0275prov=d.Yz7({factory:function(){return new rt(d.LFG(ut),d.LFG(d.R0b))},token:rt,providedIn:"root"}),rt})();function q(rt){return rt.map(je=>je.split(",")).reduce((je,We)=>je.concat(We)).map(je=>je.trim())}var yt=D(7636),Ot=D(7238),un=D(946);const Ut={tooltipState:(0,Ot.X$)("state",[(0,Ot.SB)("initial, void, hidden",(0,Ot.oB)({opacity:0,transform:"scale(0)"})),(0,Ot.SB)("visible",(0,Ot.oB)({transform:"scale(1)"})),(0,Ot.eR)("* => visible",(0,Ot.jt)("200ms cubic-bezier(0, 0, 0.2, 1)",(0,Ot.F4)([(0,Ot.oB)({opacity:0,transform:"scale(0)",offset:0}),(0,Ot.oB)({opacity:.5,transform:"scale(0.99)",offset:.5}),(0,Ot.oB)({opacity:1,transform:"scale(1)",offset:1})]))),(0,Ot.eR)("* => hidden",(0,Ot.jt)("100ms cubic-bezier(0, 0, 0.2, 1)",(0,Ot.oB)({opacity:0})))])},Gn="tooltip-panel",Qn=(0,Qt.i$)({passive:!0}),Zt=new d.OlP("mat-tooltip-scroll-strategy"),de={provide:Zt,deps:[_.aV],useFactory:function(rt){return()=>rt.scrollStrategies.reposition({scrollThrottle:20})}},te=new d.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Pe=(()=>{class rt{constructor(We,at,fn,jt,cn,Ln,pt,ue,B,H,ae,Le){this._overlay=We,this._elementRef=at,this._scrollDispatcher=fn,this._viewContainerRef=jt,this._ngZone=cn,this._platform=Ln,this._ariaDescriber=pt,this._focusMonitor=ue,this._dir=H,this._defaultOptions=ae,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ee.xQ,this._handleKeydown=ge=>{this._isTooltipVisible()&&ge.keyCode===le.hY&&!(0,le.Vb)(ge)&&(ge.preventDefault(),ge.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=B,this._document=Le,ae&&(ae.position&&(this.position=ae.position),ae.touchGestures&&(this.touchGestures=ae.touchGestures)),H.change.pipe((0,Qe.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),cn.runOutsideAngular(()=>{at.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(We){var at;We!==this._position&&(this._position=We,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(at=this._tooltipInstance)||void 0===at||at.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(We){this._disabled=(0,De.Ig)(We),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(We){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=We?String(We).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(We){this._tooltipClass=We,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,Qe.R)(this._destroyed)).subscribe(We=>{We?"keyboard"===We&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const We=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),We.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([at,fn])=>{We.removeEventListener(at,fn,Qn)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(We,this.message,"tooltip"),this._focusMonitor.stopMonitoring(We)}show(We=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const at=this._createOverlay();this._detach(),this._portal=this._portal||new yt.C5(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=at.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe((0,Qe.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(We)}hide(We=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(We)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const We=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),at=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(We);return at.positionChanges.pipe((0,Qe.R)(this._destroyed)).subscribe(fn=>{this._updateCurrentPositionClass(fn.connectionPair),this._tooltipInstance&&fn.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:at,panelClass:`${this._cssClassPrefix}-${Gn}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,Qe.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,Qe.R)(this._destroyed)).subscribe(()=>{var fn;return null===(fn=this._tooltipInstance)||void 0===fn?void 0:fn._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(We){const at=We.getConfig().positionStrategy,fn=this._getOrigin(),jt=this._getOverlayPosition();at.withPositions([this._addOffset(Object.assign(Object.assign({},fn.main),jt.main)),this._addOffset(Object.assign(Object.assign({},fn.fallback),jt.fallback))])}_addOffset(We){return We}_getOrigin(){const We=!this._dir||"ltr"==this._dir.value,at=this.position;let fn;"above"==at||"below"==at?fn={originX:"center",originY:"above"==at?"top":"bottom"}:"before"==at||"left"==at&&We||"right"==at&&!We?fn={originX:"start",originY:"center"}:("after"==at||"right"==at&&We||"left"==at&&!We)&&(fn={originX:"end",originY:"center"});const{x:jt,y:cn}=this._invertPosition(fn.originX,fn.originY);return{main:fn,fallback:{originX:jt,originY:cn}}}_getOverlayPosition(){const We=!this._dir||"ltr"==this._dir.value,at=this.position;let fn;"above"==at?fn={overlayX:"center",overlayY:"bottom"}:"below"==at?fn={overlayX:"center",overlayY:"top"}:"before"==at||"left"==at&&We||"right"==at&&!We?fn={overlayX:"end",overlayY:"center"}:("after"==at||"right"==at&&We||"left"==at&&!We)&&(fn={overlayX:"start",overlayY:"center"});const{x:jt,y:cn}=this._invertPosition(fn.overlayX,fn.overlayY);return{main:fn,fallback:{overlayX:jt,overlayY:cn}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Ye.q)(1),(0,Qe.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(We){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=We,this._tooltipInstance._markForCheck())}_invertPosition(We,at){return"above"===this.position||"below"===this.position?"top"===at?at="bottom":"bottom"===at&&(at="top"):"end"===We?We="start":"start"===We&&(We="end"),{x:We,y:at}}_updateCurrentPositionClass(We){const{overlayY:at,originX:fn,originY:jt}=We;let cn;if(cn="center"===at?this._dir&&"rtl"===this._dir.value?"end"===fn?"left":"right":"start"===fn?"left":"right":"bottom"===at&&"top"===jt?"above":"below",cn!==this._currentPosition){const Ln=this._overlayRef;if(Ln){const pt=`${this._cssClassPrefix}-${Gn}-`;Ln.removePanelClass(pt+this._currentPosition),Ln.addPanelClass(pt+cn)}this._currentPosition=cn}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const We=[];if(this._platformSupportsMouseEvents())We.push(["mouseleave",()=>this.hide()],["wheel",at=>this._wheelListener(at)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const at=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};We.push(["touchend",at],["touchcancel",at])}this._addListeners(We),this._passiveListeners.push(...We)}_addListeners(We){We.forEach(([at,fn])=>{this._elementRef.nativeElement.addEventListener(at,fn,Qn)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(We){if(this._isTooltipVisible()){const at=this._document.elementFromPoint(We.clientX,We.clientY),fn=this._elementRef.nativeElement;at!==fn&&!fn.contains(at)&&this.hide()}}_disableNativeGesturesIfNecessary(){const We=this.touchGestures;if("off"!==We){const at=this._elementRef.nativeElement,fn=at.style;("on"===We||"INPUT"!==at.nodeName&&"TEXTAREA"!==at.nodeName)&&(fn.userSelect=fn.msUserSelect=fn.webkitUserSelect=fn.MozUserSelect="none"),("on"===We||!at.draggable)&&(fn.webkitUserDrag="none"),fn.touchAction="none",fn.webkitTapHighlightColor="transparent"}}}return rt.\u0275fac=function(We){return new(We||rt)(d.Y36(_.aV),d.Y36(d.SBq),d.Y36(U.mF),d.Y36(d.s_b),d.Y36(d.R0b),d.Y36(Qt.t4),d.Y36(m.$s),d.Y36(m.tE),d.Y36(void 0),d.Y36(un.Is),d.Y36(void 0),d.Y36(y.K0))},rt.\u0275dir=d.lG2({type:rt,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),rt})(),bt=(()=>{class rt extends Pe{constructor(We,at,fn,jt,cn,Ln,pt,ue,B,H,ae,Le){super(We,at,fn,jt,cn,Ln,pt,ue,B,H,ae,Le),this._tooltipComponent=Ft}}return rt.\u0275fac=function(We){return new(We||rt)(d.Y36(_.aV),d.Y36(d.SBq),d.Y36(U.mF),d.Y36(d.s_b),d.Y36(d.R0b),d.Y36(Qt.t4),d.Y36(m.$s),d.Y36(m.tE),d.Y36(Zt),d.Y36(un.Is,8),d.Y36(te,8),d.Y36(y.K0))},rt.\u0275dir=d.lG2({type:rt,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[d.qOj]}),rt})(),ct=(()=>{class rt{constructor(We){this._changeDetectorRef=We,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Ee.xQ}show(We){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},We)}hide(We){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},We)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(We){const at=We.toState;"hidden"===at&&!this.isVisible()&&this._onHide.next(),("visible"===at||"hidden"===at)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return rt.\u0275fac=function(We){return new(We||rt)(d.Y36(d.sBO))},rt.\u0275dir=d.lG2({type:rt}),rt})(),Ft=(()=>{class rt extends ct{constructor(We,at){super(We),this._breakpointObserver=at,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return rt.\u0275fac=function(We){return new(We||rt)(d.Y36(d.sBO),d.Y36(be))},rt.\u0275cmp=d.Xpm({type:rt,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(We,at){2&We&&d.Udp("zoom","visible"===at._visibility?1:null)},features:[d.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(We,at){if(1&We&&(d.TgZ(0,"div",0),d.NdJ("@state.start",function(){return at._animationStart()})("@state.done",function(jt){return at._animationDone(jt)}),d.ALo(1,"async"),d._uU(2),d.qZA()),2&We){let fn;d.ekj("mat-tooltip-handset",null==(fn=d.lcZ(1,5,at._isHandset))?null:fn.matches),d.Q6J("ngClass",at.tooltipClass)("@state",at._visibility),d.xp6(2),d.Oqu(at.message)}},directives:[y.mk],pipes:[y.Ov],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[Ut.tooltipState]},changeDetection:0}),rt})(),me=(()=>{class rt{}return rt.\u0275fac=function(We){return new(We||rt)},rt.\u0275mod=d.oAB({type:rt}),rt.\u0275inj=d.cJS({providers:[de],imports:[[m.rt,y.ez,_.U8,he.BQ],he.BQ,U.ZD]}),rt})()},6237:(In,mt,D)=>{"use strict";D.d(mt,{Qb:()=>Yi,PW:()=>Vo});var _=D(7716),m=D(9075),y=D(7238);function d(){return"undefined"!=typeof window&&void 0!==window.document}function he(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function U(Ie){switch(Ie.length){case 0:return new y.ZN;case 1:return Ie[0];default:return new y.ZE(Ie)}}function De(Ie,S,A,W,xe={},Je={}){const Dt=[],xt=[];let sn=-1,gn=null;if(W.forEach(Zn=>{const di=Zn.offset,bi=di==sn,er=bi&&gn||{};Object.keys(Zn).forEach(wi=>{let Oi=wi,Zi=Zn[wi];if("offset"!==wi)switch(Oi=S.normalizePropertyName(Oi,Dt),Zi){case y.k1:Zi=xe[wi];break;case y.l3:Zi=Je[wi];break;default:Zi=S.normalizeStyleValue(wi,Oi,Zi,Dt)}er[Oi]=Zi}),bi||xt.push(er),gn=er,sn=di}),Dt.length){const Zn="\n - ";throw new Error(`Unable to animate due to the following errors:${Zn}${Dt.join(Zn)}`)}return xt}function le(Ie,S,A,W){switch(S){case"start":Ie.onStart(()=>W(A&&Ee(A,"start",Ie)));break;case"done":Ie.onDone(()=>W(A&&Ee(A,"done",Ie)));break;case"destroy":Ie.onDestroy(()=>W(A&&Ee(A,"destroy",Ie)))}}function Ee(Ie,S,A){const W=A.totalTime,Je=se(Ie.element,Ie.triggerName,Ie.fromState,Ie.toState,S||Ie.phaseName,null==W?Ie.totalTime:W,!!A.disabled),Dt=Ie._data;return null!=Dt&&(Je._data=Dt),Je}function se(Ie,S,A,W,xe="",Je=0,Dt){return{element:Ie,triggerName:S,fromState:A,toState:W,phaseName:xe,totalTime:Je,disabled:!!Dt}}function Te(Ie,S,A){let W;return Ie instanceof Map?(W=Ie.get(S),W||Ie.set(S,W=A)):(W=Ie[S],W||(W=Ie[S]=A)),W}function oe(Ie){const S=Ie.indexOf(":");return[Ie.substring(1,S),Ie.substr(S+1)]}let Ye=(Ie,S)=>!1,Xe=(Ie,S)=>!1,Me=(Ie,S,A)=>[];const Qt=he();(Qt||"undefined"!=typeof Element)&&(Ye=d()?(Ie,S)=>{for(;S&&S!==document.documentElement;){if(S===Ie)return!0;S=S.parentNode||S.host}return!1}:(Ie,S)=>Ie.contains(S),Xe=(()=>{if(Qt||Element.prototype.matches)return(Ie,S)=>Ie.matches(S);{const Ie=Element.prototype,S=Ie.matchesSelector||Ie.mozMatchesSelector||Ie.msMatchesSelector||Ie.oMatchesSelector||Ie.webkitMatchesSelector;return S?(A,W)=>S.apply(A,[W]):Xe}})(),Me=(Ie,S,A)=>{let W=[];if(A){const xe=Ie.querySelectorAll(S);for(let Je=0;Je<xe.length;Je++)W.push(xe[Je])}else{const xe=Ie.querySelector(S);xe&&W.push(xe)}return W});let Gt=null,Et=!1;function ut(Ie){Gt||(Gt=("undefined"!=typeof document?document.body:null)||{},Et=!!Gt.style&&"WebkitAppearance"in Gt.style);let S=!0;return Gt.style&&!function(Ie){return"ebkit"==Ie.substring(1,6)}(Ie)&&(S=Ie in Gt.style,!S&&Et&&(S="Webkit"+Ie.charAt(0).toUpperCase()+Ie.substr(1)in Gt.style)),S}const ze=Xe,be=Ye,q=Me;function ke(Ie){const S={};return Object.keys(Ie).forEach(A=>{const W=A.replace(/([a-z])([A-Z])/g,"$1-$2");S[W]=Ie[A]}),S}let yt=(()=>{class Ie{validateStyleProperty(A){return ut(A)}matchesElement(A,W){return ze(A,W)}containsElement(A,W){return be(A,W)}query(A,W,xe){return q(A,W,xe)}computeStyle(A,W,xe){return xe||""}animate(A,W,xe,Je,Dt,xt=[],sn){return new y.ZN(xe,Je)}}return Ie.\u0275fac=function(A){return new(A||Ie)},Ie.\u0275prov=_.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})(),Ot=(()=>{class Ie{}return Ie.NOOP=new yt,Ie})();const ii="ng-enter",Gn="ng-leave",Rt="ng-trigger",Zt=".ng-trigger",Ae="ng-animating",de=".ng-animating";function te(Ie){if("number"==typeof Ie)return Ie;const S=Ie.match(/^(-?[\.\d]+)(m?s)/);return!S||S.length<2?0:Be(parseFloat(S[1]),S[2])}function Be(Ie,S){switch(S){case"s":return 1e3*Ie;default:return Ie}}function Pe(Ie,S,A){return Ie.hasOwnProperty("duration")?Ie:function(Ie,S,A){let xe,Je=0,Dt="";if("string"==typeof Ie){const xt=Ie.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===xt)return S.push(`The provided timing value "${Ie}" is invalid.`),{duration:0,delay:0,easing:""};xe=Be(parseFloat(xt[1]),xt[2]);const sn=xt[3];null!=sn&&(Je=Be(parseFloat(sn),xt[4]));const gn=xt[5];gn&&(Dt=gn)}else xe=Ie;if(!A){let xt=!1,sn=S.length;xe<0&&(S.push("Duration values below 0 are not allowed for this animation step."),xt=!0),Je<0&&(S.push("Delay values below 0 are not allowed for this animation step."),xt=!0),xt&&S.splice(sn,0,`The provided timing value "${Ie}" is invalid.`)}return{duration:xe,delay:Je,easing:Dt}}(Ie,S,A)}function ct(Ie,S={}){return Object.keys(Ie).forEach(A=>{S[A]=Ie[A]}),S}function me(Ie,S,A={}){if(S)for(let W in Ie)A[W]=Ie[W];else ct(Ie,A);return A}function rt(Ie,S,A){return A?S+":"+A+";":""}function je(Ie){let S="";for(let A=0;A<Ie.style.length;A++){const W=Ie.style.item(A);S+=rt(0,W,Ie.style.getPropertyValue(W))}for(const A in Ie.style)Ie.style.hasOwnProperty(A)&&!A.startsWith("_")&&(S+=rt(0,ae(A),Ie.style[A]));Ie.setAttribute("style",S)}function We(Ie,S,A){Ie.style&&(Object.keys(S).forEach(W=>{const xe=H(W);A&&!A.hasOwnProperty(W)&&(A[W]=Ie.style[xe]),Ie.style[xe]=S[W]}),he()&&je(Ie))}function at(Ie,S){Ie.style&&(Object.keys(S).forEach(A=>{const W=H(A);Ie.style[W]=""}),he()&&je(Ie))}function fn(Ie){return Array.isArray(Ie)?1==Ie.length?Ie[0]:(0,y.vP)(Ie):Ie}const cn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ln(Ie){let S=[];if("string"==typeof Ie){let A;for(;A=cn.exec(Ie);)S.push(A[1]);cn.lastIndex=0}return S}function pt(Ie,S,A){const W=Ie.toString(),xe=W.replace(cn,(Je,Dt)=>{let xt=S[Dt];return S.hasOwnProperty(Dt)||(A.push(`Please provide a value for the animation param ${Dt}`),xt=""),xt.toString()});return xe==W?Ie:xe}function ue(Ie){const S=[];let A=Ie.next();for(;!A.done;)S.push(A.value),A=Ie.next();return S}const B=/-+([a-z0-9])/g;function H(Ie){return Ie.replace(B,(...S)=>S[1].toUpperCase())}function ae(Ie){return Ie.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Le(Ie,S){return 0===Ie||0===S}function ge(Ie,S,A){const W=Object.keys(A);if(W.length&&S.length){let Je=S[0],Dt=[];if(W.forEach(xt=>{Je.hasOwnProperty(xt)||Dt.push(xt),Je[xt]=A[xt]}),Dt.length)for(var xe=1;xe<S.length;xe++){let xt=S[xe];Dt.forEach(function(sn){xt[sn]=Bt(Ie,sn)})}}return S}function Ue(Ie,S,A){switch(S.type){case 7:return Ie.visitTrigger(S,A);case 0:return Ie.visitState(S,A);case 1:return Ie.visitTransition(S,A);case 2:return Ie.visitSequence(S,A);case 3:return Ie.visitGroup(S,A);case 4:return Ie.visitAnimate(S,A);case 5:return Ie.visitKeyframes(S,A);case 6:return Ie.visitStyle(S,A);case 8:return Ie.visitReference(S,A);case 9:return Ie.visitAnimateChild(S,A);case 10:return Ie.visitAnimateRef(S,A);case 11:return Ie.visitQuery(S,A);case 12:return Ie.visitStagger(S,A);default:throw new Error(`Unable to resolve animation metadata node #${S.type}`)}}function Bt(Ie,S){return window.getComputedStyle(Ie)[S]}function Tn(Ie,S){const A=[];return"string"==typeof Ie?Ie.split(/\s*,\s*/).forEach(W=>function(Ie,S,A){if(":"==Ie[0]){const sn=function(Ie,S){switch(Ie){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(A,W)=>parseFloat(W)>parseFloat(A);case":decrement":return(A,W)=>parseFloat(W)<parseFloat(A);default:return S.push(`The transition alias value "${Ie}" is not supported`),"* => *"}}(Ie,A);if("function"==typeof sn)return void S.push(sn);Ie=sn}const W=Ie.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==W||W.length<4)return A.push(`The provided transition expression "${Ie}" is not supported`),S;const xe=W[1],Je=W[2],Dt=W[3];S.push(ft(xe,Dt));"<"==Je[0]&&!("*"==xe&&"*"==Dt)&&S.push(ft(Dt,xe))}(W,A,S)):A.push(Ie),A}const ei=new Set(["true","1"]),Jn=new Set(["false","0"]);function ft(Ie,S){const A=ei.has(Ie)||Jn.has(Ie),W=ei.has(S)||Jn.has(S);return(xe,Je)=>{let Dt="*"==Ie||Ie==xe,xt="*"==S||S==Je;return!Dt&&A&&"boolean"==typeof xe&&(Dt=xe?ei.has(Ie):Jn.has(Ie)),!xt&&W&&"boolean"==typeof Je&&(xt=Je?ei.has(S):Jn.has(S)),Dt&&xt}}const wt=new RegExp("s*:selfs*,?","g");function ln(Ie,S,A){return new nn(Ie).build(S,A)}class nn{constructor(S){this._driver=S}build(S,A){const W=new _t(A);return this._resetContextStyleTimingState(W),Ue(this,fn(S),W)}_resetContextStyleTimingState(S){S.currentQuerySelector="",S.collectedStyles={},S.collectedStyles[""]={},S.currentTime=0}visitTrigger(S,A){let W=A.queryCount=0,xe=A.depCount=0;const Je=[],Dt=[];return"@"==S.name.charAt(0)&&A.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),S.definitions.forEach(xt=>{if(this._resetContextStyleTimingState(A),0==xt.type){const sn=xt,gn=sn.name;gn.toString().split(/\s*,\s*/).forEach(Zn=>{sn.name=Zn,Je.push(this.visitState(sn,A))}),sn.name=gn}else if(1==xt.type){const sn=this.visitTransition(xt,A);W+=sn.queryCount,xe+=sn.depCount,Dt.push(sn)}else A.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:S.name,states:Je,transitions:Dt,queryCount:W,depCount:xe,options:null}}visitState(S,A){const W=this.visitStyle(S.styles,A),xe=S.options&&S.options.params||null;if(W.containsDynamicStyles){const Je=new Set,Dt=xe||{};if(W.styles.forEach(xt=>{if(pe(xt)){const sn=xt;Object.keys(sn).forEach(gn=>{Ln(sn[gn]).forEach(Zn=>{Dt.hasOwnProperty(Zn)||Je.add(Zn)})})}}),Je.size){const xt=ue(Je.values());A.errors.push(`state("${S.name}", ...) must define default values for all the following style substitutions: ${xt.join(", ")}`)}}return{type:0,name:S.name,style:W,options:xe?{params:xe}:null}}visitTransition(S,A){A.queryCount=0,A.depCount=0;const W=Ue(this,fn(S.animation),A);return{type:1,matchers:Tn(S.expr,A.errors),animation:W,queryCount:A.queryCount,depCount:A.depCount,options:Oe(S.options)}}visitSequence(S,A){return{type:2,steps:S.steps.map(W=>Ue(this,W,A)),options:Oe(S.options)}}visitGroup(S,A){const W=A.currentTime;let xe=0;const Je=S.steps.map(Dt=>{A.currentTime=W;const xt=Ue(this,Dt,A);return xe=Math.max(xe,A.currentTime),xt});return A.currentTime=xe,{type:3,steps:Je,options:Oe(S.options)}}visitAnimate(S,A){const W=function(Ie,S){let A=null;if(Ie.hasOwnProperty("duration"))A=Ie;else if("number"==typeof Ie)return Tt(Pe(Ie,S).duration,0,"");const W=Ie;if(W.split(/\s+/).some(Je=>"{"==Je.charAt(0)&&"{"==Je.charAt(1))){const Je=Tt(0,0,"");return Je.dynamic=!0,Je.strValue=W,Je}return A=A||Pe(W,S),Tt(A.duration,A.delay,A.easing)}(S.timings,A.errors);A.currentAnimateTimings=W;let xe,Je=S.styles?S.styles:(0,y.oB)({});if(5==Je.type)xe=this.visitKeyframes(Je,A);else{let Dt=S.styles,xt=!1;if(!Dt){xt=!0;const gn={};W.easing&&(gn.easing=W.easing),Dt=(0,y.oB)(gn)}A.currentTime+=W.duration+W.delay;const sn=this.visitStyle(Dt,A);sn.isEmptyStep=xt,xe=sn}return A.currentAnimateTimings=null,{type:4,timings:W,style:xe,options:null}}visitStyle(S,A){const W=this._makeStyleAst(S,A);return this._validateStyleAst(W,A),W}_makeStyleAst(S,A){const W=[];Array.isArray(S.styles)?S.styles.forEach(Dt=>{"string"==typeof Dt?Dt==y.l3?W.push(Dt):A.errors.push(`The provided style string value ${Dt} is not allowed.`):W.push(Dt)}):W.push(S.styles);let xe=!1,Je=null;return W.forEach(Dt=>{if(pe(Dt)){const xt=Dt,sn=xt.easing;if(sn&&(Je=sn,delete xt.easing),!xe)for(let gn in xt)if(xt[gn].toString().indexOf("{{")>=0){xe=!0;break}}}),{type:6,styles:W,easing:Je,offset:S.offset,containsDynamicStyles:xe,options:null}}_validateStyleAst(S,A){const W=A.currentAnimateTimings;let xe=A.currentTime,Je=A.currentTime;W&&Je>0&&(Je-=W.duration+W.delay),S.styles.forEach(Dt=>{"string"!=typeof Dt&&Object.keys(Dt).forEach(xt=>{if(!this._driver.validateStyleProperty(xt))return void A.errors.push(`The provided animation property "${xt}" is not a supported CSS property for animations`);const sn=A.collectedStyles[A.currentQuerySelector],gn=sn[xt];let Zn=!0;gn&&(Je!=xe&&Je>=gn.startTime&&xe<=gn.endTime&&(A.errors.push(`The CSS property "${xt}" that exists between the times of "${gn.startTime}ms" and "${gn.endTime}ms" is also being animated in a parallel animation between the times of "${Je}ms" and "${xe}ms"`),Zn=!1),Je=gn.startTime),Zn&&(sn[xt]={startTime:Je,endTime:xe}),A.options&&function(Ie,S,A){const W=S.params||{},xe=Ln(Ie);xe.length&&xe.forEach(Je=>{W.hasOwnProperty(Je)||A.push(`Unable to resolve the local animation param ${Je} in the given list of values`)})}(Dt[xt],A.options,A.errors)})})}visitKeyframes(S,A){const W={type:5,styles:[],options:null};if(!A.currentAnimateTimings)return A.errors.push("keyframes() must be placed inside of a call to animate()"),W;let Je=0;const Dt=[];let xt=!1,sn=!1,gn=0;const Zn=S.steps.map(Kr=>{const Fr=this._makeStyleAst(Kr,A);let vs=null!=Fr.offset?Fr.offset:function(Ie){if("string"==typeof Ie)return null;let S=null;if(Array.isArray(Ie))Ie.forEach(A=>{if(pe(A)&&A.hasOwnProperty("offset")){const W=A;S=parseFloat(W.offset),delete W.offset}});else if(pe(Ie)&&Ie.hasOwnProperty("offset")){const A=Ie;S=parseFloat(A.offset),delete A.offset}return S}(Fr.styles),br=0;return null!=vs&&(Je++,br=Fr.offset=vs),sn=sn||br<0||br>1,xt=xt||br<gn,gn=br,Dt.push(br),Fr});sn&&A.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),xt&&A.errors.push("Please ensure that all keyframe offsets are in order");const di=S.steps.length;let bi=0;Je>0&&Je<di?A.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==Je&&(bi=1/(di-1));const er=di-1,wi=A.currentTime,Oi=A.currentAnimateTimings,Zi=Oi.duration;return Zn.forEach((Kr,Fr)=>{const vs=bi>0?Fr==er?1:bi*Fr:Dt[Fr],br=vs*Zi;A.currentTime=wi+Oi.delay+br,Oi.duration=br,this._validateStyleAst(Kr,A),Kr.offset=vs,W.styles.push(Kr)}),W}visitReference(S,A){return{type:8,animation:Ue(this,fn(S.animation),A),options:Oe(S.options)}}visitAnimateChild(S,A){return A.depCount++,{type:9,options:Oe(S.options)}}visitAnimateRef(S,A){return{type:10,animation:this.visitReference(S.animation,A),options:Oe(S.options)}}visitQuery(S,A){const W=A.currentQuerySelector,xe=S.options||{};A.queryCount++,A.currentQuery=S;const[Je,Dt]=function(Ie){const S=!!Ie.split(/\s*,\s*/).find(A=>":self"==A);return S&&(Ie=Ie.replace(wt,"")),[Ie=Ie.replace(/@\*/g,Zt).replace(/@\w+/g,A=>Zt+"-"+A.substr(1)).replace(/:animating/g,de),S]}(S.selector);A.currentQuerySelector=W.length?W+" "+Je:Je,Te(A.collectedStyles,A.currentQuerySelector,{});const xt=Ue(this,fn(S.animation),A);return A.currentQuery=null,A.currentQuerySelector=W,{type:11,selector:Je,limit:xe.limit||0,optional:!!xe.optional,includeSelf:Dt,animation:xt,originalSelector:S.selector,options:Oe(S.options)}}visitStagger(S,A){A.currentQuery||A.errors.push("stagger() can only be used inside of query()");const W="full"===S.timings?{duration:0,delay:0,easing:"full"}:Pe(S.timings,A.errors,!0);return{type:12,animation:Ue(this,fn(S.animation),A),timings:W,options:null}}}class _t{constructor(S){this.errors=S,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function pe(Ie){return!Array.isArray(Ie)&&"object"==typeof Ie}function Oe(Ie){return Ie?(Ie=ct(Ie)).params&&(Ie.params=function(Ie){return Ie?ct(Ie):null}(Ie.params)):Ie={},Ie}function Tt(Ie,S,A){return{duration:Ie,delay:S,easing:A}}function tn(Ie,S,A,W,xe,Je,Dt=null,xt=!1){return{type:1,element:Ie,keyframes:S,preStyleProps:A,postStyleProps:W,duration:xe,delay:Je,totalTime:xe+Je,easing:Dt,subTimeline:xt}}class Wn{constructor(){this._map=new Map}consume(S){let A=this._map.get(S);return A?this._map.delete(S):A=[],A}append(S,A){let W=this._map.get(S);W||this._map.set(S,W=[]),W.push(...A)}has(S){return this._map.has(S)}clear(){this._map.clear()}}const Ui=new RegExp(":enter","g"),Ai=new RegExp(":leave","g");function Hi(Ie,S,A,W,xe,Je={},Dt={},xt,sn,gn=[]){return(new vr).buildKeyframes(Ie,S,A,W,xe,Je,Dt,xt,sn,gn)}class vr{buildKeyframes(S,A,W,xe,Je,Dt,xt,sn,gn,Zn=[]){gn=gn||new Wn;const di=new $r(S,A,gn,xe,Je,Zn,[]);di.options=sn,di.currentTimeline.setStyles([Dt],null,di.errors,sn),Ue(this,W,di);const bi=di.timelines.filter(er=>er.containsAnimation());if(bi.length&&Object.keys(xt).length){const er=bi[bi.length-1];er.allowOnlyTimelineStyles()||er.setStyles([xt],null,di.errors,sn)}return bi.length?bi.map(er=>er.buildKeyframes()):[tn(A,[],[],[],0,0,"",!1)]}visitTrigger(S,A){}visitState(S,A){}visitTransition(S,A){}visitAnimateChild(S,A){const W=A.subInstructions.consume(A.element);if(W){const xe=A.createSubContext(S.options),Je=A.currentTimeline.currentTime,Dt=this._visitSubInstructions(W,xe,xe.options);Je!=Dt&&A.transformIntoNewTimeline(Dt)}A.previousNode=S}visitAnimateRef(S,A){const W=A.createSubContext(S.options);W.transformIntoNewTimeline(),this.visitReference(S.animation,W),A.transformIntoNewTimeline(W.currentTimeline.currentTime),A.previousNode=S}_visitSubInstructions(S,A,W){let Je=A.currentTimeline.currentTime;const Dt=null!=W.duration?te(W.duration):null,xt=null!=W.delay?te(W.delay):null;return 0!==Dt&&S.forEach(sn=>{const gn=A.appendInstructionToTimeline(sn,Dt,xt);Je=Math.max(Je,gn.duration+gn.delay)}),Je}visitReference(S,A){A.updateOptions(S.options,!0),Ue(this,S.animation,A),A.previousNode=S}visitSequence(S,A){const W=A.subContextCount;let xe=A;const Je=S.options;if(Je&&(Je.params||Je.delay)&&(xe=A.createSubContext(Je),xe.transformIntoNewTimeline(),null!=Je.delay)){6==xe.previousNode.type&&(xe.currentTimeline.snapshotCurrentStyles(),xe.previousNode=qi);const Dt=te(Je.delay);xe.delayNextStep(Dt)}S.steps.length&&(S.steps.forEach(Dt=>Ue(this,Dt,xe)),xe.currentTimeline.applyStylesToKeyframe(),xe.subContextCount>W&&xe.transformIntoNewTimeline()),A.previousNode=S}visitGroup(S,A){const W=[];let xe=A.currentTimeline.currentTime;const Je=S.options&&S.options.delay?te(S.options.delay):0;S.steps.forEach(Dt=>{const xt=A.createSubContext(S.options);Je&&xt.delayNextStep(Je),Ue(this,Dt,xt),xe=Math.max(xe,xt.currentTimeline.currentTime),W.push(xt.currentTimeline)}),W.forEach(Dt=>A.currentTimeline.mergeTimelineCollectedStyles(Dt)),A.transformIntoNewTimeline(xe),A.previousNode=S}_visitTiming(S,A){if(S.dynamic){const W=S.strValue;return Pe(A.params?pt(W,A.params,A.errors):W,A.errors)}return{duration:S.duration,delay:S.delay,easing:S.easing}}visitAnimate(S,A){const W=A.currentAnimateTimings=this._visitTiming(S.timings,A),xe=A.currentTimeline;W.delay&&(A.incrementTime(W.delay),xe.snapshotCurrentStyles());const Je=S.style;5==Je.type?this.visitKeyframes(Je,A):(A.incrementTime(W.duration),this.visitStyle(Je,A),xe.applyStylesToKeyframe()),A.currentAnimateTimings=null,A.previousNode=S}visitStyle(S,A){const W=A.currentTimeline,xe=A.currentAnimateTimings;!xe&&W.getCurrentStyleProperties().length&&W.forwardFrame();const Je=xe&&xe.easing||S.easing;S.isEmptyStep?W.applyEmptyStep(Je):W.setStyles(S.styles,Je,A.errors,A.options),A.previousNode=S}visitKeyframes(S,A){const W=A.currentAnimateTimings,xe=A.currentTimeline.duration,Je=W.duration,xt=A.createSubContext().currentTimeline;xt.easing=W.easing,S.styles.forEach(sn=>{xt.forwardTime((sn.offset||0)*Je),xt.setStyles(sn.styles,sn.easing,A.errors,A.options),xt.applyStylesToKeyframe()}),A.currentTimeline.mergeTimelineCollectedStyles(xt),A.transformIntoNewTimeline(xe+Je),A.previousNode=S}visitQuery(S,A){const W=A.currentTimeline.currentTime,xe=S.options||{},Je=xe.delay?te(xe.delay):0;Je&&(6===A.previousNode.type||0==W&&A.currentTimeline.getCurrentStyleProperties().length)&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=qi);let Dt=W;const xt=A.invokeQuery(S.selector,S.originalSelector,S.limit,S.includeSelf,!!xe.optional,A.errors);A.currentQueryTotal=xt.length;let sn=null;xt.forEach((gn,Zn)=>{A.currentQueryIndex=Zn;const di=A.createSubContext(S.options,gn);Je&&di.delayNextStep(Je),gn===A.element&&(sn=di.currentTimeline),Ue(this,S.animation,di),di.currentTimeline.applyStylesToKeyframe(),Dt=Math.max(Dt,di.currentTimeline.currentTime)}),A.currentQueryIndex=0,A.currentQueryTotal=0,A.transformIntoNewTimeline(Dt),sn&&(A.currentTimeline.mergeTimelineCollectedStyles(sn),A.currentTimeline.snapshotCurrentStyles()),A.previousNode=S}visitStagger(S,A){const W=A.parentContext,xe=A.currentTimeline,Je=S.timings,Dt=Math.abs(Je.duration),xt=Dt*(A.currentQueryTotal-1);let sn=Dt*A.currentQueryIndex;switch(Je.duration<0?"reverse":Je.easing){case"reverse":sn=xt-sn;break;case"full":sn=W.currentStaggerTime}const Zn=A.currentTimeline;sn&&Zn.delayNextStep(sn);const di=Zn.currentTime;Ue(this,S.animation,A),A.previousNode=S,W.currentStaggerTime=xe.currentTime-di+(xe.startTime-W.currentTimeline.startTime)}}const qi={};class $r{constructor(S,A,W,xe,Je,Dt,xt,sn){this._driver=S,this.element=A,this.subInstructions=W,this._enterClassName=xe,this._leaveClassName=Je,this.errors=Dt,this.timelines=xt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=sn||new Li(this._driver,A,0),xt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(S,A){if(!S)return;const W=S;let xe=this.options;null!=W.duration&&(xe.duration=te(W.duration)),null!=W.delay&&(xe.delay=te(W.delay));const Je=W.params;if(Je){let Dt=xe.params;Dt||(Dt=this.options.params={}),Object.keys(Je).forEach(xt=>{(!A||!Dt.hasOwnProperty(xt))&&(Dt[xt]=pt(Je[xt],Dt,this.errors))})}}_copyOptions(){const S={};if(this.options){const A=this.options.params;if(A){const W=S.params={};Object.keys(A).forEach(xe=>{W[xe]=A[xe]})}}return S}createSubContext(S=null,A,W){const xe=A||this.element,Je=new $r(this._driver,xe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(xe,W||0));return Je.previousNode=this.previousNode,Je.currentAnimateTimings=this.currentAnimateTimings,Je.options=this._copyOptions(),Je.updateOptions(S),Je.currentQueryIndex=this.currentQueryIndex,Je.currentQueryTotal=this.currentQueryTotal,Je.parentContext=this,this.subContextCount++,Je}transformIntoNewTimeline(S){return this.previousNode=qi,this.currentTimeline=this.currentTimeline.fork(this.element,S),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(S,A,W){const xe={duration:null!=A?A:S.duration,delay:this.currentTimeline.currentTime+(null!=W?W:0)+S.delay,easing:""},Je=new Kn(this._driver,S.element,S.keyframes,S.preStyleProps,S.postStyleProps,xe,S.stretchStartingKeyframe);return this.timelines.push(Je),xe}incrementTime(S){this.currentTimeline.forwardTime(this.currentTimeline.duration+S)}delayNextStep(S){S>0&&this.currentTimeline.delayNextStep(S)}invokeQuery(S,A,W,xe,Je,Dt){let xt=[];if(xe&&xt.push(this.element),S.length>0){S=(S=S.replace(Ui,"."+this._enterClassName)).replace(Ai,"."+this._leaveClassName);let gn=this._driver.query(this.element,S,1!=W);0!==W&&(gn=W<0?gn.slice(gn.length+W,gn.length):gn.slice(0,W)),xt.push(...gn)}return!Je&&0==xt.length&&Dt.push(`\`query("${A}")\` returned zero elements. (Use \`query("${A}", { optional: true })\` if you wish to allow this.)`),xt}}class Li{constructor(S,A,W,xe){this._driver=S,this.element=A,this.startTime=W,this._elementTimelineStylesLookup=xe,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(A),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(A,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(S){const A=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||A?(this.forwardTime(this.currentTime+S),A&&this.snapshotCurrentStyles()):this.startTime+=S}fork(S,A){return this.applyStylesToKeyframe(),new Li(this._driver,S,A||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(S){this.applyStylesToKeyframe(),this.duration=S,this._loadKeyframe()}_updateStyle(S,A){this._localTimelineStyles[S]=A,this._globalTimelineStyles[S]=A,this._styleSummary[S]={time:this.currentTime,value:A}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(S){S&&(this._previousKeyframe.easing=S),Object.keys(this._globalTimelineStyles).forEach(A=>{this._backFill[A]=this._globalTimelineStyles[A]||y.l3,this._currentKeyframe[A]=y.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(S,A,W,xe){A&&(this._previousKeyframe.easing=A);const Je=xe&&xe.params||{},Dt=function(Ie,S){const A={};let W;return Ie.forEach(xe=>{"*"===xe?(W=W||Object.keys(S),W.forEach(Je=>{A[Je]=y.l3})):me(xe,!1,A)}),A}(S,this._globalTimelineStyles);Object.keys(Dt).forEach(xt=>{const sn=pt(Dt[xt],Je,W);this._pendingStyles[xt]=sn,this._localTimelineStyles.hasOwnProperty(xt)||(this._backFill[xt]=this._globalTimelineStyles.hasOwnProperty(xt)?this._globalTimelineStyles[xt]:y.l3),this._updateStyle(xt,sn)})}applyStylesToKeyframe(){const S=this._pendingStyles,A=Object.keys(S);0!=A.length&&(this._pendingStyles={},A.forEach(W=>{this._currentKeyframe[W]=S[W]}),Object.keys(this._localTimelineStyles).forEach(W=>{this._currentKeyframe.hasOwnProperty(W)||(this._currentKeyframe[W]=this._localTimelineStyles[W])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(S=>{const A=this._localTimelineStyles[S];this._pendingStyles[S]=A,this._updateStyle(S,A)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const S=[];for(let A in this._currentKeyframe)S.push(A);return S}mergeTimelineCollectedStyles(S){Object.keys(S._styleSummary).forEach(A=>{const W=this._styleSummary[A],xe=S._styleSummary[A];(!W||xe.time>W.time)&&this._updateStyle(A,xe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const S=new Set,A=new Set,W=1===this._keyframes.size&&0===this.duration;let xe=[];this._keyframes.forEach((xt,sn)=>{const gn=me(xt,!0);Object.keys(gn).forEach(Zn=>{const di=gn[Zn];di==y.k1?S.add(Zn):di==y.l3&&A.add(Zn)}),W||(gn.offset=sn/this.duration),xe.push(gn)});const Je=S.size?ue(S.values()):[],Dt=A.size?ue(A.values()):[];if(W){const xt=xe[0],sn=ct(xt);xt.offset=0,sn.offset=1,xe=[xt,sn]}return tn(this.element,xe,Je,Dt,this.duration,this.startTime,this.easing,!1)}}class Kn extends Li{constructor(S,A,W,xe,Je,Dt,xt=!1){super(S,A,Dt.delay),this.keyframes=W,this.preStyleProps=xe,this.postStyleProps=Je,this._stretchStartingKeyframe=xt,this.timings={duration:Dt.duration,delay:Dt.delay,easing:Dt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let S=this.keyframes,{delay:A,duration:W,easing:xe}=this.timings;if(this._stretchStartingKeyframe&&A){const Je=[],Dt=W+A,xt=A/Dt,sn=me(S[0],!1);sn.offset=0,Je.push(sn);const gn=me(S[0],!1);gn.offset=si(xt),Je.push(gn);const Zn=S.length-1;for(let di=1;di<=Zn;di++){let bi=me(S[di],!1);bi.offset=si((A+bi.offset*W)/Dt),Je.push(bi)}W=Dt,A=0,xe="",S=Je}return tn(this.element,S,this.preStyleProps,this.postStyleProps,W,A,xe,!0)}}function si(Ie,S=3){const A=Math.pow(10,S-1);return Math.round(Ie*A)/A}class $e{}class Ne extends $e{normalizePropertyName(S,A){return H(S)}normalizeStyleValue(S,A,W,xe){let Je="";const Dt=W.toString().trim();if(Xt[A]&&0!==W&&"0"!==W)if("number"==typeof W)Je="px";else{const xt=W.match(/^[+-]?[\d\.]+([a-z]*)$/);xt&&0==xt[1].length&&xe.push(`Please provide a CSS unit value for ${S}:${W}`)}return Dt+Je}}const Xt=(()=>function(Ie){const S={};return Ie.forEach(A=>S[A]=!0),S}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xn(Ie,S,A,W,xe,Je,Dt,xt,sn,gn,Zn,di,bi){return{type:0,element:Ie,triggerName:S,isRemovalTransition:xe,fromState:A,fromStyles:Je,toState:W,toStyles:Dt,timelines:xt,queriedElements:sn,preStyleProps:gn,postStyleProps:Zn,totalTime:di,errors:bi}}const St={};class vt{constructor(S,A,W){this._triggerName=S,this.ast=A,this._stateStyles=W}match(S,A,W,xe){return function(Ie,S,A,W,xe){return Ie.some(Je=>Je(S,A,W,xe))}(this.ast.matchers,S,A,W,xe)}buildStyles(S,A,W){const xe=this._stateStyles["*"],Je=this._stateStyles[S],Dt=xe?xe.buildStyles(A,W):{};return Je?Je.buildStyles(A,W):Dt}build(S,A,W,xe,Je,Dt,xt,sn,gn,Zn){const di=[],bi=this.ast.options&&this.ast.options.params||St,wi=this.buildStyles(W,xt&&xt.params||St,di),Oi=sn&&sn.params||St,Zi=this.buildStyles(xe,Oi,di),Kr=new Set,Fr=new Map,vs=new Map,br="void"===xe,lo={params:Object.assign(Object.assign({},bi),Oi)},co=Zn?[]:Hi(S,A,this.ast.animation,Je,Dt,wi,Zi,lo,gn,di);let zr=0;if(co.forEach(js=>{zr=Math.max(js.duration+js.delay,zr)}),di.length)return xn(A,this._triggerName,W,xe,br,wi,Zi,[],[],Fr,vs,zr,di);co.forEach(js=>{const Zs=js.element,Zo=Te(Fr,Zs,{});js.preStyleProps.forEach(Xr=>Zo[Xr]=!0);const Ks=Te(vs,Zs,{});js.postStyleProps.forEach(Xr=>Ks[Xr]=!0),Zs!==A&&Kr.add(Zs)});const As=ue(Kr.values());return xn(A,this._triggerName,W,xe,br,wi,Zi,co,As,Fr,vs,zr)}}class $t{constructor(S,A,W){this.styles=S,this.defaultParams=A,this.normalizer=W}buildStyles(S,A){const W={},xe=ct(this.defaultParams);return Object.keys(S).forEach(Je=>{const Dt=S[Je];null!=Dt&&(xe[Je]=Dt)}),this.styles.styles.forEach(Je=>{if("string"!=typeof Je){const Dt=Je;Object.keys(Dt).forEach(xt=>{let sn=Dt[xt];sn.length>1&&(sn=pt(sn,xe,A));const gn=this.normalizer.normalizePropertyName(xt,A);sn=this.normalizer.normalizeStyleValue(xt,gn,sn,A),W[gn]=sn})}}),W}}class $n{constructor(S,A,W){this.name=S,this.ast=A,this._normalizer=W,this.transitionFactories=[],this.states={},A.states.forEach(xe=>{this.states[xe.name]=new $t(xe.style,xe.options&&xe.options.params||{},W)}),Mi(this.states,"true","1"),Mi(this.states,"false","0"),A.transitions.forEach(xe=>{this.transitionFactories.push(new vt(S,xe,this.states))}),this.fallbackTransition=function(Ie,S,A){return new vt(Ie,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Dt,xt)=>!0],options:null,queryCount:0,depCount:0},S)}(S,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(S,A,W,xe){return this.transitionFactories.find(Dt=>Dt.match(S,A,W,xe))||null}matchStyles(S,A,W){return this.fallbackTransition.buildStyles(S,A,W)}}function Mi(Ie,S,A){Ie.hasOwnProperty(S)?Ie.hasOwnProperty(A)||(Ie[A]=Ie[S]):Ie.hasOwnProperty(A)&&(Ie[S]=Ie[A])}const ui=new Wn;class Tr{constructor(S,A,W){this.bodyNode=S,this._driver=A,this._normalizer=W,this._animations={},this._playersById={},this.players=[]}register(S,A){const W=[],xe=ln(this._driver,A,W);if(W.length)throw new Error(`Unable to build the animation due to the following errors: ${W.join("\n")}`);this._animations[S]=xe}_buildPlayer(S,A,W){const xe=S.element,Je=De(0,this._normalizer,0,S.keyframes,A,W);return this._driver.animate(xe,Je,S.duration,S.delay,S.easing,[],!0)}create(S,A,W={}){const xe=[],Je=this._animations[S];let Dt;const xt=new Map;if(Je?(Dt=Hi(this._driver,A,Je,ii,Gn,{},{},W,ui,xe),Dt.forEach(Zn=>{const di=Te(xt,Zn.element,{});Zn.postStyleProps.forEach(bi=>di[bi]=null)})):(xe.push("The requested animation doesn't exist or has already been destroyed"),Dt=[]),xe.length)throw new Error(`Unable to create the animation due to the following errors: ${xe.join("\n")}`);xt.forEach((Zn,di)=>{Object.keys(Zn).forEach(bi=>{Zn[bi]=this._driver.computeStyle(di,bi,y.l3)})});const gn=U(Dt.map(Zn=>{const di=xt.get(Zn.element);return this._buildPlayer(Zn,{},di)}));return this._playersById[S]=gn,gn.onDestroy(()=>this.destroy(S)),this.players.push(gn),gn}destroy(S){const A=this._getPlayer(S);A.destroy(),delete this._playersById[S];const W=this.players.indexOf(A);W>=0&&this.players.splice(W,1)}_getPlayer(S){const A=this._playersById[S];if(!A)throw new Error(`Unable to find the timeline player referenced by ${S}`);return A}listen(S,A,W,xe){const Je=se(A,"","","");return le(this._getPlayer(S),W,Je,xe),()=>{}}command(S,A,W,xe){if("register"==W)return void this.register(S,xe[0]);if("create"==W)return void this.create(S,A,xe[0]||{});const Je=this._getPlayer(S);switch(W){case"play":Je.play();break;case"pause":Je.pause();break;case"reset":Je.reset();break;case"restart":Je.restart();break;case"finish":Je.finish();break;case"init":Je.init();break;case"setPosition":Je.setPosition(parseFloat(xe[0]));break;case"destroy":this.destroy(S)}}}const mr="ng-animate-queued",Es="ng-animate-disabled",Mr=".ng-animate-disabled",tr=[],Yr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ws={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nr="__ng_removed";class Ji{constructor(S,A=""){this.namespaceId=A;const W=S&&S.hasOwnProperty("value");if(this.value=null!=(Ie=W?S.value:S)?Ie:null,W){const Je=ct(S);delete Je.value,this.options=Je}else this.options={};var Ie;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(S){const A=S.params;if(A){const W=this.options.params;Object.keys(A).forEach(xe=>{null==W[xe]&&(W[xe]=A[xe])})}}}const os="void",Jr=new Ji(os);class ds{constructor(S,A,W){this.id=S,this.hostElement=A,this._engine=W,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+S,Ei(A,this._hostClassName)}listen(S,A,W,xe){if(!this._triggers.hasOwnProperty(A))throw new Error(`Unable to listen on the animation trigger event "${W}" because the animation trigger "${A}" doesn't exist!`);if(null==W||0==W.length)throw new Error(`Unable to listen on the animation trigger "${A}" because the provided event is undefined!`);if("start"!=(Ie=W)&&"done"!=Ie)throw new Error(`The provided animation trigger event "${W}" for the animation trigger "${A}" is not supported!`);var Ie;const Je=Te(this._elementListeners,S,[]),Dt={name:A,phase:W,callback:xe};Je.push(Dt);const xt=Te(this._engine.statesByElement,S,{});return xt.hasOwnProperty(A)||(Ei(S,Rt),Ei(S,Rt+"-"+A),xt[A]=Jr),()=>{this._engine.afterFlush(()=>{const sn=Je.indexOf(Dt);sn>=0&&Je.splice(sn,1),this._triggers[A]||delete xt[A]})}}register(S,A){return!this._triggers[S]&&(this._triggers[S]=A,!0)}_getTrigger(S){const A=this._triggers[S];if(!A)throw new Error(`The provided animation trigger "${S}" has not been registered!`);return A}trigger(S,A,W,xe=!0){const Je=this._getTrigger(A),Dt=new mo(this.id,A,S);let xt=this._engine.statesByElement.get(S);xt||(Ei(S,Rt),Ei(S,Rt+"-"+A),this._engine.statesByElement.set(S,xt={}));let sn=xt[A];const gn=new Ji(W,this.id);if(!(W&&W.hasOwnProperty("value"))&&sn&&gn.absorbOptions(sn.options),xt[A]=gn,sn||(sn=Jr),gn.value!==os&&sn.value===gn.value){if(!function(Ie,S){const A=Object.keys(Ie),W=Object.keys(S);if(A.length!=W.length)return!1;for(let xe=0;xe<A.length;xe++){const Je=A[xe];if(!S.hasOwnProperty(Je)||Ie[Je]!==S[Je])return!1}return!0}(sn.params,gn.params)){const Oi=[],Zi=Je.matchStyles(sn.value,sn.params,Oi),Kr=Je.matchStyles(gn.value,gn.params,Oi);Oi.length?this._engine.reportError(Oi):this._engine.afterFlush(()=>{at(S,Zi),We(S,Kr)})}return}const bi=Te(this._engine.playersByElement,S,[]);bi.forEach(Oi=>{Oi.namespaceId==this.id&&Oi.triggerName==A&&Oi.queued&&Oi.destroy()});let er=Je.matchTransition(sn.value,gn.value,S,gn.params),wi=!1;if(!er){if(!xe)return;er=Je.fallbackTransition,wi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:S,triggerName:A,transition:er,fromState:sn,toState:gn,player:Dt,isFallbackTransition:wi}),wi||(Ei(S,mr),Dt.onStart(()=>{Br(S,mr)})),Dt.onDone(()=>{let Oi=this.players.indexOf(Dt);Oi>=0&&this.players.splice(Oi,1);const Zi=this._engine.playersByElement.get(S);if(Zi){let Kr=Zi.indexOf(Dt);Kr>=0&&Zi.splice(Kr,1)}}),this.players.push(Dt),bi.push(Dt),Dt}deregister(S){delete this._triggers[S],this._engine.statesByElement.forEach((A,W)=>{delete A[S]}),this._elementListeners.forEach((A,W)=>{this._elementListeners.set(W,A.filter(xe=>xe.name!=S))})}clearElementCache(S){this._engine.statesByElement.delete(S),this._elementListeners.delete(S);const A=this._engine.playersByElement.get(S);A&&(A.forEach(W=>W.destroy()),this._engine.playersByElement.delete(S))}_signalRemovalForInnerTriggers(S,A){const W=this._engine.driver.query(S,Zt,!0);W.forEach(xe=>{if(xe[nr])return;const Je=this._engine.fetchNamespacesByElement(xe);Je.size?Je.forEach(Dt=>Dt.triggerLeaveAnimation(xe,A,!1,!0)):this.clearElementCache(xe)}),this._engine.afterFlushAnimationsDone(()=>W.forEach(xe=>this.clearElementCache(xe)))}triggerLeaveAnimation(S,A,W,xe){const Je=this._engine.statesByElement.get(S);if(Je){const Dt=[];if(Object.keys(Je).forEach(xt=>{if(this._triggers[xt]){const sn=this.trigger(S,xt,os,xe);sn&&Dt.push(sn)}}),Dt.length)return this._engine.markElementAsRemoved(this.id,S,!0,A),W&&U(Dt).onDone(()=>this._engine.processLeaveNode(S)),!0}return!1}prepareLeaveAnimationListeners(S){const A=this._elementListeners.get(S),W=this._engine.statesByElement.get(S);if(A&&W){const xe=new Set;A.forEach(Je=>{const Dt=Je.name;if(xe.has(Dt))return;xe.add(Dt);const sn=this._triggers[Dt].fallbackTransition,gn=W[Dt]||Jr,Zn=new Ji(os),di=new mo(this.id,Dt,S);this._engine.totalQueuedPlayers++,this._queue.push({element:S,triggerName:Dt,transition:sn,fromState:gn,toState:Zn,player:di,isFallbackTransition:!0})})}}removeNode(S,A){const W=this._engine;if(S.childElementCount&&this._signalRemovalForInnerTriggers(S,A),this.triggerLeaveAnimation(S,A,!0))return;let xe=!1;if(W.totalAnimations){const Je=W.players.length?W.playersByQueriedElement.get(S):[];if(Je&&Je.length)xe=!0;else{let Dt=S;for(;Dt=Dt.parentNode;)if(W.statesByElement.get(Dt)){xe=!0;break}}}if(this.prepareLeaveAnimationListeners(S),xe)W.markElementAsRemoved(this.id,S,!1,A);else{const Je=S[nr];(!Je||Je===Yr)&&(W.afterFlush(()=>this.clearElementCache(S)),W.destroyInnerAnimations(S),W._onRemovalComplete(S,A))}}insertNode(S,A){Ei(S,this._hostClassName)}drainQueuedTransitions(S){const A=[];return this._queue.forEach(W=>{const xe=W.player;if(xe.destroyed)return;const Je=W.element,Dt=this._elementListeners.get(Je);Dt&&Dt.forEach(xt=>{if(xt.name==W.triggerName){const sn=se(Je,W.triggerName,W.fromState.value,W.toState.value);sn._data=S,le(W.player,xt.phase,sn,xt.callback)}}),xe.markedForDestroy?this._engine.afterFlush(()=>{xe.destroy()}):A.push(W)}),this._queue=[],A.sort((W,xe)=>{const Je=W.transition.ast.depCount,Dt=xe.transition.ast.depCount;return 0==Je||0==Dt?Je-Dt:this._engine.driver.containsElement(W.element,xe.element)?1:-1})}destroy(S){this.players.forEach(A=>A.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,S)}elementContainsData(S){let A=!1;return this._elementListeners.has(S)&&(A=!0),A=!!this._queue.find(W=>W.element===S)||A,A}}class kr{constructor(S,A,W){this.bodyNode=S,this.driver=A,this._normalizer=W,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(xe,Je)=>{}}_onRemovalComplete(S,A){this.onRemovalComplete(S,A)}get queuedPlayers(){const S=[];return this._namespaceList.forEach(A=>{A.players.forEach(W=>{W.queued&&S.push(W)})}),S}createNamespace(S,A){const W=new ds(S,A,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,A)?this._balanceNamespaceList(W,A):(this.newHostElements.set(A,W),this.collectEnterElement(A)),this._namespaceLookup[S]=W}_balanceNamespaceList(S,A){const W=this._namespaceList.length-1;if(W>=0){let xe=!1;for(let Je=W;Je>=0;Je--)if(this.driver.containsElement(this._namespaceList[Je].hostElement,A)){this._namespaceList.splice(Je+1,0,S),xe=!0;break}xe||this._namespaceList.splice(0,0,S)}else this._namespaceList.push(S);return this.namespacesByHostElement.set(A,S),S}register(S,A){let W=this._namespaceLookup[S];return W||(W=this.createNamespace(S,A)),W}registerTrigger(S,A,W){let xe=this._namespaceLookup[S];xe&&xe.register(A,W)&&this.totalAnimations++}destroy(S,A){if(!S)return;const W=this._fetchNamespace(S);this.afterFlush(()=>{this.namespacesByHostElement.delete(W.hostElement),delete this._namespaceLookup[S];const xe=this._namespaceList.indexOf(W);xe>=0&&this._namespaceList.splice(xe,1)}),this.afterFlushAnimationsDone(()=>W.destroy(A))}_fetchNamespace(S){return this._namespaceLookup[S]}fetchNamespacesByElement(S){const A=new Set,W=this.statesByElement.get(S);if(W){const xe=Object.keys(W);for(let Je=0;Je<xe.length;Je++){const Dt=W[xe[Je]].namespaceId;if(Dt){const xt=this._fetchNamespace(Dt);xt&&A.add(xt)}}}return A}trigger(S,A,W,xe){if(zt(A)){const Je=this._fetchNamespace(S);if(Je)return Je.trigger(A,W,xe),!0}return!1}insertNode(S,A,W,xe){if(!zt(A))return;const Je=A[nr];if(Je&&Je.setForRemoval){Je.setForRemoval=!1,Je.setForMove=!0;const Dt=this.collectedLeaveElements.indexOf(A);Dt>=0&&this.collectedLeaveElements.splice(Dt,1)}if(S){const Dt=this._fetchNamespace(S);Dt&&Dt.insertNode(A,W)}xe&&this.collectEnterElement(A)}collectEnterElement(S){this.collectedEnterElements.push(S)}markElementAsDisabled(S,A){A?this.disabledNodes.has(S)||(this.disabledNodes.add(S),Ei(S,Es)):this.disabledNodes.has(S)&&(this.disabledNodes.delete(S),Br(S,Es))}removeNode(S,A,W,xe){if(zt(A)){const Je=S?this._fetchNamespace(S):null;if(Je?Je.removeNode(A,xe):this.markElementAsRemoved(S,A,!1,xe),W){const Dt=this.namespacesByHostElement.get(A);Dt&&Dt.id!==S&&Dt.removeNode(A,xe)}}else this._onRemovalComplete(A,xe)}markElementAsRemoved(S,A,W,xe){this.collectedLeaveElements.push(A),A[nr]={namespaceId:S,setForRemoval:xe,hasAnimation:W,removedBeforeQueried:!1}}listen(S,A,W,xe,Je){return zt(A)?this._fetchNamespace(S).listen(A,W,xe,Je):()=>{}}_buildInstruction(S,A,W,xe,Je){return S.transition.build(this.driver,S.element,S.fromState.value,S.toState.value,W,xe,S.fromState.options,S.toState.options,A,Je)}destroyInnerAnimations(S){let A=this.driver.query(S,Zt,!0);A.forEach(W=>this.destroyActiveAnimationsForElement(W)),0!=this.playersByQueriedElement.size&&(A=this.driver.query(S,de,!0),A.forEach(W=>this.finishActiveQueriedAnimationOnElement(W)))}destroyActiveAnimationsForElement(S){const A=this.playersByElement.get(S);A&&A.forEach(W=>{W.queued?W.markedForDestroy=!0:W.destroy()})}finishActiveQueriedAnimationOnElement(S){const A=this.playersByQueriedElement.get(S);A&&A.forEach(W=>W.finish())}whenRenderingDone(){return new Promise(S=>{if(this.players.length)return U(this.players).onDone(()=>S());S()})}processLeaveNode(S){const A=S[nr];if(A&&A.setForRemoval){if(S[nr]=Yr,A.namespaceId){this.destroyInnerAnimations(S);const W=this._fetchNamespace(A.namespaceId);W&&W.clearElementCache(S)}this._onRemovalComplete(S,A.setForRemoval)}this.driver.matchesElement(S,Mr)&&this.markElementAsDisabled(S,!1),this.driver.query(S,Mr,!0).forEach(W=>{this.markElementAsDisabled(W,!1)})}flush(S=-1){let A=[];if(this.newHostElements.size&&(this.newHostElements.forEach((W,xe)=>this._balanceNamespaceList(W,xe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let W=0;W<this.collectedEnterElements.length;W++)Ei(this.collectedEnterElements[W],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const W=[];try{A=this._flushAnimations(W,S)}finally{for(let xe=0;xe<W.length;xe++)W[xe]()}}else for(let W=0;W<this.collectedLeaveElements.length;W++)this.processLeaveNode(this.collectedLeaveElements[W]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(W=>W()),this._flushFns=[],this._whenQuietFns.length){const W=this._whenQuietFns;this._whenQuietFns=[],A.length?U(A).onDone(()=>{W.forEach(xe=>xe())}):W.forEach(xe=>xe())}}reportError(S){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${S.join("\n")}`)}_flushAnimations(S,A){const W=new Wn,xe=[],Je=new Map,Dt=[],xt=new Map,sn=new Map,gn=new Map,Zn=new Set;this.disabledNodes.forEach(fi=>{Zn.add(fi);const _i=this.driver.query(fi,".ng-animate-queued",!0);for(let Pi=0;Pi<_i.length;Pi++)Zn.add(_i[Pi])});const di=this.bodyNode,bi=Array.from(this.statesByElement.keys()),er=Vn(bi,this.collectedEnterElements),wi=new Map;let Oi=0;er.forEach((fi,_i)=>{const Pi=ii+Oi++;wi.set(_i,Pi),fi.forEach(Ki=>Ei(Ki,Pi))});const Zi=[],Kr=new Set,Fr=new Set;for(let fi=0;fi<this.collectedLeaveElements.length;fi++){const _i=this.collectedLeaveElements[fi],Pi=_i[nr];Pi&&Pi.setForRemoval&&(Zi.push(_i),Kr.add(_i),Pi.hasAnimation?this.driver.query(_i,".ng-star-inserted",!0).forEach(Ki=>Kr.add(Ki)):Fr.add(_i))}const vs=new Map,br=Vn(bi,Array.from(Kr));br.forEach((fi,_i)=>{const Pi=Gn+Oi++;vs.set(_i,Pi),fi.forEach(Ki=>Ei(Ki,Pi))}),S.push(()=>{er.forEach((fi,_i)=>{const Pi=wi.get(_i);fi.forEach(Ki=>Br(Ki,Pi))}),br.forEach((fi,_i)=>{const Pi=vs.get(_i);fi.forEach(Ki=>Br(Ki,Pi))}),Zi.forEach(fi=>{this.processLeaveNode(fi)})});const lo=[],co=[];for(let fi=this._namespaceList.length-1;fi>=0;fi--)this._namespaceList[fi].drainQueuedTransitions(A).forEach(Pi=>{const Ki=Pi.player,Q=Pi.element;if(lo.push(Ki),this.collectedEnterElements.length){const On=Q[nr];if(On&&On.setForMove)return void Ki.destroy()}const J=!di||!this.driver.containsElement(di,Q),Re=vs.get(Q),it=wi.get(Q),kt=this._buildInstruction(Pi,W,it,Re,J);if(kt.errors&&kt.errors.length)co.push(kt);else{if(J)return Ki.onStart(()=>at(Q,kt.fromStyles)),Ki.onDestroy(()=>We(Q,kt.toStyles)),void xe.push(Ki);if(Pi.isFallbackTransition)return Ki.onStart(()=>at(Q,kt.fromStyles)),Ki.onDestroy(()=>We(Q,kt.toStyles)),void xe.push(Ki);kt.timelines.forEach(On=>On.stretchStartingKeyframe=!0),W.append(Q,kt.timelines),Dt.push({instruction:kt,player:Ki,element:Q}),kt.queriedElements.forEach(On=>Te(xt,On,[]).push(Ki)),kt.preStyleProps.forEach((On,ci)=>{const ti=Object.keys(On);if(ti.length){let Di=sn.get(ci);Di||sn.set(ci,Di=new Set),ti.forEach(or=>Di.add(or))}}),kt.postStyleProps.forEach((On,ci)=>{const ti=Object.keys(On);let Di=gn.get(ci);Di||gn.set(ci,Di=new Set),ti.forEach(or=>Di.add(or))})}});if(co.length){const fi=[];co.forEach(_i=>{fi.push(`@${_i.triggerName} has failed due to:\n`),_i.errors.forEach(Pi=>fi.push(`- ${Pi}\n`))}),lo.forEach(_i=>_i.destroy()),this.reportError(fi)}const zr=new Map,As=new Map;Dt.forEach(fi=>{const _i=fi.element;W.has(_i)&&(As.set(_i,_i),this._beforeAnimationBuild(fi.player.namespaceId,fi.instruction,zr))}),xe.forEach(fi=>{const _i=fi.element;this._getPreviousPlayers(_i,!1,fi.namespaceId,fi.triggerName,null).forEach(Ki=>{Te(zr,_i,[]).push(Ki),Ki.destroy()})});const js=Zi.filter(fi=>Ur(fi,sn,gn)),Zs=new Map;Mn(Zs,this.driver,Fr,gn,y.l3).forEach(fi=>{Ur(fi,sn,gn)&&js.push(fi)});const Ks=new Map;er.forEach((fi,_i)=>{Mn(Ks,this.driver,new Set(fi),sn,y.k1)}),js.forEach(fi=>{const _i=Zs.get(fi),Pi=Ks.get(fi);Zs.set(fi,Object.assign(Object.assign({},_i),Pi))});const Xr=[],bo=[],sr={};Dt.forEach(fi=>{const{element:_i,player:Pi,instruction:Ki}=fi;if(W.has(_i)){if(Zn.has(_i))return Pi.onDestroy(()=>We(_i,Ki.toStyles)),Pi.disabled=!0,Pi.overrideTotalTime(Ki.totalTime),void xe.push(Pi);let Q=sr;if(As.size>1){let Re=_i;const it=[];for(;Re=Re.parentNode;){const kt=As.get(Re);if(kt){Q=kt;break}it.push(Re)}it.forEach(kt=>As.set(kt,Q))}const J=this._buildAnimation(Pi.namespaceId,Ki,zr,Je,Ks,Zs);if(Pi.setRealPlayer(J),Q===sr)Xr.push(Pi);else{const Re=this.playersByElement.get(Q);Re&&Re.length&&(Pi.parentPlayer=U(Re)),xe.push(Pi)}}else at(_i,Ki.fromStyles),Pi.onDestroy(()=>We(_i,Ki.toStyles)),bo.push(Pi),Zn.has(_i)&&xe.push(Pi)}),bo.forEach(fi=>{const _i=Je.get(fi.element);if(_i&&_i.length){const Pi=U(_i);fi.setRealPlayer(Pi)}}),xe.forEach(fi=>{fi.parentPlayer?fi.syncPlayerEvents(fi.parentPlayer):fi.destroy()});for(let fi=0;fi<Zi.length;fi++){const _i=Zi[fi],Pi=_i[nr];if(Br(_i,Gn),Pi&&Pi.hasAnimation)continue;let Ki=[];if(xt.size){let J=xt.get(_i);J&&J.length&&Ki.push(...J);let Re=this.driver.query(_i,de,!0);for(let it=0;it<Re.length;it++){let kt=xt.get(Re[it]);kt&&kt.length&&Ki.push(...kt)}}const Q=Ki.filter(J=>!J.destroyed);Q.length?Ns(this,_i,Q):this.processLeaveNode(_i)}return Zi.length=0,Xr.forEach(fi=>{this.players.push(fi),fi.onDone(()=>{fi.destroy();const _i=this.players.indexOf(fi);this.players.splice(_i,1)}),fi.play()}),Xr}elementContainsData(S,A){let W=!1;const xe=A[nr];return xe&&xe.setForRemoval&&(W=!0),this.playersByElement.has(A)&&(W=!0),this.playersByQueriedElement.has(A)&&(W=!0),this.statesByElement.has(A)&&(W=!0),this._fetchNamespace(S).elementContainsData(A)||W}afterFlush(S){this._flushFns.push(S)}afterFlushAnimationsDone(S){this._whenQuietFns.push(S)}_getPreviousPlayers(S,A,W,xe,Je){let Dt=[];if(A){const xt=this.playersByQueriedElement.get(S);xt&&(Dt=xt)}else{const xt=this.playersByElement.get(S);if(xt){const sn=!Je||Je==os;xt.forEach(gn=>{gn.queued||!sn&&gn.triggerName!=xe||Dt.push(gn)})}}return(W||xe)&&(Dt=Dt.filter(xt=>!(W&&W!=xt.namespaceId||xe&&xe!=xt.triggerName))),Dt}_beforeAnimationBuild(S,A,W){const Je=A.element,Dt=A.isRemovalTransition?void 0:S,xt=A.isRemovalTransition?void 0:A.triggerName;for(const sn of A.timelines){const gn=sn.element,Zn=gn!==Je,di=Te(W,gn,[]);this._getPreviousPlayers(gn,Zn,Dt,xt,A.toState).forEach(er=>{const wi=er.getRealPlayer();wi.beforeDestroy&&wi.beforeDestroy(),er.destroy(),di.push(er)})}at(Je,A.fromStyles)}_buildAnimation(S,A,W,xe,Je,Dt){const xt=A.triggerName,sn=A.element,gn=[],Zn=new Set,di=new Set,bi=A.timelines.map(wi=>{const Oi=wi.element;Zn.add(Oi);const Zi=Oi[nr];if(Zi&&Zi.removedBeforeQueried)return new y.ZN(wi.duration,wi.delay);const Kr=Oi!==sn,Fr=function(Ie){const S=[];return ir(Ie,S),S}((W.get(Oi)||tr).map(zr=>zr.getRealPlayer())).filter(zr=>!!zr.element&&zr.element===Oi),vs=Je.get(Oi),br=Dt.get(Oi),lo=De(0,this._normalizer,0,wi.keyframes,vs,br),co=this._buildPlayer(wi,lo,Fr);if(wi.subTimeline&&xe&&di.add(Oi),Kr){const zr=new mo(S,xt,Oi);zr.setRealPlayer(co),gn.push(zr)}return co});gn.forEach(wi=>{Te(this.playersByQueriedElement,wi.element,[]).push(wi),wi.onDone(()=>function(Ie,S,A){let W;if(Ie instanceof Map){if(W=Ie.get(S),W){if(W.length){const xe=W.indexOf(A);W.splice(xe,1)}0==W.length&&Ie.delete(S)}}else if(W=Ie[S],W){if(W.length){const xe=W.indexOf(A);W.splice(xe,1)}0==W.length&&delete Ie[S]}return W}(this.playersByQueriedElement,wi.element,wi))}),Zn.forEach(wi=>Ei(wi,Ae));const er=U(bi);return er.onDestroy(()=>{Zn.forEach(wi=>Br(wi,Ae)),We(sn,A.toStyles)}),di.forEach(wi=>{Te(xe,wi,[]).push(er)}),er}_buildPlayer(S,A,W){return A.length>0?this.driver.animate(S.element,A,S.duration,S.delay,S.easing,W):new y.ZN(S.duration,S.delay)}}class mo{constructor(S,A,W){this.namespaceId=S,this.triggerName=A,this.element=W,this._player=new y.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(S){this._containsRealPlayer||(this._player=S,Object.keys(this._queuedCallbacks).forEach(A=>{this._queuedCallbacks[A].forEach(W=>le(S,A,void 0,W))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(S.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(S){this.totalTime=S}syncPlayerEvents(S){const A=this._player;A.triggerCallback&&S.onStart(()=>A.triggerCallback("start")),S.onDone(()=>this.finish()),S.onDestroy(()=>this.destroy())}_queueEvent(S,A){Te(this._queuedCallbacks,S,[]).push(A)}onDone(S){this.queued&&this._queueEvent("done",S),this._player.onDone(S)}onStart(S){this.queued&&this._queueEvent("start",S),this._player.onStart(S)}onDestroy(S){this.queued&&this._queueEvent("destroy",S),this._player.onDestroy(S)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(S){this.queued||this._player.setPosition(S)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(S){const A=this._player;A.triggerCallback&&A.triggerCallback(S)}}function zt(Ie){return Ie&&1===Ie.nodeType}function pn(Ie,S){const A=Ie.style.display;return Ie.style.display=null!=S?S:"none",A}function Mn(Ie,S,A,W,xe){const Je=[];A.forEach(sn=>Je.push(pn(sn)));const Dt=[];W.forEach((sn,gn)=>{const Zn={};sn.forEach(di=>{const bi=Zn[di]=S.computeStyle(gn,di,xe);(!bi||0==bi.length)&&(gn[nr]=ws,Dt.push(gn))}),Ie.set(gn,Zn)});let xt=0;return A.forEach(sn=>pn(sn,Je[xt++])),Dt}function Vn(Ie,S){const A=new Map;if(Ie.forEach(xt=>A.set(xt,[])),0==S.length)return A;const xe=new Set(S),Je=new Map;function Dt(xt){if(!xt)return 1;let sn=Je.get(xt);if(sn)return sn;const gn=xt.parentNode;return sn=A.has(gn)?gn:xe.has(gn)?1:Dt(gn),Je.set(xt,sn),sn}return S.forEach(xt=>{const sn=Dt(xt);1!==sn&&A.get(sn).push(xt)}),A}const ki="$$classes";function Ei(Ie,S){if(Ie.classList)Ie.classList.add(S);else{let A=Ie[ki];A||(A=Ie[ki]={}),A[S]=!0}}function Br(Ie,S){if(Ie.classList)Ie.classList.remove(S);else{let A=Ie[ki];A&&delete A[S]}}function Ns(Ie,S,A){U(A).onDone(()=>Ie.processLeaveNode(S))}function ir(Ie,S){for(let A=0;A<Ie.length;A++){const W=Ie[A];W instanceof y.ZE?ir(W.players,S):S.push(W)}}function Ur(Ie,S,A){const W=A.get(Ie);if(!W)return!1;let xe=S.get(Ie);return xe?W.forEach(Je=>xe.add(Je)):S.set(Ie,W),A.delete(Ie),!0}class as{constructor(S,A,W){this.bodyNode=S,this._driver=A,this._normalizer=W,this._triggerCache={},this.onRemovalComplete=(xe,Je)=>{},this._transitionEngine=new kr(S,A,W),this._timelineEngine=new Tr(S,A,W),this._transitionEngine.onRemovalComplete=(xe,Je)=>this.onRemovalComplete(xe,Je)}registerTrigger(S,A,W,xe,Je){const Dt=S+"-"+xe;let xt=this._triggerCache[Dt];if(!xt){const sn=[],gn=ln(this._driver,Je,sn);if(sn.length)throw new Error(`The animation trigger "${xe}" has failed to build due to the following errors:\n - ${sn.join("\n - ")}`);xt=function(Ie,S,A){return new $n(Ie,S,A)}(xe,gn,this._normalizer),this._triggerCache[Dt]=xt}this._transitionEngine.registerTrigger(A,xe,xt)}register(S,A){this._transitionEngine.register(S,A)}destroy(S,A){this._transitionEngine.destroy(S,A)}onInsert(S,A,W,xe){this._transitionEngine.insertNode(S,A,W,xe)}onRemove(S,A,W,xe){this._transitionEngine.removeNode(S,A,xe||!1,W)}disableAnimations(S,A){this._transitionEngine.markElementAsDisabled(S,A)}process(S,A,W,xe){if("@"==W.charAt(0)){const[Je,Dt]=oe(W);this._timelineEngine.command(Je,A,Dt,xe)}else this._transitionEngine.trigger(S,A,W,xe)}listen(S,A,W,xe,Je){if("@"==W.charAt(0)){const[Dt,xt]=oe(W);return this._timelineEngine.listen(Dt,A,xt,Je)}return this._transitionEngine.listen(S,A,W,xe,Je)}flush(S=-1){this._transitionEngine.flush(S)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ss(Ie,S){let A=null,W=null;return Array.isArray(S)&&S.length?(A=Ls(S[0]),S.length>1&&(W=Ls(S[S.length-1]))):S&&(A=Ls(S)),A||W?new Pr(Ie,A,W):null}let Pr=(()=>{class Ie{constructor(A,W,xe){this._element=A,this._startStyles=W,this._endStyles=xe,this._state=0;let Je=Ie.initialStylesByElement.get(A);Je||Ie.initialStylesByElement.set(A,Je={}),this._initialStyles=Je}start(){this._state<1&&(this._startStyles&&We(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(We(this._element,this._initialStyles),this._endStyles&&(We(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ie.initialStylesByElement.delete(this._element),this._startStyles&&(at(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(at(this._element,this._endStyles),this._endStyles=null),We(this._element,this._initialStyles),this._state=3)}}return Ie.initialStylesByElement=new WeakMap,Ie})();function Ls(Ie){let S=null;const A=Object.keys(Ie);for(let W=0;W<A.length;W++){const xe=A[W];go(xe)&&(S=S||{},S[xe]=Ie[xe])}return S}function go(Ie){return"display"===Ie||"position"===Ie}const jo="animation",Ar="animationend";class fs{constructor(S,A,W,xe,Je,Dt,xt){this._element=S,this._name=A,this._duration=W,this._delay=xe,this._easing=Je,this._fillMode=Dt,this._onDoneFn=xt,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=sn=>this._handleCallback(sn)}apply(){(function(Ie,S){const A=cr(Ie,"").trim();let W=0;A.length&&(function(Ie,S){let A=0;for(let W=0;W<Ie.length;W++)","===Ie.charAt(W)&&A++;return A}(A)+1,S=`${A}, ${S}`),jr(Ie,"",S)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ao(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){hr(this._element,this._name,"paused")}resume(){hr(this._element,this._name,"running")}setPosition(S){const A=Vs(this._element,this._name);this._position=S*this._duration,jr(this._element,"Delay",`-${this._position}ms`,A)}getPosition(){return this._position}_handleCallback(S){const A=S._ngTestManualTimestamp||Date.now(),W=1e3*parseFloat(S.elapsedTime.toFixed(3));S.animationName==this._name&&Math.max(A-this._startTime,0)>=this._delay&&W>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ao(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(Ie,S){const W=cr(Ie,"").split(","),xe=Hr(W,S);xe>=0&&(W.splice(xe,1),jr(Ie,"",W.join(",")))}(this._element,this._name))}}function hr(Ie,S,A){jr(Ie,"PlayState",A,Vs(Ie,S))}function Vs(Ie,S){const A=cr(Ie,"");return A.indexOf(",")>0?Hr(A.split(","),S):Hr([A],S)}function Hr(Ie,S){for(let A=0;A<Ie.length;A++)if(Ie[A].indexOf(S)>=0)return A;return-1}function ao(Ie,S,A){A?Ie.removeEventListener(Ar,S):Ie.addEventListener(Ar,S)}function jr(Ie,S,A,W){const xe=jo+S;if(null!=W){const Je=Ie.style[xe];if(Je.length){const Dt=Je.split(",");Dt[W]=A,A=Dt.join(",")}}Ie.style[xe]=A}function cr(Ie,S){return Ie.style[jo+S]||""}class Zr{constructor(S,A,W,xe,Je,Dt,xt,sn){this.element=S,this.keyframes=A,this.animationName=W,this._duration=xe,this._delay=Je,this._finalStyles=xt,this._specialStyles=sn,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=Dt||"linear",this.totalTime=xe+Je,this._buildStyler()}onStart(S){this._onStartFns.push(S)}onDone(S){this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(S=>S()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(S=>S()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(S){this._styler.setPosition(S)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new fs(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(S){const A="start"==S?this._onStartFns:this._onDoneFns;A.forEach(W=>W()),A.length=0}beforeDestroy(){this.init();const S={};if(this.hasStarted()){const A=this._state>=3;Object.keys(this._finalStyles).forEach(W=>{"offset"!=W&&(S[W]=A?this._finalStyles[W]:Bt(this.element,W))})}this.currentSnapshot=S}}class Nr extends y.ZN{constructor(S,A){super(),this.element=S,this._startingStyles={},this.__initialized=!1,this._styles=ke(A)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(S=>{this._startingStyles[S]=this.element.style[S]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(S=>this.element.style.setProperty(S,this._styles[S])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(S=>{const A=this._startingStyles[S];A?this.element.style.setProperty(S,A):this.element.style.removeProperty(S)}),this._startingStyles=null,super.destroy())}}class ne{constructor(){this._count=0}validateStyleProperty(S){return ut(S)}matchesElement(S,A){return ze(S,A)}containsElement(S,A){return be(S,A)}query(S,A,W){return q(S,A,W)}computeStyle(S,A,W){return window.getComputedStyle(S)[A]}buildKeyframeElement(S,A,W){W=W.map(xt=>ke(xt));let xe=`@keyframes ${A} {\n`,Je="";W.forEach(xt=>{Je=" ";const sn=parseFloat(xt.offset);xe+=`${Je}${100*sn}% {\n`,Je+=" ",Object.keys(xt).forEach(gn=>{const Zn=xt[gn];switch(gn){case"offset":return;case"easing":return void(Zn&&(xe+=`${Je}animation-timing-function: ${Zn};\n`));default:return void(xe+=`${Je}${gn}: ${Zn};\n`)}}),xe+=`${Je}}\n`}),xe+="}\n";const Dt=document.createElement("style");return Dt.textContent=xe,Dt}animate(S,A,W,xe,Je,Dt=[],xt){const sn=Dt.filter(Zi=>Zi instanceof Zr),gn={};Le(W,xe)&&sn.forEach(Zi=>{let Kr=Zi.currentSnapshot;Object.keys(Kr).forEach(Fr=>gn[Fr]=Kr[Fr])});const Zn=function(Ie){let S={};return Ie&&(Array.isArray(Ie)?Ie:[Ie]).forEach(W=>{Object.keys(W).forEach(xe=>{"offset"==xe||"easing"==xe||(S[xe]=W[xe])})}),S}(A=ge(S,A,gn));if(0==W)return new Nr(S,Zn);const di="gen_css_kf_"+this._count++,bi=this.buildKeyframeElement(S,di,A);(function(Ie){var S;const A=null===(S=Ie.getRootNode)||void 0===S?void 0:S.call(Ie);return"undefined"!=typeof ShadowRoot&&A instanceof ShadowRoot?A:document.head})(S).appendChild(bi);const wi=Ss(S,A),Oi=new Zr(S,A,di,W,xe,Je,Zn,wi);return Oi.onDestroy(()=>{var Ie;(Ie=bi).parentNode.removeChild(Ie)}),Oi}}class et{constructor(S,A,W,xe){this.element=S,this.keyframes=A,this.options=W,this._specialStyles=xe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=W.duration,this._delay=W.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const S=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,S,this.options),this._finalKeyframe=S.length?S[S.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(S,A,W){return S.animate(A,W)}onStart(S){this._onStartFns.push(S)}onDone(S){this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(S=>S()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}setPosition(S){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=S*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const S={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(A=>{"offset"!=A&&(S[A]=this._finished?this._finalKeyframe[A]:Bt(this.element,A))}),this.currentSnapshot=S}triggerCallback(S){const A="start"==S?this._onStartFns:this._onDoneFns;A.forEach(W=>W()),A.length=0}}class w{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(fe().toString()),this._cssKeyframesDriver=new ne}validateStyleProperty(S){return ut(S)}matchesElement(S,A){return ze(S,A)}containsElement(S,A){return be(S,A)}query(S,A,W){return q(S,A,W)}computeStyle(S,A,W){return window.getComputedStyle(S)[A]}overrideWebAnimationsSupport(S){this._isNativeImpl=S}animate(S,A,W,xe,Je,Dt=[],xt){if(!xt&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(S,A,W,xe,Je,Dt);const Zn={duration:W,delay:xe,fill:0==xe?"both":"forwards"};Je&&(Zn.easing=Je);const di={},bi=Dt.filter(wi=>wi instanceof et);Le(W,xe)&&bi.forEach(wi=>{let Oi=wi.currentSnapshot;Object.keys(Oi).forEach(Zi=>di[Zi]=Oi[Zi])});const er=Ss(S,A=ge(S,A=A.map(wi=>me(wi,!1)),di));return new et(S,A,Zn,er)}}function fe(){return d()&&Element.prototype.animate||{}}var Ze=D(8583);let wn=(()=>{class Ie extends y._j{constructor(A,W){super(),this._nextAnimationId=0,this._renderer=A.createRenderer(W.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(A){const W=this._nextAnimationId.toString();this._nextAnimationId++;const xe=Array.isArray(A)?(0,y.vP)(A):A;return Xi(this._renderer,null,W,"register",[xe]),new oi(W,this._renderer)}}return Ie.\u0275fac=function(A){return new(A||Ie)(_.LFG(_.FYo),_.LFG(Ze.K0))},Ie.\u0275prov=_.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();class oi extends y.LC{constructor(S,A){super(),this._id=S,this._renderer=A}create(S,A){return new rr(this._id,S,A||{},this._renderer)}}class rr{constructor(S,A,W,xe){this.id=S,this.element=A,this._renderer=xe,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",W)}_listen(S,A){return this._renderer.listen(this.element,`@@${this.id}:${S}`,A)}_command(S,...A){return Xi(this._renderer,this.element,this.id,S,A)}onDone(S){this._listen("done",S)}onStart(S){this._listen("start",S)}onDestroy(S){this._listen("destroy",S)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(S){this._command("setPosition",S)}getPosition(){var S,A;return null!==(A=null===(S=this._renderer.engine.players[+this.id])||void 0===S?void 0:S.getPosition())&&void 0!==A?A:0}}function Xi(Ie,S,A,W,xe){return Ie.setProperty(S,`@@${A}:${W}`,xe)}const ur="@.disabled";let vi=(()=>{class Ie{constructor(A,W,xe){this.delegate=A,this.engine=W,this._zone=xe,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),W.onRemovalComplete=(Je,Dt)=>{Dt&&Dt.parentNode(Je)&&Dt.removeChild(Je.parentNode,Je)}}createRenderer(A,W){const Je=this.delegate.createRenderer(A,W);if(!(A&&W&&W.data&&W.data.animation)){let Zn=this._rendererCache.get(Je);return Zn||(Zn=new Us("",Je,this.engine),this._rendererCache.set(Je,Zn)),Zn}const Dt=W.id,xt=W.id+"-"+this._currentId;this._currentId++,this.engine.register(xt,A);const sn=Zn=>{Array.isArray(Zn)?Zn.forEach(sn):this.engine.registerTrigger(Dt,xt,A,Zn.name,Zn)};return W.data.animation.forEach(sn),new Fo(this,xt,Je,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(A,W,xe){A>=0&&A<this._microtaskId?this._zone.run(()=>W(xe)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Je=>{const[Dt,xt]=Je;Dt(xt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([W,xe]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Ie.\u0275fac=function(A){return new(A||Ie)(_.LFG(_.FYo),_.LFG(as),_.LFG(_.R0b))},Ie.\u0275prov=_.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();class Us{constructor(S,A,W){this.namespaceId=S,this.delegate=A,this.engine=W,this.destroyNode=this.delegate.destroyNode?xe=>A.destroyNode(xe):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(S,A){return this.delegate.createElement(S,A)}createComment(S){return this.delegate.createComment(S)}createText(S){return this.delegate.createText(S)}appendChild(S,A){this.delegate.appendChild(S,A),this.engine.onInsert(this.namespaceId,A,S,!1)}insertBefore(S,A,W,xe=!0){this.delegate.insertBefore(S,A,W),this.engine.onInsert(this.namespaceId,A,S,xe)}removeChild(S,A,W){this.engine.onRemove(this.namespaceId,A,this.delegate,W)}selectRootElement(S,A){return this.delegate.selectRootElement(S,A)}parentNode(S){return this.delegate.parentNode(S)}nextSibling(S){return this.delegate.nextSibling(S)}setAttribute(S,A,W,xe){this.delegate.setAttribute(S,A,W,xe)}removeAttribute(S,A,W){this.delegate.removeAttribute(S,A,W)}addClass(S,A){this.delegate.addClass(S,A)}removeClass(S,A){this.delegate.removeClass(S,A)}setStyle(S,A,W,xe){this.delegate.setStyle(S,A,W,xe)}removeStyle(S,A,W){this.delegate.removeStyle(S,A,W)}setProperty(S,A,W){"@"==A.charAt(0)&&A==ur?this.disableAnimations(S,!!W):this.delegate.setProperty(S,A,W)}setValue(S,A){this.delegate.setValue(S,A)}listen(S,A,W){return this.delegate.listen(S,A,W)}disableAnimations(S,A){this.engine.disableAnimations(S,A)}}class Fo extends Us{constructor(S,A,W,xe){super(A,W,xe),this.factory=S,this.namespaceId=A}setProperty(S,A,W){"@"==A.charAt(0)?"."==A.charAt(1)&&A==ur?this.disableAnimations(S,W=void 0===W||!!W):this.engine.process(this.namespaceId,S,A.substr(1),W):this.delegate.setProperty(S,A,W)}listen(S,A,W){if("@"==A.charAt(0)){const xe=function(Ie){switch(Ie){case"body":return document.body;case"document":return document;case"window":return window;default:return Ie}}(S);let Je=A.substr(1),Dt="";return"@"!=Je.charAt(0)&&([Je,Dt]=function(Ie){const S=Ie.indexOf(".");return[Ie.substring(0,S),Ie.substr(S+1)]}(Je)),this.engine.listen(this.namespaceId,xe,Je,Dt,xt=>{this.factory.scheduleListenerCallback(xt._data||-1,W,xt)})}return this.delegate.listen(S,A,W)}}let Lo=(()=>{class Ie extends as{constructor(A,W,xe){super(A.body,W,xe)}ngOnDestroy(){this.flush()}}return Ie.\u0275fac=function(A){return new(A||Ie)(_.LFG(Ze.K0),_.LFG(Ot),_.LFG($e))},Ie.\u0275prov=_.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const Yi=new _.OlP("AnimationModuleType"),xr=[{provide:y._j,useClass:wn},{provide:$e,useFactory:function(){return new Ne}},{provide:as,useClass:Lo},{provide:_.FYo,useFactory:function(Ie,S,A){return new vi(Ie,S,A)},deps:[m.se,as,_.R0b]}],Gr=[{provide:Ot,useFactory:function(){return"function"==typeof fe()?new w:new ne}},{provide:Yi,useValue:"BrowserAnimations"},...xr],aa=[{provide:Ot,useClass:yt},{provide:Yi,useValue:"NoopAnimations"},...xr];let Vo=(()=>{class Ie{static withConfig(A){return{ngModule:Ie,providers:A.disableAnimations?aa:Gr}}}return Ie.\u0275fac=function(A){return new(A||Ie)},Ie.\u0275mod=_.oAB({type:Ie}),Ie.\u0275inj=_.cJS({providers:Gr,imports:[m.b2]}),Ie})()},9075:(In,mt,D)=>{"use strict";D.d(mt,{b2:()=>Wn,H7:()=>wt,q6:()=>Tt,se:()=>ct});var _=D(8583),m=D(7716);class y extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class d extends y{static makeCurrent(){(0,_.HT)(new d)}onAndCancel(vt,st,$t){return vt.addEventListener(st,$t,!1),()=>{vt.removeEventListener(st,$t,!1)}}dispatchEvent(vt,st){vt.dispatchEvent(st)}remove(vt){vt.parentNode&&vt.parentNode.removeChild(vt)}createElement(vt,st){return(st=st||this.getDefaultDocument()).createElement(vt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(vt){return vt.nodeType===Node.ELEMENT_NODE}isShadowRoot(vt){return vt instanceof DocumentFragment}getGlobalEventTarget(vt,st){return"window"===st?window:"document"===st?vt:"body"===st?vt.body:null}getBaseHref(vt){const st=(he=he||document.querySelector("base"),he?he.getAttribute("href"):null);return null==st?null:function(St){De=De||document.createElement("a"),De.setAttribute("href",St);const vt=De.pathname;return"/"===vt.charAt(0)?vt:`/${vt}`}(st)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(vt){return(0,_.Mx)(document.cookie,vt)}}let De,he=null;const Ee=new m.OlP("TRANSITION_ID"),Te=[{provide:m.ip1,useFactory:function(St,vt,st){return()=>{st.get(m.CZH).donePromise.then(()=>{const $t=(0,_.q)(),_n=vt.querySelectorAll(`style[ng-transition="${St}"]`);for(let $n=0;$n<_n.length;$n++)$t.remove(_n[$n])})}},deps:[Ee,_.K0,m.zs3],multi:!0}];class oe{static init(){(0,m.VLi)(new oe)}addToWindow(vt){m.dqk.getAngularTestability=($t,_n=!0)=>{const $n=vt.findTestabilityInTree($t,_n);if(null==$n)throw new Error("Could not find testability for element.");return $n},m.dqk.getAllAngularTestabilities=()=>vt.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>vt.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push($t=>{const _n=m.dqk.getAllAngularTestabilities();let $n=_n.length,pi=!1;const Mi=function(ui){pi=pi||ui,$n--,0==$n&&$t(pi)};_n.forEach(function(ui){ui.whenStable(Mi)})})}findTestabilityInTree(vt,st,$t){if(null==st)return null;const _n=vt.getTestability(st);return null!=_n?_n:$t?(0,_.q)().isShadowRoot(st)?this.findTestabilityInTree(vt,st.host,!0):this.findTestabilityInTree(vt,st.parentElement,!0):null}}let Ye=(()=>{class St{build(){return new XMLHttpRequest}}return St.\u0275fac=function(st){return new(st||St)},St.\u0275prov=m.Yz7({token:St,factory:St.\u0275fac}),St})();const yt=new m.OlP("EventManagerPlugins");let Ot=(()=>{class St{constructor(st,$t){this._zone=$t,this._eventNameToPlugin=new Map,st.forEach(_n=>_n.manager=this),this._plugins=st.slice().reverse()}addEventListener(st,$t,_n){return this._findPluginFor($t).addEventListener(st,$t,_n)}addGlobalEventListener(st,$t,_n){return this._findPluginFor($t).addGlobalEventListener(st,$t,_n)}getZone(){return this._zone}_findPluginFor(st){const $t=this._eventNameToPlugin.get(st);if($t)return $t;const _n=this._plugins;for(let $n=0;$n<_n.length;$n++){const pi=_n[$n];if(pi.supports(st))return this._eventNameToPlugin.set(st,pi),pi}throw new Error(`No event manager plugin found for event ${st}`)}}return St.\u0275fac=function(st){return new(st||St)(m.LFG(yt),m.LFG(m.R0b))},St.\u0275prov=m.Yz7({token:St,factory:St.\u0275fac}),St})();class un{constructor(vt){this._doc=vt}addGlobalEventListener(vt,st,$t){const _n=(0,_.q)().getGlobalEventTarget(this._doc,vt);if(!_n)throw new Error(`Unsupported event target ${_n} for event ${st}`);return this.addEventListener(_n,st,$t)}}let Ut=(()=>{class St{constructor(){this._stylesSet=new Set}addStyles(st){const $t=new Set;st.forEach(_n=>{this._stylesSet.has(_n)||(this._stylesSet.add(_n),$t.add(_n))}),this.onStylesAdded($t)}onStylesAdded(st){}getAllStyles(){return Array.from(this._stylesSet)}}return St.\u0275fac=function(st){return new(st||St)},St.\u0275prov=m.Yz7({token:St,factory:St.\u0275fac}),St})(),jn=(()=>{class St extends Ut{constructor(st){super(),this._doc=st,this._hostNodes=new Map,this._hostNodes.set(st.head,[])}_addStylesToHost(st,$t,_n){st.forEach($n=>{const pi=this._doc.createElement("style");pi.textContent=$n,_n.push($t.appendChild(pi))})}addHost(st){const $t=[];this._addStylesToHost(this._stylesSet,st,$t),this._hostNodes.set(st,$t)}removeHost(st){const $t=this._hostNodes.get(st);$t&&$t.forEach(ii),this._hostNodes.delete(st)}onStylesAdded(st){this._hostNodes.forEach(($t,_n)=>{this._addStylesToHost(st,_n,$t)})}ngOnDestroy(){this._hostNodes.forEach(st=>st.forEach(ii))}}return St.\u0275fac=function(st){return new(st||St)(m.LFG(_.K0))},St.\u0275prov=m.Yz7({token:St,factory:St.\u0275fac}),St})();function ii(St){(0,_.q)().remove(St)}const Gn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qn=/%COMP%/g;function Be(St,vt,st){for(let $t=0;$t<vt.length;$t++){let _n=vt[$t];Array.isArray(_n)?Be(St,_n,st):(_n=_n.replace(Qn,St),st.push(_n))}return st}function Pe(St){return vt=>{if("__ngUnwrap__"===vt)return St;!1===St(vt)&&(vt.preventDefault(),vt.returnValue=!1)}}let ct=(()=>{class St{constructor(st,$t,_n){this.eventManager=st,this.sharedStylesHost=$t,this.appId=_n,this.rendererByCompId=new Map,this.defaultRenderer=new Ft(st)}createRenderer(st,$t){if(!st||!$t)return this.defaultRenderer;switch($t.encapsulation){case m.ifc.Emulated:{let _n=this.rendererByCompId.get($t.id);return _n||(_n=new We(this.eventManager,this.sharedStylesHost,$t,this.appId),this.rendererByCompId.set($t.id,_n)),_n.applyToHost(st),_n}case 1:case m.ifc.ShadowDom:return new at(this.eventManager,this.sharedStylesHost,st,$t);default:if(!this.rendererByCompId.has($t.id)){const _n=Be($t.id,$t.styles,[]);this.sharedStylesHost.addStyles(_n),this.rendererByCompId.set($t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return St.\u0275fac=function(st){return new(st||St)(m.LFG(Ot),m.LFG(jn),m.LFG(m.AFp))},St.\u0275prov=m.Yz7({token:St,factory:St.\u0275fac}),St})();class Ft{constructor(vt){this.eventManager=vt,this.data=Object.create(null)}destroy(){}createElement(vt,st){return st?document.createElementNS(Gn[st]||st,vt):document.createElement(vt)}createComment(vt){return document.createComment(vt)}createText(vt){return document.createTextNode(vt)}appendChild(vt,st){vt.appendChild(st)}insertBefore(vt,st,$t){vt&&vt.insertBefore(st,$t)}removeChild(vt,st){vt&&vt.removeChild(st)}selectRootElement(vt,st){let $t="string"==typeof vt?document.querySelector(vt):vt;if(!$t)throw new Error(`The selector "${vt}" did not match any elements`);return st||($t.textContent=""),$t}parentNode(vt){return vt.parentNode}nextSibling(vt){return vt.nextSibling}setAttribute(vt,st,$t,_n){if(_n){st=_n+":"+st;const $n=Gn[_n];$n?vt.setAttributeNS($n,st,$t):vt.setAttribute(st,$t)}else vt.setAttribute(st,$t)}removeAttribute(vt,st,$t){if($t){const _n=Gn[$t];_n?vt.removeAttributeNS(_n,st):vt.removeAttribute(`${$t}:${st}`)}else vt.removeAttribute(st)}addClass(vt,st){vt.classList.add(st)}removeClass(vt,st){vt.classList.remove(st)}setStyle(vt,st,$t,_n){_n&(m.JOm.DashCase|m.JOm.Important)?vt.style.setProperty(st,$t,_n&m.JOm.Important?"important":""):vt.style[st]=$t}removeStyle(vt,st,$t){$t&m.JOm.DashCase?vt.style.removeProperty(st):vt.style[st]=""}setProperty(vt,st,$t){vt[st]=$t}setValue(vt,st){vt.nodeValue=st}listen(vt,st,$t){return"string"==typeof vt?this.eventManager.addGlobalEventListener(vt,st,Pe($t)):this.eventManager.addEventListener(vt,st,Pe($t))}}class We extends Ft{constructor(vt,st,$t,_n){super(vt),this.component=$t;const $n=Be(_n+"-"+$t.id,$t.styles,[]);st.addStyles($n),this.contentAttr="_ngcontent-%COMP%".replace(Qn,_n+"-"+$t.id),this.hostAttr="_nghost-%COMP%".replace(Qn,_n+"-"+$t.id)}applyToHost(vt){super.setAttribute(vt,this.hostAttr,"")}createElement(vt,st){const $t=super.createElement(vt,st);return super.setAttribute($t,this.contentAttr,""),$t}}class at extends Ft{constructor(vt,st,$t,_n){super(vt),this.sharedStylesHost=st,this.hostEl=$t,this.shadowRoot=$t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const $n=Be(_n.id,_n.styles,[]);for(let pi=0;pi<$n.length;pi++){const Mi=document.createElement("style");Mi.textContent=$n[pi],this.shadowRoot.appendChild(Mi)}}nodeOrShadowRoot(vt){return vt===this.hostEl?this.shadowRoot:vt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(vt,st){return super.appendChild(this.nodeOrShadowRoot(vt),st)}insertBefore(vt,st,$t){return super.insertBefore(this.nodeOrShadowRoot(vt),st,$t)}removeChild(vt,st){return super.removeChild(this.nodeOrShadowRoot(vt),st)}parentNode(vt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(vt)))}}let fn=(()=>{class St extends un{constructor(st){super(st)}supports(st){return!0}addEventListener(st,$t,_n){return st.addEventListener($t,_n,!1),()=>this.removeEventListener(st,$t,_n)}removeEventListener(st,$t,_n){return st.removeEventListener($t,_n)}}return St.\u0275fac=function(st){return new(st||St)(m.LFG(_.K0))},St.\u0275prov=m.Yz7({token:St,factory:St.\u0275fac}),St})();const ge=["alt","control","meta","shift"],Bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},an={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jn={alt:St=>St.altKey,control:St=>St.ctrlKey,meta:St=>St.metaKey,shift:St=>St.shiftKey};let ft=(()=>{class St extends un{constructor(st){super(st)}supports(st){return null!=St.parseEventName(st)}addEventListener(st,$t,_n){const $n=St.parseEventName($t),pi=St.eventCallback($n.fullKey,_n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(st,$n.domEventName,pi))}static parseEventName(st){const $t=st.toLowerCase().split("."),_n=$t.shift();if(0===$t.length||"keydown"!==_n&&"keyup"!==_n)return null;const $n=St._normalizeKey($t.pop());let pi="";if(ge.forEach(ui=>{const Tr=$t.indexOf(ui);Tr>-1&&($t.splice(Tr,1),pi+=ui+".")}),pi+=$n,0!=$t.length||0===$n.length)return null;const Mi={};return Mi.domEventName=_n,Mi.fullKey=pi,Mi}static getEventFullKey(st){let $t="",_n=function(St){let vt=St.key;if(null==vt){if(vt=St.keyIdentifier,null==vt)return"Unidentified";vt.startsWith("U+")&&(vt=String.fromCharCode(parseInt(vt.substring(2),16)),3===St.location&&an.hasOwnProperty(vt)&&(vt=an[vt]))}return Bt[vt]||vt}(st);return _n=_n.toLowerCase()," "===_n?_n="space":"."===_n&&(_n="dot"),ge.forEach($n=>{$n!=_n&&Jn[$n](st)&&($t+=$n+".")}),$t+=_n,$t}static eventCallback(st,$t,_n){return $n=>{St.getEventFullKey($n)===st&&_n.runGuarded(()=>$t($n))}}static _normalizeKey(st){switch(st){case"esc":return"escape";default:return st}}}return St.\u0275fac=function(st){return new(st||St)(m.LFG(_.K0))},St.\u0275prov=m.Yz7({token:St,factory:St.\u0275fac}),St})(),wt=(()=>{class St{}return St.\u0275fac=function(st){return new(st||St)},St.\u0275prov=(0,m.Yz7)({factory:function(){return(0,m.LFG)(Ct)},token:St,providedIn:"root"}),St})(),Ct=(()=>{class St extends wt{constructor(st){super(),this._doc=st}sanitize(st,$t){if(null==$t)return null;switch(st){case m.q3G.NONE:return $t;case m.q3G.HTML:return(0,m.qzn)($t,"HTML")?(0,m.z3N)($t):(0,m.EiD)(this._doc,String($t)).toString();case m.q3G.STYLE:return(0,m.qzn)($t,"Style")?(0,m.z3N)($t):$t;case m.q3G.SCRIPT:if((0,m.qzn)($t,"Script"))return(0,m.z3N)($t);throw new Error("unsafe value used in a script context");case m.q3G.URL:return(0,m.yhl)($t),(0,m.qzn)($t,"URL")?(0,m.z3N)($t):(0,m.mCW)(String($t));case m.q3G.RESOURCE_URL:if((0,m.qzn)($t,"ResourceURL"))return(0,m.z3N)($t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${st} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(st){return(0,m.JVY)(st)}bypassSecurityTrustStyle(st){return(0,m.L6k)(st)}bypassSecurityTrustScript(st){return(0,m.eBb)(st)}bypassSecurityTrustUrl(st){return(0,m.LAX)(st)}bypassSecurityTrustResourceUrl(st){return(0,m.pB0)(st)}}return St.\u0275fac=function(st){return new(st||St)(m.LFG(_.K0))},St.\u0275prov=(0,m.Yz7)({factory:function(){return function(St){return new Ct(St.get(_.K0))}((0,m.LFG)(m.gxx))},token:St,providedIn:"root"}),St})();const Tt=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:_.bD},{provide:m.g9A,useValue:function(){d.makeCurrent(),oe.init()},multi:!0},{provide:_.K0,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),tn=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:yt,useClass:fn,multi:!0,deps:[_.K0,m.R0b,m.Lbi]},{provide:yt,useClass:ft,multi:!0,deps:[_.K0]},[],{provide:ct,useClass:ct,deps:[Ot,jn,m.AFp]},{provide:m.FYo,useExisting:ct},{provide:Ut,useExisting:jn},{provide:jn,useClass:jn,deps:[_.K0]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:Ot,useClass:Ot,deps:[yt,m.R0b]},{provide:_.JF,useClass:Ye,deps:[]},[]];let Wn=(()=>{class St{constructor(st){if(st)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(st){return{ngModule:St,providers:[{provide:m.AFp,useValue:st.appId},{provide:Ee,useExisting:m.AFp},Te]}}}return St.\u0275fac=function(st){return new(st||St)(m.LFG(St,12))},St.\u0275mod=m.oAB({type:St}),St.\u0275inj=m.cJS({providers:tn,imports:[_.ez,m.hGG]}),St})();"undefined"!=typeof window&&window},5987:(In,mt,D)=>{"use strict";D.d(mt,{gz:()=>$n,F0:()=>sr,yS:()=>Ki,Bz:()=>ms,lC:()=>it});var _=D(8583),m=D(7716),y=D(4402),d=D(5917),he=D(6215),U=D(9112),De=D(7574),le=D(3410),Ee=D(8071),se=D(1439),Te=D(9193),oe=D(2441),Ye=D(9765),tt=D(5435),Xe=D(7393),nt=D(7108);function Me(z){return function(O){return 0===z?(0,Te.c)():O.lift(new Qe(z))}}class Qe{constructor(P){if(this.total=P,this.total<0)throw new nt.W}call(P,O){return O.subscribe(new Qt(P,this.total))}}class Qt extends Xe.L{constructor(P,O){super(P),this.total=O,this.ring=new Array,this.count=0}_next(P){const O=this.ring,X=this.total,_e=this.count++;O.length<X?O.push(P):O[_e%X]=P}_complete(){const P=this.destination;let O=this.count;if(O>0){const X=this.count>=this.total?this.total:this.count,_e=this.ring;for(let Se=0;Se<X;Se++){const lt=O++%X;P.next(_e[lt])}}P.complete()}}var hn=D(4635),Gt=D(5242),Et=D(4487),Ke=D(8002),ze=D(3190),be=D(5257),q=D(9761),ke=D(2145),yt=D(5304),Ot=D(4612),un=D(8049),Ut=D(9773),jn=D(3342),ii=D(1307),Gn=D(197),Qn=D(3282);class kn{constructor(P,O){this.id=P,this.url=O}}class Rt extends kn{constructor(P,O,X="imperative",_e=null){super(P,O),this.navigationTrigger=X,this.restoredState=_e}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zt extends kn{constructor(P,O,X){super(P,O),this.urlAfterRedirects=X}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ae extends kn{constructor(P,O,X){super(P,O),this.reason=X}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class de extends kn{constructor(P,O,X){super(P,O),this.error=X}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class te extends kn{constructor(P,O,X,_e){super(P,O),this.urlAfterRedirects=X,this.state=_e}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends kn{constructor(P,O,X,_e){super(P,O),this.urlAfterRedirects=X,this.state=_e}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends kn{constructor(P,O,X,_e,Se){super(P,O),this.urlAfterRedirects=X,this.state=_e,this.shouldActivate=Se}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bt extends kn{constructor(P,O,X,_e){super(P,O),this.urlAfterRedirects=X,this.state=_e}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct extends kn{constructor(P,O,X,_e){super(P,O),this.urlAfterRedirects=X,this.state=_e}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ft{constructor(P){this.route=P}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class me{constructor(P){this.route=P}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rt{constructor(P){this.snapshot=P}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(P){this.snapshot=P}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(P){this.snapshot=P}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class at{constructor(P){this.snapshot=P}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(P,O,X){this.routerEvent=P,this.position=O,this.anchor=X}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jt="primary";class cn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const O=this.params[P];return Array.isArray(O)?O[0]:O}return null}getAll(P){if(this.has(P)){const O=this.params[P];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Ln(z){return new cn(z)}const pt="ngNavigationCancelingError";function ue(z){const P=Error("NavigationCancelingError: "+z);return P[pt]=!0,P}function H(z,P,O){const X=O.path.split("/");if(X.length>z.length||"full"===O.pathMatch&&(P.hasChildren()||X.length<z.length))return null;const _e={};for(let Se=0;Se<X.length;Se++){const lt=X[Se],Ht=z[Se];if(lt.startsWith(":"))_e[lt.substring(1)]=Ht;else if(lt!==Ht.path)return null}return{consumed:z.slice(0,X.length),posParams:_e}}function Le(z,P){const O=z?Object.keys(z):void 0,X=P?Object.keys(P):void 0;if(!O||!X||O.length!=X.length)return!1;let _e;for(let Se=0;Se<O.length;Se++)if(_e=O[Se],!ge(z[_e],P[_e]))return!1;return!0}function ge(z,P){if(Array.isArray(z)&&Array.isArray(P)){if(z.length!==P.length)return!1;const O=[...z].sort(),X=[...P].sort();return O.every((_e,Se)=>X[Se]===_e)}return z===P}function Ue(z){return Array.prototype.concat.apply([],z)}function Bt(z){return z.length>0?z[z.length-1]:null}function Tn(z,P){for(const O in z)z.hasOwnProperty(O)&&P(z[O],O)}function Nn(z){return(0,m.CqO)(z)?z:(0,m.QGY)(z)?(0,y.D)(Promise.resolve(z)):(0,d.of)(z)}const ei={exact:function wt(z,P,O){if(!we(z.segments,P.segments)||!Rn(z.segments,P.segments,O)||z.numberOfChildren!==P.numberOfChildren)return!1;for(const X in P.children)if(!z.children[X]||!wt(z.children[X],P.children[X],O))return!1;return!0},subset:Ct},Jn={exact:function(z,P){return Le(z,P)},subset:function(z,P){return Object.keys(P).length<=Object.keys(z).length&&Object.keys(P).every(O=>ge(z[O],P[O]))},ignored:()=>!0};function ft(z,P,O){return ei[O.paths](z.root,P.root,O.matrixParams)&&Jn[O.queryParams](z.queryParams,P.queryParams)&&!("exact"===O.fragment&&z.fragment!==P.fragment)}function Ct(z,P,O){return nn(z,P,P.segments,O)}function nn(z,P,O,X){if(z.segments.length>O.length){const _e=z.segments.slice(0,O.length);return!(!we(_e,O)||P.hasChildren()||!Rn(_e,O,X))}if(z.segments.length===O.length){if(!we(z.segments,O)||!Rn(z.segments,O,X))return!1;for(const _e in P.children)if(!z.children[_e]||!Ct(z.children[_e],P.children[_e],X))return!1;return!0}{const _e=O.slice(0,z.segments.length),Se=O.slice(z.segments.length);return!!(we(z.segments,_e)&&Rn(z.segments,_e,X)&&z.children[jt])&&nn(z.children[jt],P,Se,X)}}function Rn(z,P,O){return P.every((X,_e)=>Jn[O](z[_e].parameters,X.parameters))}class Bn{constructor(P,O,X){this.root=P,this.queryParams=O,this.fragment=X}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ln(this.queryParams)),this._queryParamMap}toString(){return Wn.serialize(this)}}class _t{constructor(P,O){this.segments=P,this.children=O,this.parent=null,Tn(O,(X,_e)=>X.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hi(this)}}class Nt{constructor(P,O){this.path=P,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=Ln(this.parameters)),this._parameterMap}toString(){return $r(this)}}function we(z,P){return z.length===P.length&&z.every((O,X)=>O.path===P[X].path)}class Tt{}class tn{parse(P){const O=new ht(P);return new Bn(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(P){var z;return`${`/${xi(P.root,!0)}`}${function(z){const P=Object.keys(z).map(O=>{const X=z[O];return Array.isArray(X)?X.map(_e=>`${Wi(O)}=${Wi(_e)}`).join("&"):`${Wi(O)}=${Wi(X)}`}).filter(O=>!!O);return P.length?`?${P.join("&")}`:""}(P.queryParams)}${"string"==typeof P.fragment?`#${z=P.fragment,encodeURI(z)}`:""}`}}const Wn=new tn;function hi(z){return z.segments.map(P=>$r(P)).join("/")}function xi(z,P){if(!z.hasChildren())return hi(z);if(P){const O=z.children[jt]?xi(z.children[jt],!1):"",X=[];return Tn(z.children,(_e,Se)=>{Se!==jt&&X.push(`${Se}:${xi(_e,!1)}`)}),X.length>0?`${O}(${X.join("//")})`:O}{const O=function(z,P){let O=[];return Tn(z.children,(X,_e)=>{_e===jt&&(O=O.concat(P(X,_e)))}),Tn(z.children,(X,_e)=>{_e!==jt&&(O=O.concat(P(X,_e)))}),O}(z,(X,_e)=>_e===jt?[xi(z.children[jt],!1)]:[`${_e}:${xi(X,!1)}`]);return 1===Object.keys(z.children).length&&null!=z.children[jt]?`${hi(z)}/${O[0]}`:`${hi(z)}/(${O.join("//")})`}}function Ui(z){return encodeURIComponent(z).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wi(z){return Ui(z).replace(/%3B/gi,";")}function Hi(z){return Ui(z).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vr(z){return decodeURIComponent(z)}function qi(z){return vr(z.replace(/\+/g,"%20"))}function $r(z){return`${Hi(z.path)}${function(z){return Object.keys(z).map(P=>`;${Hi(P)}=${Hi(z[P])}`).join("")}(z.parameters)}`}const si=/^[^\/()?;=#]+/;function li(z){const P=z.match(si);return P?P[0]:""}const yr=/^[^=?&#]+/,Mt=/^[^?&#]+/;class ht{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let X={};return this.peekStartsWith("(")&&(X=this.parseParens(!1)),(P.length>0||Object.keys(O).length>0)&&(X[jt]=new _t(P,O)),X}parseSegment(){const P=li(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(P),new Nt(vr(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const O=li(this.remaining);if(!O)return;this.capture(O);let X="";if(this.consumeOptional("=")){const _e=li(this.remaining);_e&&(X=_e,this.capture(X))}P[vr(O)]=vr(X)}parseQueryParam(P){const O=function(z){const P=z.match(yr);return P?P[0]:""}(this.remaining);if(!O)return;this.capture(O);let X="";if(this.consumeOptional("=")){const lt=function(z){const P=z.match(Mt);return P?P[0]:""}(this.remaining);lt&&(X=lt,this.capture(X))}const _e=qi(O),Se=qi(X);if(P.hasOwnProperty(_e)){let lt=P[_e];Array.isArray(lt)||(lt=[lt],P[_e]=lt),lt.push(Se)}else P[_e]=Se}parseParens(P){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const X=li(this.remaining),_e=this.remaining[X.length];if("/"!==_e&&")"!==_e&&";"!==_e)throw new Error(`Cannot parse url '${this.url}'`);let Se;X.indexOf(":")>-1?(Se=X.substr(0,X.indexOf(":")),this.capture(Se),this.capture(":")):P&&(Se=jt);const lt=this.parseChildren();O[Se]=1===Object.keys(lt).length?lt[jt]:new _t([],lt),this.consumeOptional("//")}return O}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new Error(`Expected "${P}".`)}}class Xt{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const O=this.pathFromRoot(P);return O.length>1?O[O.length-2]:null}children(P){const O=En(P,this._root);return O?O.children.map(X=>X.value):[]}firstChild(P){const O=En(P,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(P){const O=xn(P,this._root);return O.length<2?[]:O[O.length-2].children.map(_e=>_e.value).filter(_e=>_e!==P)}pathFromRoot(P){return xn(P,this._root).map(O=>O.value)}}function En(z,P){if(z===P.value)return P;for(const O of P.children){const X=En(z,O);if(X)return X}return null}function xn(z,P){if(z===P.value)return[P];for(const O of P.children){const X=xn(z,O);if(X.length)return X.unshift(P),X}return[]}class St{constructor(P,O){this.value=P,this.children=O}toString(){return`TreeNode(${this.value})`}}function vt(z){const P={};return z&&z.children.forEach(O=>P[O.value.outlet]=O),P}class st extends Xt{constructor(P,O){super(P),this.snapshot=O,mr(this,P)}toString(){return this.snapshot.toString()}}function $t(z,P){const O=function(z,P){const lt=new ui([],{},{},"",{},jt,P,null,z.root,-1,{});return new Tr("",new St(lt,[]))}(z,P),X=new he.X([new Nt("",{})]),_e=new he.X({}),Se=new he.X({}),lt=new he.X({}),Ht=new he.X(""),qt=new $n(X,_e,lt,Ht,Se,jt,P,O.root);return qt.snapshot=O.root,new st(new St(qt,[]),O)}class $n{constructor(P,O,X,_e,Se,lt,Ht,qt){this.url=P,this.params=O,this.queryParams=X,this.fragment=_e,this.data=Se,this.outlet=lt,this.component=Ht,this._futureSnapshot=qt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(P=>Ln(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(P=>Ln(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pi(z,P="emptyOnly"){const O=z.pathFromRoot;let X=0;if("always"!==P)for(X=O.length-1;X>=1;){const _e=O[X],Se=O[X-1];if(_e.routeConfig&&""===_e.routeConfig.path)X--;else{if(Se.component)break;X--}}return function(z){return z.reduce((P,O)=>({params:Object.assign(Object.assign({},P.params),O.params),data:Object.assign(Object.assign({},P.data),O.data),resolve:Object.assign(Object.assign({},P.resolve),O._resolvedData)}),{params:{},data:{},resolve:{}})}(O.slice(X))}class ui{constructor(P,O,X,_e,Se,lt,Ht,qt,Yt,Sn,mi){this.url=P,this.params=O,this.queryParams=X,this.fragment=_e,this.data=Se,this.outlet=lt,this.component=Ht,this.routeConfig=qt,this._urlSegment=Yt,this._lastPathIndex=Sn,this._resolve=mi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ln(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ln(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(X=>X.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tr extends Xt{constructor(P,O){super(O),this.url=P,mr(this,O)}toString(){return Wr(this._root)}}function mr(z,P){P.value._routerState=z,P.children.forEach(O=>mr(z,O))}function Wr(z){const P=z.children.length>0?` { ${z.children.map(Wr).join(", ")} } `:"";return`${z.value}${P}`}function Es(z){if(z.snapshot){const P=z.snapshot,O=z._futureSnapshot;z.snapshot=O,Le(P.queryParams,O.queryParams)||z.queryParams.next(O.queryParams),P.fragment!==O.fragment&&z.fragment.next(O.fragment),Le(P.params,O.params)||z.params.next(O.params),function(z,P){if(z.length!==P.length)return!1;for(let O=0;O<z.length;++O)if(!Le(z[O],P[O]))return!1;return!0}(P.url,O.url)||z.url.next(O.url),Le(P.data,O.data)||z.data.next(O.data)}else z.snapshot=z._futureSnapshot,z.data.next(z._futureSnapshot.data)}function Mr(z,P){return Le(z.params,P.params)&&function(z,P){return we(z,P)&&z.every((O,X)=>Le(O.parameters,P[X].parameters))}(z.url,P.url)&&!(!z.parent!=!P.parent)&&(!z.parent||Mr(z.parent,P.parent))}function ss(z,P,O){if(O&&z.shouldReuseRoute(P.value,O.value.snapshot)){const X=O.value;X._futureSnapshot=P.value;const _e=function(z,P,O){return P.children.map(X=>{for(const _e of O.children)if(z.shouldReuseRoute(X.value,_e.value.snapshot))return ss(z,X,_e);return ss(z,X)})}(z,P,O);return new St(X,_e)}{if(z.shouldAttach(P.value)){const Se=z.retrieve(P.value);if(null!==Se){const lt=Se.route;return tr(P,lt),lt}}const X=function(z){return new $n(new he.X(z.url),new he.X(z.params),new he.X(z.queryParams),new he.X(z.fragment),new he.X(z.data),z.outlet,z.component,z)}(P.value),_e=P.children.map(Se=>ss(z,Se));return new St(X,_e)}}function tr(z,P){if(z.value.routeConfig!==P.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(z.children.length!==P.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");P.value._futureSnapshot=z.value;for(let O=0;O<z.children.length;++O)tr(z.children[O],P.children[O])}function Ji(z){return"object"==typeof z&&null!=z&&!z.outlets&&!z.segmentPath}function os(z){return"object"==typeof z&&null!=z&&z.outlets}function Jr(z,P,O,X,_e){let Se={};return X&&Tn(X,(lt,Ht)=>{Se[Ht]=Array.isArray(lt)?lt.map(qt=>`${qt}`):`${lt}`}),new Bn(O.root===z?P:ds(O.root,z,P),Se,_e)}function ds(z,P,O){const X={};return Tn(z.children,(_e,Se)=>{X[Se]=_e===P?O:ds(_e,P,O)}),new _t(z.segments,X)}class kr{constructor(P,O,X){if(this.isAbsolute=P,this.numberOfDoubleDots=O,this.commands=X,P&&X.length>0&&Ji(X[0]))throw new Error("Root segment cannot have matrix parameters");const _e=X.find(os);if(_e&&_e!==Bt(X))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Or{constructor(P,O,X){this.segmentGroup=P,this.processChildren=O,this.index=X}}function pn(z,P,O){if(z||(z=new _t([],{})),0===z.segments.length&&z.hasChildren())return Mn(z,P,O);const X=function(z,P,O){let X=0,_e=P;const Se={match:!1,pathIndex:0,commandIndex:0};for(;_e<z.segments.length;){if(X>=O.length)return Se;const lt=z.segments[_e],Ht=O[X];if(os(Ht))break;const qt=`${Ht}`,Yt=X<O.length-1?O[X+1]:null;if(_e>0&&void 0===qt)break;if(qt&&Yt&&"object"==typeof Yt&&void 0===Yt.outlets){if(!Br(qt,Yt,lt))return Se;X+=2}else{if(!Br(qt,{},lt))return Se;X++}_e++}return{match:!0,pathIndex:_e,commandIndex:X}}(z,P,O),_e=O.slice(X.commandIndex);if(X.match&&X.pathIndex<z.segments.length){const Se=new _t(z.segments.slice(0,X.pathIndex),{});return Se.children[jt]=new _t(z.segments.slice(X.pathIndex),z.children),Mn(Se,0,_e)}return X.match&&0===_e.length?new _t(z.segments,{}):X.match&&!z.hasChildren()?ki(z,P,O):X.match?Mn(z,0,_e):ki(z,P,O)}function Mn(z,P,O){if(0===O.length)return new _t(z.segments,{});{const X=function(z){return os(z[0])?z[0].outlets:{[jt]:z}}(O),_e={};return Tn(X,(Se,lt)=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(_e[lt]=pn(z.children[lt],P,Se))}),Tn(z.children,(Se,lt)=>{void 0===X[lt]&&(_e[lt]=Se)}),new _t(z.segments,_e)}}function ki(z,P,O){const X=z.segments.slice(0,P);let _e=0;for(;_e<O.length;){const Se=O[_e];if(os(Se)){const qt=Ci(Se.outlets);return new _t(X,qt)}if(0===_e&&Ji(O[0])){X.push(new Nt(z.segments[P].path,Ei(O[0]))),_e++;continue}const lt=os(Se)?Se.outlets[jt]:`${Se}`,Ht=_e<O.length-1?O[_e+1]:null;lt&&Ht&&Ji(Ht)?(X.push(new Nt(lt,Ei(Ht))),_e+=2):(X.push(new Nt(lt,{})),_e++)}return new _t(X,{})}function Ci(z){const P={};return Tn(z,(O,X)=>{"string"==typeof O&&(O=[O]),null!==O&&(P[X]=ki(new _t([],{}),0,O))}),P}function Ei(z){const P={};return Tn(z,(O,X)=>P[X]=`${O}`),P}function Br(z,P,O){return z==O.path&&Le(P,O.parameters)}class Fs{constructor(P,O,X,_e){this.routeReuseStrategy=P,this.futureState=O,this.currState=X,this.forwardEvent=_e}activate(P){const O=this.futureState._root,X=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,X,P),Es(this.futureState.root),this.activateChildRoutes(O,X,P)}deactivateChildRoutes(P,O,X){const _e=vt(O);P.children.forEach(Se=>{const lt=Se.value.outlet;this.deactivateRoutes(Se,_e[lt],X),delete _e[lt]}),Tn(_e,(Se,lt)=>{this.deactivateRouteAndItsChildren(Se,X)})}deactivateRoutes(P,O,X){const _e=P.value,Se=O?O.value:null;if(_e===Se)if(_e.component){const lt=X.getContext(_e.outlet);lt&&this.deactivateChildRoutes(P,O,lt.children)}else this.deactivateChildRoutes(P,O,X);else Se&&this.deactivateRouteAndItsChildren(O,X)}deactivateRouteAndItsChildren(P,O){this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,O):this.deactivateRouteAndOutlet(P,O)}detachAndStoreRouteSubtree(P,O){const X=O.getContext(P.value.outlet);if(X&&X.outlet){const _e=X.outlet.detach(),Se=X.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:_e,route:P,contexts:Se})}}deactivateRouteAndOutlet(P,O){const X=O.getContext(P.value.outlet),_e=X&&P.value.component?X.children:O,Se=vt(P);for(const lt of Object.keys(Se))this.deactivateRouteAndItsChildren(Se[lt],_e);X&&X.outlet&&(X.outlet.deactivate(),X.children.onOutletDeactivated(),X.attachRef=null,X.resolver=null,X.route=null)}activateChildRoutes(P,O,X){const _e=vt(O);P.children.forEach(Se=>{this.activateRoutes(Se,_e[Se.value.outlet],X),this.forwardEvent(new at(Se.value.snapshot))}),P.children.length&&this.forwardEvent(new je(P.value.snapshot))}activateRoutes(P,O,X){const _e=P.value,Se=O?O.value:null;if(Es(_e),_e===Se)if(_e.component){const lt=X.getOrCreateContext(_e.outlet);this.activateChildRoutes(P,O,lt.children)}else this.activateChildRoutes(P,O,X);else if(_e.component){const lt=X.getOrCreateContext(_e.outlet);if(this.routeReuseStrategy.shouldAttach(_e.snapshot)){const Ht=this.routeReuseStrategy.retrieve(_e.snapshot);this.routeReuseStrategy.store(_e.snapshot,null),lt.children.onOutletReAttached(Ht.contexts),lt.attachRef=Ht.componentRef,lt.route=Ht.route.value,lt.outlet&&lt.outlet.attach(Ht.componentRef,Ht.route.value),ir(Ht.route)}else{const Ht=function(z){for(let P=z.parent;P;P=P.parent){const O=P.routeConfig;if(O&&O._loadedConfig)return O._loadedConfig;if(O&&O.component)return null}return null}(_e.snapshot),qt=Ht?Ht.module.componentFactoryResolver:null;lt.attachRef=null,lt.route=_e,lt.resolver=qt,lt.outlet&&lt.outlet.activateWith(_e,qt),this.activateChildRoutes(P,null,lt.children)}}else this.activateChildRoutes(P,null,X)}}function ir(z){Es(z.value),z.children.forEach(ir)}class Ur{constructor(P,O){this.routes=P,this.module=O}}function as(z){return"function"==typeof z}function Pr(z){return z instanceof Bn}const Ar=Symbol("INITIAL_VALUE");function hs(){return(0,ze.w)(z=>(0,U.aj)(z.map(P=>P.pipe((0,be.q)(1),(0,q.O)(Ar)))).pipe((0,ke.R)((P,O)=>{let X=!1;return O.reduce((_e,Se,lt)=>_e!==Ar?_e:(Se===Ar&&(X=!0),X||!1!==Se&&lt!==O.length-1&&!Pr(Se)?_e:Se),P)},Ar),(0,tt.h)(P=>P!==Ar),(0,Ke.U)(P=>Pr(P)?P:!0===P),(0,be.q)(1)))}let fs=(()=>{class z{}return z.\u0275fac=function(O){return new(O||z)},z.\u0275cmp=m.Xpm({type:z,selectors:[["ng-component"]],decls:1,vars:0,template:function(O,X){1&O&&m._UZ(0,"router-outlet")},directives:function(){return[it]},encapsulation:2}),z})();function hr(z,P=""){for(let O=0;O<z.length;O++){const X=z[O];ns(X,ps(P,X))}}function ns(z,P){z.children&&hr(z.children,P)}function ps(z,P){return P?z||P.path?z&&!P.path?`${z}/`:!z&&P.path?P.path:`${z}/${P.path}`:"":z}function Vs(z){const P=z.children&&z.children.map(Vs),O=P?Object.assign(Object.assign({},z),{children:P}):Object.assign({},z);return!O.component&&(P||O.loadChildren)&&O.outlet&&O.outlet!==jt&&(O.component=fs),O}function Hr(z){return z.outlet||jt}function ao(z,P){const O=z.filter(X=>Hr(X)===P);return O.push(...z.filter(X=>Hr(X)!==P)),O}const jr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cr(z,P,O){var X;if(""===P.path)return"full"===P.pathMatch&&(z.hasChildren()||O.length>0)?Object.assign({},jr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Se=(P.matcher||H)(O,z,P);if(!Se)return Object.assign({},jr);const lt={};Tn(Se.posParams,(qt,Yt)=>{lt[Yt]=qt.path});const Ht=Se.consumed.length>0?Object.assign(Object.assign({},lt),Se.consumed[Se.consumed.length-1].parameters):lt;return{matched:!0,consumedSegments:Se.consumed,lastChild:Se.consumed.length,parameters:Ht,positionalParamSegments:null!==(X=Se.posParams)&&void 0!==X?X:{}}}function Ri(z,P,O,X,_e="corrected"){if(O.length>0&&function(z,P,O){return O.some(X=>K(z,P,X)&&Hr(X)!==jt)}(z,O,X)){const lt=new _t(P,function(z,P,O,X){const _e={};_e[jt]=X,X._sourceSegment=z,X._segmentIndexShift=P.length;for(const Se of O)if(""===Se.path&&Hr(Se)!==jt){const lt=new _t([],{});lt._sourceSegment=z,lt._segmentIndexShift=P.length,_e[Hr(Se)]=lt}return _e}(z,P,X,new _t(O,z.children)));return lt._sourceSegment=z,lt._segmentIndexShift=P.length,{segmentGroup:lt,slicedSegments:[]}}if(0===O.length&&function(z,P,O){return O.some(X=>K(z,P,X))}(z,O,X)){const lt=new _t(z.segments,function(z,P,O,X,_e,Se){const lt={};for(const Ht of X)if(K(z,O,Ht)&&!_e[Hr(Ht)]){const qt=new _t([],{});qt._sourceSegment=z,qt._segmentIndexShift="legacy"===Se?z.segments.length:P.length,lt[Hr(Ht)]=qt}return Object.assign(Object.assign({},_e),lt)}(z,P,O,X,z.children,_e));return lt._sourceSegment=z,lt._segmentIndexShift=P.length,{segmentGroup:lt,slicedSegments:O}}const Se=new _t(z.segments,z.children);return Se._sourceSegment=z,Se._segmentIndexShift=P.length,{segmentGroup:Se,slicedSegments:O}}function K(z,P,O){return(!(z.hasChildren()||P.length>0)||"full"!==O.pathMatch)&&""===O.path}function Ve(z,P,O,X){return!!(Hr(z)===X||X!==jt&&K(P,O,z))&&("**"===z.path||cr(P,z,O).matched)}function ne(z,P,O){return 0===P.length&&!z.children[O]}class k{constructor(P){this.segmentGroup=P||null}}class N{constructor(P){this.urlTree=P}}function F(z){return new De.y(P=>P.error(new k(z)))}function ye(z){return new De.y(P=>P.error(new N(z)))}function $(z){return new De.y(P=>P.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${z}'`)))}class V{constructor(P,O,X,_e,Se){this.configLoader=O,this.urlSerializer=X,this.urlTree=_e,this.config=Se,this.allowRedirects=!0,this.ngModule=P.get(m.h0i)}apply(){const P=Ri(this.urlTree.root,[],[],this.config).segmentGroup,O=new _t(P.segments,P.children);return this.expandSegmentGroup(this.ngModule,this.config,O,jt).pipe((0,Ke.U)(Se=>this.createUrlTree(Ze(Se),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,yt.K)(Se=>{if(Se instanceof N)return this.allowRedirects=!1,this.match(Se.urlTree);throw Se instanceof k?this.noMatchError(Se):Se}))}match(P){return this.expandSegmentGroup(this.ngModule,this.config,P.root,jt).pipe((0,Ke.U)(_e=>this.createUrlTree(Ze(_e),P.queryParams,P.fragment))).pipe((0,yt.K)(_e=>{throw _e instanceof k?this.noMatchError(_e):_e}))}noMatchError(P){return new Error(`Cannot match any routes. URL Segment: '${P.segmentGroup}'`)}createUrlTree(P,O,X){const _e=P.segments.length>0?new _t([],{[jt]:P}):P;return new Bn(_e,O,X)}expandSegmentGroup(P,O,X,_e){return 0===X.segments.length&&X.hasChildren()?this.expandChildren(P,O,X).pipe((0,Ke.U)(Se=>new _t([],Se))):this.expandSegment(P,X,O,X.segments,_e,!0)}expandChildren(P,O,X){const _e=[];for(const Se of Object.keys(X.children))"primary"===Se?_e.unshift(Se):_e.push(Se);return(0,y.D)(_e).pipe((0,Ot.b)(Se=>{const lt=X.children[Se],Ht=ao(O,Se);return this.expandSegmentGroup(P,Ht,lt,Se).pipe((0,Ke.U)(qt=>({segment:qt,outlet:Se})))}),(0,ke.R)((Se,lt)=>(Se[lt.outlet]=lt.segment,Se),{}),function(z,P){const O=arguments.length>=2;return X=>X.pipe(z?(0,tt.h)((_e,Se)=>z(_e,Se,X)):Et.y,Me(1),O?(0,Gt.d)(P):(0,hn.T)(()=>new le.K))}())}expandSegment(P,O,X,_e,Se,lt){return(0,y.D)(X).pipe((0,Ot.b)(Ht=>this.expandSegmentAgainstRoute(P,O,X,Ht,_e,Se,lt).pipe((0,yt.K)(Yt=>{if(Yt instanceof k)return(0,d.of)(null);throw Yt}))),(0,un.P)(Ht=>!!Ht),(0,yt.K)((Ht,qt)=>{if(Ht instanceof le.K||"EmptyError"===Ht.name){if(ne(O,_e,Se))return(0,d.of)(new _t([],{}));throw new k(O)}throw Ht}))}expandSegmentAgainstRoute(P,O,X,_e,Se,lt,Ht){return Ve(_e,O,Se,lt)?void 0===_e.redirectTo?this.matchSegmentAgainstRoute(P,O,_e,Se,lt):Ht&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,O,X,_e,Se,lt):F(O):F(O)}expandSegmentAgainstRouteUsingRedirect(P,O,X,_e,Se,lt){return"**"===_e.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,X,_e,lt):this.expandRegularSegmentAgainstRouteUsingRedirect(P,O,X,_e,Se,lt)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,O,X,_e){const Se=this.applyRedirectCommands([],X.redirectTo,{});return X.redirectTo.startsWith("/")?ye(Se):this.lineralizeSegments(X,Se).pipe((0,Ut.zg)(lt=>{const Ht=new _t(lt,{});return this.expandSegment(P,Ht,O,lt,_e,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,O,X,_e,Se,lt){const{matched:Ht,consumedSegments:qt,lastChild:Yt,positionalParamSegments:Sn}=cr(O,_e,Se);if(!Ht)return F(O);const mi=this.applyRedirectCommands(qt,_e.redirectTo,Sn);return _e.redirectTo.startsWith("/")?ye(mi):this.lineralizeSegments(_e,mi).pipe((0,Ut.zg)(qr=>this.expandSegment(P,O,X,qr.concat(Se.slice(Yt)),lt,!1)))}matchSegmentAgainstRoute(P,O,X,_e,Se){if("**"===X.path)return X.loadChildren?(X._loadedConfig?(0,d.of)(X._loadedConfig):this.configLoader.load(P.injector,X)).pipe((0,Ke.U)(qr=>(X._loadedConfig=qr,new _t(_e,{})))):(0,d.of)(new _t(_e,{}));const{matched:lt,consumedSegments:Ht,lastChild:qt}=cr(O,X,_e);if(!lt)return F(O);const Yt=_e.slice(qt);return this.getChildConfig(P,X,_e).pipe((0,Ut.zg)(mi=>{const qr=mi.module,fr=mi.routes,{segmentGroup:Go,slicedSegments:ja}=Ri(O,Ht,Yt,fr),qs=new _t(Go.segments,Go.children);if(0===ja.length&&qs.hasChildren())return this.expandChildren(qr,fr,qs).pipe((0,Ke.U)(tl=>new _t(Ht,tl)));if(0===fr.length&&0===ja.length)return(0,d.of)(new _t(Ht,{}));const ga=Hr(X)===Se;return this.expandSegment(qr,qs,fr,ja,ga?jt:Se,!0).pipe((0,Ke.U)(Mo=>new _t(Ht.concat(Mo.segments),Mo.children)))}))}getChildConfig(P,O,X){return O.children?(0,d.of)(new Ur(O.children,P)):O.loadChildren?void 0!==O._loadedConfig?(0,d.of)(O._loadedConfig):this.runCanLoadGuards(P.injector,O,X).pipe((0,Ut.zg)(_e=>{return _e?this.configLoader.load(P.injector,O).pipe((0,Ke.U)(Se=>(O._loadedConfig=Se,Se))):(z=O,new De.y(P=>P.error(ue(`Cannot load children because the guard of the route "path: '${z.path}'" returned false`))));var z})):(0,d.of)(new Ur([],P))}runCanLoadGuards(P,O,X){const _e=O.canLoad;if(!_e||0===_e.length)return(0,d.of)(!0);const Se=_e.map(lt=>{const Ht=P.get(lt);let qt;if((z=Ht)&&as(z.canLoad))qt=Ht.canLoad(O,X);else{if(!as(Ht))throw new Error("Invalid CanLoad guard");qt=Ht(O,X)}var z;return Nn(qt)});return(0,d.of)(Se).pipe(hs(),(0,jn.b)(lt=>{if(!Pr(lt))return;const Ht=ue(`Redirecting to "${this.urlSerializer.serialize(lt)}"`);throw Ht.url=lt,Ht}),(0,Ke.U)(lt=>!0===lt))}lineralizeSegments(P,O){let X=[],_e=O.root;for(;;){if(X=X.concat(_e.segments),0===_e.numberOfChildren)return(0,d.of)(X);if(_e.numberOfChildren>1||!_e.children[jt])return $(P.redirectTo);_e=_e.children[jt]}}applyRedirectCommands(P,O,X){return this.applyRedirectCreatreUrlTree(O,this.urlSerializer.parse(O),P,X)}applyRedirectCreatreUrlTree(P,O,X,_e){const Se=this.createSegmentGroup(P,O.root,X,_e);return new Bn(Se,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(P,O){const X={};return Tn(P,(_e,Se)=>{if("string"==typeof _e&&_e.startsWith(":")){const Ht=_e.substring(1);X[Se]=O[Ht]}else X[Se]=_e}),X}createSegmentGroup(P,O,X,_e){const Se=this.createSegments(P,O.segments,X,_e);let lt={};return Tn(O.children,(Ht,qt)=>{lt[qt]=this.createSegmentGroup(P,Ht,X,_e)}),new _t(Se,lt)}createSegments(P,O,X,_e){return O.map(Se=>Se.path.startsWith(":")?this.findPosParam(P,Se,_e):this.findOrReturn(Se,X))}findPosParam(P,O,X){const _e=X[O.path.substring(1)];if(!_e)throw new Error(`Cannot redirect to '${P}'. Cannot find '${O.path}'.`);return _e}findOrReturn(P,O){let X=0;for(const _e of O){if(_e.path===P.path)return O.splice(X),_e;X++}return P}}function Ze(z){const P={};for(const X of Object.keys(z.children)){const Se=Ze(z.children[X]);(Se.segments.length>0||Se.hasChildren())&&(P[X]=Se)}return function(z){if(1===z.numberOfChildren&&z.children[jt]){const P=z.children[jt];return new _t(z.segments.concat(P.segments),P.children)}return z}(new _t(z.segments,P))}class oi{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class rr{constructor(P,O){this.component=P,this.route=O}}function Xi(z,P,O){const X=z._root;return Us(X,P?P._root:null,O,[X.value])}function ur(z,P,O){const X=function(z){if(!z)return null;for(let P=z.parent;P;P=P.parent){const O=P.routeConfig;if(O&&O._loadedConfig)return O._loadedConfig}return null}(P);return(X?X.module.injector:O).get(z)}function Us(z,P,O,X,_e={canDeactivateChecks:[],canActivateChecks:[]}){const Se=vt(P);return z.children.forEach(lt=>{(function(z,P,O,X,_e={canDeactivateChecks:[],canActivateChecks:[]}){const Se=z.value,lt=P?P.value:null,Ht=O?O.getContext(z.value.outlet):null;if(lt&&Se.routeConfig===lt.routeConfig){const qt=function(z,P,O){if("function"==typeof O)return O(z,P);switch(O){case"pathParamsChange":return!we(z.url,P.url);case"pathParamsOrQueryParamsChange":return!we(z.url,P.url)||!Le(z.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mr(z,P)||!Le(z.queryParams,P.queryParams);case"paramsChange":default:return!Mr(z,P)}}(lt,Se,Se.routeConfig.runGuardsAndResolvers);qt?_e.canActivateChecks.push(new oi(X)):(Se.data=lt.data,Se._resolvedData=lt._resolvedData),Us(z,P,Se.component?Ht?Ht.children:null:O,X,_e),qt&&Ht&&Ht.outlet&&Ht.outlet.isActivated&&_e.canDeactivateChecks.push(new rr(Ht.outlet.component,lt))}else lt&&Hs(P,Ht,_e),_e.canActivateChecks.push(new oi(X)),Us(z,null,Se.component?Ht?Ht.children:null:O,X,_e)})(lt,Se[lt.value.outlet],O,X.concat([lt.value]),_e),delete Se[lt.value.outlet]}),Tn(Se,(lt,Ht)=>Hs(lt,O.getContext(Ht),_e)),_e}function Hs(z,P,O){const X=vt(z),_e=z.value;Tn(X,(Se,lt)=>{Hs(Se,_e.component?P?P.children.getContext(lt):null:P,O)}),O.canDeactivateChecks.push(new rr(_e.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,_e))}class Vo{}function Ys(z){return new De.y(P=>P.error(z))}class S{constructor(P,O,X,_e,Se,lt){this.rootComponentType=P,this.config=O,this.urlTree=X,this.url=_e,this.paramsInheritanceStrategy=Se,this.relativeLinkResolution=lt}recognize(){const P=Ri(this.urlTree.root,[],[],this.config.filter(lt=>void 0===lt.redirectTo),this.relativeLinkResolution).segmentGroup,O=this.processSegmentGroup(this.config,P,jt);if(null===O)return null;const X=new ui([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),_e=new St(X,O),Se=new Tr(this.url,_e);return this.inheritParamsAndData(Se._root),Se}inheritParamsAndData(P){const O=P.value,X=pi(O,this.paramsInheritanceStrategy);O.params=Object.freeze(X.params),O.data=Object.freeze(X.data),P.children.forEach(_e=>this.inheritParamsAndData(_e))}processSegmentGroup(P,O,X){return 0===O.segments.length&&O.hasChildren()?this.processChildren(P,O):this.processSegment(P,O,O.segments,X)}processChildren(P,O){const X=[];for(const Se of Object.keys(O.children)){const lt=O.children[Se],Ht=ao(P,Se),qt=this.processSegmentGroup(Ht,lt,Se);if(null===qt)return null;X.push(...qt)}const _e=Je(X);return _e.sort((P,O)=>P.value.outlet===jt?-1:O.value.outlet===jt?1:P.value.outlet.localeCompare(O.value.outlet)),_e}processSegment(P,O,X,_e){for(const Se of P){const lt=this.processSegmentAgainstRoute(Se,O,X,_e);if(null!==lt)return lt}return ne(O,X,_e)?[]:null}processSegmentAgainstRoute(P,O,X,_e){if(P.redirectTo||!Ve(P,O,X,_e))return null;let Se,lt=[],Ht=[];if("**"===P.path){const fr=X.length>0?Bt(X).parameters:{};Se=new ui(X,fr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gn(P),Hr(P),P.component,P,xt(O),sn(O)+X.length,Zn(P))}else{const fr=cr(O,P,X);if(!fr.matched)return null;lt=fr.consumedSegments,Ht=X.slice(fr.lastChild),Se=new ui(lt,fr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gn(P),Hr(P),P.component,P,xt(O),sn(O)+lt.length,Zn(P))}const qt=(z=P).children?z.children:z.loadChildren?z._loadedConfig.routes:[],{segmentGroup:Yt,slicedSegments:Sn}=Ri(O,lt,Ht,qt.filter(fr=>void 0===fr.redirectTo),this.relativeLinkResolution);var z;if(0===Sn.length&&Yt.hasChildren()){const fr=this.processChildren(qt,Yt);return null===fr?null:[new St(Se,fr)]}if(0===qt.length&&0===Sn.length)return[new St(Se,[])];const mi=Hr(P)===_e,qr=this.processSegment(qt,Yt,Sn,mi?jt:_e);return null===qr?null:[new St(Se,qr)]}}function xe(z){const P=z.value.routeConfig;return P&&""===P.path&&void 0===P.redirectTo}function Je(z){const P=[],O=new Set;for(const X of z){if(!xe(X)){P.push(X);continue}const _e=P.find(Se=>X.value.routeConfig===Se.value.routeConfig);void 0!==_e?(_e.children.push(...X.children),O.add(_e)):P.push(X)}for(const X of O){const _e=Je(X.children);P.push(new St(X.value,_e))}return P.filter(X=>!O.has(X))}function xt(z){let P=z;for(;P._sourceSegment;)P=P._sourceSegment;return P}function sn(z){let P=z,O=P._segmentIndexShift?P._segmentIndexShift:0;for(;P._sourceSegment;)P=P._sourceSegment,O+=P._segmentIndexShift?P._segmentIndexShift:0;return O-1}function gn(z){return z.data||{}}function Zn(z){return z.resolve||{}}function Zi(z){return(0,ze.w)(P=>{const O=z(P);return O?(0,y.D)(O).pipe((0,Ke.U)(()=>P)):(0,d.of)(P)})}class vs extends class{shouldDetach(P){return!1}store(P,O){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,O){return P.routeConfig===O.routeConfig}}{}const br=new m.OlP("ROUTES");class lo{constructor(P,O,X,_e){this.loader=P,this.compiler=O,this.onLoadStartListener=X,this.onLoadEndListener=_e}load(P,O){if(O._loader$)return O._loader$;this.onLoadStartListener&&this.onLoadStartListener(O);const _e=this.loadModuleFactory(O.loadChildren).pipe((0,Ke.U)(Se=>{this.onLoadEndListener&&this.onLoadEndListener(O);const lt=Se.create(P);return new Ur(Ue(lt.injector.get(br,void 0,m.XFs.Self|m.XFs.Optional)).map(Vs),lt)}),(0,yt.K)(Se=>{throw O._loader$=void 0,Se}));return O._loader$=new oe.c(_e,()=>new Ye.xQ).pipe((0,ii.x)()),O._loader$}loadModuleFactory(P){return"string"==typeof P?(0,y.D)(this.loader.load(P)):Nn(P()).pipe((0,Ut.zg)(O=>O instanceof m.YKP?(0,d.of)(O):(0,y.D)(this.compiler.compileModuleAsync(O))))}}class co{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zr,this.attachRef=null}}class zr{constructor(){this.contexts=new Map}onChildOutletCreated(P,O){const X=this.getOrCreateContext(P);X.outlet=O,this.contexts.set(P,X)}onChildOutletDestroyed(P){const O=this.getContext(P);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let O=this.getContext(P);return O||(O=new co,this.contexts.set(P,O)),O}getContext(P){return this.contexts.get(P)||null}}class js{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,O){return P}}function Zs(z){throw z}function Zo(z,P,O){return P.parse("/")}function Ks(z,P){return(0,d.of)(null)}const Xr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{class z{constructor(O,X,_e,Se,lt,Ht,qt,Yt){this.rootComponentType=O,this.urlSerializer=X,this.rootContexts=_e,this.location=Se,this.config=Yt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ye.xQ,this.errorHandler=Zs,this.malformedUriErrorHandler=Zo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ks,afterPreactivation:Ks},this.urlHandlingStrategy=new js,this.routeReuseStrategy=new vs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=lt.get(m.h0i),this.console=lt.get(m.c2e);const qr=lt.get(m.R0b);this.isNgZoneEnabled=qr instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(Yt),this.currentUrlTree=new Bn(new _t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lo(Ht,qt,fr=>this.triggerEvent(new Ft(fr)),fr=>this.triggerEvent(new me(fr))),this.routerState=$t(this.currentUrlTree,this.rootComponentType),this.transitions=new he.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var O;return null===(O=this.location.getState())||void 0===O?void 0:O.\u0275routerPageId}setupNavigations(O){const X=this.events;return O.pipe((0,tt.h)(_e=>0!==_e.id),(0,Ke.U)(_e=>Object.assign(Object.assign({},_e),{extractedUrl:this.urlHandlingStrategy.extract(_e.rawUrl)})),(0,ze.w)(_e=>{let Se=!1,lt=!1;return(0,d.of)(_e).pipe((0,jn.b)(Ht=>{this.currentNavigation={id:Ht.id,initialUrl:Ht.currentRawUrl,extractedUrl:Ht.extractedUrl,trigger:Ht.source,extras:Ht.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ze.w)(Ht=>{const qt=this.browserUrlTree.toString(),Yt=!this.navigated||Ht.extractedUrl.toString()!==qt||qt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Yt)&&this.urlHandlingStrategy.shouldProcessUrl(Ht.rawUrl))return _i(Ht.source)&&(this.browserUrlTree=Ht.extractedUrl),(0,d.of)(Ht).pipe((0,ze.w)(mi=>{const qr=this.transitions.getValue();return X.next(new Rt(mi.id,this.serializeUrl(mi.extractedUrl),mi.source,mi.restoredState)),qr!==this.transitions.getValue()?Te.E:Promise.resolve(mi)}),function(z,P,O,X){return(0,ze.w)(_e=>function(z,P,O,X,_e){return new V(z,P,O,X,_e).apply()}(z,P,O,_e.extractedUrl,X).pipe((0,Ke.U)(Se=>Object.assign(Object.assign({},_e),{urlAfterRedirects:Se}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,jn.b)(mi=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:mi.urlAfterRedirects})}),function(z,P,O,X,_e){return(0,Ut.zg)(Se=>function(z,P,O,X,_e="emptyOnly",Se="legacy"){try{const lt=new S(z,P,O,X,_e,Se).recognize();return null===lt?Ys(new Vo):(0,d.of)(lt)}catch(lt){return Ys(lt)}}(z,P,Se.urlAfterRedirects,O(Se.urlAfterRedirects),X,_e).pipe((0,Ke.U)(lt=>Object.assign(Object.assign({},Se),{targetSnapshot:lt}))))}(this.rootComponentType,this.config,mi=>this.serializeUrl(mi),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jn.b)(mi=>{"eager"===this.urlUpdateStrategy&&(mi.extras.skipLocationChange||this.setBrowserUrl(mi.urlAfterRedirects,mi),this.browserUrlTree=mi.urlAfterRedirects);const qr=new te(mi.id,this.serializeUrl(mi.extractedUrl),this.serializeUrl(mi.urlAfterRedirects),mi.targetSnapshot);X.next(qr)}));if(Yt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:qr,extractedUrl:fr,source:Go,restoredState:ja,extras:qs}=Ht,ga=new Rt(qr,this.serializeUrl(fr),Go,ja);X.next(ga);const _a=$t(fr,this.rootComponentType).snapshot;return(0,d.of)(Object.assign(Object.assign({},Ht),{targetSnapshot:_a,urlAfterRedirects:fr,extras:Object.assign(Object.assign({},qs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ht.rawUrl,this.browserUrlTree=Ht.urlAfterRedirects,Ht.resolve(null),Te.E}),Zi(Ht=>{const{targetSnapshot:qt,id:Yt,extractedUrl:Sn,rawUrl:mi,extras:{skipLocationChange:qr,replaceUrl:fr}}=Ht;return this.hooks.beforePreactivation(qt,{navigationId:Yt,appliedUrlTree:Sn,rawUrlTree:mi,skipLocationChange:!!qr,replaceUrl:!!fr})}),(0,jn.b)(Ht=>{const qt=new Be(Ht.id,this.serializeUrl(Ht.extractedUrl),this.serializeUrl(Ht.urlAfterRedirects),Ht.targetSnapshot);this.triggerEvent(qt)}),(0,Ke.U)(Ht=>Object.assign(Object.assign({},Ht),{guards:Xi(Ht.targetSnapshot,Ht.currentSnapshot,this.rootContexts)})),function(z,P){return(0,Ut.zg)(O=>{const{targetSnapshot:X,currentSnapshot:_e,guards:{canActivateChecks:Se,canDeactivateChecks:lt}}=O;return 0===lt.length&&0===Se.length?(0,d.of)(Object.assign(Object.assign({},O),{guardsResult:!0})):function(z,P,O,X){return(0,y.D)(z).pipe((0,Ut.zg)(_e=>function(z,P,O,X,_e){const Se=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!Se||0===Se.length)return(0,d.of)(!0);const lt=Se.map(Ht=>{const qt=ur(Ht,P,_e);let Yt;if(function(z){return z&&as(z.canDeactivate)}(qt))Yt=Nn(qt.canDeactivate(z,P,O,X));else{if(!as(qt))throw new Error("Invalid CanDeactivate guard");Yt=Nn(qt(z,P,O,X))}return Yt.pipe((0,un.P)())});return(0,d.of)(lt).pipe(hs())}(_e.component,_e.route,O,P,X)),(0,un.P)(_e=>!0!==_e,!0))}(lt,X,_e,z).pipe((0,Ut.zg)(Ht=>Ht&&function(z){return"boolean"==typeof z}(Ht)?function(z,P,O,X){return(0,y.D)(P).pipe((0,Ot.b)(_e=>(0,Ee.z)(function(z,P){return null!==z&&P&&P(new rt(z)),(0,d.of)(!0)}(_e.route.parent,X),function(z,P){return null!==z&&P&&P(new We(z)),(0,d.of)(!0)}(_e.route,X),function(z,P,O){const X=P[P.length-1],Se=P.slice(0,P.length-1).reverse().map(lt=>function(z){const P=z.routeConfig?z.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:z,guards:P}:null}(lt)).filter(lt=>null!==lt).map(lt=>(0,se.P)(()=>{const Ht=lt.guards.map(qt=>{const Yt=ur(qt,lt.node,O);let Sn;if(function(z){return z&&as(z.canActivateChild)}(Yt))Sn=Nn(Yt.canActivateChild(X,z));else{if(!as(Yt))throw new Error("Invalid CanActivateChild guard");Sn=Nn(Yt(X,z))}return Sn.pipe((0,un.P)())});return(0,d.of)(Ht).pipe(hs())}));return(0,d.of)(Se).pipe(hs())}(z,_e.path,O),function(z,P,O){const X=P.routeConfig?P.routeConfig.canActivate:null;if(!X||0===X.length)return(0,d.of)(!0);const _e=X.map(Se=>(0,se.P)(()=>{const lt=ur(Se,P,O);let Ht;if(function(z){return z&&as(z.canActivate)}(lt))Ht=Nn(lt.canActivate(P,z));else{if(!as(lt))throw new Error("Invalid CanActivate guard");Ht=Nn(lt(P,z))}return Ht.pipe((0,un.P)())}));return(0,d.of)(_e).pipe(hs())}(z,_e.route,O))),(0,un.P)(_e=>!0!==_e,!0))}(X,Se,z,P):(0,d.of)(Ht)),(0,Ke.U)(Ht=>Object.assign(Object.assign({},O),{guardsResult:Ht})))})}(this.ngModule.injector,Ht=>this.triggerEvent(Ht)),(0,jn.b)(Ht=>{if(Pr(Ht.guardsResult)){const Yt=ue(`Redirecting to "${this.serializeUrl(Ht.guardsResult)}"`);throw Yt.url=Ht.guardsResult,Yt}const qt=new Pe(Ht.id,this.serializeUrl(Ht.extractedUrl),this.serializeUrl(Ht.urlAfterRedirects),Ht.targetSnapshot,!!Ht.guardsResult);this.triggerEvent(qt)}),(0,tt.h)(Ht=>!!Ht.guardsResult||(this.restoreHistory(Ht),this.cancelNavigationTransition(Ht,""),!1)),Zi(Ht=>{if(Ht.guards.canActivateChecks.length)return(0,d.of)(Ht).pipe((0,jn.b)(qt=>{const Yt=new bt(qt.id,this.serializeUrl(qt.extractedUrl),this.serializeUrl(qt.urlAfterRedirects),qt.targetSnapshot);this.triggerEvent(Yt)}),(0,ze.w)(qt=>{let Yt=!1;return(0,d.of)(qt).pipe(function(z,P){return(0,Ut.zg)(O=>{const{targetSnapshot:X,guards:{canActivateChecks:_e}}=O;if(!_e.length)return(0,d.of)(O);let Se=0;return(0,y.D)(_e).pipe((0,Ot.b)(lt=>function(z,P,O,X){return function(z,P,O,X){const _e=Object.keys(z);if(0===_e.length)return(0,d.of)({});const Se={};return(0,y.D)(_e).pipe((0,Ut.zg)(lt=>function(z,P,O,X){const _e=ur(z,P,X);return Nn(_e.resolve?_e.resolve(P,O):_e(P,O))}(z[lt],P,O,X).pipe((0,jn.b)(Ht=>{Se[lt]=Ht}))),Me(1),(0,Ut.zg)(()=>Object.keys(Se).length===_e.length?(0,d.of)(Se):Te.E))}(z._resolve,z,P,X).pipe((0,Ke.U)(Se=>(z._resolvedData=Se,z.data=Object.assign(Object.assign({},z.data),pi(z,O).resolve),null)))}(lt.route,X,z,P)),(0,jn.b)(()=>Se++),Me(1),(0,Ut.zg)(lt=>Se===_e.length?(0,d.of)(O):Te.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,jn.b)({next:()=>Yt=!0,complete:()=>{Yt||(this.restoreHistory(qt),this.cancelNavigationTransition(qt,"At least one route resolver didn't emit any value."))}}))}),(0,jn.b)(qt=>{const Yt=new ct(qt.id,this.serializeUrl(qt.extractedUrl),this.serializeUrl(qt.urlAfterRedirects),qt.targetSnapshot);this.triggerEvent(Yt)}))}),Zi(Ht=>{const{targetSnapshot:qt,id:Yt,extractedUrl:Sn,rawUrl:mi,extras:{skipLocationChange:qr,replaceUrl:fr}}=Ht;return this.hooks.afterPreactivation(qt,{navigationId:Yt,appliedUrlTree:Sn,rawUrlTree:mi,skipLocationChange:!!qr,replaceUrl:!!fr})}),(0,Ke.U)(Ht=>{const qt=function(z,P,O){const X=ss(z,P._root,O?O._root:void 0);return new st(X,P)}(this.routeReuseStrategy,Ht.targetSnapshot,Ht.currentRouterState);return Object.assign(Object.assign({},Ht),{targetRouterState:qt})}),(0,jn.b)(Ht=>{this.currentUrlTree=Ht.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ht.urlAfterRedirects,Ht.rawUrl),this.routerState=Ht.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ht.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ht),this.browserUrlTree=Ht.urlAfterRedirects)}),((z,P,O)=>(0,Ke.U)(X=>(new Fs(P,X.targetRouterState,X.currentRouterState,O).activate(z),X)))(this.rootContexts,this.routeReuseStrategy,Ht=>this.triggerEvent(Ht)),(0,jn.b)({next(){Se=!0},complete(){Se=!0}}),(0,Gn.x)(()=>{var Ht;if(!Se&&!lt){const qt=`Navigation ID ${_e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(_e),this.cancelNavigationTransition(_e,qt)):this.cancelNavigationTransition(_e,qt)}(null===(Ht=this.currentNavigation)||void 0===Ht?void 0:Ht.id)===_e.id&&(this.currentNavigation=null)}),(0,yt.K)(Ht=>{if(lt=!0,function(z){return z&&z[pt]}(Ht)){const qt=Pr(Ht.url);qt||(this.navigated=!0,this.restoreHistory(_e,!0));const Yt=new Ae(_e.id,this.serializeUrl(_e.extractedUrl),Ht.message);X.next(Yt),qt?setTimeout(()=>{const Sn=this.urlHandlingStrategy.merge(Ht.url,this.rawUrlTree),mi={skipLocationChange:_e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_i(_e.source)};this.scheduleNavigation(Sn,"imperative",null,mi,{resolve:_e.resolve,reject:_e.reject,promise:_e.promise})},0):_e.resolve(!1)}else{this.restoreHistory(_e,!0);const qt=new de(_e.id,this.serializeUrl(_e.extractedUrl),Ht);X.next(qt);try{_e.resolve(this.errorHandler(Ht))}catch(Yt){_e.reject(Yt)}}return Te.E}))}))}resetRootComponentType(O){this.rootComponentType=O,this.routerState.root.component=this.rootComponentType}getTransition(){const O=this.transitions.value;return O.urlAfterRedirects=this.browserUrlTree,O}setTransition(O){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),O))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const X=this.extractLocationChangeInfoFromEvent(O);this.shouldScheduleNavigation(this.lastLocationChangeInfo,X)&&setTimeout(()=>{const{source:_e,state:Se,urlTree:lt}=X,Ht={replaceUrl:!0};if(Se){const qt=Object.assign({},Se);delete qt.navigationId,delete qt.\u0275routerPageId,0!==Object.keys(qt).length&&(Ht.state=qt)}this.scheduleNavigation(lt,_e,Se,Ht)},0),this.lastLocationChangeInfo=X}))}extractLocationChangeInfoFromEvent(O){var X;return{source:"popstate"===O.type?"popstate":"hashchange",urlTree:this.parseUrl(O.url),state:(null===(X=O.state)||void 0===X?void 0:X.navigationId)?O.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(O,X){if(!O)return!0;const _e=X.urlTree.toString()===O.urlTree.toString();return X.transitionId!==O.transitionId||!_e||!("hashchange"===X.source&&"popstate"===O.source||"popstate"===X.source&&"hashchange"===O.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(O){this.events.next(O)}resetConfig(O){hr(O),this.config=O.map(Vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(O,X={}){const{relativeTo:_e,queryParams:Se,fragment:lt,queryParamsHandling:Ht,preserveFragment:qt}=X,Yt=_e||this.routerState.root,Sn=qt?this.currentUrlTree.fragment:lt;let mi=null;switch(Ht){case"merge":mi=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Se);break;case"preserve":mi=this.currentUrlTree.queryParams;break;default:mi=Se||null}return null!==mi&&(mi=this.removeEmptyProps(mi)),function(z,P,O,X,_e){if(0===O.length)return Jr(P.root,P.root,P,X,_e);const Se=function(z){if("string"==typeof z[0]&&1===z.length&&"/"===z[0])return new kr(!0,0,z);let P=0,O=!1;const X=z.reduce((_e,Se,lt)=>{if("object"==typeof Se&&null!=Se){if(Se.outlets){const Ht={};return Tn(Se.outlets,(qt,Yt)=>{Ht[Yt]="string"==typeof qt?qt.split("/"):qt}),[..._e,{outlets:Ht}]}if(Se.segmentPath)return[..._e,Se.segmentPath]}return"string"!=typeof Se?[..._e,Se]:0===lt?(Se.split("/").forEach((Ht,qt)=>{0==qt&&"."===Ht||(0==qt&&""===Ht?O=!0:".."===Ht?P++:""!=Ht&&_e.push(Ht))}),_e):[..._e,Se]},[]);return new kr(O,P,X)}(O);if(Se.toRoot())return Jr(P.root,new _t([],{}),P,X,_e);const lt=function(z,P,O){if(z.isAbsolute)return new Or(P.root,!0,0);if(-1===O.snapshot._lastPathIndex){const Se=O.snapshot._urlSegment;return new Or(Se,Se===P.root,0)}const X=Ji(z.commands[0])?0:1;return function(z,P,O){let X=z,_e=P,Se=O;for(;Se>_e;){if(Se-=_e,X=X.parent,!X)throw new Error("Invalid number of '../'");_e=X.segments.length}return new Or(X,!1,_e-Se)}(O.snapshot._urlSegment,O.snapshot._lastPathIndex+X,z.numberOfDoubleDots)}(Se,P,z),Ht=lt.processChildren?Mn(lt.segmentGroup,lt.index,Se.commands):pn(lt.segmentGroup,lt.index,Se.commands);return Jr(lt.segmentGroup,Ht,P,X,_e)}(Yt,this.currentUrlTree,O,mi,null!=Sn?Sn:null)}navigateByUrl(O,X={skipLocationChange:!1}){const _e=Pr(O)?O:this.parseUrl(O),Se=this.urlHandlingStrategy.merge(_e,this.rawUrlTree);return this.scheduleNavigation(Se,"imperative",null,X)}navigate(O,X={skipLocationChange:!1}){return function(z){for(let P=0;P<z.length;P++){const O=z[P];if(null==O)throw new Error(`The requested path contains ${O} segment at index ${P}`)}}(O),this.navigateByUrl(this.createUrlTree(O,X),X)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let X;try{X=this.urlSerializer.parse(O)}catch(_e){X=this.malformedUriErrorHandler(_e,this.urlSerializer,O)}return X}isActive(O,X){let _e;if(_e=!0===X?Object.assign({},Xr):!1===X?Object.assign({},bo):X,Pr(O))return ft(this.currentUrlTree,O,_e);const Se=this.parseUrl(O);return ft(this.currentUrlTree,Se,_e)}removeEmptyProps(O){return Object.keys(O).reduce((X,_e)=>{const Se=O[_e];return null!=Se&&(X[_e]=Se),X},{})}processNavigations(){this.navigations.subscribe(O=>{this.navigated=!0,this.lastSuccessfulId=O.id,this.currentPageId=O.targetPageId,this.events.next(new Zt(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,O.resolve(!0)},O=>{this.console.warn(`Unhandled Navigation Error: ${O}`)})}scheduleNavigation(O,X,_e,Se,lt){var Ht,qt;if(this.disposed)return Promise.resolve(!1);const Yt=this.getTransition(),Sn=_i(X)&&Yt&&!_i(Yt.source),fr=(this.lastSuccessfulId===Yt.id||this.currentNavigation?Yt.rawUrl:Yt.urlAfterRedirects).toString()===O.toString();if(Sn&&fr)return Promise.resolve(!0);let Go,ja,qs;lt?(Go=lt.resolve,ja=lt.reject,qs=lt.promise):qs=new Promise((Mo,tl)=>{Go=Mo,ja=tl});const ga=++this.navigationId;let _a;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(_e=this.location.getState()),_a=_e&&_e.\u0275routerPageId?_e.\u0275routerPageId:Se.replaceUrl||Se.skipLocationChange?null!==(Ht=this.browserPageId)&&void 0!==Ht?Ht:0:(null!==(qt=this.browserPageId)&&void 0!==qt?qt:0)+1):_a=0,this.setTransition({id:ga,targetPageId:_a,source:X,restoredState:_e,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:O,extras:Se,resolve:Go,reject:ja,promise:qs,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qs.catch(Mo=>Promise.reject(Mo))}setBrowserUrl(O,X){const _e=this.urlSerializer.serialize(O),Se=Object.assign(Object.assign({},X.extras.state),this.generateNgRouterState(X.id,X.targetPageId));this.location.isCurrentPathEqualTo(_e)||X.extras.replaceUrl?this.location.replaceState(_e,"",Se):this.location.go(_e,"",Se)}restoreHistory(O,X=!1){var _e,Se;if("computed"===this.canceledNavigationResolution){const lt=this.currentPageId-O.targetPageId;"popstate"!==O.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(_e=this.currentNavigation)||void 0===_e?void 0:_e.finalUrl)||0===lt?this.currentUrlTree===(null===(Se=this.currentNavigation)||void 0===Se?void 0:Se.finalUrl)&&0===lt&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(lt)}else"replace"===this.canceledNavigationResolution&&(X&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(O,X){const _e=new Ae(O.id,this.serializeUrl(O.extractedUrl),X);this.triggerEvent(_e),O.resolve(!1)}generateNgRouterState(O,X){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:X}:{navigationId:O}}}return z.\u0275fac=function(O){return new(O||z)(m.LFG(m.DyG),m.LFG(Tt),m.LFG(zr),m.LFG(_.Ye),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},z.\u0275prov=m.Yz7({token:z,factory:z.\u0275fac}),z})();function _i(z){return"imperative"!==z}let Ki=(()=>{class z{constructor(O,X,_e){this.router=O,this.route=X,this.locationStrategy=_e,this.commands=[],this.onChanges=new Ye.xQ,this.subscription=O.events.subscribe(Se=>{Se instanceof Zt&&this.updateTargetUrlAndHref()})}set routerLink(O){this.commands=null!=O?Array.isArray(O)?O:[O]:[]}ngOnChanges(O){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(O,X,_e,Se,lt){if(0!==O||X||_e||Se||lt||"string"==typeof this.target&&"_self"!=this.target)return!0;const Ht={skipLocationChange:Q(this.skipLocationChange),replaceUrl:Q(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ht),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Q(this.preserveFragment)})}}return z.\u0275fac=function(O){return new(O||z)(m.Y36(sr),m.Y36($n),m.Y36(_.S$))},z.\u0275dir=m.lG2({type:z,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(O,X){1&O&&m.NdJ("click",function(Se){return X.onClick(Se.button,Se.ctrlKey,Se.shiftKey,Se.altKey,Se.metaKey)}),2&O&&(m.Ikx("href",X.href,m.LSH),m.uIk("target",X.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[m.TTD]}),z})();function Q(z){return""===z||!!z}let it=(()=>{class z{constructor(O,X,_e,Se,lt){this.parentContexts=O,this.location=X,this.resolver=_e,this.changeDetector=lt,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=Se||jt,O.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const O=this.parentContexts.getContext(this.name);O&&O.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,O}attach(O,X){this.activated=O,this._activatedRoute=X,this.location.insert(O.hostView)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,X){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=O;const lt=(X=X||this.resolver).resolveComponentFactory(O._futureSnapshot.routeConfig.component),Ht=this.parentContexts.getOrCreateContext(this.name).children,qt=new kt(O,Ht,this.location.injector);this.activated=this.location.createComponent(lt,this.location.length,qt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return z.\u0275fac=function(O){return new(O||z)(m.Y36(zr),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},z.\u0275dir=m.lG2({type:z,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),z})();class kt{constructor(P,O,X){this.route=P,this.childContexts=O,this.parent=X}get(P,O){return P===$n?this.route:P===zr?this.childContexts:this.parent.get(P,O)}}class on{}class ci{preload(P,O){return(0,d.of)(null)}}let ti=(()=>{class z{constructor(O,X,_e,Se,lt){this.router=O,this.injector=Se,this.preloadingStrategy=lt,this.loader=new lo(X,_e,Yt=>O.triggerEvent(new Ft(Yt)),Yt=>O.triggerEvent(new me(Yt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,tt.h)(O=>O instanceof Zt),(0,Ot.b)(()=>this.preload())).subscribe(()=>{})}preload(){const O=this.injector.get(m.h0i);return this.processRoutes(O,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,X){const _e=[];for(const Se of X)if(Se.loadChildren&&!Se.canLoad&&Se._loadedConfig){const lt=Se._loadedConfig;_e.push(this.processRoutes(lt.module,lt.routes))}else Se.loadChildren&&!Se.canLoad?_e.push(this.preloadConfig(O,Se)):Se.children&&_e.push(this.processRoutes(O,Se.children));return(0,y.D)(_e).pipe((0,Qn.J)(),(0,Ke.U)(Se=>{}))}preloadConfig(O,X){return this.preloadingStrategy.preload(X,()=>(X._loadedConfig?(0,d.of)(X._loadedConfig):this.loader.load(O.injector,X)).pipe((0,Ut.zg)(Se=>(X._loadedConfig=Se,this.processRoutes(Se.module,Se.routes)))))}}return z.\u0275fac=function(O){return new(O||z)(m.LFG(sr),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(on))},z.\u0275prov=m.Yz7({token:z,factory:z.\u0275fac}),z})(),Di=(()=>{class z{constructor(O,X,_e={}){this.router=O,this.viewportScroller=X,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(O=>{O instanceof Rt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof Zt&&(this.lastId=O.id,this.scheduleScrollEvent(O,this.router.parseUrl(O.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(O=>{O instanceof fn&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,X){this.router.triggerEvent(new fn(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,X))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return z.\u0275fac=function(O){return new(O||z)(m.LFG(sr),m.LFG(_.EM),m.LFG(void 0))},z.\u0275prov=m.Yz7({token:z,factory:z.\u0275fac}),z})();const Ir=new m.OlP("ROUTER_CONFIGURATION"),zi=new m.OlP("ROUTER_FORROOT_GUARD"),Ds=[_.Ye,{provide:Tt,useClass:tn},{provide:sr,useFactory:function(z,P,O,X,_e,Se,lt,Ht={},qt,Yt){const Sn=new sr(null,z,P,O,X,_e,Se,Ue(lt));return qt&&(Sn.urlHandlingStrategy=qt),Yt&&(Sn.routeReuseStrategy=Yt),function(z,P){z.errorHandler&&(P.errorHandler=z.errorHandler),z.malformedUriErrorHandler&&(P.malformedUriErrorHandler=z.malformedUriErrorHandler),z.onSameUrlNavigation&&(P.onSameUrlNavigation=z.onSameUrlNavigation),z.paramsInheritanceStrategy&&(P.paramsInheritanceStrategy=z.paramsInheritanceStrategy),z.relativeLinkResolution&&(P.relativeLinkResolution=z.relativeLinkResolution),z.urlUpdateStrategy&&(P.urlUpdateStrategy=z.urlUpdateStrategy)}(Ht,Sn),Ht.enableTracing&&Sn.events.subscribe(mi=>{var qr,fr;null===(qr=console.group)||void 0===qr||qr.call(console,`Router Event: ${mi.constructor.name}`),console.log(mi.toString()),console.log(mi),null===(fr=console.groupEnd)||void 0===fr||fr.call(console)}),Sn},deps:[Tt,zr,_.Ye,m.zs3,m.v3s,m.Sil,br,Ir,[class{},new m.FiY],[class{},new m.FiY]]},zr,{provide:$n,useFactory:function(z){return z.routerState.root},deps:[sr]},{provide:m.v3s,useClass:m.EAV},ti,ci,class{preload(P,O){return O().pipe((0,yt.K)(()=>(0,d.of)(null)))}},{provide:Ir,useValue:{enableTracing:!1}}];function xs(){return new m.PXZ("Router",sr)}let ms=(()=>{class z{constructor(O,X){}static forRoot(O,X){return{ngModule:z,providers:[Ds,Is(O),{provide:zi,useFactory:gs,deps:[[sr,new m.FiY,new m.tp0]]},{provide:Ir,useValue:X||{}},{provide:_.S$,useFactory:no,deps:[_.lw,[new m.tBr(_.mr),new m.FiY],Ir]},{provide:Di,useFactory:Ts,deps:[sr,_.EM,Ir]},{provide:on,useExisting:X&&X.preloadingStrategy?X.preloadingStrategy:ci},{provide:m.PXZ,multi:!0,useFactory:xs},[io,{provide:m.ip1,multi:!0,useFactory:Ha,deps:[io]},{provide:ea,useFactory:bs,deps:[io]},{provide:m.tb,multi:!0,useExisting:ea}]]}}static forChild(O){return{ngModule:z,providers:[Is(O)]}}}return z.\u0275fac=function(O){return new(O||z)(m.LFG(zi,8),m.LFG(sr,8))},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({}),z})();function Ts(z,P,O){return O.scrollOffset&&P.setOffset(O.scrollOffset),new Di(z,P,O)}function no(z,P,O={}){return O.useHash?new _.Do(z,P):new _.b0(z,P)}function gs(z){return"guarded"}function Is(z){return[{provide:m.deG,multi:!0,useValue:z},{provide:br,multi:!0,useValue:z}]}let io=(()=>{class z{constructor(O){this.injector=O,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ye.xQ}appInitializer(){return this.injector.get(_.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let X=null;const _e=new Promise(Ht=>X=Ht),Se=this.injector.get(sr),lt=this.injector.get(Ir);return"disabled"===lt.initialNavigation?(Se.setUpLocationChangeListener(),X(!0)):"enabled"===lt.initialNavigation||"enabledBlocking"===lt.initialNavigation?(Se.hooks.afterPreactivation=()=>this.initNavigation?(0,d.of)(null):(this.initNavigation=!0,X(!0),this.resultOfPreactivationDone),Se.initialNavigation()):X(!0),_e})}bootstrapListener(O){const X=this.injector.get(Ir),_e=this.injector.get(ti),Se=this.injector.get(Di),lt=this.injector.get(sr),Ht=this.injector.get(m.z2F);O===Ht.components[0]&&(("enabledNonBlocking"===X.initialNavigation||void 0===X.initialNavigation)&&lt.initialNavigation(),_e.setUpPreloading(),Se.init(),lt.resetRootComponentType(Ht.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return z.\u0275fac=function(O){return new(O||z)(m.LFG(m.zs3))},z.\u0275prov=m.Yz7({token:z,factory:z.\u0275fac}),z})();function Ha(z){return z.appInitializer.bind(z)}function bs(z){return z.bootstrapListener.bind(z)}const ea=new m.OlP("Router Initializer")},3854:(In,mt,D)=>{"use strict";D.d(mt,{BH:()=>Ye,LL:()=>Ut,ZR:()=>un,gQ:()=>We,zI:()=>ke,hu:()=>m,g5:()=>y,US:()=>U,tV:()=>Ee,h$:()=>De,L:()=>le,$s:()=>Nn,r3:()=>te,Sg:()=>tt,ne:()=>at,p$:()=>se,vZ:()=>ct,ZB:()=>Te,gK:()=>ue,pd:()=>je,m9:()=>Jn,z$:()=>Xe,GJ:()=>de,jU:()=>Qe,ru:()=>Qt,d:()=>Gt,xb:()=>Pe,w1:()=>Et,hl:()=>be,uI:()=>nt,UG:()=>Me,Yr:()=>Ke,b$:()=>hn,G6:()=>ze,Mn:()=>ut,w9:()=>Ae,cI:()=>Gn,UI:()=>bt,xO:()=>me,zd:()=>rt,DV:()=>Be,ug:()=>ge,dS:()=>Le,Pz:()=>Qn,Dv:()=>pt,Wj:()=>H,lb:()=>ae,eu:()=>q});const m=function(ft,gt){if(!ft)throw y(gt)},y=function(ft){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ft)},d=function(ft){const gt=[];let wt=0;for(let ln=0;ln<ft.length;ln++){let Ct=ft.charCodeAt(ln);Ct<128?gt[wt++]=Ct:Ct<2048?(gt[wt++]=Ct>>6|192,gt[wt++]=63&Ct|128):55296==(64512&Ct)&&ln+1<ft.length&&56320==(64512&ft.charCodeAt(ln+1))?(Ct=65536+((1023&Ct)<<10)+(1023&ft.charCodeAt(++ln)),gt[wt++]=Ct>>18|240,gt[wt++]=Ct>>12&63|128,gt[wt++]=Ct>>6&63|128,gt[wt++]=63&Ct|128):(gt[wt++]=Ct>>12|224,gt[wt++]=Ct>>6&63|128,gt[wt++]=63&Ct|128)}return gt},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ft,gt){if(!Array.isArray(ft))throw Error("encodeByteArray takes an array as a parameter");this.init_();const wt=gt?this.byteToCharMapWebSafe_:this.byteToCharMap_,ln=[];for(let Ct=0;Ct<ft.length;Ct+=3){const nn=ft[Ct],Rn=Ct+1<ft.length,Bn=Rn?ft[Ct+1]:0,_t=Ct+2<ft.length,Nt=_t?ft[Ct+2]:0;let Oe=(15&Bn)<<2|Nt>>6,Tt=63&Nt;_t||(Tt=64,Rn||(Oe=64)),ln.push(wt[nn>>2],wt[(3&nn)<<4|Bn>>4],wt[Oe],wt[Tt])}return ln.join("")},encodeString(ft,gt){return this.HAS_NATIVE_SUPPORT&&!gt?btoa(ft):this.encodeByteArray(d(ft),gt)},decodeString(ft,gt){return this.HAS_NATIVE_SUPPORT&&!gt?atob(ft):function(ft){const gt=[];let wt=0,ln=0;for(;wt<ft.length;){const Ct=ft[wt++];if(Ct<128)gt[ln++]=String.fromCharCode(Ct);else if(Ct>191&&Ct<224){const nn=ft[wt++];gt[ln++]=String.fromCharCode((31&Ct)<<6|63&nn)}else if(Ct>239&&Ct<365){const _t=((7&Ct)<<18|(63&ft[wt++])<<12|(63&ft[wt++])<<6|63&ft[wt++])-65536;gt[ln++]=String.fromCharCode(55296+(_t>>10)),gt[ln++]=String.fromCharCode(56320+(1023&_t))}else{const nn=ft[wt++],Rn=ft[wt++];gt[ln++]=String.fromCharCode((15&Ct)<<12|(63&nn)<<6|63&Rn)}}return gt.join("")}(this.decodeStringToByteArray(ft,gt))},decodeStringToByteArray(ft,gt){this.init_();const wt=gt?this.charToByteMapWebSafe_:this.charToByteMap_,ln=[];for(let Ct=0;Ct<ft.length;){const nn=wt[ft.charAt(Ct++)],Bn=Ct<ft.length?wt[ft.charAt(Ct)]:0;++Ct;const Nt=Ct<ft.length?wt[ft.charAt(Ct)]:64;++Ct;const we=Ct<ft.length?wt[ft.charAt(Ct)]:64;if(++Ct,null==nn||null==Bn||null==Nt||null==we)throw Error();ln.push(nn<<2|Bn>>4),64!==Nt&&(ln.push(Bn<<4&240|Nt>>2),64!==we&&ln.push(Nt<<6&192|we))}return ln},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ft=0;ft<this.ENCODED_VALS.length;ft++)this.byteToCharMap_[ft]=this.ENCODED_VALS.charAt(ft),this.charToByteMap_[this.byteToCharMap_[ft]]=ft,this.byteToCharMapWebSafe_[ft]=this.ENCODED_VALS_WEBSAFE.charAt(ft),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ft]]=ft,ft>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ft)]=ft,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ft)]=ft)}}},De=function(ft){const gt=d(ft);return U.encodeByteArray(gt,!0)},le=function(ft){return De(ft).replace(/\./g,"")},Ee=function(ft){try{return U.decodeString(ft,!0)}catch(gt){console.error("base64Decode failed: ",gt)}return null};function se(ft){return Te(void 0,ft)}function Te(ft,gt){if(!(gt instanceof Object))return gt;switch(gt.constructor){case Date:return new Date(gt.getTime());case Object:void 0===ft&&(ft={});break;case Array:ft=[];break;default:return gt}for(const wt in gt)!gt.hasOwnProperty(wt)||!oe(wt)||(ft[wt]=Te(ft[wt],gt[wt]));return ft}function oe(ft){return"__proto__"!==ft}class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((gt,wt)=>{this.resolve=gt,this.reject=wt})}wrapCallback(gt){return(wt,ln)=>{wt?this.reject(wt):this.resolve(ln),"function"==typeof gt&&(this.promise.catch(()=>{}),1===gt.length?gt(wt):gt(wt,ln))}}}function tt(ft,gt){if(ft.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ln=gt||"demo-project",Ct=ft.iat||0,nn=ft.sub||ft.user_id;if(!nn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Rn=Object.assign({iss:`https://securetoken.google.com/${ln}`,aud:ln,iat:Ct,exp:Ct+3600,auth_time:Ct,sub:nn,user_id:nn,firebase:{sign_in_provider:"custom",identities:{}}},ft);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Rn)),""].join(".")}function Xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ft){return!1}}function Qe(){return"object"==typeof self&&self.self===self}function Qt(){const ft="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ft&&void 0!==ft.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Gt(){return Xe().indexOf("Electron/")>=0}function Et(){const ft=Xe();return ft.indexOf("MSIE ")>=0||ft.indexOf("Trident/")>=0}function ut(){return Xe().indexOf("MSAppHost/")>=0}function Ke(){return!1}function ze(){return!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function be(){return"object"==typeof indexedDB}function q(){return new Promise((ft,gt)=>{try{let wt=!0;const ln="validate-browser-context-for-indexeddb-analytics-module",Ct=self.indexedDB.open(ln);Ct.onsuccess=()=>{Ct.result.close(),wt||self.indexedDB.deleteDatabase(ln),ft(!0)},Ct.onupgradeneeded=()=>{wt=!1},Ct.onerror=()=>{var nn;gt((null===(nn=Ct.error)||void 0===nn?void 0:nn.message)||"")}}catch(wt){gt(wt)}})}function ke(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class un extends Error{constructor(gt,wt,ln){super(wt),this.code=gt,this.customData=ln,this.name="FirebaseError",Object.setPrototypeOf(this,un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}}class Ut{constructor(gt,wt,ln){this.service=gt,this.serviceName=wt,this.errors=ln}create(gt,...wt){const ln=wt[0]||{},Ct=`${this.service}/${gt}`,nn=this.errors[gt],Rn=nn?function(ft,gt){return ft.replace(ii,(wt,ln)=>{const Ct=gt[ln];return null!=Ct?String(Ct):`<${ln}?>`})}(nn,ln):"Error";return new un(Ct,`${this.serviceName}: ${Rn} (${Ct}).`,ln)}}const ii=/\{\$([^}]+)}/g;function Gn(ft){return JSON.parse(ft)}function Qn(ft){return JSON.stringify(ft)}const kn=function(ft){let gt={},wt={},ln={},Ct="";try{const nn=ft.split(".");gt=Gn(Ee(nn[0])||""),wt=Gn(Ee(nn[1])||""),Ct=nn[2],ln=wt.d||{},delete wt.d}catch(nn){}return{header:gt,claims:wt,data:ln,signature:Ct}},Ae=function(ft){const wt=kn(ft).claims;return!!wt&&"object"==typeof wt&&wt.hasOwnProperty("iat")},de=function(ft){const gt=kn(ft).claims;return"object"==typeof gt&&!0===gt.admin};function te(ft,gt){return Object.prototype.hasOwnProperty.call(ft,gt)}function Be(ft,gt){if(Object.prototype.hasOwnProperty.call(ft,gt))return ft[gt]}function Pe(ft){for(const gt in ft)if(Object.prototype.hasOwnProperty.call(ft,gt))return!1;return!0}function bt(ft,gt,wt){const ln={};for(const Ct in ft)Object.prototype.hasOwnProperty.call(ft,Ct)&&(ln[Ct]=gt.call(wt,ft[Ct],Ct,ft));return ln}function ct(ft,gt){if(ft===gt)return!0;const wt=Object.keys(ft),ln=Object.keys(gt);for(const Ct of wt){if(!ln.includes(Ct))return!1;const nn=ft[Ct],Rn=gt[Ct];if(Ft(nn)&&Ft(Rn)){if(!ct(nn,Rn))return!1}else if(nn!==Rn)return!1}for(const Ct of ln)if(!wt.includes(Ct))return!1;return!0}function Ft(ft){return null!==ft&&"object"==typeof ft}function me(ft){const gt=[];for(const[wt,ln]of Object.entries(ft))Array.isArray(ln)?ln.forEach(Ct=>{gt.push(encodeURIComponent(wt)+"="+encodeURIComponent(Ct))}):gt.push(encodeURIComponent(wt)+"="+encodeURIComponent(ln));return gt.length?"&"+gt.join("&"):""}function rt(ft){const gt={};return ft.replace(/^\?/,"").split("&").forEach(ln=>{if(ln){const[Ct,nn]=ln.split("=");gt[decodeURIComponent(Ct)]=decodeURIComponent(nn)}}),gt}function je(ft){const gt=ft.indexOf("?");if(!gt)return"";const wt=ft.indexOf("#",gt);return ft.substring(gt,wt>0?wt:void 0)}class We{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let gt=1;gt<this.blockSize;++gt)this.pad_[gt]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(gt,wt){wt||(wt=0);const ln=this.W_;if("string"==typeof gt)for(let we=0;we<16;we++)ln[we]=gt.charCodeAt(wt)<<24|gt.charCodeAt(wt+1)<<16|gt.charCodeAt(wt+2)<<8|gt.charCodeAt(wt+3),wt+=4;else for(let we=0;we<16;we++)ln[we]=gt[wt]<<24|gt[wt+1]<<16|gt[wt+2]<<8|gt[wt+3],wt+=4;for(let we=16;we<80;we++){const Oe=ln[we-3]^ln[we-8]^ln[we-14]^ln[we-16];ln[we]=4294967295&(Oe<<1|Oe>>>31)}let Nt,pe,Ct=this.chain_[0],nn=this.chain_[1],Rn=this.chain_[2],Bn=this.chain_[3],_t=this.chain_[4];for(let we=0;we<80;we++){we<40?we<20?(Nt=Bn^nn&(Rn^Bn),pe=1518500249):(Nt=nn^Rn^Bn,pe=1859775393):we<60?(Nt=nn&Rn|Bn&(nn|Rn),pe=2400959708):(Nt=nn^Rn^Bn,pe=3395469782);const Oe=(Ct<<5|Ct>>>27)+Nt+_t+pe+ln[we]&4294967295;_t=Bn,Bn=Rn,Rn=4294967295&(nn<<30|nn>>>2),nn=Ct,Ct=Oe}this.chain_[0]=this.chain_[0]+Ct&4294967295,this.chain_[1]=this.chain_[1]+nn&4294967295,this.chain_[2]=this.chain_[2]+Rn&4294967295,this.chain_[3]=this.chain_[3]+Bn&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update(gt,wt){if(null==gt)return;void 0===wt&&(wt=gt.length);const ln=wt-this.blockSize;let Ct=0;const nn=this.buf_;let Rn=this.inbuf_;for(;Ct<wt;){if(0===Rn)for(;Ct<=ln;)this.compress_(gt,Ct),Ct+=this.blockSize;if("string"==typeof gt){for(;Ct<wt;)if(nn[Rn]=gt.charCodeAt(Ct),++Rn,++Ct,Rn===this.blockSize){this.compress_(nn),Rn=0;break}}else for(;Ct<wt;)if(nn[Rn]=gt[Ct],++Rn,++Ct,Rn===this.blockSize){this.compress_(nn),Rn=0;break}}this.inbuf_=Rn,this.total_+=wt}digest(){const gt=[];let wt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ct=this.blockSize-1;Ct>=56;Ct--)this.buf_[Ct]=255&wt,wt/=256;this.compress_(this.buf_);let ln=0;for(let Ct=0;Ct<5;Ct++)for(let nn=24;nn>=0;nn-=8)gt[ln]=this.chain_[Ct]>>nn&255,++ln;return gt}}function at(ft,gt){const wt=new fn(ft,gt);return wt.subscribe.bind(wt)}class fn{constructor(gt,wt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=wt,this.task.then(()=>{gt(this)}).catch(ln=>{this.error(ln)})}next(gt){this.forEachObserver(wt=>{wt.next(gt)})}error(gt){this.forEachObserver(wt=>{wt.error(gt)}),this.close(gt)}complete(){this.forEachObserver(gt=>{gt.complete()}),this.close()}subscribe(gt,wt,ln){let Ct;if(void 0===gt&&void 0===wt&&void 0===ln)throw new Error("Missing Observer.");Ct=function(ft,gt){if("object"!=typeof ft||null===ft)return!1;for(const wt of["next","error","complete"])if(wt in ft&&"function"==typeof ft[wt])return!0;return!1}(gt)?gt:{next:gt,error:wt,complete:ln},void 0===Ct.next&&(Ct.next=Ln),void 0===Ct.error&&(Ct.error=Ln),void 0===Ct.complete&&(Ct.complete=Ln);const nn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ct.error(this.finalError):Ct.complete()}catch(Rn){}}),this.observers.push(Ct),nn}unsubscribeOne(gt){void 0===this.observers||void 0===this.observers[gt]||(delete this.observers[gt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(gt){if(!this.finalized)for(let wt=0;wt<this.observers.length;wt++)this.sendOne(wt,gt)}sendOne(gt,wt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[gt])try{wt(this.observers[gt])}catch(ln){"undefined"!=typeof console&&console.error&&console.error(ln)}})}close(gt){this.finalized||(this.finalized=!0,void 0!==gt&&(this.finalError=gt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}const pt=function(ft,gt,wt,ln){let Ct;if(ln<gt?Ct="at least "+gt:ln>wt&&(Ct=0===wt?"none":"no more than "+wt),Ct)throw new Error(ft+" failed: Was called with "+ln+(1===ln?" argument.":" arguments.")+" Expects "+Ct+".")};function ue(ft,gt){return`${ft} failed: ${gt} argument `}function H(ft,gt,wt,ln){if((!ln||wt)&&"function"!=typeof wt)throw new Error(ue(ft,gt)+"must be a valid function.")}function ae(ft,gt,wt,ln){if((!ln||wt)&&("object"!=typeof wt||null===wt))throw new Error(ue(ft,gt)+"must be a valid context object.")}const Le=function(ft){const gt=[];let wt=0;for(let ln=0;ln<ft.length;ln++){let Ct=ft.charCodeAt(ln);if(Ct>=55296&&Ct<=56319){const nn=Ct-55296;ln++,m(ln<ft.length,"Surrogate pair missing trail surrogate."),Ct=65536+(nn<<10)+(ft.charCodeAt(ln)-56320)}Ct<128?gt[wt++]=Ct:Ct<2048?(gt[wt++]=Ct>>6|192,gt[wt++]=63&Ct|128):Ct<65536?(gt[wt++]=Ct>>12|224,gt[wt++]=Ct>>6&63|128,gt[wt++]=63&Ct|128):(gt[wt++]=Ct>>18|240,gt[wt++]=Ct>>12&63|128,gt[wt++]=Ct>>6&63|128,gt[wt++]=63&Ct|128)}return gt},ge=function(ft){let gt=0;for(let wt=0;wt<ft.length;wt++){const ln=ft.charCodeAt(wt);ln<128?gt++:ln<2048?gt+=2:ln>=55296&&ln<=56319?(gt+=4,wt++):gt+=3}return gt};function Nn(ft,gt=1e3,wt=2){const ln=gt*Math.pow(wt,ft),Ct=Math.round(.5*ln*(Math.random()-.5)*2);return Math.min(144e5,ln+Ct)}function Jn(ft){return ft&&ft._delegate?ft._delegate:ft}},2329:(In,mt,D)=>{"use strict";D.d(mt,{Mq:()=>_.getApp,C6:()=>_.getApps});var _=D(8026);(0,_.registerVersion)("firebase","9.8.1","app")},7841:(In,mt,D)=>{"use strict";D.d(mt,{Z:()=>_.Z});var _=D(3394);_.Z.registerVersion("firebase","9.8.1","app-compat")},5470:(In,mt,D)=>{"use strict";D.r(mt);var _=D(8239),m=D(3394),y=D(3854),d=D(8026);function le(T,g){var v={};for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&g.indexOf(R)<0&&(v[R]=T[R]);if(null!=T&&"function"==typeof Object.getOwnPropertySymbols){var re=0;for(R=Object.getOwnPropertySymbols(T);re<R.length;re++)g.indexOf(R[re])<0&&Object.prototype.propertyIsEnumerable.call(T,R[re])&&(v[R[re]]=T[R[re]])}return v}var Ut=D(5422),jn=D(3910);const de=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},te=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bt=new Ut.Yd("@firebase/auth");function ct(T,...g){bt.logLevel<=Ut.in.ERROR&&bt.error(`Auth (${d.SDK_VERSION}): ${T}`,...g)}function Ft(T,...g){throw We(T,...g)}function me(T,...g){return We(T,...g)}function rt(T,g,v){const R=Object.assign(Object.assign({},te()),{[g]:v});return new y.LL("auth","Firebase",R).create(g,{appName:T.name})}function je(T,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Ft(T,"argument-error"),rt(T,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(T,...g){if("string"!=typeof T){const v=g[0],R=[...g.slice(1)];return R[0]&&(R[0].appName=T.name),T._errorFactory.create(v,...R)}return Be.create(T,...g)}function at(T,g,...v){if(!T)throw We(g,...v)}function fn(T){const g="INTERNAL ASSERTION FAILED: "+T;throw ct(g),new Error(g)}function jt(T,g){T||fn(g)}const cn=new Map;function Ln(T){jt(T instanceof Function,"Expected a class definition");let g=cn.get(T);return g?(jt(g instanceof T,"Instance stored in cache mismatched with class"),g):(g=new T,cn.set(T,g),g)}function B(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function H(){return"http:"===ae()||"https:"===ae()}function ae(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Ue{constructor(g,v){this.shortDelay=g,this.longDelay=v,jt(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,y.uI)()||(0,y.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(H()||(0,y.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Bt(T,g){jt(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class an{static initialize(g,v,R){this.fetchImpl=g,v&&(this.headersImpl=v),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nn=new Ue(3e4,6e4);function Pn(T,g){return T.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:T.tenantId}):g}function ei(T,g,v,R){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,_.Z)(function*(T,g,v,R,re={}){return ft(T,re,(0,_.Z)(function*(){let ee={},Pt={};R&&("GET"===g?Pt=R:ee={body:JSON.stringify(R)});const dn=(0,y.xO)(Object.assign({key:T.config.apiKey},Pt)).slice(1),Xn=yield T._getAdditionalHeaders();return Xn["Content-Type"]="application/json",T.languageCode&&(Xn["X-Firebase-Locale"]=T.languageCode),an.fetch()(Ct(T,T.config.apiHost,v,dn),Object.assign({method:g,headers:Xn,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function ft(T,g,v){return gt.apply(this,arguments)}function gt(){return(gt=(0,_.Z)(function*(T,g,v){T._canInitEmulator=!1;const R=Object.assign(Object.assign({},Tn),g);try{const re=new nn(T),ee=yield Promise.race([v(),re.promise]);re.clearNetworkTimeout();const Pt=yield ee.json();if("needConfirmation"in Pt)throw Rn(T,"account-exists-with-different-credential",Pt);if(ee.ok&&!("errorMessage"in Pt))return Pt;{const dn=ee.ok?Pt.errorMessage:Pt.error.message,[Xn,zn]=dn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xn)throw Rn(T,"credential-already-in-use",Pt);if("EMAIL_EXISTS"===Xn)throw Rn(T,"email-already-in-use",Pt);const gi=R[Xn]||Xn.toLowerCase().replace(/[_\s]+/g,"-");if(zn)throw rt(T,gi,zn);Ft(T,gi)}}catch(re){if(re instanceof y.ZR)throw re;Ft(T,"network-request-failed")}})).apply(this,arguments)}function wt(T,g,v,R){return ln.apply(this,arguments)}function ln(){return(ln=(0,_.Z)(function*(T,g,v,R,re={}){const ee=yield ei(T,g,v,R,re);return"mfaPendingCredential"in ee&&Ft(T,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function Ct(T,g,v,R){const re=`${g}${v}?${R}`;return T.config.emulator?Bt(T.config,re):`${T.config.apiScheme}://${re}`}class nn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,R)=>{this.timer=setTimeout(()=>R(me(this.auth,"network-request-failed")),Nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rn(T,g,v){const R={appName:T.name};v.email&&(R.email=v.email),v.phoneNumber&&(R.phoneNumber=v.phoneNumber);const re=me(T,g,R);return re.customData._tokenResponse=v,re}function _t(){return(_t=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Nt(T,g){return pe.apply(this,arguments)}function pe(){return(pe=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function we(T,g){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Tt(T){if(T)try{const g=new Date(Number(T));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function hi(){return(hi=(0,_.Z)(function*(T,g=!1){const v=(0,y.m9)(T),R=yield v.getIdToken(g),re=Ui(R);at(re&&re.exp&&re.auth_time&&re.iat,v.auth,"internal-error");const ee="object"==typeof re.firebase?re.firebase:void 0,Pt=null==ee?void 0:ee.sign_in_provider;return{claims:re,token:R,authTime:Tt(xi(re.auth_time)),issuedAtTime:Tt(xi(re.iat)),expirationTime:Tt(xi(re.exp)),signInProvider:Pt||null,signInSecondFactor:(null==ee?void 0:ee.sign_in_second_factor)||null}})).apply(this,arguments)}function xi(T){return 1e3*Number(T)}function Ui(T){const[g,v,R]=T.split(".");if(void 0===g||void 0===v||void 0===R)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,y.tV)(v);return re?JSON.parse(re):(ct("Failed to decode base64 JWT payload"),null)}catch(re){return ct("Caught error parsing JWT payload as JSON",re),null}}function Ai(T,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,_.Z)(function*(T,g,v=!1){if(v)return g;try{return yield g}catch(R){throw R instanceof y.ZR&&vr(R)&&T.auth.currentUser===T&&(yield T.auth.signOut()),R}})).apply(this,arguments)}function vr({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}class qi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const re=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const R=this.getInterval(g);this.timerId=setTimeout((0,_.Z)(function*(){yield v.iteration()}),R)}iteration(){var g=this;return(0,_.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&g.schedule(!0))}g.schedule()})()}}class $r{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tt(this.lastLoginAt),this.creationTime=Tt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Li(T){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,_.Z)(function*(T){var g;const v=T.auth,R=yield T.getIdToken(),re=yield Ai(T,we(v,{idToken:R}));at(null==re?void 0:re.users.length,v,"internal-error");const ee=re.users[0];T._notifyReloadListener(ee);const Pt=(null===(g=ee.providerUserInfo)||void 0===g?void 0:g.length)?$e(ee.providerUserInfo):[],dn=yr(T.providerData,Pt),gi=!!T.isAnonymous&&!(T.email&&ee.passwordHash||(null==dn?void 0:dn.length)),Ii={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:dn,metadata:new $r(ee.createdAt,ee.lastLoginAt),isAnonymous:gi};Object.assign(T,Ii)})).apply(this,arguments)}function li(){return(li=(0,_.Z)(function*(T){const g=(0,y.m9)(T);yield Li(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function yr(T,g){return[...T.filter(R=>!g.some(re=>re.providerId===R.providerId)),...g]}function $e(T){return T.map(g=>{var{providerId:v}=g,R=le(g,["providerId"]);return{providerId:v,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function Ne(){return(Ne=(0,_.Z)(function*(T,g){const v=yield ft(T,{},(0,_.Z)(function*(){const R=(0,y.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:re,apiKey:ee}=T.config,Pt=Ct(T,re,"/v1/token",`key=${ee}`),dn=yield T._getAdditionalHeaders();return dn["Content-Type"]="application/x-www-form-urlencoded",an.fetch()(Pt,{method:"POST",headers:dn,body:R})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){at(g.idToken,"internal-error"),at(void 0!==g.idToken,"internal-error"),at(void 0!==g.refreshToken,"internal-error");const v="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(T){const g=Ui(T);return at(g,"internal-error"),at(void 0!==g.exp,"internal-error"),at(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var R=this;return(0,_.Z)(function*(){return at(!R.accessToken||R.refreshToken,g,"user-token-expired"),v||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(g,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var R=this;return(0,_.Z)(function*(){const{accessToken:re,refreshToken:ee,expiresIn:Pt}=yield function(T,g){return Ne.apply(this,arguments)}(g,v);R.updateTokensAndExpiration(re,ee,Number(Pt))})()}updateTokensAndExpiration(g,v,R){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(g,v){const{refreshToken:R,accessToken:re,expirationTime:ee}=v,Pt=new ht;return R&&(at("string"==typeof R,"internal-error",{appName:g}),Pt.refreshToken=R),re&&(at("string"==typeof re,"internal-error",{appName:g}),Pt.accessToken=re),ee&&(at("number"==typeof ee,"internal-error",{appName:g}),Pt.expirationTime=ee),Pt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ht,this.toJSON())}_performRefresh(){return fn("not implemented")}}function Xt(T,g){at("string"==typeof T||void 0===T,"internal-error",{appName:g})}class En{constructor(g){var{uid:v,auth:R,stsTokenManager:re}=g,ee=le(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=R,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new $r(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,_.Z)(function*(){const R=yield Ai(v,v.stsTokenManager.getToken(v.auth,g));return at(R,v.auth,"internal-error"),v.accessToken!==R&&(v.accessToken=R,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),R})()}getIdTokenResult(g){return function(T){return hi.apply(this,arguments)}(this,g)}reload(){return function(T){return li.apply(this,arguments)}(this)}_assign(g){this!==g&&(at(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new En(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var R=this;return(0,_.Z)(function*(){let re=!1;g.idToken&&g.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(g),re=!0),v&&(yield Li(R)),yield R.auth._persistUserIfCurrent(R),re&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var g=this;return(0,_.Z)(function*(){const v=yield g.getIdToken();return yield Ai(g,function(T,g){return _t.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var R,re,ee,Pt,dn,Xn,zn,gi;const Ii=null!==(R=v.displayName)&&void 0!==R?R:void 0,_r=null!==(re=v.email)&&void 0!==re?re:void 0,Oo=null!==(ee=v.phoneNumber)&&void 0!==ee?ee:void 0,hl=null!==(Pt=v.photoURL)&&void 0!==Pt?Pt:void 0,yu=null!==(dn=v.tenantId)&&void 0!==dn?dn:void 0,To=null!==(Xn=v._redirectEventId)&&void 0!==Xn?Xn:void 0,vu=null!==(zn=v.createdAt)&&void 0!==zn?zn:void 0,bu=null!==(gi=v.lastLoginAt)&&void 0!==gi?gi:void 0,{uid:Cu,emailVerified:Za,isAnonymous:Pd,providerData:Nd,stsTokenManager:Eu}=v;at(Cu&&Eu,g,"internal-error");const wu=ht.fromJSON(this.name,Eu);at("string"==typeof Cu,g,"internal-error"),Xt(Ii,g.name),Xt(_r,g.name),at("boolean"==typeof Za,g,"internal-error"),at("boolean"==typeof Pd,g,"internal-error"),Xt(Oo,g.name),Xt(hl,g.name),Xt(yu,g.name),Xt(To,g.name),Xt(vu,g.name),Xt(bu,g.name);const ra=new En({uid:Cu,auth:g,email:_r,emailVerified:Za,displayName:Ii,isAnonymous:Pd,photoURL:hl,phoneNumber:Oo,tenantId:yu,stsTokenManager:wu,createdAt:vu,lastLoginAt:bu});return Nd&&Array.isArray(Nd)&&(ra.providerData=Nd.map(Jl=>Object.assign({},Jl))),To&&(ra._redirectEventId=To),ra}static _fromIdTokenResponse(g,v,R=!1){return(0,_.Z)(function*(){const re=new ht;re.updateFromServerResponse(v);const ee=new En({uid:v.localId,auth:g,stsTokenManager:re,isAnonymous:R});return yield Li(ee),ee})()}}const St=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(v,R){var re=this;return(0,_.Z)(function*(){re.storage[v]=R})()}_get(v){var R=this;return(0,_.Z)(function*(){const re=R.storage[v];return void 0===re?null:re})()}_remove(v){var R=this;return(0,_.Z)(function*(){delete R.storage[v]})()}_addListener(v,R){}_removeListener(v,R){}}return T.type="NONE",T})();function vt(T,g,v){return`firebase:${T}:${g}:${v}`}class st{constructor(g,v,R){this.persistence=g,this.auth=v,this.userKey=R;const{config:re,name:ee}=this.auth;this.fullUserKey=vt(this.userKey,re.apiKey,ee),this.fullPersistenceKey=vt("persistence",re.apiKey,ee),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,_.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?En._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,_.Z)(function*(){if(v.persistence===g)return;const R=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,R?v.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,R="authUser"){return(0,_.Z)(function*(){if(!v.length)return new st(Ln(St),g,R);const re=(yield Promise.all(v.map(function(){var zn=(0,_.Z)(function*(gi){if(yield gi._isAvailable())return gi});return function(gi){return zn.apply(this,arguments)}}()))).filter(zn=>zn);let ee=re[0]||Ln(St);const Pt=vt(R,g.config.apiKey,g.name);let dn=null;for(const zn of v)try{const gi=yield zn._get(Pt);if(gi){const Ii=En._fromJSON(g,gi);zn!==ee&&(dn=Ii),ee=zn;break}}catch(gi){}const Xn=re.filter(zn=>zn._shouldAllowMigration);return ee._shouldAllowMigration&&Xn.length?(ee=Xn[0],dn&&(yield ee._set(Pt,dn.toJSON())),yield Promise.all(v.map(function(){var zn=(0,_.Z)(function*(gi){if(gi!==ee)try{yield gi._remove(Pt)}catch(Ii){}});return function(gi){return zn.apply(this,arguments)}}())),new st(ee,g,R)):new st(ee,g,R)})()}}function $t(T){const g=T.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Mi(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(_n(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Tr(g))return"Blackberry";if(mr(g))return"Webos";if($n(g))return"Safari";if((g.includes("chrome/")||pi(g))&&!g.includes("edge/"))return"Chrome";if(ui(g))return"Android";{const R=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==R?void 0:R.length))return R[1]}return"Other"}function _n(T=(0,y.z$)()){return/firefox\//i.test(T)}function $n(T=(0,y.z$)()){const g=T.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function pi(T=(0,y.z$)()){return/crios\//i.test(T)}function Mi(T=(0,y.z$)()){return/iemobile/i.test(T)}function ui(T=(0,y.z$)()){return/android/i.test(T)}function Tr(T=(0,y.z$)()){return/blackberry/i.test(T)}function mr(T=(0,y.z$)()){return/webos/i.test(T)}function Wr(T=(0,y.z$)()){return/iphone|ipad|ipod/i.test(T)}function ss(T=(0,y.z$)()){return Wr(T)||ui(T)||mr(T)||Tr(T)||/windows phone/i.test(T)||Mi(T)}function Yr(T,g=[]){let v;switch(T){case"Browser":v=$t((0,y.z$)());break;case"Worker":v=`${$t((0,y.z$)())}-${T}`;break;default:v=T}const R=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${d.SDK_VERSION}/${R}`}class ws{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const R=ee=>new Promise((Pt,dn)=>{try{Pt(g(ee))}catch(Xn){dn(Xn)}});R.onAbort=v,this.queue.push(R);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,_.Z)(function*(){if(v.auth.currentUser===g)return;const R=[];try{for(const re of v.queue)yield re(g),re.onAbort&&R.push(re.onAbort)}catch(re){R.reverse();for(const ee of R)try{ee()}catch(Pt){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:re.message})}})()}}class nr{constructor(g,v,R){this.app=g,this.heartbeatServiceProvider=v,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new os(this),this.idTokenSubscription=new os(this),this.beforeStateQueue=new ws(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(g,v){var R=this;return v&&(this._popupRedirectResolver=Ln(v)),this._initializationPromise=this.queue((0,_.Z)(function*(){var re,ee;if(!R._deleted&&(R.persistenceManager=yield st.create(R,g),!R._deleted)){if(null===(re=R._popupRedirectResolver)||void 0===re?void 0:re._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch(Pt){}yield R.initializeCurrentUser(v),R.lastNotifiedUid=(null===(ee=R.currentUser)||void 0===ee?void 0:ee.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,_.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,_.Z)(function*(){var R;const re=yield v.assertedPersistence.getCurrentUser();let ee=re,Pt=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const dn=null===(R=v.redirectUser)||void 0===R?void 0:R._redirectEventId,Xn=null==ee?void 0:ee._redirectEventId,zn=yield v.tryRedirectSignIn(g);(!dn||dn===Xn)&&(null==zn?void 0:zn.user)&&(ee=zn.user,Pt=!0)}if(!ee)return v.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Pt)try{yield v.beforeStateQueue.runMiddleware(ee)}catch(dn){ee=re,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(dn))}return ee?v.reloadAndSetCurrentUserOrClear(ee):v.directlySetCurrentUser(null)}return at(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ee._redirectEventId?v.directlySetCurrentUser(ee):v.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(g){var v=this;return(0,_.Z)(function*(){let R=null;try{R=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch(re){yield v._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,_.Z)(function*(){try{yield Li(g)}catch(R){if("auth/network-request-failed"!==R.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var g=this;return(0,_.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,_.Z)(function*(){const R=g?(0,y.m9)(g):null;return R&&at(R.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(R&&R._clone(v))})()}_updateCurrentUser(g,v=!1){var R=this;return(0,_.Z)(function*(){if(!R._deleted)return g&&at(R.tenantId===g.tenantId,R,"tenant-id-mismatch"),v||(yield R.beforeStateQueue.runMiddleware(g)),R.queue((0,_.Z)(function*(){yield R.directlySetCurrentUser(g),R.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,_.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,_.Z)(function*(){yield v.assertedPersistence.setPersistence(Ln(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new y.LL("auth","Firebase",g())}onAuthStateChanged(g,v,R){return this.registerStateListener(this.authStateSubscription,g,v,R)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,R){return this.registerStateListener(this.idTokenSubscription,g,v,R)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var R=this;return(0,_.Z)(function*(){const re=yield R.getOrInitRedirectPersistenceManager(v);return null===g?re.removeCurrentUser():re.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,_.Z)(function*(){if(!v.redirectPersistenceManager){const R=g&&Ln(g)||v._popupRedirectResolver;at(R,v,"argument-error"),v.redirectPersistenceManager=yield st.create(v,[Ln(R._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,_.Z)(function*(){var R,re;return v._isInitialized&&(yield v.queue((0,_.Z)(function*(){}))),(null===(R=v._currentUser)||void 0===R?void 0:R._redirectEventId)===g?v._currentUser:(null===(re=v.redirectUser)||void 0===re?void 0:re._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,_.Z)(function*(){if(g===v.currentUser)return v.queue((0,_.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,R,re){if(this._deleted)return()=>{};const ee="function"==typeof v?v:v.next.bind(v),Pt=this._isInitialized?Promise.resolve():this._initializationPromise;return at(Pt,this,"internal-error"),Pt.then(()=>ee(this.currentUser)),"function"==typeof v?g.addObserver(v,R,re):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,_.Z)(function*(){v.currentUser&&v.currentUser!==g&&(v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh()),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,_.Z)(function*(){var v;const R={"X-Client-Version":g.clientVersion};g.app.options.appId&&(R["X-Firebase-gmpid"]=g.app.options.appId);const re=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return re&&(R["X-Firebase-Client"]=re),R})()}}function Ji(T){return(0,y.m9)(T)}class os{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,y.ne)(v=>this.observer=v)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ds(T){const g=T.indexOf(":");return g<0?"":T.substr(0,g+1)}function mo(T){if(!T)return null;const g=Number(T);return isNaN(g)?null:g}class Kt{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return fn("not implemented")}_getIdTokenResponse(g){return fn("not implemented")}_linkToIdToken(g,v){return fn("not implemented")}_getReauthenticationResolver(g){return fn("not implemented")}}function zt(T,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:resetPassword",Pn(T,g))})).apply(this,arguments)}function pn(T,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Vn(T,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:update",Pn(T,g))})).apply(this,arguments)}function Ei(){return(Ei=(0,_.Z)(function*(T,g){return wt(T,"POST","/v1/accounts:signInWithPassword",Pn(T,g))})).apply(this,arguments)}function Br(T,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:sendOobCode",Pn(T,g))})).apply(this,arguments)}function Fs(T,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,_.Z)(function*(T,g){return Br(T,g)})).apply(this,arguments)}function Vi(T,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,_.Z)(function*(T,g){return Br(T,g)})).apply(this,arguments)}function as(T,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,_.Z)(function*(T,g){return Br(T,g)})).apply(this,arguments)}function Pr(T,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,_.Z)(function*(T,g){return Br(T,g)})).apply(this,arguments)}function Ms(){return(Ms=(0,_.Z)(function*(T,g){return wt(T,"POST","/v1/accounts:signInWithEmailLink",Pn(T,g))})).apply(this,arguments)}function Ar(){return(Ar=(0,_.Z)(function*(T,g){return wt(T,"POST","/v1/accounts:signInWithEmailLink",Pn(T,g))})).apply(this,arguments)}class hs extends Kt{constructor(g,v,R,re=null){super("password",R),this._email=g,this._password=v,this._tenantId=re}static _fromEmailAndPassword(g,v){return new hs(g,v,"password")}static _fromEmailAndCode(g,v,R=null){return new hs(g,v,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,_.Z)(function*(){switch(v.signInMethod){case"password":return function(T,g){return Ei.apply(this,arguments)}(g,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(T,g){return Ms.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Ft(g,"internal-error")}})()}_linkToIdToken(g,v){var R=this;return(0,_.Z)(function*(){switch(R.signInMethod){case"password":return pn(g,{idToken:v,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function(T,g){return Ar.apply(this,arguments)}(g,{idToken:v,email:R._email,oobCode:R._password});default:Ft(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function fs(T,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,_.Z)(function*(T,g){return wt(T,"POST","/v1/accounts:signInWithIdp",Pn(T,g))})).apply(this,arguments)}class ps extends Kt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new ps(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Ft("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:R,signInMethod:re}=v,ee=le(v,["providerId","signInMethod"]);if(!R||!re)return null;const Pt=new ps(R,re);return Pt.idToken=ee.idToken||void 0,Pt.accessToken=ee.accessToken||void 0,Pt.secret=ee.secret,Pt.nonce=ee.nonce,Pt.pendingToken=ee.pendingToken||null,Pt}_getIdTokenResponse(g){return fs(g,this.buildRequest())}_linkToIdToken(g,v){const R=this.buildRequest();return R.idToken=v,fs(g,R)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,fs(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,y.xO)(v)}return g}}function Vs(T,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:sendVerificationCode",Pn(T,g))})).apply(this,arguments)}function jr(){return(jr=(0,_.Z)(function*(T,g){return wt(T,"POST","/v1/accounts:signInWithPhoneNumber",Pn(T,g))})).apply(this,arguments)}function Ri(){return(Ri=(0,_.Z)(function*(T,g){const v=yield wt(T,"POST","/v1/accounts:signInWithPhoneNumber",Pn(T,g));if(v.temporaryProof)throw Rn(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const yo={USER_NOT_FOUND:"user-not-found"};function Zr(){return(Zr=(0,_.Z)(function*(T,g){return wt(T,"POST","/v1/accounts:signInWithPhoneNumber",Pn(T,Object.assign(Object.assign({},g),{operation:"REAUTH"})),yo)})).apply(this,arguments)}class Nr extends Kt{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Nr({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Nr({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function(T,g){return jr.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function(T,g){return Ri.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(T,g){return Zr.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:R,verificationCode:re}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:R,code:re}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:R,phoneNumber:re,temporaryProof:ee}=g;return R||v||re||ee?new Nr({verificationId:v,verificationCode:R,phoneNumber:re,temporaryProof:ee}):null}}class ne{constructor(g){var v,R,re,ee,Pt,dn;const Xn=(0,y.zd)((0,y.pd)(g)),zn=null!==(v=Xn.apiKey)&&void 0!==v?v:null,gi=null!==(R=Xn.oobCode)&&void 0!==R?R:null,Ii=function(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(re=Xn.mode)&&void 0!==re?re:null);at(zn&&gi&&Ii,"argument-error"),this.apiKey=zn,this.operation=Ii,this.code=gi,this.continueUrl=null!==(ee=Xn.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Pt=Xn.languageCode)&&void 0!==Pt?Pt:null,this.tenantId=null!==(dn=Xn.tenantId)&&void 0!==dn?dn:null}static parseLink(g){const v=function(T){const g=(0,y.zd)((0,y.pd)(T)).link,v=g?(0,y.zd)((0,y.pd)(g)).deep_link_id:null,R=(0,y.zd)((0,y.pd)(T)).deep_link_id;return(R?(0,y.zd)((0,y.pd)(R)).link:null)||R||v||g||T}(g);try{return new ne(v)}catch(R){return null}}}let N=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,R){return hs._fromEmailAndPassword(v,R)}static credentialWithLink(v,R){const re=ne.parseLink(R);return at(re,"argument-error"),hs._fromEmailAndCode(v,re.code,re.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class F{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ye extends F{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class $ extends ye{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return at("providerId"in v&&"signInMethod"in v,"argument-error"),ps._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return at(g.idToken||g.accessToken,"argument-error"),ps._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return $.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return $.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:R,oauthTokenSecret:re,pendingToken:ee,nonce:Pt,providerId:dn}=g;if(!R&&!re&&!v&&!ee||!dn)return null;try{return new $(dn)._credential({idToken:v,accessToken:R,nonce:Pt,pendingToken:ee})}catch(Xn){return null}}}let et=(()=>{class T extends ye{constructor(){super("facebook.com")}static credential(v){return ps._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch(R){return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),w=(()=>{class T extends ye{constructor(){super("google.com"),this.addScope("profile")}static credential(v,R){return ps._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:R})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:R,oauthAccessToken:re}=v;if(!R&&!re)return null;try{return T.credential(R,re)}catch(ee){return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),V=(()=>{class T extends ye{constructor(){super("github.com")}static credential(v){return ps._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch(R){return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Ze extends Kt{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return fs(g,this.buildRequest())}_linkToIdToken(g,v){const R=this.buildRequest();return R.idToken=v,fs(g,R)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,fs(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:R,signInMethod:re,pendingToken:ee}=v;return R&&re&&ee&&R===re?new Ze(R,ee):null}static _create(g,v){return new Ze(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oi extends F{constructor(g){at(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return oi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return oi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Ze.fromJSON(g);return at(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:R}=g;if(!v||!R)return null;try{return Ze._create(R,v)}catch(re){return null}}}let rr=(()=>{class T extends ye{constructor(){super("twitter.com")}static credential(v,R){return ps._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:R})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:R,oauthTokenSecret:re}=v;if(!R||!re)return null;try{return T.credential(R,re)}catch(ee){return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Xi(T,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,_.Z)(function*(T,g){return wt(T,"POST","/v1/accounts:signUp",Pn(T,g))})).apply(this,arguments)}class ur{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,R,re=!1){return(0,_.Z)(function*(){const ee=yield En._fromIdTokenResponse(g,R,re),Pt=vi(R);return new ur({user:ee,providerId:Pt,_tokenResponse:R,operationType:v})})()}static _forOperation(g,v,R){return(0,_.Z)(function*(){yield g._updateTokensIfNecessary(R,!0);const re=vi(R);return new ur({user:g,providerId:re,_tokenResponse:R,operationType:v})})()}}function vi(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function Fo(){return(Fo=(0,_.Z)(function*(T){var g;const v=Ji(T);if(yield v._initializationPromise,null===(g=v.currentUser)||void 0===g?void 0:g.isAnonymous)return new ur({user:v.currentUser,providerId:null,operationType:"signIn"});const R=yield Xi(v,{returnSecureToken:!0}),re=yield ur._fromIdTokenResponse(v,"signIn",R,!0);return yield v._updateCurrentUser(re.user),re})).apply(this,arguments)}class vo extends y.ZR{constructor(g,v,R,re){var ee;super(v.code,v.message),this.operationType=R,this.user=re,Object.setPrototypeOf(this,vo.prototype),this.customData={appName:g.name,tenantId:null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:v.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(g,v,R,re){return new vo(g,v,R,re)}}function Hs(T,g,v,R){return("reauthenticate"===g?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?vo._fromErrorAndOperation(T,ee,g,R):ee})}function Lo(T){return new Set(T.map(({providerId:g})=>g).filter(g=>!!g))}function ma(){return(ma=(0,_.Z)(function*(T,g){const v=(0,y.m9)(T);yield xr(!0,v,g);const{providerUserInfo:R}=yield Nt(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),re=Lo(R||[]);return v.providerData=v.providerData.filter(ee=>re.has(ee.providerId)),re.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Fn(T,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,_.Z)(function*(T,g,v=!1){const R=yield Ai(T,g._linkToIdToken(T.auth,yield T.getIdToken()),v);return ur._forOperation(T,"link",R)})).apply(this,arguments)}function xr(T,g,v){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,_.Z)(function*(T,g,v){yield Li(g);const re=!1===T?"provider-already-linked":"no-such-provider";at(Lo(g.providerData).has(v)===T,g.auth,re)})).apply(this,arguments)}function aa(T,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,_.Z)(function*(T,g,v=!1){const{auth:R}=T,re="reauthenticate";try{const ee=yield Ai(T,Hs(R,re,g,T),v);at(ee.idToken,R,"internal-error");const Pt=Ui(ee.idToken);at(Pt,R,"internal-error");const{sub:dn}=Pt;return at(T.uid===dn,R,"user-mismatch"),ur._forOperation(T,re,ee)}catch(ee){throw"auth/user-not-found"===(null==ee?void 0:ee.code)&&Ft(R,"user-mismatch"),ee}})).apply(this,arguments)}function Ys(T,g){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,_.Z)(function*(T,g,v=!1){const R="signIn",re=yield Hs(T,R,g),ee=yield ur._fromIdTokenResponse(T,R,re);return v||(yield T._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function S(T,g){return A.apply(this,arguments)}function A(){return(A=(0,_.Z)(function*(T,g){return Ys(Ji(T),g)})).apply(this,arguments)}function W(T,g){return xe.apply(this,arguments)}function xe(){return(xe=(0,_.Z)(function*(T,g){const v=(0,y.m9)(T);return yield xr(!1,v,g.providerId),Fn(v,g)})).apply(this,arguments)}function Je(T,g){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,_.Z)(function*(T,g){return aa((0,y.m9)(T),g)})).apply(this,arguments)}function xt(T,g){return sn.apply(this,arguments)}function sn(){return(sn=(0,_.Z)(function*(T,g){return wt(T,"POST","/v1/accounts:signInWithCustomToken",Pn(T,g))})).apply(this,arguments)}function Zn(){return(Zn=(0,_.Z)(function*(T,g){const v=Ji(T),R=yield xt(v,{token:g,returnSecureToken:!0}),re=yield ur._fromIdTokenResponse(v,"signIn",R);return yield v._updateCurrentUser(re.user),re})).apply(this,arguments)}class di{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?bi._fromServerResponse(g,v):Ft(g,"internal-error")}}class bi extends di{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new bi(v)}}function er(T,g,v){var R;at((null===(R=v.url)||void 0===R?void 0:R.length)>0,T,"invalid-continue-uri"),at(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(at(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(at(v.android.packageName.length>0,T,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Oi(){return(Oi=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T),re={requestType:"PASSWORD_RESET",email:g};v&&er(R,re,v),yield Vi(R,re)})).apply(this,arguments)}function Kr(){return(Kr=(0,_.Z)(function*(T,g,v){yield zt((0,y.m9)(T),{oobCode:g,newPassword:v})})).apply(this,arguments)}function vs(){return(vs=(0,_.Z)(function*(T,g){yield Vn((0,y.m9)(T),{oobCode:g})})).apply(this,arguments)}function br(T,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,_.Z)(function*(T,g){const v=(0,y.m9)(T),R=yield zt(v,{oobCode:g}),re=R.requestType;switch(at(re,v,"internal-error"),re){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":at(R.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":at(R.mfaInfo,v,"internal-error");default:at(R.email,v,"internal-error")}let ee=null;return R.mfaInfo&&(ee=di._fromServerResponse(Ji(v),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:ee},operation:re}})).apply(this,arguments)}function zr(){return(zr=(0,_.Z)(function*(T,g){const{data:v}=yield br((0,y.m9)(T),g);return v.email})).apply(this,arguments)}function js(){return(js=(0,_.Z)(function*(T,g,v){const R=Ji(T),re=yield Xi(R,{returnSecureToken:!0,email:g,password:v}),ee=yield ur._fromIdTokenResponse(R,"signIn",re);return yield R._updateCurrentUser(ee.user),ee})).apply(this,arguments)}function Ks(){return(Ks=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T),re={requestType:"EMAIL_SIGNIN",email:g};at(v.handleCodeInApp,R,"argument-error"),v&&er(R,re,v),yield as(R,re)})).apply(this,arguments)}function sr(){return(sr=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T),re=N.credentialWithLink(g,v||B());return at(re._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),S(R,re)})).apply(this,arguments)}function fi(T,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:createAuthUri",Pn(T,g))})).apply(this,arguments)}function Ki(){return(Ki=(0,_.Z)(function*(T,g){const R={identifier:g,continueUri:H()?B():"http://localhost"},{signinMethods:re}=yield fi((0,y.m9)(T),R);return re||[]})).apply(this,arguments)}function J(){return(J=(0,_.Z)(function*(T,g){const v=(0,y.m9)(T),re={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};g&&er(v.auth,re,g);const{email:ee}=yield Fs(v.auth,re);ee!==T.email&&(yield T.reload())})).apply(this,arguments)}function it(){return(it=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:g};v&&er(R.auth,ee,v);const{email:Pt}=yield Pr(R.auth,ee);Pt!==T.email&&(yield T.reload())})).apply(this,arguments)}function kt(T,g){return on.apply(this,arguments)}function on(){return(on=(0,_.Z)(function*(T,g){return ei(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ci(){return(ci=(0,_.Z)(function*(T,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const R=(0,y.m9)(T),ee={idToken:yield R.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},Pt=yield Ai(R,kt(R.auth,ee));R.displayName=Pt.displayName||null,R.photoURL=Pt.photoUrl||null;const dn=R.providerData.find(({providerId:Xn})=>"password"===Xn);dn&&(dn.displayName=R.displayName,dn.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Pt)})).apply(this,arguments)}function or(T,g,v){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,_.Z)(function*(T,g,v){const{auth:R}=T,ee={idToken:yield T.getIdToken(),returnSecureToken:!0};g&&(ee.email=g),v&&(ee.password=v);const Pt=yield Ai(T,pn(R,ee));yield T._updateTokensIfNecessary(Pt,!0)})).apply(this,arguments)}class es{constructor(g,v,R={}){this.isNewUser=g,this.providerId=v,this.profile=R}}class Ds extends es{constructor(g,v,R,re){super(g,v,R),this.username=re}}class xs extends es{constructor(g,v){super(g,"facebook.com",v)}}class ms extends Ds{constructor(g,v){super(g,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Ts extends es{constructor(g,v){super(g,"google.com",v)}}class no extends Ds{constructor(g,v,R){super(g,"twitter.com",v,R)}}function gs(T){const{user:g,_tokenResponse:v}=T;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(T){var g,v;if(!T)return null;const{providerId:R}=T,re=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},ee=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!R&&(null==T?void 0:T.idToken)){const Pt=null===(v=null===(g=Ui(T.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(Pt)return new es(ee,"anonymous"!==Pt&&"custom"!==Pt?Pt:null)}if(!R)return null;switch(R){case"facebook.com":return new xs(ee,re);case"github.com":return new ms(ee,re);case"google.com":return new Ts(ee,re);case"twitter.com":return new no(ee,re,T.screenName||null);case"custom":case"anonymous":return new es(ee,null);default:return new es(ee,R,re)}}(v)}class Sa{constructor(g,v){this.type=g,this.credential=v}static _fromIdtoken(g){return new Sa("enroll",g)}static _fromMfaPendingCredential(g){return new Sa("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,R;if(null==g?void 0:g.multiFactorSession){if(null===(v=g.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Sa._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(R=g.multiFactorSession)||void 0===R?void 0:R.idToken)return Sa._fromIdtoken(g.multiFactorSession.idToken)}return null}}class z{constructor(g,v,R){this.session=g,this.hints=v,this.signInResolver=R}static _fromError(g,v){const R=Ji(g),re=v.customData._serverResponse,ee=(re.mfaInfo||[]).map(dn=>di._fromServerResponse(R,dn));at(re.mfaPendingCredential,R,"internal-error");const Pt=Sa._fromMfaPendingCredential(re.mfaPendingCredential);return new z(Pt,ee,function(){var dn=(0,_.Z)(function*(Xn){const zn=yield Xn._process(R,Pt);delete re.mfaInfo,delete re.mfaPendingCredential;const gi=Object.assign(Object.assign({},re),{idToken:zn.idToken,refreshToken:zn.refreshToken});switch(v.operationType){case"signIn":const Ii=yield ur._fromIdTokenResponse(R,v.operationType,gi);return yield R._updateCurrentUser(Ii.user),Ii;case"reauthenticate":return at(v.user,R,"internal-error"),ur._forOperation(v.user,v.operationType,gi);default:Ft(R,"internal-error")}});return function(Xn){return dn.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,_.Z)(function*(){return v.signInResolver(g)})()}}function O(T,g){return ei(T,"POST","/v2/accounts/mfaEnrollment:start",Pn(T,g))}class Se{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(R=>di._fromServerResponse(g.auth,R)))})}static _fromUser(g){return new Se(g)}getSession(){var g=this;return(0,_.Z)(function*(){return Sa._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,v){var R=this;return(0,_.Z)(function*(){const re=g,ee=yield R.getSession(),Pt=yield Ai(R.user,re._process(R.user.auth,ee,v));return yield R.user._updateTokensIfNecessary(Pt),R.user.reload()})()}unenroll(g){var v=this;return(0,_.Z)(function*(){const R="string"==typeof g?g:g.uid,re=yield v.user.getIdToken(),ee=yield Ai(v.user,function(T,g){return ei(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Pn(T,g))}(v.user.auth,{idToken:re,mfaEnrollmentId:R}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Pt})=>Pt!==R),yield v.user._updateTokensIfNecessary(ee);try{yield v.user.reload()}catch(Pt){if("auth/user-token-expired"!==Pt.code)throw Pt}})()}}const lt=new WeakMap,qt="__sak";class Yt{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(qt,"1"),this.storage.removeItem(qt),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Go=(()=>{class T extends Yt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,R)=>this.onStorageEvent(v,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const T=(0,y.z$)();return $n(T)||Wr(T)}()&&function(){try{return!(!window||window===window.top)}catch(T){return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const R of Object.keys(this.listeners)){const re=this.storage.getItem(R),ee=this.localCache[R];re!==ee&&v(R,ee,re)}}onStorageEvent(v,R=!1){if(!v.key)return void this.forAllChangedKeys((dn,Xn,zn)=>{this.notifyListeners(dn,zn)});const re=v.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dn=this.storage.getItem(re);if(v.newValue!==dn)null!==v.newValue?this.storage.setItem(re,v.newValue):this.storage.removeItem(re);else if(this.localCache[re]===v.newValue&&!R)return}const ee=()=>{const dn=this.storage.getItem(re);!R&&this.localCache[re]===dn||this.notifyListeners(re,dn)},Pt=this.storage.getItem(re);(0,y.w1)()&&10===document.documentMode&&Pt!==v.newValue&&v.newValue!==v.oldValue?setTimeout(ee,10):ee()}notifyListeners(v,R){this.localCache[v]=R;const re=this.listeners[v];if(re)for(const ee of Array.from(re))ee(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,R,re)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:R,newValue:re}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,R){var re=()=>super._set,ee=this;return(0,_.Z)(function*(){yield re().call(ee,v,R),ee.localCache[v]=JSON.stringify(R)})()}_get(v){var R=()=>super._get,re=this;return(0,_.Z)(function*(){const ee=yield R().call(re,v);return re.localCache[v]=JSON.stringify(ee),ee})()}_remove(v){var R=()=>super._remove,re=this;return(0,_.Z)(function*(){yield R().call(re,v),delete re.localCache[v]})()}}return T.type="LOCAL",T})(),qs=(()=>{class T extends Yt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,R){}_removeListener(v,R){}}return T.type="SESSION",T})();let _a=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const R=this.receivers.find(ee=>ee.isListeningto(v));if(R)return R;const re=new T(v);return this.receivers.push(re),re}isListeningto(v){return this.eventTarget===v}handleEvent(v){var R=this;return(0,_.Z)(function*(){const re=v,{eventId:ee,eventType:Pt,data:dn}=re.data,Xn=R.handlersMap[Pt];if(!(null==Xn?void 0:Xn.size))return;re.ports[0].postMessage({status:"ack",eventId:ee,eventType:Pt});const zn=Array.from(Xn).map(function(){var Ii=(0,_.Z)(function*(_r){return _r(re.origin,dn)});return function(_r){return Ii.apply(this,arguments)}}()),gi=yield function(T){return Promise.all(T.map(function(){var g=(0,_.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(R){return{fulfilled:!1,reason:R}}});return function(v){return g.apply(this,arguments)}}()))}(zn);re.ports[0].postMessage({status:"done",eventId:ee,eventType:Pt,response:gi})})()}_subscribe(v,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(R)}_unsubscribe(v,R){this.handlersMap[v]&&R&&this.handlersMap[v].delete(R),(!R||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Mo(T="",g=10){let v="";for(let R=0;R<g;R++)v+=Math.floor(10*Math.random());return T+v}class tl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,R=50){var re=this;return(0,_.Z)(function*(){const ee="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Pt,dn;return new Promise((Xn,zn)=>{const gi=Mo("",20);ee.port1.start();const Ii=setTimeout(()=>{zn(new Error("unsupported_event"))},R);dn={messageChannel:ee,onMessage(_r){const Oo=_r;if(Oo.data.eventId===gi)switch(Oo.data.status){case"ack":clearTimeout(Ii),Pt=setTimeout(()=>{zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pt),Xn(Oo.data.response);break;default:clearTimeout(Ii),clearTimeout(Pt),zn(new Error("invalid_response"))}}},re.handlers.add(dn),ee.port1.addEventListener("message",dn.onMessage),re.target.postMessage({eventType:g,eventId:gi,data:v},[ee.port2])}).finally(()=>{dn&&re.removeMessageHandler(dn)})})()}}function gr(){return window}function ya(){return void 0!==gr().WorkerGlobalScope&&"function"==typeof gr().importScripts}function Ao(){return(Ao=(0,_.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(T){return null}})).apply(this,arguments)}const Fi="firebaseLocalStorageDb",xo="firebaseLocalStorage",Ol="fbase_key";class yl{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Sr(T,g){return T.transaction([xo],g?"readwrite":"readonly").objectStore(xo)}function ho(){const T=indexedDB.open(Fi,1);return new Promise((g,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const R=T.result;try{R.createObjectStore(xo,{keyPath:Ol})}catch(re){v(re)}}),T.addEventListener("success",(0,_.Z)(function*(){const R=T.result;R.objectStoreNames.contains(xo)?g(R):(R.close(),yield function(){const T=indexedDB.deleteDatabase(Fi);return new yl(T).toPromise()}(),g(yield ho()))}))})}function cs(T,g,v){return vl.apply(this,arguments)}function vl(){return(vl=(0,_.Z)(function*(T,g,v){const R=Sr(T,!0).put({[Ol]:g,value:v});return new yl(R).toPromise()})).apply(this,arguments)}function eu(){return(eu=(0,_.Z)(function*(T,g){const v=Sr(T,!1).get(g),R=yield new yl(v).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function il(T,g){const v=Sr(T,!0).delete(g);return new yl(v).toPromise()}const Pl=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,_.Z)(function*(){return v.db||(v.db=yield ho()),v.db})()}_withRetries(v){var R=this;return(0,_.Z)(function*(){let re=0;for(;;)try{const ee=yield R._openDb();return yield v(ee)}catch(ee){if(re++>3)throw ee;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,_.Z)(function*(){return ya()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,_.Z)(function*(){v.receiver=_a._getInstance(ya()?self:null),v.receiver._subscribe("keyChanged",function(){var R=(0,_.Z)(function*(re,ee){return{keyProcessed:(yield v._poll()).includes(ee.key)}});return function(re,ee){return R.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var R=(0,_.Z)(function*(re,ee){return["keyChanged"]});return function(re,ee){return R.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,_.Z)(function*(){var R,re;if(v.activeServiceWorker=yield function(){return Ao.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new tl(v.activeServiceWorker);const ee=yield v.sender._send("ping",{},800);!ee||(null===(R=ee[0])||void 0===R?void 0:R.fulfilled)&&(null===(re=ee[0])||void 0===re?void 0:re.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var R=this;return(0,_.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:v},R.serviceWorkerReceiverAvailable?800:50)}catch(re){}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const v=yield ho();return yield cs(v,qt,"1"),yield il(v,qt),!0}catch(v){}return!1})()}_withPendingWrite(v){var R=this;return(0,_.Z)(function*(){R.pendingWrites++;try{yield v()}finally{R.pendingWrites--}})()}_set(v,R){var re=this;return(0,_.Z)(function*(){return re._withPendingWrite((0,_.Z)(function*(){return yield re._withRetries(ee=>cs(ee,v,R)),re.localCache[v]=R,re.notifyServiceWorker(v)}))})()}_get(v){var R=this;return(0,_.Z)(function*(){const re=yield R._withRetries(ee=>function(T,g){return eu.apply(this,arguments)}(ee,v));return R.localCache[v]=re,re})()}_remove(v){var R=this;return(0,_.Z)(function*(){return R._withPendingWrite((0,_.Z)(function*(){return yield R._withRetries(re=>il(re,v)),delete R.localCache[v],R.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,_.Z)(function*(){const R=yield v._withRetries(Pt=>{const dn=Sr(Pt,!1).getAll();return new yl(dn).toPromise()});if(!R)return[];if(0!==v.pendingWrites)return[];const re=[],ee=new Set;for(const{fbase_key:Pt,value:dn}of R)ee.add(Pt),JSON.stringify(v.localCache[Pt])!==JSON.stringify(dn)&&(v.notifyListeners(Pt,dn),re.push(Pt));for(const Pt of Object.keys(v.localCache))v.localCache[Pt]&&!ee.has(Pt)&&(v.notifyListeners(Pt,null),re.push(Pt));return re})()}notifyListeners(v,R){this.localCache[v]=R;const re=this.listeners[v];if(re)for(const ee of Array.from(re))ee(R)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function yc(T,g){return ei(T,"POST","/v2/accounts/mfaSignIn:start",Pn(T,g))}function ta(){return(ta=(0,_.Z)(function*(T){return(yield ei(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rs(T){return new Promise((g,v)=>{const R=document.createElement("script");R.setAttribute("src",T),R.onload=g,R.onerror=re=>{const ee=me("internal-error");ee.customData=re,v(ee)},R.type="text/javascript",R.charset="UTF-8",function(){var T,g;return null!==(g=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==g?g:document}().appendChild(R)})}function ri(T){return`__${T}${Math.floor(1e6*Math.random())}`}const Ga=1e12;class ro{constructor(g){this.auth=g,this.counter=Ga,this._widgets=new Map}render(g,v){const R=this.counter;return this._widgets.set(R,new Ro(g,this.auth.name,v||{})),this.counter++,R}reset(g){var v;const R=g||Ga;null===(v=this._widgets.get(R))||void 0===v||v.delete(),this._widgets.delete(R)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Ga))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,_.Z)(function*(){var R;return null===(R=v._widgets.get(g||Ga))||void 0===R||R.execute(),""})()}}class Ro{constructor(g,v,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const re="string"==typeof g?document.getElementById(g):g;at(re,"argument-error",{appName:v}),this.container=re,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(T){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<50;R++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}();const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch(R){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(R){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zo=ri("rcb"),Qo=new Ue(3e4,6e4);class za{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!gr().grecaptcha}load(g,v=""){return at((T=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T),g,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(gr().grecaptcha):new Promise((R,re)=>{const ee=gr().setTimeout(()=>{re(me(g,"network-request-failed"))},Qo.get());gr()[zo]=()=>{gr().clearTimeout(ee),delete gr()[zo];const dn=gr().grecaptcha;if(!dn)return void re(me(g,"internal-error"));const Xn=dn.render;dn.render=(zn,gi)=>{const Ii=Xn(zn,gi);return this.counter++,Ii},this.hostLanguage=v,R(dn)},Rs(`https://www.google.com/recaptcha/api.js??${(0,y.xO)({onload:zo,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ee),re(me(g,"internal-error"))})});var T}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!gr().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bc{load(g){return(0,_.Z)(function*(){return new ro(g)})()}clearedOneInstance(){}}const sl="recaptcha",Cc={theme:"light",type:"image"};class Js{constructor(g,v=Object.assign({},Cc),R){this.parameters=v,this.type=sl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ji(R),this.isInvisible="invisible"===this.parameters.size,at("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const re="string"==typeof g?document.getElementById(g):g;at(re,this.auth,"argument-error"),this.container=re,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bc:new za,this.validateStartingState()}verify(){var g=this;return(0,_.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),R=g.getAssertedRecaptcha();return R.getResponse(v)||new Promise(ee=>{const Pt=dn=>{!dn||(g.tokenChangeListeners.delete(Pt),ee(dn))};g.tokenChangeListeners.add(Pt),g.isInvisible&&R.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){at(!this.parameters.sitekey,this.auth,"argument-error"),at(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),at("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(R=>R(v)),"function"==typeof g)g(v);else if("string"==typeof g){const R=gr()[g];"function"==typeof R&&R(v)}}}assertNotDestroyed(){at(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,_.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const R=document.createElement("div");v.appendChild(R),v=R}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,_.Z)(function*(){at(H()&&!ya(),g.auth,"internal-error"),yield function(){let T=null;return new Promise(g=>{"complete"!==document.readyState?(T=()=>g(),window.addEventListener("load",T)):g()}).catch(g=>{throw T&&window.removeEventListener("load",T),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function(T){return ta.apply(this,arguments)}(g.auth);at(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return at(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xa{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Nr._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Fl(){return(Fl=(0,_.Z)(function*(T,g,v){const R=Ji(T),re=yield Jt(R,g,(0,y.m9)(v));return new xa(re,ee=>S(R,ee))})).apply(this,arguments)}function ce(){return(ce=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T);yield xr(!1,R,"phone");const re=yield Jt(R.auth,g,(0,y.m9)(v));return new xa(re,ee=>W(R,ee))})).apply(this,arguments)}function At(){return(At=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T),re=yield Jt(R.auth,g,(0,y.m9)(v));return new xa(re,ee=>Je(R,ee))})).apply(this,arguments)}function Jt(T,g,v){return yn.apply(this,arguments)}function yn(){return(yn=(0,_.Z)(function*(T,g,v){var R;const re=yield v.verify();try{let ee;if(at("string"==typeof re,T,"argument-error"),at(v.type===sl,T,"argument-error"),ee="string"==typeof g?{phoneNumber:g}:g,"session"in ee){const Pt=ee.session;if("phoneNumber"in ee)return at("enroll"===Pt.type,T,"internal-error"),(yield O(T,{idToken:Pt.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:re}})).phoneSessionInfo.sessionInfo;{at("signin"===Pt.type,T,"internal-error");const dn=(null===(R=ee.multiFactorHint)||void 0===R?void 0:R.uid)||ee.multiFactorUid;return at(dn,T,"missing-multi-factor-info"),(yield yc(T,{mfaPendingCredential:Pt.credential,mfaEnrollmentId:dn,phoneSignInInfo:{recaptchaToken:re}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pt}=yield Vs(T,{phoneNumber:ee.phoneNumber,recaptchaToken:re});return Pt}}finally{v._reset()}})).apply(this,arguments)}function ai(){return(ai=(0,_.Z)(function*(T,g){yield Fn((0,y.m9)(T),g)})).apply(this,arguments)}let Ni=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=Ji(v)}verifyPhoneNumber(v,R){return Jt(this.auth,v,(0,y.m9)(R))}static credential(v,R){return Nr._fromVerification(v,R)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:R,temporaryProof:re}=v;return R&&re?Nr._fromTokenResponse(R,re):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Si(T,g){return g?Ln(g):(at(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class wr extends Kt{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return fs(g,this._buildIdpRequest())}_linkToIdToken(g,v){return fs(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return fs(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function Qi(T){return Ys(T.auth,new wr(T),T.bypassAuthState)}function ks(T){const{auth:g,user:v}=T;return at(v,g,"internal-error"),aa(v,new wr(T),T.bypassAuthState)}function Co(T){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,_.Z)(function*(T){const{auth:g,user:v}=T;return at(v,g,"internal-error"),Fn(v,new wr(T),T.bypassAuthState)})).apply(this,arguments)}class Ra{constructor(g,v,R,re,ee=!1){this.auth=g,this.resolver=R,this.user=re,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,_.Z)(function*(R,re){g.pendingPromise={resolve:R,reject:re};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ee){g.reject(ee)}});return function(R,re){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,_.Z)(function*(){const{urlResponse:R,sessionId:re,postBody:ee,tenantId:Pt,error:dn,type:Xn}=g;if(dn)return void v.reject(dn);const zn={auth:v.auth,requestUri:R,sessionId:re,tenantId:Pt||void 0,postBody:ee||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Xn)(zn))}catch(gi){v.reject(gi)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Qi;case"linkViaPopup":case"linkViaRedirect":return Co;case"reauthViaPopup":case"reauthViaRedirect":return ks;default:Ft(this.auth,"internal-error")}}resolve(g){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $s=new Ue(2e3,1e4);function Eo(){return(Eo=(0,_.Z)(function*(T,g,v){const R=Ji(T);je(T,g,F);const re=Si(R,v);return new Ec(R,"signInViaPopup",g,re).executeNotNull()})).apply(this,arguments)}function Lu(){return(Lu=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T);je(R.auth,g,F);const re=Si(R.auth,v);return new Ec(R.auth,"reauthViaPopup",g,re,R).executeNotNull()})).apply(this,arguments)}function va(){return(va=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T);je(R.auth,g,F);const re=Si(R.auth,v);return new Ec(R.auth,"linkViaPopup",g,re,R).executeNotNull()})).apply(this,arguments)}let Ec=(()=>{class T extends Ra{constructor(v,R,re,ee,Pt){super(v,R,ee,Pt),this.provider=re,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,_.Z)(function*(){const R=yield v.execute();return at(R,v.auth,"internal-error"),R})()}onExecution(){var v=this;return(0,_.Z)(function*(){jt(1===v.filter.length,"Popup operations only handle one event");const R=Mo();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],R),v.authWindow.associatedEvent=R,v.resolver._originValidation(v.auth).catch(re=>{v.reject(re)}),v.resolver._isIframeWebStorageSupported(v.auth,re=>{re||v.reject(me(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var R,re;this.pollId=(null===(re=null===(R=this.authWindow)||void 0===R?void 0:R.window)||void 0===re?void 0:re.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,$s.get())};v()}}return T.currentPopupAction=null,T})();const ca=new Map;class wc extends Ra{constructor(g,v,R=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,R),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,_.Z)(function*(){let R=ca.get(v.auth._key());if(!R){try{const ee=(yield function(T,g){return Cl.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;R=()=>Promise.resolve(ee)}catch(re){R=()=>Promise.reject(re)}ca.set(v.auth._key(),R)}return v.bypassAuthState||ca.set(v.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,R=this;return(0,_.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(R,g);if("unknown"!==g.type){if(g.eventId){const re=yield R.auth._redirectUserForId(g.eventId);if(re)return R.user=re,v().call(R,g);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function Cl(){return(Cl=(0,_.Z)(function*(T,g){const v=eh(g),R=ka(T);if(!(yield R._isAvailable()))return!1;const re="true"===(yield R._get(v));return yield R._remove(v),re})).apply(this,arguments)}function Bo(T,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,_.Z)(function*(T,g){return ka(T)._set(eh(g),"true")})).apply(this,arguments)}function Vl(T,g){ca.set(T._key(),g)}function ka(T){return Ln(T._redirectPersistence)}function eh(T){return vt("pendingRedirect",T.config.apiKey,T.name)}function Dc(){return(Dc=(0,_.Z)(function*(T,g,v){const R=Ji(T);je(T,g,F);const re=Si(R,v);return yield Bo(re,R),re._openRedirect(R,g,"signInViaRedirect")})).apply(this,arguments)}function nu(){return(nu=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T);je(R.auth,g,F);const re=Si(R.auth,v);yield Bo(re,R.auth);const ee=yield iu(R);return re._openRedirect(R.auth,g,"reauthViaRedirect",ee)})).apply(this,arguments)}function $o(){return($o=(0,_.Z)(function*(T,g,v){const R=(0,y.m9)(T);je(R.auth,g,F);const re=Si(R.auth,v);yield xr(!1,R,g.providerId),yield Bo(re,R.auth);const ee=yield iu(R);return re._openRedirect(R.auth,g,"linkViaRedirect",ee)})).apply(this,arguments)}function al(){return(al=(0,_.Z)(function*(T,g){return yield Ji(T)._initializationPromise,Vu(T,g,!1)})).apply(this,arguments)}function Vu(T,g){return nc.apply(this,arguments)}function nc(){return(nc=(0,_.Z)(function*(T,g,v=!1){const R=Ji(T),re=Si(R,g),Pt=yield new wc(R,re,v).execute();return Pt&&!v&&(delete Pt.user._redirectEventId,yield R._persistUserIfCurrent(Pt.user),yield R._setRedirectUser(null,g)),Pt})).apply(this,arguments)}function iu(T){return ru.apply(this,arguments)}function ru(){return(ru=(0,_.Z)(function*(T){const g=Mo(`${T.uid}:::`);return T._redirectEventId=g,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),g})).apply(this,arguments)}class Uo{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(g,R)&&(v=!0,this.sendToConsumer(g,R),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wa(T);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var R;if(g.error&&!Wa(g)){const re=(null===(R=g.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";v.onError(me(this.auth,re))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const R=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&R}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(su(g))}saveEventToCache(g){this.cachedEventUids.add(su(g)),this.lastProcessedEventTime=Date.now()}}function su(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(g=>g).join("-")}function Wa({type:T,error:g}){return"unknown"===T&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Tc(T){return ic.apply(this,arguments)}function ic(){return(ic=(0,_.Z)(function*(T,g={}){return ei(T,"GET","/v1/projects",g)})).apply(this,arguments)}const Ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bu=/^https?/;function ua(){return(ua=(0,_.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:g}=yield Tc(T);for(const v of g)try{if(rc(v))return}catch(R){}Ft(T,"unauthorized-domain")})).apply(this,arguments)}function rc(T){const g=B(),{protocol:v,hostname:R}=new URL(g);if(T.startsWith("chrome-extension://")){const Pt=new URL(T);return""===Pt.hostname&&""===R?"chrome-extension:"===v&&T.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&Pt.hostname===R}if(!Bu.test(v))return!1;if(Ic.test(T))return R===T;const re=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(R)}const Ul=new Ue(3e4,6e4);function Mc(){const T=gr().___jsl;if(null==T?void 0:T.H)for(const g of Object.keys(T.H))if(T.H[g].r=T.H[g].r||[],T.H[g].L=T.H[g].L||[],T.H[g].r=[...T.H[g].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let Hl=null;function Ac(T){return Hl=Hl||function(T){return new Promise((g,v)=>{var R,re,ee;function Pt(){Mc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Mc(),v(me(T,"network-request-failed"))},timeout:Ul.get()})}if(null===(re=null===(R=gr().gapi)||void 0===R?void 0:R.iframes)||void 0===re?void 0:re.Iframe)g(gapi.iframes.getContext());else{if(!(null===(ee=gr().gapi)||void 0===ee?void 0:ee.load)){const dn=ri("iframefcb");return gr()[dn]=()=>{gapi.load?Pt():v(me(T,"network-request-failed"))},Rs(`https://apis.google.com/js/api.js?onload=${dn}`).catch(Xn=>v(Xn))}Pt()}}).catch(g=>{throw Hl=null,g})}(T),Hl}const xc=new Ue(5e3,15e3),Gl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ou=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zl(T){const g=T.config;at(g.authDomain,T,"auth-domain-config-required");const v=g.emulator?Bt(g,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,R={apiKey:g.apiKey,appName:T.name,v:d.SDK_VERSION},re=ou.get(T.config.apiHost);re&&(R.eid=re);const ee=T._getFrameworks();return ee.length&&(R.fw=ee.join(",")),`${v}?${(0,y.xO)(R).slice(1)}`}function au(){return(au=(0,_.Z)(function*(T){const g=yield Ac(T),v=gr().gapi;return at(v,T,"internal-error"),g.open({where:document.body,url:zl(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gl,dontclear:!0},R=>new Promise(function(){var re=(0,_.Z)(function*(ee,Pt){yield R.restyle({setHideOnLeave:!1});const dn=me(T,"network-request-failed"),Xn=gr().setTimeout(()=>{Pt(dn)},xc.get());function zn(){gr().clearTimeout(Xn),ee(R)}R.ping(zn).then(zn,()=>{Pt(dn)})});return function(ee,Pt){return re.apply(this,arguments)}}()))})).apply(this,arguments)}const lu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function ia(T,g,v,R,re,ee){at(T.config.authDomain,T,"auth-domain-config-required"),at(T.config.apiKey,T,"invalid-api-key");const Pt={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:R,v:d.SDK_VERSION,eventId:re};if(g instanceof F){g.setDefaultLanguage(T.languageCode),Pt.providerId=g.providerId||"",(0,y.xb)(g.getCustomParameters())||(Pt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Xn,zn]of Object.entries(ee||{}))Pt[Xn]=zn}if(g instanceof ye){const Xn=g.getScopes().filter(zn=>""!==zn);Xn.length>0&&(Pt.scopes=Xn.join(","))}T.tenantId&&(Pt.tid=T.tenantId);const dn=Pt;for(const Xn of Object.keys(dn))void 0===dn[Xn]&&delete dn[Xn];return`${function({config:T}){return T.emulator?Bt(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,y.xO)(dn).slice(1)}`}const cl="webStorageSupport";class Oc extends class{constructor(g){this.factorId=g}_process(g,v,R){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,R);case"signin":return this._finalizeSignIn(g,v.credential);default:return fn("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Oc(g)}_finalizeEnroll(g,v,R){return function(T,g){return ei(T,"POST","/v2/accounts/mfaEnrollment:finalize",Pn(T,g))}(g,{idToken:v,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function(T,g){return ei(T,"POST","/v2/accounts/mfaSignIn:finalize",Pn(T,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wd=(()=>{class T{constructor(){}static assertion(v){return Oc._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var T,zu="@firebase/auth";class Vr{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,_.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(R=>{var re;g((null===(re=R)||void 0===re?void 0:re.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);!v||(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pa(){return window}function sc(){return(sc=(0,_.Z)(function*(T,g,v){var R;const{BuildInfo:re}=Pa();jt(g.sessionId,"AuthEvent did not contain a session ID");const ee=yield ac(g.sessionId),Pt={};return Wr()?Pt.ibi=re.packageName:ui()?Pt.apn=re.packageName:Ft(T,"operation-not-supported-in-this-environment"),re.displayName&&(Pt.appDisplayName=re.displayName),Pt.sessionId=ee,ia(T,v,g.type,void 0,null!==(R=g.eventId)&&void 0!==R?R:void 0,Pt)})).apply(this,arguments)}function Pc(){return(Pc=(0,_.Z)(function*(T){const{BuildInfo:g}=Pa(),v={};Wr()?v.iosBundleId=g.packageName:ui()?v.androidPackageName=g.packageName:Ft(T,"operation-not-supported-in-this-environment"),yield Tc(T,v)})).apply(this,arguments)}function $u(){return($u=(0,_.Z)(function*(T,g,v){const{cordova:R}=Pa();let re=()=>{};try{yield new Promise((ee,Pt)=>{let dn=null;function Xn(){var Ii;ee();const _r=null===(Ii=R.plugins.browsertab)||void 0===Ii?void 0:Ii.close;"function"==typeof _r&&_r(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function zn(){dn||(dn=window.setTimeout(()=>{Pt(me(T,"redirect-cancelled-by-user"))},2e3))}function gi(){"visible"===(null==document?void 0:document.visibilityState)&&zn()}g.addPassiveListener(Xn),document.addEventListener("resume",zn,!1),ui()&&document.addEventListener("visibilitychange",gi,!1),re=()=>{g.removePassiveListener(Xn),document.removeEventListener("resume",zn,!1),document.removeEventListener("visibilitychange",gi,!1),dn&&window.clearTimeout(dn)}})}finally{re()}})).apply(this,arguments)}function ac(T){return ul.apply(this,arguments)}function ul(){return(ul=(0,_.Z)(function*(T){const g=Wl(T),v=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(v)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Wl(T){if(jt(/[0-9a-zA-Z]+/.test(T),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(T);const g=new ArrayBuffer(T.length),v=new Uint8Array(g);for(let R=0;R<T.length;R++)v[R]=T.charCodeAt(R);return v}T="Browser",(0,d._registerComponent)(new jn.wA("auth",(g,{options:v})=>{const R=g.getProvider("app").getImmediate(),re=g.getProvider("heartbeat"),{apiKey:ee,authDomain:Pt}=R.options;return((dn,Xn)=>{at(ee&&!ee.includes(":"),"invalid-api-key",{appName:dn.name}),at(!(null==Pt?void 0:Pt.includes(":")),"argument-error",{appName:dn.name});const zn={apiKey:ee,authDomain:Pt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yr(T)},gi=new nr(dn,Xn,zn);return function(T,g){const v=(null==g?void 0:g.persistence)||[],R=(Array.isArray(v)?v:[v]).map(Ln);(null==g?void 0:g.errorMap)&&T._updateErrorMap(g.errorMap),T._initializeWithPersistence(R,null==g?void 0:g.popupRedirectResolver)}(gi,v),gi})(R,re)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,R)=>{g.getProvider("auth-internal").initialize()})),(0,d._registerComponent)(new jn.wA("auth-internal",g=>{const v=Ji(g.getProvider("auth").getImmediate());return new Vr(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,d.registerVersion)(zu,"0.20.1",void 0),(0,d.registerVersion)(zu,"0.20.1","esm2017");class ih extends Uo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(g)),super.onEvent(g)}initialized(){var g=this;return(0,_.Z)(function*(){yield g.initPromise})()}}function Id(T){return du.apply(this,arguments)}function du(){return(du=(0,_.Z)(function*(T){const g=yield Yl()._get(Qr(T));return g&&(yield Yl()._remove(Qr(T))),g})).apply(this,arguments)}function Jh(){const T=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const R=Math.floor(Math.random()*g.length);T.push(g.charAt(R))}return T.join("")}function Yl(){return Ln(Go)}function Qr(T){return vt("authEvent",T.config.apiKey,T.name)}function Ws(T){if(!(null==T?void 0:T.includes("?")))return{};const[g,...v]=T.split("?");return(0,y.zd)(v.join("?"))}function Fa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function cc(){var T;return(null===(T=null==self?void 0:self.location)||void 0===T?void 0:T.protocol)||null}function oh(T=(0,y.z$)()){return!("file:"!==cc()&&"ionic:"!==cc()||!T.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kl(){try{const T=self.localStorage,g=Mo();if(T)return T.setItem(g,"1"),T.removeItem(g),!function(T=(0,y.z$)()){return(0,y.w1)()&&11===(null==document?void 0:document.documentMode)||function(T=(0,y.z$)()){return/Edge\/\d+/.test(T)}(T)}()||(0,y.hl)()}catch(T){return Fc()&&(0,y.hl)()}return!1}function Fc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wu(){return("http:"===cc()||"https:"===cc()||(0,y.ru)()||oh())&&!((0,y.b$)()||(0,y.UG)())&&Kl()&&!Fc()}function Yu(){return oh()&&"undefined"!=typeof document}function Zu(){return(Zu=(0,_.Z)(function*(){return!!Yu()&&new Promise(T=>{const g=setTimeout(()=>{T(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),T(!0)})})})).apply(this,arguments)}const ts={LOCAL:"local",NONE:"none",SESSION:"session"},Ya=at,lh="persistence";function Ad(T){return pu.apply(this,arguments)}function pu(){return(pu=(0,_.Z)(function*(T){yield T._initializationPromise;const g=Ea(),v=vt(lh,T.config.apiKey,T.name);g&&g.setItem(v,T._getPersistence())})).apply(this,arguments)}function Ea(){var T;try{return(null===(T="undefined"!=typeof window?window:null)||void 0===T?void 0:T.sessionStorage)||null}catch(g){return null}}const xd=at;class Wo{constructor(){this.browserResolver=Ln(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=Vu,this._overrideRedirectResult=Vl}_openPopup(g,v,R,re){var ee=this;return(0,_.Z)(function*(){var Pt;jt(null===(Pt=ee.eventManagers[g._key()])||void 0===Pt?void 0:Pt.manager,"_initialize() not called before _openPopup()");const dn=ia(g,v,R,B(),re);return function(T,g,v,R=500,re=600){const ee=Math.max((window.screen.availHeight-re)/2,0).toString(),Pt=Math.max((window.screen.availWidth-R)/2,0).toString();let dn="";const Xn=Object.assign(Object.assign({},lu),{width:R.toString(),height:re.toString(),top:ee,left:Pt}),zn=(0,y.z$)().toLowerCase();v&&(dn=pi(zn)?"_blank":v),_n(zn)&&(g=g||"http://localhost",Xn.scrollbars="yes");const gi=Object.entries(Xn).reduce((_r,[Oo,hl])=>`${_r}${Oo}=${hl},`,"");if(function(T=(0,y.z$)()){var g;return Wr(T)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(zn)&&"_self"!==dn)return function(T,g){const v=document.createElement("a");v.href=T,v.target=g;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(R)}(g||"",dn),new Rc(null);const Ii=window.open(g||"",dn,gi);at(Ii,T,"popup-blocked");try{Ii.focus()}catch(_r){}return new Rc(Ii)}(g,dn,Mo())})()}_openRedirect(g,v,R,re){var ee=this;return(0,_.Z)(function*(){return yield ee._originValidation(g),T=ia(g,v,R,B(),re),gr().location.href=T,new Promise(()=>{});var T})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:re,promise:ee}=this.eventManagers[v];return re?Promise.resolve(re):(jt(ee,"If manager is not set, promise should be"),ee)}const R=this.initAndGetManager(g);return this.eventManagers[v]={promise:R},R.catch(()=>{delete this.eventManagers[v]}),R}initAndGetManager(g){var v=this;return(0,_.Z)(function*(){const R=yield function(T){return au.apply(this,arguments)}(g),re=new Uo(g);return R.register("authEvent",ee=>(at(null==ee?void 0:ee.authEvent,g,"invalid-auth-event"),{status:re.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:re},v.iframes[g._key()]=R,re})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(cl,{type:cl},re=>{var ee;const Pt=null===(ee=null==re?void 0:re[0])||void 0===ee?void 0:ee[cl];void 0!==Pt&&v(!!Pt),Ft(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(T){return ua.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return ss()||$n()||Wr()}}),this.cordovaResolver=Ln(class{constructor(){this._redirectPersistence=qs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vu,this._overrideRedirectResult=Vl}_initialize(g){var v=this;return(0,_.Z)(function*(){const R=g._key();let re=v.eventManagers.get(R);return re||(re=new ih(g),v.eventManagers.set(R,re),v.attachCallbackListeners(g,re)),re})()}_openPopup(g){Ft(g,"operation-not-supported-in-this-environment")}_openRedirect(g,v,R,re){var ee=this;return(0,_.Z)(function*(){!function(T){var g,v,R,re,ee,Pt,dn,Xn,zn,gi;const Ii=Pa();at("function"==typeof(null===(g=null==Ii?void 0:Ii.universalLinks)||void 0===g?void 0:g.subscribe),T,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),at(void 0!==(null===(v=null==Ii?void 0:Ii.BuildInfo)||void 0===v?void 0:v.packageName),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),at("function"==typeof(null===(ee=null===(re=null===(R=null==Ii?void 0:Ii.cordova)||void 0===R?void 0:R.plugins)||void 0===re?void 0:re.browsertab)||void 0===ee?void 0:ee.openUrl),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),at("function"==typeof(null===(Xn=null===(dn=null===(Pt=null==Ii?void 0:Ii.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===dn?void 0:dn.browsertab)||void 0===Xn?void 0:Xn.isAvailable),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),at("function"==typeof(null===(gi=null===(zn=null==Ii?void 0:Ii.cordova)||void 0===zn?void 0:zn.InAppBrowser)||void 0===gi?void 0:gi.open),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Pt=yield ee._initialize(g);yield Pt.initialized(),Pt.resetRedirect(),ca.clear(),yield ee._originValidation(g);const dn=function(T,g,v=null){return{type:g,eventId:v,urlResponse:null,sessionId:Jh(),postBody:null,tenantId:T.tenantId,error:me(T,"no-auth-event")}}(g,R,re);yield function(T,g){return Yl()._set(Qr(T),g)}(g,dn);const Xn=yield function(T,g,v){return sc.apply(this,arguments)}(g,dn,v),zn=yield function(T){const{cordova:g}=Pa();return new Promise(v=>{g.plugins.browsertab.isAvailable(R=>{let re=null;R?g.plugins.browsertab.openUrl(T):re=g.InAppBrowser.open(T,function(T=(0,y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}()?"_blank":"_system","location=yes"),v(re)})})}(Xn);return function(T,g,v){return $u.apply(this,arguments)}(g,Pt,zn)})()}_isIframeWebStorageSupported(g,v){throw new Error("Method not implemented.")}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(T){return Pc.apply(this,arguments)}(g)),this.originValidationPromises[v]}attachCallbackListeners(g,v){const{universalLinks:R,handleOpenURL:re,BuildInfo:ee}=Pa(),Pt=setTimeout((0,_.Z)(function*(){yield Id(g),v.onEvent(Fa())}),500),dn=function(){var gi=(0,_.Z)(function*(Ii){clearTimeout(Pt);const _r=yield Id(g);let Oo=null;_r&&(null==Ii?void 0:Ii.url)&&(Oo=function(T,g){var v,R;const re=function(T){const g=Ws(T),v=g.link?decodeURIComponent(g.link):void 0,R=Ws(v).link,re=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Ws(re).link||re||R||v||T}(g);if(re.includes("/__/auth/callback")){const ee=Ws(re),Pt=ee.firebaseError?function(T){try{return JSON.parse(T)}catch(g){return null}}(decodeURIComponent(ee.firebaseError)):null,dn=null===(R=null===(v=null==Pt?void 0:Pt.code)||void 0===v?void 0:v.split("auth/"))||void 0===R?void 0:R[1],Xn=dn?me(dn):null;return Xn?{type:T.type,eventId:T.eventId,tenantId:T.tenantId,error:Xn,urlResponse:null,sessionId:null,postBody:null}:{type:T.type,eventId:T.eventId,tenantId:T.tenantId,sessionId:T.sessionId,urlResponse:re,postBody:null}}return null}(_r,Ii.url)),v.onEvent(Oo||Fa())});return function(_r){return gi.apply(this,arguments)}}();void 0!==R&&"function"==typeof R.subscribe&&R.subscribe(null,dn);const Xn=re,zn=`${ee.packageName.toLowerCase()}://`;Pa().handleOpenURL=function(){var gi=(0,_.Z)(function*(Ii){if(Ii.toLowerCase().startsWith(zn)&&dn({url:Ii}),"function"==typeof Xn)try{Xn(Ii)}catch(_r){console.error(_r)}});return function(Ii){return gi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=qs,this._completeRedirectFn=Vu,this._overrideRedirectResult=Vl}_initialize(g){var v=this;return(0,_.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,v,R,re){var ee=this;return(0,_.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(g,v,R,re)})()}_openRedirect(g,v,R,re){var ee=this;return(0,_.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(g,v,R,re)})()}_isIframeWebStorageSupported(g,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,v)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Yu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,_.Z)(function*(){if(g.underlyingResolver)return;const v=yield function(){return Zu.apply(this,arguments)}();g.underlyingResolver=v?g.cordovaResolver:g.browserResolver})()}}function Rd(T){return T.unwrap()}function tf(T){return uh(T)}function uh(T){const{_tokenResponse:g}=T instanceof y.ZR?T.customData:T;if(!g)return null;if(!(T instanceof y.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Ni.credentialFromResult(T);const v=g.providerId;if(!v||"password"===v)return null;let R;switch(v){case"google.com":R=w;break;case"facebook.com":R=et;break;case"github.com":R=V;break;case"twitter.com":R=rr;break;default:const{oauthIdToken:re,oauthAccessToken:ee,oauthTokenSecret:Pt,pendingToken:dn,nonce:Xn}=g;return ee||Pt||re||dn?dn?v.startsWith("saml.")?Ze._create(v,dn):ps._fromParams({providerId:v,signInMethod:v,pendingToken:dn,idToken:re,accessToken:ee}):new $(v).credential({idToken:re,accessToken:ee,rawNonce:Xn}):null}return T instanceof y.ZR?R.credentialFromError(T):R.credentialFromResult(T)}function da(T,g){return g.catch(v=>{throw v instanceof y.ZR&&function(T,g){var v;const R=null===(v=g.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new dl(T,function(T,g){var v;const R=(0,y.m9)(T),re=g;return at(g.customData.operationType,R,"argument-error"),at(null===(v=re.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,R,"argument-error"),z._fromError(R,re)}(T,g));else if(R){const re=uh(g),ee=g;re&&(ee.credential=re,ee.tenantId=R.tenantId||void 0,ee.email=R.email||void 0,ee.phoneNumber=R.phoneNumber||void 0)}}(T,v),v}).then(v=>{const re=v.user;return{operationType:v.operationType,credential:tf(v),additionalUserInfo:gs(v),user:Ql.getOrCreate(re)}})}function kd(T,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,_.Z)(function*(T,g){const v=yield g;return{verificationId:v.verificationId,confirm:R=>da(T,v.confirm(R))}})).apply(this,arguments)}class dl{constructor(g,v){this.resolver=v,this.auth=function(T){return T.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return da(Rd(this.auth),this.resolver.resolveSignIn(g))}}class Ql{constructor(g){this._delegate=g,this.multiFactor=function(T){const g=(0,y.m9)(T);return lt.has(g)||lt.set(g,Se._fromUser(g)),lt.get(g)}(g)}static getOrCreate(g){return Ql.USER_MAP.has(g)||Ql.USER_MAP.set(g,new Ql(g)),Ql.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var v=this;return(0,_.Z)(function*(){return da(v.auth,W(v._delegate,g))})()}linkWithPhoneNumber(g,v){var R=this;return(0,_.Z)(function*(){return kd(R.auth,function(T,g,v){return ce.apply(this,arguments)}(R._delegate,g,v))})()}linkWithPopup(g){var v=this;return(0,_.Z)(function*(){return da(v.auth,function(T,g,v){return va.apply(this,arguments)}(v._delegate,g,Wo))})()}linkWithRedirect(g){var v=this;return(0,_.Z)(function*(){return yield Ad(Ji(v.auth)),function(T,g,v){return function(T,g,v){return $o.apply(this,arguments)}(T,g,v)}(v._delegate,g,Wo)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var v=this;return(0,_.Z)(function*(){return da(v.auth,Je(v._delegate,g))})()}reauthenticateWithPhoneNumber(g,v){return kd(this.auth,function(T,g,v){return At.apply(this,arguments)}(this._delegate,g,v))}reauthenticateWithPopup(g){return da(this.auth,function(T,g,v){return Lu.apply(this,arguments)}(this._delegate,g,Wo))}reauthenticateWithRedirect(g){var v=this;return(0,_.Z)(function*(){return yield Ad(Ji(v.auth)),function(T,g,v){return function(T,g,v){return nu.apply(this,arguments)}(T,g,v)}(v._delegate,g,Wo)})()}sendEmailVerification(g){return function(T,g){return J.apply(this,arguments)}(this._delegate,g)}unlink(g){var v=this;return(0,_.Z)(function*(){return yield function(T,g){return ma.apply(this,arguments)}(v._delegate,g),v})()}updateEmail(g){return function(T,g){return or((0,y.m9)(T),g,null)}(this._delegate,g)}updatePassword(g){return function(T,g){return or((0,y.m9)(T),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(T,g){return ai.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(T,g){return ci.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,v){return function(T,g,v){return it.apply(this,arguments)}(this._delegate,g,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ql.USER_MAP=new WeakMap;const Ku=at;let Od=(()=>{class T{constructor(v,R){if(this.app=v,R.isInitialized())return this._delegate=R.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=v.options;Ku(re,"invalid-api-key",{appName:v.name}),Ku(re,"invalid-api-key",{appName:v.name});const ee="undefined"!=typeof window?Wo:void 0;this._delegate=R.initialize({options:{persistence:Do(re,v.name),popupRedirectResolver:ee}}),this._delegate._updateErrorMap(de),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ql.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,R){!function(T,g,v){const R=Ji(T);at(R._canInitEmulator,R,"emulator-config-failed"),at(/^https?:\/\//.test(g),R,"invalid-emulator-scheme");const re=!!(null==v?void 0:v.disableWarnings),ee=ds(g),{host:Pt,port:dn}=function(T){const g=ds(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(g.length));if(!v)return{host:"",port:null};const R=v[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(R);if(re){const ee=re[1];return{host:ee,port:mo(R.substr(ee.length+1))}}{const[ee,Pt]=R.split(":");return{host:ee,port:mo(Pt)}}}(g);R.config.emulator={url:`${ee}//${Pt}${null===dn?"":`:${dn}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Pt,port:dn,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||function(){function T(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}(this._delegate,v,R)}applyActionCode(v){return function(T,g){return vs.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return br(this._delegate,v)}confirmPasswordReset(v,R){return function(T,g,v){return Kr.apply(this,arguments)}(this._delegate,v,R)}createUserWithEmailAndPassword(v,R){var re=this;return(0,_.Z)(function*(){return da(re._delegate,function(T,g,v){return js.apply(this,arguments)}(re._delegate,v,R))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(T,g){return Ki.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(T,g){const v=ne.parseLink(g);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,_.Z)(function*(){Ku(Wu(),v._delegate,"operation-not-supported-in-this-environment");const R=yield function(T,g){return al.apply(this,arguments)}(v._delegate,Wo);return R?da(v._delegate,Promise.resolve(R)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(T,g){Ji(T)._logFramework(g)}(this._delegate,v)}onAuthStateChanged(v,R,re){const{next:ee,error:Pt,complete:dn}=nf(v,R,re);return this._delegate.onAuthStateChanged(ee,Pt,dn)}onIdTokenChanged(v,R,re){const{next:ee,error:Pt,complete:dn}=nf(v,R,re);return this._delegate.onIdTokenChanged(ee,Pt,dn)}sendSignInLinkToEmail(v,R){return function(T,g,v){return Ks.apply(this,arguments)}(this._delegate,v,R)}sendPasswordResetEmail(v,R){return function(T,g,v){return Oi.apply(this,arguments)}(this._delegate,v,R||void 0)}setPersistence(v){var R=this;return(0,_.Z)(function*(){let re;switch(function(T,g){Ya(Object.values(ts).includes(g),T,"invalid-persistence-type"),(0,y.b$)()?Ya(g!==ts.SESSION,T,"unsupported-persistence-type"):(0,y.UG)()?Ya(g===ts.NONE,T,"unsupported-persistence-type"):Fc()?Ya(g===ts.NONE||g===ts.LOCAL&&(0,y.hl)(),T,"unsupported-persistence-type"):Ya(g===ts.NONE||Kl(),T,"unsupported-persistence-type")}(R._delegate,v),v){case ts.SESSION:re=qs;break;case ts.LOCAL:re=(yield Ln(Pl)._isAvailable())?Pl:Go;break;case ts.NONE:re=St;break;default:return Ft("argument-error",{appName:R._delegate.name})}return R._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return da(this._delegate,function(T){return Fo.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return da(this._delegate,S(this._delegate,v))}signInWithCustomToken(v){return da(this._delegate,function(T,g){return Zn.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,R){return da(this._delegate,function(T,g,v){return S((0,y.m9)(T),N.credential(g,v))}(this._delegate,v,R))}signInWithEmailLink(v,R){return da(this._delegate,function(T,g,v){return sr.apply(this,arguments)}(this._delegate,v,R))}signInWithPhoneNumber(v,R){return kd(this._delegate,function(T,g,v){return Fl.apply(this,arguments)}(this._delegate,v,R))}signInWithPopup(v){var R=this;return(0,_.Z)(function*(){return Ku(Wu(),R._delegate,"operation-not-supported-in-this-environment"),da(R._delegate,function(T,g,v){return Eo.apply(this,arguments)}(R._delegate,v,Wo))})()}signInWithRedirect(v){var R=this;return(0,_.Z)(function*(){return Ku(Wu(),R._delegate,"operation-not-supported-in-this-environment"),yield Ad(R._delegate),function(T,g,v){return function(T,g,v){return Dc.apply(this,arguments)}(T,g,v)}(R._delegate,v,Wo)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(T,g){return zr.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return T.Persistence=ts,T})();function nf(T,g,v){let R=T;"function"!=typeof T&&({next:R,error:g,complete:v}=T);const re=R;return{next:Pt=>re(Pt&&Ql.getOrCreate(Pt)),error:g,complete:v}}function Do(T,g){const v=function(T,g){const v=Ea();if(!v)return[];const R=vt(lh,T,g);switch(v.getItem(R)){case ts.NONE:return[St];case ts.LOCAL:return[Pl,qs];case ts.SESSION:return[qs];default:return[]}}(T,g);if("undefined"!=typeof self&&!v.includes(Pl)&&v.push(Pl),"undefined"!=typeof window)for(const R of[Go,qs])v.includes(R)||v.push(R);return v.includes(St)||v.push(St),v}class gu{constructor(){this.providerId="phone",this._delegate=new Ni(Rd(m.Z.auth()))}static credential(g,v){return Ni.credential(g,v)}verifyPhoneNumber(g,v){return this._delegate.verifyPhoneNumber(g,v)}unwrap(){return this._delegate}}gu.PHONE_SIGN_IN_METHOD=Ni.PHONE_SIGN_IN_METHOD,gu.PROVIDER_ID=Ni.PROVIDER_ID;const _u=at;class dh{constructor(g,v,R=m.Z.app()){var re;_u(null===(re=R.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:R.name}),this._delegate=new Js(g,v,R.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(T){T.INTERNAL.registerComponent(new jn.wA("auth-compat",g=>{const v=g.getProvider("app-compat").getImmediate(),R=g.getProvider("auth");return new Od(v,R)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:N,FacebookAuthProvider:et,GithubAuthProvider:V,GoogleAuthProvider:w,OAuthProvider:$,SAMLAuthProvider:oi,PhoneAuthProvider:gu,PhoneMultiFactorGenerator:wd,RecaptchaVerifier:dh,TwitterAuthProvider:rr,Auth:Od,AuthCredential:Kt,Error:y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),T.registerVersion("@firebase/auth-compat","0.2.14")}(m.Z)},6215:(In,mt,D)=>{"use strict";D.d(mt,{X:()=>y});var _=D(9765),m=D(7971);class y extends _.xQ{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const U=super._subscribe(he);return U&&!U.closed&&he.next(this._value),U}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.N;return this._value}next(he){super.next(this._value=he)}}},3098:(In,mt,D)=>{"use strict";D.d(mt,{P:()=>he});var _=D(9193),m=D(5917),y=D(205);class he{constructor(De,le,Ee){this.kind=De,this.value=le,this.error=Ee,this.hasValue="N"===De}observe(De){switch(this.kind){case"N":return De.next&&De.next(this.value);case"E":return De.error&&De.error(this.error);case"C":return De.complete&&De.complete()}}do(De,le,Ee){switch(this.kind){case"N":return De&&De(this.value);case"E":return le&&le(this.error);case"C":return Ee&&Ee()}}accept(De,le,Ee){return De&&"function"==typeof De.next?this.observe(De):this.do(De,le,Ee)}toObservable(){switch(this.kind){case"N":return(0,m.of)(this.value);case"E":return(0,y._)(this.error);case"C":return(0,_.c)()}throw new Error("unexpected notification kind value")}static createNext(De){return void 0!==De?new he("N",De):he.undefinedValueNotification}static createError(De){return new he("E",void 0,De)}static createComplete(){return he.completeNotification}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0)},7574:(In,mt,D)=>{"use strict";D.d(mt,{y:()=>Te});var _=D(7393),y=D(9181),d=D(6490),U=D(6554),De=D(4487);var se=D(2494);let Te=(()=>{class Ye{constructor(Xe){this._isScalar=!1,Xe&&(this._subscribe=Xe)}lift(Xe){const nt=new Ye;return nt.source=this,nt.operator=Xe,nt}subscribe(Xe,nt,Me){const{operator:Qe}=this,Qt=function(Ye,tt,Xe){if(Ye){if(Ye instanceof _.L)return Ye;if(Ye[y.b])return Ye[y.b]()}return Ye||tt||Xe?new _.L(Ye,tt,Xe):new _.L(d.c)}(Xe,nt,Me);if(Qt.add(Qe?Qe.call(Qt,this.source):this.source||se.v.useDeprecatedSynchronousErrorHandling&&!Qt.syncErrorThrowable?this._subscribe(Qt):this._trySubscribe(Qt)),se.v.useDeprecatedSynchronousErrorHandling&&Qt.syncErrorThrowable&&(Qt.syncErrorThrowable=!1,Qt.syncErrorThrown))throw Qt.syncErrorValue;return Qt}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(nt){se.v.useDeprecatedSynchronousErrorHandling&&(Xe.syncErrorThrown=!0,Xe.syncErrorValue=nt),function(Ye){for(;Ye;){const{closed:tt,destination:Xe,isStopped:nt}=Ye;if(tt||nt)return!1;Ye=Xe&&Xe instanceof _.L?Xe:null}return!0}(Xe)?Xe.error(nt):console.warn(nt)}}forEach(Xe,nt){return new(nt=oe(nt))((Me,Qe)=>{let Qt;Qt=this.subscribe(hn=>{try{Xe(hn)}catch(Gt){Qe(Gt),Qt&&Qt.unsubscribe()}},Qe,Me)})}_subscribe(Xe){const{source:nt}=this;return nt&&nt.subscribe(Xe)}[U.L](){return this}pipe(...Xe){return 0===Xe.length?this:function(Ye){return 0===Ye.length?De.y:1===Ye.length?Ye[0]:function(Xe){return Ye.reduce((nt,Me)=>Me(nt),Xe)}}(Xe)(this)}toPromise(Xe){return new(Xe=oe(Xe))((nt,Me)=>{let Qe;this.subscribe(Qt=>Qe=Qt,Qt=>Me(Qt),()=>nt(Qe))})}}return Ye.create=tt=>new Ye(tt),Ye})();function oe(Ye){if(Ye||(Ye=se.v.Promise||Promise),!Ye)throw new Error("no Promise impl found");return Ye}},6490:(In,mt,D)=>{"use strict";D.d(mt,{c:()=>y});var _=D(2494),m=D(4449);const y={closed:!0,next(d){},error(d){if(_.v.useDeprecatedSynchronousErrorHandling)throw d;(0,m.z)(d)},complete(){}}},5197:(In,mt,D)=>{"use strict";D.d(mt,{L:()=>m});var _=D(7393);class m extends _.L{notifyNext(d,he,U,De,le){this.destination.next(he)}notifyError(d,he){this.destination.error(d)}notifyComplete(d){this.destination.complete()}}},9765:(In,mt,D)=>{"use strict";D.d(mt,{Yc:()=>De,xQ:()=>le});var _=D(7574),m=D(7393),y=D(5319),d=D(7971),he=D(8858),U=D(9181);class De extends m.L{constructor(Te){super(Te),this.destination=Te}}let le=(()=>{class se extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[U.b](){return new De(this)}lift(oe){const Ye=new Ee(this,this);return Ye.operator=oe,Ye}next(oe){if(this.closed)throw new d.N;if(!this.isStopped){const{observers:Ye}=this,tt=Ye.length,Xe=Ye.slice();for(let nt=0;nt<tt;nt++)Xe[nt].next(oe)}}error(oe){if(this.closed)throw new d.N;this.hasError=!0,this.thrownError=oe,this.isStopped=!0;const{observers:Ye}=this,tt=Ye.length,Xe=Ye.slice();for(let nt=0;nt<tt;nt++)Xe[nt].error(oe);this.observers.length=0}complete(){if(this.closed)throw new d.N;this.isStopped=!0;const{observers:oe}=this,Ye=oe.length,tt=oe.slice();for(let Xe=0;Xe<Ye;Xe++)tt[Xe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(oe){if(this.closed)throw new d.N;return super._trySubscribe(oe)}_subscribe(oe){if(this.closed)throw new d.N;return this.hasError?(oe.error(this.thrownError),y.w.EMPTY):this.isStopped?(oe.complete(),y.w.EMPTY):(this.observers.push(oe),new he.W(this,oe))}asObservable(){const oe=new _.y;return oe.source=this,oe}}return se.create=(Te,oe)=>new Ee(Te,oe),se})();class Ee extends le{constructor(Te,oe){super(),this.destination=Te,this.source=oe}next(Te){const{destination:oe}=this;oe&&oe.next&&oe.next(Te)}error(Te){const{destination:oe}=this;oe&&oe.error&&this.destination.error(Te)}complete(){const{destination:Te}=this;Te&&Te.complete&&this.destination.complete()}_subscribe(Te){const{source:oe}=this;return oe?this.source.subscribe(Te):y.w.EMPTY}}},8858:(In,mt,D)=>{"use strict";D.d(mt,{W:()=>m});var _=D(5319);class m extends _.w{constructor(d,he){super(),this.subject=d,this.subscriber=he,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const d=this.subject,he=d.observers;if(this.subject=null,!he||0===he.length||d.isStopped||d.closed)return;const U=he.indexOf(this.subscriber);-1!==U&&he.splice(U,1)}}},7393:(In,mt,D)=>{"use strict";D.d(mt,{L:()=>De});var _=D(9105),m=D(6490),y=D(5319),d=D(9181),he=D(2494),U=D(4449);class De extends y.w{constructor(se,Te,oe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=m.c;break;case 1:if(!se){this.destination=m.c;break}if("object"==typeof se){se instanceof De?(this.syncErrorThrowable=se.syncErrorThrowable,this.destination=se,se.add(this)):(this.syncErrorThrowable=!0,this.destination=new le(this,se));break}default:this.syncErrorThrowable=!0,this.destination=new le(this,se,Te,oe)}}[d.b](){return this}static create(se,Te,oe){const Ye=new De(se,Te,oe);return Ye.syncErrorThrowable=!1,Ye}next(se){this.isStopped||this._next(se)}error(se){this.isStopped||(this.isStopped=!0,this._error(se))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(se){this.destination.next(se)}_error(se){this.destination.error(se),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:se}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=se,this}}class le extends De{constructor(se,Te,oe,Ye){super(),this._parentSubscriber=se;let tt,Xe=this;(0,_.m)(Te)?tt=Te:Te&&(tt=Te.next,oe=Te.error,Ye=Te.complete,Te!==m.c&&(Xe=Object.create(Te),(0,_.m)(Xe.unsubscribe)&&this.add(Xe.unsubscribe.bind(Xe)),Xe.unsubscribe=this.unsubscribe.bind(this))),this._context=Xe,this._next=tt,this._error=oe,this._complete=Ye}next(se){if(!this.isStopped&&this._next){const{_parentSubscriber:Te}=this;he.v.useDeprecatedSynchronousErrorHandling&&Te.syncErrorThrowable?this.__tryOrSetError(Te,this._next,se)&&this.unsubscribe():this.__tryOrUnsub(this._next,se)}}error(se){if(!this.isStopped){const{_parentSubscriber:Te}=this,{useDeprecatedSynchronousErrorHandling:oe}=he.v;if(this._error)oe&&Te.syncErrorThrowable?(this.__tryOrSetError(Te,this._error,se),this.unsubscribe()):(this.__tryOrUnsub(this._error,se),this.unsubscribe());else if(Te.syncErrorThrowable)oe?(Te.syncErrorValue=se,Te.syncErrorThrown=!0):(0,U.z)(se),this.unsubscribe();else{if(this.unsubscribe(),oe)throw se;(0,U.z)(se)}}}complete(){if(!this.isStopped){const{_parentSubscriber:se}=this;if(this._complete){const Te=()=>this._complete.call(this._context);he.v.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable?(this.__tryOrSetError(se,Te),this.unsubscribe()):(this.__tryOrUnsub(Te),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(se,Te){try{se.call(this._context,Te)}catch(oe){if(this.unsubscribe(),he.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,U.z)(oe)}}__tryOrSetError(se,Te,oe){if(!he.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Te.call(this._context,oe)}catch(Ye){return he.v.useDeprecatedSynchronousErrorHandling?(se.syncErrorValue=Ye,se.syncErrorThrown=!0,!0):((0,U.z)(Ye),!0)}return!1}_unsubscribe(){const{_parentSubscriber:se}=this;this._context=null,this._parentSubscriber=null,se.unsubscribe()}}},5319:(In,mt,D)=>{"use strict";D.d(mt,{w:()=>U});var _=D(9796),m=D(1555),y=D(9105);const he=(()=>{function le(Ee){return Error.call(this),this.message=Ee?`${Ee.length} errors occurred during unsubscription:\n${Ee.map((se,Te)=>`${Te+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ee,this}return le.prototype=Object.create(Error.prototype),le})();class U{constructor(Ee){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Ee&&(this._ctorUnsubscribe=!0,this._unsubscribe=Ee)}unsubscribe(){let Ee;if(this.closed)return;let{_parentOrParents:se,_ctorUnsubscribe:Te,_unsubscribe:oe,_subscriptions:Ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,se instanceof U)se.remove(this);else if(null!==se)for(let tt=0;tt<se.length;++tt)se[tt].remove(this);if((0,y.m)(oe)){Te&&(this._unsubscribe=void 0);try{oe.call(this)}catch(tt){Ee=tt instanceof he?De(tt.errors):[tt]}}if((0,_.k)(Ye)){let tt=-1,Xe=Ye.length;for(;++tt<Xe;){const nt=Ye[tt];if((0,m.K)(nt))try{nt.unsubscribe()}catch(Me){Ee=Ee||[],Me instanceof he?Ee=Ee.concat(De(Me.errors)):Ee.push(Me)}}}if(Ee)throw new he(Ee)}add(Ee){let se=Ee;if(!Ee)return U.EMPTY;switch(typeof Ee){case"function":se=new U(Ee);case"object":if(se===this||se.closed||"function"!=typeof se.unsubscribe)return se;if(this.closed)return se.unsubscribe(),se;if(!(se instanceof U)){const Ye=se;se=new U,se._subscriptions=[Ye]}break;default:throw new Error("unrecognized teardown "+Ee+" added to Subscription.")}let{_parentOrParents:Te}=se;if(null===Te)se._parentOrParents=this;else if(Te instanceof U){if(Te===this)return se;se._parentOrParents=[Te,this]}else{if(-1!==Te.indexOf(this))return se;Te.push(this)}const oe=this._subscriptions;return null===oe?this._subscriptions=[se]:oe.push(se),se}remove(Ee){const se=this._subscriptions;if(se){const Te=se.indexOf(Ee);-1!==Te&&se.splice(Te,1)}}}var le;function De(le){return le.reduce((Ee,se)=>Ee.concat(se instanceof he?se.errors:se),[])}U.EMPTY=((le=new U).closed=!0,le)},2494:(In,mt,D)=>{"use strict";D.d(mt,{v:()=>m});let _=!1;const m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(y){if(y){const d=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+d.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=y},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:(In,mt,D)=>{"use strict";D.d(mt,{IY:()=>d,Ds:()=>U,ft:()=>le});var _=D(7393),m=D(7574),y=D(7444);class d extends _.L{constructor(se){super(),this.parent=se}_next(se){this.parent.notifyNext(se)}_error(se){this.parent.notifyError(se),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class U extends _.L{notifyNext(se){this.destination.next(se)}notifyError(se){this.destination.error(se)}notifyComplete(){this.destination.complete()}}function le(Ee,se){if(se.closed)return;if(Ee instanceof m.y)return Ee.subscribe(se);let Te;try{Te=(0,y.s)(Ee)(se)}catch(oe){se.error(oe)}return Te}},2441:(In,mt,D)=>{"use strict";D.d(mt,{c:()=>he,N:()=>U});var _=D(9765),m=D(7574),y=D(5319),d=D(1307);class he extends m.y{constructor(Te,oe){super(),this.source=Te,this.subjectFactory=oe,this._refCount=0,this._isComplete=!1}_subscribe(Te){return this.getSubject().subscribe(Te)}getSubject(){const Te=this._subject;return(!Te||Te.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Te=this._connection;return Te||(this._isComplete=!1,Te=this._connection=new y.w,Te.add(this.source.subscribe(new De(this.getSubject(),this))),Te.closed&&(this._connection=null,Te=y.w.EMPTY)),Te}refCount(){return(0,d.x)()(this)}}const U=(()=>{const se=he.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:se._subscribe},_isComplete:{value:se._isComplete,writable:!0},getSubject:{value:se.getSubject},connect:{value:se.connect},refCount:{value:se.refCount}}})();class De extends _.Yc{constructor(Te,oe){super(Te),this.connectable=oe}_error(Te){this._unsubscribe(),super._error(Te)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Te=this.connectable;if(Te){this.connectable=null;const oe=Te._connection;Te._refCount=0,Te._subject=null,Te._connection=null,oe&&oe.unsubscribe()}}}},9112:(In,mt,D)=>{"use strict";D.d(mt,{aj:()=>De});var _=D(4869),m=D(9796),y=D(5197),d=D(509),he=D(6693);const U={};function De(...se){let Te,oe;return(0,_.K)(se[se.length-1])&&(oe=se.pop()),"function"==typeof se[se.length-1]&&(Te=se.pop()),1===se.length&&(0,m.k)(se[0])&&(se=se[0]),(0,he.n)(se,oe).lift(new le(Te))}class le{constructor(Te){this.resultSelector=Te}call(Te,oe){return oe.subscribe(new Ee(Te,this.resultSelector))}}class Ee extends y.L{constructor(Te,oe){super(Te),this.resultSelector=oe,this.active=0,this.values=[],this.observables=[]}_next(Te){this.values.push(U),this.observables.push(Te)}_complete(){const Te=this.observables,oe=Te.length;if(0===oe)this.destination.complete();else{this.active=oe,this.toRespond=oe;for(let Ye=0;Ye<oe;Ye++)this.add((0,d.D)(this,Te[Ye],void 0,Ye))}}notifyComplete(Te){0==(this.active-=1)&&this.destination.complete()}notifyNext(Te,oe,Ye){const tt=this.values,nt=this.toRespond?tt[Ye]===U?--this.toRespond:this.toRespond:0;tt[Ye]=oe,0===nt&&(this.resultSelector?this._tryResultSelector(tt):this.destination.next(tt.slice()))}_tryResultSelector(Te){let oe;try{oe=this.resultSelector.apply(this,Te)}catch(Ye){return void this.destination.error(Ye)}this.destination.next(oe)}}},8071:(In,mt,D)=>{"use strict";D.d(mt,{z:()=>d});var _=D(5917),m=D(3282);function d(...he){return(0,m.J)(1)((0,_.of)(...he))}},1439:(In,mt,D)=>{"use strict";D.d(mt,{P:()=>d});var _=D(7574),m=D(4402),y=D(9193);function d(he){return new _.y(U=>{let De;try{De=he()}catch(Ee){return void U.error(Ee)}return(De?(0,m.D)(De):(0,y.c)()).subscribe(U)})}},9193:(In,mt,D)=>{"use strict";D.d(mt,{E:()=>m,c:()=>y});var _=D(7574);const m=new _.y(he=>he.complete());function y(he){return he?function(he){return new _.y(U=>he.schedule(()=>U.complete()))}(he):m}},5758:(In,mt,D)=>{"use strict";D.d(mt,{D:()=>U});var _=D(7574),m=D(9796),y=D(8002),d=D(1555),he=D(4402);function U(...le){if(1===le.length){const Ee=le[0];if((0,m.k)(Ee))return De(Ee,null);if((0,d.K)(Ee)&&Object.getPrototypeOf(Ee)===Object.prototype){const se=Object.keys(Ee);return De(se.map(Te=>Ee[Te]),se)}}if("function"==typeof le[le.length-1]){const Ee=le.pop();return De(le=1===le.length&&(0,m.k)(le[0])?le[0]:le,null).pipe((0,y.U)(se=>Ee(...se)))}return De(le,null)}function De(le,Ee){return new _.y(se=>{const Te=le.length;if(0===Te)return void se.complete();const oe=new Array(Te);let Ye=0,tt=0;for(let Xe=0;Xe<Te;Xe++){const nt=(0,he.D)(le[Xe]);let Me=!1;se.add(nt.subscribe({next:Qe=>{Me||(Me=!0,tt++),oe[Xe]=Qe},error:Qe=>se.error(Qe),complete:()=>{Ye++,(Ye===Te||!Me)&&(tt===Te&&se.next(Ee?Ee.reduce((Qe,Qt,hn)=>(Qe[Qt]=oe[hn],Qe),{}):oe),se.complete())}}))}})}},4402:(In,mt,D)=>{"use strict";D.d(mt,{D:()=>Xe});var _=D(7574),m=D(7444),y=D(5319),d=D(6554),De=D(4087),le=D(377),Te=D(4072),oe=D(9489);function Xe(nt,Me){return Me?function(nt,Me){if(null!=nt){if(function(nt){return nt&&"function"==typeof nt[d.L]}(nt))return function(nt,Me){return new _.y(Qe=>{const Qt=new y.w;return Qt.add(Me.schedule(()=>{const hn=nt[d.L]();Qt.add(hn.subscribe({next(Gt){Qt.add(Me.schedule(()=>Qe.next(Gt)))},error(Gt){Qt.add(Me.schedule(()=>Qe.error(Gt)))},complete(){Qt.add(Me.schedule(()=>Qe.complete()))}}))})),Qt})}(nt,Me);if((0,Te.t)(nt))return function(nt,Me){return new _.y(Qe=>{const Qt=new y.w;return Qt.add(Me.schedule(()=>nt.then(hn=>{Qt.add(Me.schedule(()=>{Qe.next(hn),Qt.add(Me.schedule(()=>Qe.complete()))}))},hn=>{Qt.add(Me.schedule(()=>Qe.error(hn)))}))),Qt})}(nt,Me);if((0,oe.z)(nt))return(0,De.r)(nt,Me);if(function(nt){return nt&&"function"==typeof nt[le.hZ]}(nt)||"string"==typeof nt)return function(nt,Me){if(!nt)throw new Error("Iterable cannot be null");return new _.y(Qe=>{const Qt=new y.w;let hn;return Qt.add(()=>{hn&&"function"==typeof hn.return&&hn.return()}),Qt.add(Me.schedule(()=>{hn=nt[le.hZ](),Qt.add(Me.schedule(function(){if(Qe.closed)return;let Gt,Et;try{const ut=hn.next();Gt=ut.value,Et=ut.done}catch(ut){return void Qe.error(ut)}Et?Qe.complete():(Qe.next(Gt),this.schedule())}))})),Qt})}(nt,Me)}throw new TypeError((null!==nt&&typeof nt||nt)+" is not observable")}(nt,Me):nt instanceof _.y?nt:new _.y((0,m.s)(nt))}},6693:(In,mt,D)=>{"use strict";D.d(mt,{n:()=>d});var _=D(7574),m=D(5015),y=D(4087);function d(he,U){return U?(0,y.r)(he,U):new _.y((0,m.V)(he))}},2759:(In,mt,D)=>{"use strict";D.d(mt,{R:()=>U});var _=D(7574),m=D(9796),y=D(9105),d=D(8002);function U(Te,oe,Ye,tt){return(0,y.m)(Ye)&&(tt=Ye,Ye=void 0),tt?U(Te,oe,Ye).pipe((0,d.U)(Xe=>(0,m.k)(Xe)?tt(...Xe):tt(Xe))):new _.y(Xe=>{De(Te,oe,function(Me){Xe.next(arguments.length>1?Array.prototype.slice.call(arguments):Me)},Xe,Ye)})}function De(Te,oe,Ye,tt,Xe){let nt;if(function(Te){return Te&&"function"==typeof Te.addEventListener&&"function"==typeof Te.removeEventListener}(Te)){const Me=Te;Te.addEventListener(oe,Ye,Xe),nt=()=>Me.removeEventListener(oe,Ye,Xe)}else if(function(Te){return Te&&"function"==typeof Te.on&&"function"==typeof Te.off}(Te)){const Me=Te;Te.on(oe,Ye),nt=()=>Me.off(oe,Ye)}else if(function(Te){return Te&&"function"==typeof Te.addListener&&"function"==typeof Te.removeListener}(Te)){const Me=Te;Te.addListener(oe,Ye),nt=()=>Me.removeListener(oe,Ye)}else{if(!Te||!Te.length)throw new TypeError("Invalid event target");for(let Me=0,Qe=Te.length;Me<Qe;Me++)De(Te[Me],oe,Ye,tt,Xe)}tt.add(nt)}},6682:(In,mt,D)=>{"use strict";D.d(mt,{T:()=>he});var _=D(7574),m=D(4869),y=D(3282),d=D(6693);function he(...U){let De=Number.POSITIVE_INFINITY,le=null,Ee=U[U.length-1];return(0,m.K)(Ee)?(le=U.pop(),U.length>1&&"number"==typeof U[U.length-1]&&(De=U.pop())):"number"==typeof Ee&&(De=U.pop()),null===le&&1===U.length&&U[0]instanceof _.y?U[0]:(0,y.J)(De)((0,d.n)(U,le))}},5917:(In,mt,D)=>{"use strict";D.d(mt,{of:()=>d});var _=D(4869),m=D(6693),y=D(4087);function d(...he){let U=he[he.length-1];return(0,_.K)(U)?(he.pop(),(0,y.r)(he,U)):(0,m.n)(he)}},205:(In,mt,D)=>{"use strict";D.d(mt,{_:()=>m});var _=D(7574);function m(d,he){return new _.y(he?U=>he.schedule(y,0,{error:d,subscriber:U}):U=>U.error(d))}function y({error:d,subscriber:he}){he.error(d)}},628:(In,mt,D)=>{"use strict";D.d(mt,{e:()=>Te});var _=D(3637),m=D(5345);class d{constructor(Ye){this.durationSelector=Ye}call(Ye,tt){return tt.subscribe(new he(Ye,this.durationSelector))}}class he extends m.Ds{constructor(Ye,tt){super(Ye),this.durationSelector=tt,this.hasValue=!1}_next(Ye){if(this.value=Ye,this.hasValue=!0,!this.throttled){let tt;try{const{durationSelector:nt}=this;tt=nt(Ye)}catch(nt){return this.destination.error(nt)}const Xe=(0,m.ft)(tt,new m.IY(this));!Xe||Xe.closed?this.clearThrottle():this.add(this.throttled=Xe)}}clearThrottle(){const{value:Ye,hasValue:tt,throttled:Xe}=this;Xe&&(this.remove(Xe),this.throttled=void 0,Xe.unsubscribe()),tt&&(this.value=void 0,this.hasValue=!1,this.destination.next(Ye))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var U=D(7574),De=D(6561),le=D(4869);function se(oe){const{index:Ye,period:tt,subscriber:Xe}=oe;if(Xe.next(Ye),!Xe.closed){if(-1===tt)return Xe.complete();oe.index=Ye+1,this.schedule(oe,tt)}}function Te(oe,Ye=_.P){return function(oe){return function(tt){return tt.lift(new d(oe))}}(()=>function(oe=0,Ye,tt){let Xe=-1;return(0,De.k)(Ye)?Xe=Number(Ye)<1?1:Number(Ye):(0,le.K)(Ye)&&(tt=Ye),(0,le.K)(tt)||(tt=_.P),new U.y(nt=>{const Me=(0,De.k)(oe)?oe:+oe-tt.now();return tt.schedule(se,Me,{index:0,period:Xe,subscriber:nt})})}(oe,Ye))}},5304:(In,mt,D)=>{"use strict";D.d(mt,{K:()=>m});var _=D(5345);function m(he){return function(De){const le=new y(he),Ee=De.lift(le);return le.caught=Ee}}class y{constructor(U){this.selector=U}call(U,De){return De.subscribe(new d(U,this.selector,this.caught))}}class d extends _.Ds{constructor(U,De,le){super(U),this.selector=De,this.caught=le}error(U){if(!this.isStopped){let De;try{De=this.selector(U,this.caught)}catch(se){return void super.error(se)}this._unsubscribeAndRecycle();const le=new _.IY(this);this.add(le);const Ee=(0,_.ft)(De,le);Ee!==le&&this.add(Ee)}}}},4612:(In,mt,D)=>{"use strict";D.d(mt,{b:()=>m});var _=D(9773);function m(y,d){return(0,_.zg)(y,d,1)}},4395:(In,mt,D)=>{"use strict";D.d(mt,{b:()=>y});var _=D(7393),m=D(3637);function y(De,le=m.P){return Ee=>Ee.lift(new d(De,le))}class d{constructor(le,Ee){this.dueTime=le,this.scheduler=Ee}call(le,Ee){return Ee.subscribe(new he(le,this.dueTime,this.scheduler))}}class he extends _.L{constructor(le,Ee,se){super(le),this.dueTime=Ee,this.scheduler=se,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(le){this.clearDebounce(),this.lastValue=le,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(U,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:le}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(le)}}clearDebounce(){const le=this.debouncedSubscription;null!==le&&(this.remove(le),le.unsubscribe(),this.debouncedSubscription=null)}}function U(De){De.debouncedNext()}},5242:(In,mt,D)=>{"use strict";D.d(mt,{d:()=>m});var _=D(7393);function m(he=null){return U=>U.lift(new y(he))}class y{constructor(U){this.defaultValue=U}call(U,De){return De.subscribe(new d(U,this.defaultValue))}}class d extends _.L{constructor(U,De){super(U),this.defaultValue=De,this.isEmpty=!0}_next(U){this.isEmpty=!1,this.destination.next(U)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(In,mt,D)=>{"use strict";D.d(mt,{x:()=>m});var _=D(7393);function m(he,U){return De=>De.lift(new y(he,U))}class y{constructor(U,De){this.compare=U,this.keySelector=De}call(U,De){return De.subscribe(new d(U,this.compare,this.keySelector))}}class d extends _.L{constructor(U,De,le){super(U),this.keySelector=le,this.hasKey=!1,"function"==typeof De&&(this.compare=De)}compare(U,De){return U===De}_next(U){let De;try{const{keySelector:Ee}=this;De=Ee?Ee(U):U}catch(Ee){return this.destination.error(Ee)}let le=!1;if(this.hasKey)try{const{compare:Ee}=this;le=Ee(this.key,De)}catch(Ee){return this.destination.error(Ee)}else this.hasKey=!0;le||(this.key=De,this.destination.next(U))}}},5435:(In,mt,D)=>{"use strict";D.d(mt,{h:()=>m});var _=D(7393);function m(he,U){return function(le){return le.lift(new y(he,U))}}class y{constructor(U,De){this.predicate=U,this.thisArg=De}call(U,De){return De.subscribe(new d(U,this.predicate,this.thisArg))}}class d extends _.L{constructor(U,De,le){super(U),this.predicate=De,this.thisArg=le,this.count=0}_next(U){let De;try{De=this.predicate.call(this.thisArg,U,this.count++)}catch(le){return void this.destination.error(le)}De&&this.destination.next(U)}}},197:(In,mt,D)=>{"use strict";D.d(mt,{x:()=>y});var _=D(7393),m=D(5319);function y(U){return De=>De.lift(new d(U))}class d{constructor(De){this.callback=De}call(De,le){return le.subscribe(new he(De,this.callback))}}class he extends _.L{constructor(De,le){super(De),this.add(new m.w(le))}}},8049:(In,mt,D)=>{"use strict";D.d(mt,{P:()=>De});var _=D(3410),m=D(5435),y=D(5257),d=D(5242),he=D(4635),U=D(4487);function De(le,Ee){const se=arguments.length>=2;return Te=>Te.pipe(le?(0,m.h)((oe,Ye)=>le(oe,Ye,Te)):U.y,(0,y.q)(1),se?(0,d.d)(Ee):(0,he.T)(()=>new _.K))}},8002:(In,mt,D)=>{"use strict";D.d(mt,{U:()=>m});var _=D(7393);function m(he,U){return function(le){if("function"!=typeof he)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return le.lift(new y(he,U))}}class y{constructor(U,De){this.project=U,this.thisArg=De}call(U,De){return De.subscribe(new d(U,this.project,this.thisArg))}}class d extends _.L{constructor(U,De,le){super(U),this.project=De,this.count=0,this.thisArg=le||this}_next(U){let De;try{De=this.project.call(this.thisArg,U,this.count++)}catch(le){return void this.destination.error(le)}this.destination.next(De)}}},3282:(In,mt,D)=>{"use strict";D.d(mt,{J:()=>y});var _=D(9773),m=D(4487);function y(d=Number.POSITIVE_INFINITY){return(0,_.zg)(m.y,d)}},9773:(In,mt,D)=>{"use strict";D.d(mt,{zg:()=>d});var _=D(8002),m=D(4402),y=D(5345);function d(le,Ee,se=Number.POSITIVE_INFINITY){return"function"==typeof Ee?Te=>Te.pipe(d((oe,Ye)=>(0,m.D)(le(oe,Ye)).pipe((0,_.U)((tt,Xe)=>Ee(oe,tt,Ye,Xe))),se)):("number"==typeof Ee&&(se=Ee),Te=>Te.lift(new he(le,se)))}class he{constructor(Ee,se=Number.POSITIVE_INFINITY){this.project=Ee,this.concurrent=se}call(Ee,se){return se.subscribe(new U(Ee,this.project,this.concurrent))}}class U extends y.Ds{constructor(Ee,se,Te=Number.POSITIVE_INFINITY){super(Ee),this.project=se,this.concurrent=Te,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Ee){this.active<this.concurrent?this._tryNext(Ee):this.buffer.push(Ee)}_tryNext(Ee){let se;const Te=this.index++;try{se=this.project(Ee,Te)}catch(oe){return void this.destination.error(oe)}this.active++,this._innerSub(se)}_innerSub(Ee){const se=new y.IY(this),Te=this.destination;Te.add(se);const oe=(0,y.ft)(Ee,se);oe!==se&&Te.add(oe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Ee){this.destination.next(Ee)}notifyComplete(){const Ee=this.buffer;this.active--,Ee.length>0?this._next(Ee.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(In,mt,D)=>{"use strict";D.d(mt,{QV:()=>y,ht:()=>he});var _=D(7393),m=D(3098);function y(De,le=0){return function(se){return se.lift(new d(De,le))}}class d{constructor(le,Ee=0){this.scheduler=le,this.delay=Ee}call(le,Ee){return Ee.subscribe(new he(le,this.scheduler,this.delay))}}class he extends _.L{constructor(le,Ee,se=0){super(le),this.scheduler=Ee,this.delay=se}static dispatch(le){const{notification:Ee,destination:se}=le;Ee.observe(se),this.unsubscribe()}scheduleMessage(le){this.destination.add(this.scheduler.schedule(he.dispatch,this.delay,new U(le,this.destination)))}_next(le){this.scheduleMessage(m.P.createNext(le))}_error(le){this.scheduleMessage(m.P.createError(le)),this.unsubscribe()}_complete(){this.scheduleMessage(m.P.createComplete()),this.unsubscribe()}}class U{constructor(le,Ee){this.notification=le,this.destination=Ee}}},9328:(In,mt,D)=>{"use strict";D.d(mt,{G:()=>m});var _=D(7393);function m(){return he=>he.lift(new y)}class y{call(U,De){return De.subscribe(new d(U))}}class d extends _.L{constructor(U){super(U),this.hasPrev=!1}_next(U){let De;this.hasPrev?De=[this.prev,U]:this.hasPrev=!0,this.prev=U,De&&this.destination.next(De)}}},1307:(In,mt,D)=>{"use strict";D.d(mt,{x:()=>m});var _=D(7393);function m(){return function(U){return U.lift(new y(U))}}class y{constructor(U){this.connectable=U}call(U,De){const{connectable:le}=this;le._refCount++;const Ee=new d(U,le),se=De.subscribe(Ee);return Ee.closed||(Ee.connection=le.connect()),se}}class d extends _.L{constructor(U,De){super(U),this.connectable=De}_unsubscribe(){const{connectable:U}=this;if(!U)return void(this.connection=null);this.connectable=null;const De=U._refCount;if(De<=0)return void(this.connection=null);if(U._refCount=De-1,De>1)return void(this.connection=null);const{connection:le}=this,Ee=U._connection;this.connection=null,Ee&&(!le||Ee===le)&&Ee.unsubscribe()}}},2145:(In,mt,D)=>{"use strict";D.d(mt,{R:()=>m});var _=D(7393);function m(he,U){let De=!1;return arguments.length>=2&&(De=!0),function(Ee){return Ee.lift(new y(he,U,De))}}class y{constructor(U,De,le=!1){this.accumulator=U,this.seed=De,this.hasSeed=le}call(U,De){return De.subscribe(new d(U,this.accumulator,this.seed,this.hasSeed))}}class d extends _.L{constructor(U,De,le,Ee){super(U),this.accumulator=De,this._seed=le,this.hasSeed=Ee,this.index=0}get seed(){return this._seed}set seed(U){this.hasSeed=!0,this._seed=U}_next(U){if(this.hasSeed)return this._tryNext(U);this.seed=U,this.destination.next(U)}_tryNext(U){const De=this.index++;let le;try{le=this.accumulator(this.seed,U,De)}catch(Ee){this.destination.error(Ee)}this.seed=le,this.destination.next(le)}}},8819:(In,mt,D)=>{"use strict";D.d(mt,{B:()=>De});var _=D(2441);var d=D(1307),he=D(9765);function U(){return new he.xQ}function De(){return le=>(0,d.x)()(function(le,Ee){return function(Te){let oe;oe="function"==typeof le?le:function(){return le};const Ye=Object.create(Te,_.N);return Ye.source=Te,Ye.subjectFactory=oe,Ye}}(U)(le))}},2066:(In,mt,D)=>{"use strict";D.d(mt,{d:()=>Ee});var _=D(9765),m=D(7771),y=D(5319),d=D(9746),he=D(7971),U=D(8858);class De extends _.xQ{constructor(oe=Number.POSITIVE_INFINITY,Ye=Number.POSITIVE_INFINITY,tt){super(),this.scheduler=tt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=oe<1?1:oe,this._windowTime=Ye<1?1:Ye,Ye===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(oe){if(!this.isStopped){const Ye=this._events;Ye.push(oe),Ye.length>this._bufferSize&&Ye.shift()}super.next(oe)}nextTimeWindow(oe){this.isStopped||(this._events.push(new le(this._getNow(),oe)),this._trimBufferThenGetEvents()),super.next(oe)}_subscribe(oe){const Ye=this._infiniteTimeWindow,tt=Ye?this._events:this._trimBufferThenGetEvents(),Xe=this.scheduler,nt=tt.length;let Me;if(this.closed)throw new he.N;if(this.isStopped||this.hasError?Me=y.w.EMPTY:(this.observers.push(oe),Me=new U.W(this,oe)),Xe&&oe.add(oe=new d.ht(oe,Xe)),Ye)for(let Qe=0;Qe<nt&&!oe.closed;Qe++)oe.next(tt[Qe]);else for(let Qe=0;Qe<nt&&!oe.closed;Qe++)oe.next(tt[Qe].value);return this.hasError?oe.error(this.thrownError):this.isStopped&&oe.complete(),Me}_getNow(){return(this.scheduler||m.c).now()}_trimBufferThenGetEvents(){const oe=this._getNow(),Ye=this._bufferSize,tt=this._windowTime,Xe=this._events,nt=Xe.length;let Me=0;for(;Me<nt&&!(oe-Xe[Me].time<tt);)Me++;return nt>Ye&&(Me=Math.max(Me,nt-Ye)),Me>0&&Xe.splice(0,Me),Xe}}class le{constructor(oe,Ye){this.time=oe,this.value=Ye}}function Ee(Te,oe,Ye){let tt;return tt=Te&&"object"==typeof Te?Te:{bufferSize:Te,windowTime:oe,refCount:!1,scheduler:Ye},Xe=>Xe.lift(function({bufferSize:Te=Number.POSITIVE_INFINITY,windowTime:oe=Number.POSITIVE_INFINITY,refCount:Ye,scheduler:tt}){let Xe,Me,nt=0,Qe=!1,Qt=!1;return function(Gt){let Et;nt++,!Xe||Qe?(Qe=!1,Xe=new De(Te,oe,tt),Et=Xe.subscribe(this),Me=Gt.subscribe({next(ut){Xe.next(ut)},error(ut){Qe=!0,Xe.error(ut)},complete(){Qt=!0,Me=void 0,Xe.complete()}}),Qt&&(Me=void 0)):Et=Xe.subscribe(this),this.add(()=>{nt--,Et.unsubscribe(),Et=void 0,Me&&!Qt&&Ye&&0===nt&&(Me.unsubscribe(),Me=void 0,Xe=void 0)})}}(tt))}},3653:(In,mt,D)=>{"use strict";D.d(mt,{T:()=>m});var _=D(7393);function m(he){return U=>U.lift(new y(he))}class y{constructor(U){this.total=U}call(U,De){return De.subscribe(new d(U,this.total))}}class d extends _.L{constructor(U,De){super(U),this.total=De,this.count=0}_next(U){++this.count>this.total&&this.destination.next(U)}}},9761:(In,mt,D)=>{"use strict";D.d(mt,{O:()=>y});var _=D(8071),m=D(4869);function y(...d){const he=d[d.length-1];return(0,m.K)(he)?(d.pop(),U=>(0,_.z)(d,U,he)):U=>(0,_.z)(d,U)}},9673:(In,mt,D)=>{"use strict";D.d(mt,{R:()=>he});var _=D(7574),m=D(4581),y=D(6561);class d extends _.y{constructor(le,Ee=0,se=m.e){super(),this.source=le,this.delayTime=Ee,this.scheduler=se,(!(0,y.k)(Ee)||Ee<0)&&(this.delayTime=0),(!se||"function"!=typeof se.schedule)&&(this.scheduler=m.e)}static create(le,Ee=0,se=m.e){return new d(le,Ee,se)}static dispatch(le){const{source:Ee,subscriber:se}=le;return this.add(Ee.subscribe(se))}_subscribe(le){return this.scheduler.schedule(d.dispatch,this.delayTime,{source:this.source,subscriber:le})}}function he(De,le=0){return function(se){return se.lift(new U(De,le))}}class U{constructor(le,Ee){this.scheduler=le,this.delay=Ee}call(le,Ee){return new d(Ee,this.delay,this.scheduler).subscribe(le)}}},3190:(In,mt,D)=>{"use strict";D.d(mt,{w:()=>d});var _=D(8002),m=D(4402),y=D(5345);function d(De,le){return"function"==typeof le?Ee=>Ee.pipe(d((se,Te)=>(0,m.D)(De(se,Te)).pipe((0,_.U)((oe,Ye)=>le(se,oe,Te,Ye))))):Ee=>Ee.lift(new he(De))}class he{constructor(le){this.project=le}call(le,Ee){return Ee.subscribe(new U(le,this.project))}}class U extends y.Ds{constructor(le,Ee){super(le),this.project=Ee,this.index=0}_next(le){let Ee;const se=this.index++;try{Ee=this.project(le,se)}catch(Te){return void this.destination.error(Te)}this._innerSub(Ee)}_innerSub(le){const Ee=this.innerSubscription;Ee&&Ee.unsubscribe();const se=new y.IY(this),Te=this.destination;Te.add(se),this.innerSubscription=(0,y.ft)(le,se),this.innerSubscription!==se&&Te.add(this.innerSubscription)}_complete(){const{innerSubscription:le}=this;(!le||le.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(le){this.destination.next(le)}}},5257:(In,mt,D)=>{"use strict";D.d(mt,{q:()=>d});var _=D(7393),m=D(7108),y=D(9193);function d(De){return le=>0===De?(0,y.c)():le.lift(new he(De))}class he{constructor(le){if(this.total=le,this.total<0)throw new m.W}call(le,Ee){return Ee.subscribe(new U(le,this.total))}}class U extends _.L{constructor(le,Ee){super(le),this.total=Ee,this.count=0}_next(le){const Ee=this.total,se=++this.count;se<=Ee&&(this.destination.next(le),se===Ee&&(this.destination.complete(),this.unsubscribe()))}}},6782:(In,mt,D)=>{"use strict";D.d(mt,{R:()=>m});var _=D(5345);function m(he){return U=>U.lift(new y(he))}class y{constructor(U){this.notifier=U}call(U,De){const le=new d(U),Ee=(0,_.ft)(this.notifier,new _.IY(le));return Ee&&!le.seenValue?(le.add(Ee),De.subscribe(le)):le}}class d extends _.Ds{constructor(U){super(U),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(In,mt,D)=>{"use strict";D.d(mt,{b:()=>d});var _=D(7393);function m(){}var y=D(9105);function d(De,le,Ee){return function(Te){return Te.lift(new he(De,le,Ee))}}class he{constructor(le,Ee,se){this.nextOrObserver=le,this.error=Ee,this.complete=se}call(le,Ee){return Ee.subscribe(new U(le,this.nextOrObserver,this.error,this.complete))}}class U extends _.L{constructor(le,Ee,se,Te){super(le),this._tapNext=m,this._tapError=m,this._tapComplete=m,this._tapError=se||m,this._tapComplete=Te||m,(0,y.m)(Ee)?(this._context=this,this._tapNext=Ee):Ee&&(this._context=Ee,this._tapNext=Ee.next||m,this._tapError=Ee.error||m,this._tapComplete=Ee.complete||m)}_next(le){try{this._tapNext.call(this._context,le)}catch(Ee){return void this.destination.error(Ee)}this.destination.next(le)}_error(le){try{this._tapError.call(this._context,le)}catch(Ee){return void this.destination.error(Ee)}this.destination.error(le)}_complete(){try{this._tapComplete.call(this._context)}catch(le){return void this.destination.error(le)}return this.destination.complete()}}},4635:(In,mt,D)=>{"use strict";D.d(mt,{T:()=>y});var _=D(3410),m=D(7393);function y(De=U){return le=>le.lift(new d(De))}class d{constructor(le){this.errorFactory=le}call(le,Ee){return Ee.subscribe(new he(le,this.errorFactory))}}class he extends m.L{constructor(le,Ee){super(le),this.errorFactory=Ee,this.hasValue=!1}_next(le){this.hasValue=!0,this.destination.next(le)}_complete(){if(this.hasValue)return this.destination.complete();{let le;try{le=this.errorFactory()}catch(Ee){le=Ee}this.destination.error(le)}}}function U(){return new _.K}},4087:(In,mt,D)=>{"use strict";D.d(mt,{r:()=>y});var _=D(7574),m=D(5319);function y(d,he){return new _.y(U=>{const De=new m.w;let le=0;return De.add(he.schedule(function(){le!==d.length?(U.next(d[le++]),U.closed||De.add(this.schedule())):U.complete()})),De})}},6465:(In,mt,D)=>{"use strict";D.d(mt,{o:()=>y});var _=D(5319);class m extends _.w{constructor(he,U){super()}schedule(he,U=0){return this}}class y extends m{constructor(he,U){super(he,U),this.scheduler=he,this.work=U,this.pending=!1}schedule(he,U=0){if(this.closed)return this;this.state=he;const De=this.id,le=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(le,De,U)),this.pending=!0,this.delay=U,this.id=this.id||this.requestAsyncId(le,this.id,U),this}requestAsyncId(he,U,De=0){return setInterval(he.flush.bind(he,this),De)}recycleAsyncId(he,U,De=0){if(null!==De&&this.delay===De&&!1===this.pending)return U;clearInterval(U)}execute(he,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(he,U);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,U){let le,De=!1;try{this.work(he)}catch(Ee){De=!0,le=!!Ee&&Ee||new Error(Ee)}if(De)return this.unsubscribe(),le}_unsubscribe(){const he=this.id,U=this.scheduler,De=U.actions,le=De.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==le&&De.splice(le,1),null!=he&&(this.id=this.recycleAsyncId(U,he,null)),this.delay=null}}},6102:(In,mt,D)=>{"use strict";D.d(mt,{v:()=>m});let _=(()=>{class y{constructor(he,U=y.now){this.SchedulerAction=he,this.now=U}schedule(he,U=0,De){return new this.SchedulerAction(this,he).schedule(De,U)}}return y.now=()=>Date.now(),y})();class m extends _{constructor(d,he=_.now){super(d,()=>m.delegate&&m.delegate!==this?m.delegate.now():he()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(d,he=0,U){return m.delegate&&m.delegate!==this?m.delegate.schedule(d,he,U):super.schedule(d,he,U)}flush(d){const{actions:he}=this;if(this.active)return void he.push(d);let U;this.active=!0;do{if(U=d.execute(d.state,d.delay))break}while(d=he.shift());if(this.active=!1,U){for(;d=he.shift();)d.unsubscribe();throw U}}}},4581:(In,mt,D)=>{"use strict";D.d(mt,{e:()=>oe,E:()=>Te});let _=1;const m=Promise.resolve(),y={};function d(Ye){return Ye in y&&(delete y[Ye],!0)}const he={setImmediate(Ye){const tt=_++;return y[tt]=!0,m.then(()=>d(tt)&&Ye()),tt},clearImmediate(Ye){d(Ye)}};var De=D(6465),Ee=D(6102);const Te=new class extends Ee.v{flush(tt){this.active=!0,this.scheduled=void 0;const{actions:Xe}=this;let nt,Me=-1,Qe=Xe.length;tt=tt||Xe.shift();do{if(nt=tt.execute(tt.state,tt.delay))break}while(++Me<Qe&&(tt=Xe.shift()));if(this.active=!1,nt){for(;++Me<Qe&&(tt=Xe.shift());)tt.unsubscribe();throw nt}}}(class extends De.o{constructor(tt,Xe){super(tt,Xe),this.scheduler=tt,this.work=Xe}requestAsyncId(tt,Xe,nt=0){return null!==nt&&nt>0?super.requestAsyncId(tt,Xe,nt):(tt.actions.push(this),tt.scheduled||(tt.scheduled=he.setImmediate(tt.flush.bind(tt,null))))}recycleAsyncId(tt,Xe,nt=0){if(null!==nt&&nt>0||null===nt&&this.delay>0)return super.recycleAsyncId(tt,Xe,nt);0===tt.actions.length&&(he.clearImmediate(Xe),tt.scheduled=void 0)}}),oe=Te},3637:(In,mt,D)=>{"use strict";D.d(mt,{z:()=>y,P:()=>d});var _=D(6465);const y=new(D(6102).v)(_.o),d=y},7771:(In,mt,D)=>{"use strict";D.d(mt,{c:()=>U,N:()=>he});var _=D(6465),y=D(6102);const he=new class extends y.v{}(class extends _.o{constructor(le,Ee){super(le,Ee),this.scheduler=le,this.work=Ee}schedule(le,Ee=0){return Ee>0?super.schedule(le,Ee):(this.delay=Ee,this.state=le,this.scheduler.flush(this),this)}execute(le,Ee){return Ee>0||this.closed?super.execute(le,Ee):this._execute(le,Ee)}requestAsyncId(le,Ee,se=0){return null!==se&&se>0||null===se&&this.delay>0?super.requestAsyncId(le,Ee,se):le.flush(this)}}),U=he},377:(In,mt,D)=>{"use strict";D.d(mt,{hZ:()=>m});const m="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(In,mt,D)=>{"use strict";D.d(mt,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(In,mt,D)=>{"use strict";D.d(mt,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(In,mt,D)=>{"use strict";D.d(mt,{W:()=>m});const m=(()=>{function y(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return y.prototype=Object.create(Error.prototype),y})()},3410:(In,mt,D)=>{"use strict";D.d(mt,{K:()=>m});const m=(()=>{function y(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return y.prototype=Object.create(Error.prototype),y})()},7971:(In,mt,D)=>{"use strict";D.d(mt,{N:()=>m});const m=(()=>{function y(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return y.prototype=Object.create(Error.prototype),y})()},4449:(In,mt,D)=>{"use strict";function _(m){setTimeout(()=>{throw m},0)}D.d(mt,{z:()=>_})},4487:(In,mt,D)=>{"use strict";function _(m){return m}D.d(mt,{y:()=>_})},9796:(In,mt,D)=>{"use strict";D.d(mt,{k:()=>_});const _=Array.isArray||(m=>m&&"number"==typeof m.length)},9489:(In,mt,D)=>{"use strict";D.d(mt,{z:()=>_});const _=m=>m&&"number"==typeof m.length&&"function"!=typeof m},9105:(In,mt,D)=>{"use strict";function _(m){return"function"==typeof m}D.d(mt,{m:()=>_})},6561:(In,mt,D)=>{"use strict";D.d(mt,{k:()=>m});var _=D(9796);function m(y){return!(0,_.k)(y)&&y-parseFloat(y)+1>=0}},1555:(In,mt,D)=>{"use strict";function _(m){return null!==m&&"object"==typeof m}D.d(mt,{K:()=>_})},5639:(In,mt,D)=>{"use strict";D.d(mt,{b:()=>m});var _=D(7574);function m(y){return!!y&&(y instanceof _.y||"function"==typeof y.lift&&"function"==typeof y.subscribe)}},4072:(In,mt,D)=>{"use strict";function _(m){return!!m&&"function"!=typeof m.subscribe&&"function"==typeof m.then}D.d(mt,{t:()=>_})},4869:(In,mt,D)=>{"use strict";function _(m){return m&&"function"==typeof m.schedule}D.d(mt,{K:()=>_})},7444:(In,mt,D)=>{"use strict";D.d(mt,{s:()=>Te});var _=D(5015),m=D(4449),d=D(377),U=D(6554),le=D(9489),Ee=D(4072),se=D(1555);const Te=oe=>{if(oe&&"function"==typeof oe[U.L])return(oe=>Ye=>{const tt=oe[U.L]();if("function"!=typeof tt.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return tt.subscribe(Ye)})(oe);if((0,le.z)(oe))return(0,_.V)(oe);if((0,Ee.t)(oe))return(oe=>Ye=>(oe.then(tt=>{Ye.closed||(Ye.next(tt),Ye.complete())},tt=>Ye.error(tt)).then(null,m.z),Ye))(oe);if(oe&&"function"==typeof oe[d.hZ])return(oe=>Ye=>{const tt=oe[d.hZ]();for(;;){let Xe;try{Xe=tt.next()}catch(nt){return Ye.error(nt),Ye}if(Xe.done){Ye.complete();break}if(Ye.next(Xe.value),Ye.closed)break}return"function"==typeof tt.return&&Ye.add(()=>{tt.return&&tt.return()}),Ye})(oe);{const tt=`You provided ${(0,se.K)(oe)?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(tt)}}},5015:(In,mt,D)=>{"use strict";D.d(mt,{V:()=>_});const _=m=>y=>{for(let d=0,he=m.length;d<he&&!y.closed;d++)y.next(m[d]);y.complete()}},509:(In,mt,D)=>{"use strict";D.d(mt,{D:()=>he});var _=D(7393);class m extends _.L{constructor(De,le,Ee){super(),this.parent=De,this.outerValue=le,this.outerIndex=Ee,this.index=0}_next(De){this.parent.notifyNext(this.outerValue,De,this.outerIndex,this.index++,this)}_error(De){this.parent.notifyError(De,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var y=D(7444),d=D(7574);function he(U,De,le,Ee,se=new m(U,le,Ee)){if(!se.closed)return De instanceof d.y?De.subscribe(se):(0,y.s)(De)(se)}},3822:(In,mt,D)=>{"use strict";D.r(mt),D.d(mt,{ClassModule:()=>kn});var _=D(2789),m=D(8583),y=D(2238),d=D(5621),he=D(5987),U=D(7716);let De=(()=>{class Rt{constructor(){}ngOnInit(){}}return Rt.\u0275fac=function(Ae){return new(Ae||Rt)},Rt.\u0275cmp=U.Xpm({type:Rt,selectors:[["app-add-class"]],decls:2,vars:0,template:function(Ae,de){1&Ae&&(U.TgZ(0,"p"),U._uU(1," add-class works!\n"),U.qZA())},styles:[""]}),Rt})();var le=D(9047),Ee=D(2290),se=D(1095),Te=D(6627);function oe(Rt,Zt){if(1&Rt){const Ae=U.EpF();U.TgZ(0,"tr"),U.TgZ(1,"td",4),U.NdJ("click",function(){const Be=U.CHM(Ae).$implicit;return U.oxw(2).openClass(Be.id)}),U._uU(2),U.qZA(),U.TgZ(3,"td"),U.TgZ(4,"button",5),U.NdJ("click",function(){const Be=U.CHM(Ae).$implicit;return U.oxw(2).removeClass(Be.id)}),U.TgZ(5,"mat-icon"),U._uU(6,"delete"),U.qZA(),U.qZA(),U.qZA(),U.qZA()}if(2&Rt){const Ae=Zt.$implicit,de=U.oxw(2);U.xp6(2),U.hij(" ",de.convertClassNametoNumber(Ae.id)," ")}}function Ye(Rt,Zt){if(1&Rt&&(U.TgZ(0,"table",2),U.TgZ(1,"thead"),U.TgZ(2,"th"),U._uU(3,"Turmas"),U.qZA(),U.TgZ(4,"th"),U._uU(5,"A\xe7\xf5es"),U.qZA(),U.qZA(),U.TgZ(6,"tbody"),U.YNc(7,oe,7,1,"tr",3),U.qZA(),U.qZA()),2&Rt){const Ae=U.oxw();U.xp6(7),U.Q6J("ngForOf",Ae.classList)}}function tt(Rt,Zt){1&Rt&&(U.TgZ(0,"h3"),U._uU(1,"N\xe3o tem turmas cadastradas"),U.qZA())}let Xe=(()=>{class Rt{constructor(Ae,de,te){this.service=Ae,this.router=de,this.toastr=te,this.classList=[],this.class=[],this.totalStudentsCLass=[],this.classNumber=1}ngOnInit(){this.getAllClass()}getAllClass(){this.service.GetGroupList().subscribe(Ae=>{Ae.map(de=>{const te=de.payload.doc.data();return te.id=de.payload.doc.id,this.classList.push(te),te})},Ae=>{console.error(Ae)})}getClass(Ae){this.service.GetClass(Ae).subscribe(de=>{de.map(te=>{const Be=te.payload.doc.data();return Be.id=te.payload.doc.id,this.class.push(Be),Be})},de=>{console.error(de)})}openClass(Ae){this.router.navigate([`edit-class/${Ae}`])}convertClassNametoNumber(Ae){let de=`Turma: ${Ae.substring(0,3)}`;return this.classNumber++,de}removeClass(Ae){confirm("Deseja apagar a Turma")&&(this.service.DeleteClass(Ae),this.toastr.error("Turma apagada com sucesso")),document.location.reload()}}return Rt.\u0275fac=function(Ae){return new(Ae||Rt)(U.Y36(le.j),U.Y36(he.F0),U.Y36(Ee._W))},Rt.\u0275cmp=U.Xpm({type:Rt,selectors:[["app-class"]],decls:3,vars:2,consts:[["id","class",4,"ngIf","ngIfElse"],["noHaveOne",""],["id","class"],[4,"ngFor","ngForOf"],[3,"click"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon",3,"click"]],template:function(Ae,de){if(1&Ae&&(U.YNc(0,Ye,8,1,"table",0),U.YNc(1,tt,2,0,"ng-template",null,1,U.W1O)),2&Ae){const te=U.MAs(2);U.Q6J("ngIf",de.classList.length>0)("ngIfElse",te)}},directives:[m.O5,m.sg,se.lW,Te.Hw],styles:["table[_ngcontent-%COMP%]{width:100%}#class[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}#class[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#class[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px;font-size:24px;font-style:italic;font-weight:800;cursor:pointer}#class[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px;text-align:center;background-color:#66aaa2;color:#fff;font-size:38px}mat-icon[_ngcontent-%COMP%]{border:1px solid;border-radius:50%;padding:12px}"]}),Rt})();var nt=D(8239),Me=D(9692),Qe=D(6830),Qt=D(8295),hn=D(9983);const Gt=["modal"];function Et(Rt,Zt){if(1&Rt){const Ae=U.EpF();U.TgZ(0,"tr"),U.TgZ(1,"td"),U._uU(2),U.TgZ(3,"div"),U.TgZ(4,"button",5),U.NdJ("click",function(){const Be=U.CHM(Ae).$implicit;return U.oxw().remove(Be)}),U.TgZ(5,"mat-icon"),U._uU(6,"delete"),U.qZA(),U.qZA(),U.qZA(),U.qZA(),U.qZA()}if(2&Rt){const Ae=Zt.$implicit;U.xp6(2),U.hij(" ",Ae.name," ")}}function ut(Rt,Zt){1&Rt&&(U.TgZ(0,"th",22),U._uU(1,"Nome"),U.qZA())}function Ke(Rt,Zt){if(1&Rt&&(U.TgZ(0,"td",23),U._uU(1),U.qZA()),2&Rt){const Ae=Zt.$implicit;U.xp6(1),U.Oqu(Ae.name)}}function ze(Rt,Zt){1&Rt&&(U.TgZ(0,"th",22),U._uU(1,"A\xe7\xf5es"),U.qZA())}function be(Rt,Zt){if(1&Rt){const Ae=U.EpF();U.TgZ(0,"td",23),U.TgZ(1,"div"),U.TgZ(2,"button",24),U.NdJ("click",function(){const Be=U.CHM(Ae).$implicit;return U.oxw(2).add(Be)}),U.TgZ(3,"mat-icon"),U._uU(4,"add"),U.qZA(),U.qZA(),U.qZA(),U.qZA()}}function q(Rt,Zt){1&Rt&&U._UZ(0,"tr",25)}function ke(Rt,Zt){1&Rt&&U._UZ(0,"tr",26)}function yt(Rt,Zt){if(1&Rt&&(U.TgZ(0,"tr",27),U.TgZ(1,"td",28),U._uU(2),U.qZA(),U.qZA()),2&Rt){U.oxw();const Ae=U.MAs(9);U.xp6(2),U.hij(' Sem resultados para "',Ae.value,'" ')}}const Ot=function(){return[5,10,20]};function un(Rt,Zt){if(1&Rt){const Ae=U.EpF();U.TgZ(0,"h2",6),U._uU(1,"Adicionar aluno(a) na turma"),U.qZA(),U.TgZ(2,"mat-dialog-content",7),U.TgZ(3,"h3"),U._uU(4,"Selecione o Aluno na lista a baixo"),U.qZA(),U.TgZ(5,"mat-form-field",8),U.TgZ(6,"mat-label"),U._uU(7,"Pesquisa"),U.qZA(),U.TgZ(8,"input",9,10),U.NdJ("keyup",function(te){return U.CHM(Ae),U.oxw().applyFilter(te)}),U.qZA(),U.qZA(),U.TgZ(10,"table",11),U.ynx(11,12),U.YNc(12,ut,2,0,"th",13),U.YNc(13,Ke,2,1,"td",14),U.BQk(),U.ynx(14,15),U.YNc(15,ze,2,0,"th",13),U.YNc(16,be,5,0,"td",14),U.BQk(),U.YNc(17,q,1,0,"tr",16),U.YNc(18,ke,1,0,"tr",17),U.YNc(19,yt,3,1,"tr",18),U.qZA(),U._UZ(20,"mat-paginator",19),U.qZA(),U.TgZ(21,"mat-dialog-actions",20),U.TgZ(22,"button",21),U._uU(23,"Cancelar"),U.qZA(),U.qZA()}if(2&Rt){const Ae=U.oxw();U.xp6(10),U.Q6J("dataSource",Ae.dataSource),U.xp6(7),U.Q6J("matHeaderRowDef",Ae.displayedColumns),U.xp6(1),U.Q6J("matRowDefColumns",Ae.displayedColumns),U.xp6(2),U.Q6J("pageSizeOptions",U.DdM(4,Ot))}}function Ut(Rt,Zt){1&Rt&&(U.TgZ(0,"h2",6),U._uU(1,"Excluir Aluno(a)"),U.qZA(),U.TgZ(2,"mat-dialog-content",7),U.TgZ(3,"h3"),U._uU(4,"Deseja realmente excluir o aluno(a)?"),U.qZA(),U.TgZ(5,"p"),U._uU(6,"Ao excluir o aluno(a) n\xe3o ser\xe1 poss\xedvel restaurar o mesmo."),U.qZA(),U.qZA(),U.TgZ(7,"mat-dialog-actions",20),U.TgZ(8,"button",21),U._uU(9,"Cancelar"),U.qZA(),U.TgZ(10,"button",29),U._uU(11," Excluir "),U.qZA(),U.qZA()),2&Rt&&(U.xp6(10),U.Q6J("mat-dialog-close",!0))}const ii=[{path:"",redirectTo:"/view-class",pathMatch:"full"},{path:"register-class",component:De},{path:"view-class",component:Xe},{path:"edit-class/:id",component:(()=>{class Rt{constructor(Ae,de,te,Be,Pe){this.service=Ae,this.route=de,this.db=te,this.dialog=Be,this.toastr=Pe,this.classGroup=[],this.displayedColumns=["name","actions"],this.studentList=[],this.dataSource=new _.by,this.route.params.subscribe(bt=>this.classId=bt.id)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getClass(this.classId),this.getAllStudents()}getAllStudents(){this.service.GetStudentsList().subscribe(Ae=>{this.studentList=Ae.map(de=>{const te=de.payload.doc.data();return te.id=de.payload.doc.id,te}),this.dataSource=new _.by(this.studentList),this.dataSource.paginator=this.paginator},Ae=>{console.error(Ae)})}getClass(Ae){this.service.GetClass(Ae).subscribe(de=>{de.map(te=>{const Be=te.payload.doc.data();return Be.id=te.payload.doc.id,this.classGroup.push(Be),Be})},de=>{console.error(de)})}openDialog(){this.dialogRef=this.dialog.open(this.modal),this.dialogRef.afterClosed().subscribe()}verifyStudentInClass(Ae){return 0!==this.classGroup.filter(te=>te.userId===Ae.id).length}add(Ae){var de=this;return(0,nt.Z)(function*(){if(de.verifyStudentInClass(Ae))return void de.toastr.info(`${Ae.name} j\xe1 est\xe1 adicionado na turma!`);const te={name:Ae.name,userId:Ae.id};yield de.service.AddStudentClass(te,de.classId),de.toastr.success(`${Ae.name} adicionado na turma com sucesso!`),de.dialogRef.close(),de.classGroup.length=0})()}remove(Ae){var de=this;return(0,nt.Z)(function*(){confirm("Deseja remover o aluno(a) da Turma")&&(yield de.service.DeleteStudentClass(de.classId,Ae.id),de.classGroup.length=0,de.toastr.error(`${Ae.name} removido da turma com sucesso!`),de.getClass(de.classId))})()}applyFilter(Ae){this.dataSource.filter=Ae.target.value.trim().toLowerCase()}}return Rt.\u0275fac=function(Ae){return new(Ae||Rt)(U.Y36(le.j),U.Y36(he.gz),U.Y36(Qe.KQ),U.Y36(y.uw),U.Y36(Ee._W))},Rt.\u0275cmp=U.Xpm({type:Rt,selectors:[["app-edit-class"]],viewQuery:function(Ae,de){if(1&Ae&&(U.Gf(Gt,5),U.Gf(Me.NW,5)),2&Ae){let te;U.iGM(te=U.CRH())&&(de.modal=te.first),U.iGM(te=U.CRH())&&(de.paginator=te.first)}},decls:13,vars:1,consts:[["id","class"],[4,"ngFor","ngForOf"],["mat-fab","","color","primary",1,"fab",3,"click"],["modal",""],["modalDelete",""],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon",3,"click"],["mat-dialog-title",""],[1,"mat-typography"],["appearance","standard"],["matInput","","placeholder","Nome",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],["mat-button","","cdkFocusInitial","","color","warn",3,"mat-dialog-close"]],template:function(Ae,de){1&Ae&&(U.TgZ(0,"table",0),U.TgZ(1,"thead"),U.TgZ(2,"th"),U._uU(3,"Alunos da turma"),U.qZA(),U.qZA(),U.TgZ(4,"tbody"),U.YNc(5,Et,7,1,"tr",1),U.qZA(),U.qZA(),U.TgZ(6,"button",2),U.NdJ("click",function(){return de.openDialog()}),U.TgZ(7,"mat-icon"),U._uU(8,"add"),U.qZA(),U.qZA(),U.YNc(9,un,24,5,"ng-template",null,3,U.W1O),U.YNc(11,Ut,12,1,"ng-template",null,4,U.W1O)),2&Ae&&(U.xp6(5),U.Q6J("ngForOf",de.classGroup))},directives:[m.sg,se.lW,Te.Hw,y.uh,y.xY,Qt.KE,Qt.hX,hn.Nt,_.BZ,_.w1,_.fO,_.Dz,_.as,_.nj,_.Ee,Me.NW,y.H8,y.ZT,_.ge,_.ev,_.XQ,_.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}#class[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}#class[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#class[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;font-size:24px;font-weight:400;cursor:pointer}#class[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px;text-align:center;background-color:#66aaa2;color:#fff;font-size:38px}.fab[_ngcontent-%COMP%]{position:absolute;bottom:35px;right:35px}"]}),Rt})()}];let Gn=(()=>{class Rt{}return Rt.\u0275fac=function(Ae){return new(Ae||Rt)},Rt.\u0275mod=U.oAB({type:Rt}),Rt.\u0275inj=U.cJS({imports:[[he.Bz.forChild(ii)],he.Bz]}),Rt})();var Qn=D(4466);let kn=(()=>{class Rt{}return Rt.\u0275fac=function(Ae){return new(Ae||Rt)},Rt.\u0275mod=U.oAB({type:Rt}),Rt.\u0275inj=U.cJS({imports:[[m.ez,Gn,d.q,y.Is,_.p0,Qn.m]]}),Rt})()},9047:(In,mt,D)=>{"use strict";D.d(mt,{j:()=>d});var _=D(8239),m=D(7716),y=D(4384);let d=(()=>{class he{constructor(De){this.db=De}AddStudentClass(De,le){return this.db.collection("/Class").doc(le).collection(le).add(De)}AddClass(){var De=this;return(0,_.Z)(function*(){let le={name:"Remover",userId:De.db.createId(),date:new Date};De.db.collection("Class").add(le)})()}GetClass(De){return this.db.collection("/Class").doc(De).collection(De).snapshotChanges()}GetGroupList(){return this.db.collection("Class").snapshotChanges()}UpdateStudent(De,le){this.DeleteClass(le),this.AddStudentClass(De,le)}DeleteClass(De){return this.db.doc(`Class/${De}`).delete()}DeleteStudentClass(De,le){return this.db.doc(`Class/${De}/${De}/${le}`).delete()}GetStudentsList(){return this.db.collection("/Students").snapshotChanges()}GetStudent(De){return this.db.collection("Students").doc(De).snapshotChanges()}}return he.\u0275fac=function(De){return new(De||he)(m.LFG(y.ST))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},8951:(In,mt,D)=>{"use strict";D.d(mt,{e:()=>d});var _=D(8239),m=D(7716),y=D(3820);let d=(()=>{class he{constructor(De){this.firebaseAuth=De,this.isLogged=!1}signin(De,le){var Ee=this;return(0,_.Z)(function*(){yield Ee.firebaseAuth.signInWithEmailAndPassword(De,le).then(se=>{Ee.isLogged=!0,localStorage.setItem("user",JSON.stringify(se.user))})})()}signup(De,le){var Ee=this;return(0,_.Z)(function*(){yield Ee.firebaseAuth.createUserWithEmailAndPassword(De,le).then(se=>{Ee.isLogged=!0,localStorage.setItem("user",JSON.stringify(se.user))}).catch(se=>se)})()}logout(){this.firebaseAuth.signOut(),localStorage.removeItem("user")}}return he.\u0275fac=function(De){return new(De||he)(m.LFG(y.zQ))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},6758:(In,mt,D)=>{"use strict";D.r(mt),D.d(mt,{CreateAccountModule:()=>Et});var _=D(3679),m=D(8583),y=D(5987),d=D(8239),he=D(7716),U=D(8951),De=D(3738),le=D(8295),Ee=D(9983),se=D(1095);function Te(ut,Ke){if(1&ut&&(he.TgZ(0,"mat-error"),he._uU(1),he.qZA()),2&ut){const ze=he.oxw();he.xp6(1),he.hij(" ",ze.getErrorEmail()," ")}}const Ye=[{path:"",component:(()=>{class ut{constructor(ze,be,q){this.formBuilder=ze,this.authService=be,this.router=q,this.isSignedIn=!1}ngOnInit(){null!==localStorage.getItem("user")?this.isSignedIn=!0:(this.isSignedIn=!1,this.router.navigate(["/"])),this.createForm()}createForm(){this.formGroup=this.formBuilder.group({email:[null,[_.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],password:[null,_.kI.required]})}get email(){return this.formGroup.get("email")}get password(){return this.formGroup.get("password")}onSubmit(){var ze=this;return(0,d.Z)(function*(){yield ze.authService.signup(ze.email.value,ze.password.value),ze.authService.isLogged&&(ze.isSignedIn=!0,ze.router.navigate(["home"]))})()}getErrorEmail(){var ze,be,q;return(null===(ze=this.formGroup.get("email"))||void 0===ze?void 0:ze.hasError("required"))?"Campo obrigat\xf3rio":(null===(be=this.formGroup.get("email"))||void 0===be?void 0:be.hasError("pattern"))?"N\xe3o \xe9 um email v\xe1lido":(null===(q=this.formGroup.get("email"))||void 0===q?void 0:q.hasError("alreadyInUse"))?"Email em uso":""}}return ut.\u0275fac=function(ze){return new(ze||ut)(he.Y36(_.qu),he.Y36(U.e),he.Y36(y.F0))},ut.\u0275cmp=he.Xpm({type:ut,selectors:[["app-create-account"]],decls:12,vars:3,consts:[[1,"center-page"],[3,"formGroup","ngSubmit"],["src","assets/logo.jpg","alt","logo"],["matInput","","placeholder","Email","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Senha","formControlName","password"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(ze,be){1&ze&&(he.TgZ(0,"div",0),he.TgZ(1,"mat-card"),he.TgZ(2,"mat-card-content"),he.TgZ(3,"form",1),he.NdJ("ngSubmit",function(){return be.onSubmit()}),he._UZ(4,"img",2),he.TgZ(5,"mat-form-field"),he._UZ(6,"input",3),he.YNc(7,Te,2,1,"mat-error",4),he.qZA(),he.TgZ(8,"mat-form-field"),he._UZ(9,"input",5),he.qZA(),he.TgZ(10,"button",6),he._uU(11," Criar usu\xe1rio "),he.qZA(),he.qZA(),he.qZA(),he.qZA(),he.qZA()),2&ze&&(he.xp6(3),he.Q6J("formGroup",be.formGroup),he.xp6(4),he.Q6J("ngIf",!be.email.valid&&be.email.touched),he.xp6(3),he.Q6J("disabled",!be.formGroup.valid))},directives:[De.a8,De.dn,_._Y,_.JL,_.sg,le.KE,Ee.Nt,_.Fj,_.JJ,_.u,m.O5,se.lW,le.TO],styles:[".center-page[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.center-page[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{max-width:400px;margin:auto;text-align:center;padding:20px;box-shadow:none}.center-page[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:10px;padding:10px}.center-page[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:20px 0;text-transform:uppercase;background-color:#63aaa2}"]}),ut})()}];let tt=(()=>{class ut{}return ut.\u0275fac=function(ze){return new(ze||ut)},ut.\u0275mod=he.oAB({type:ut}),ut.\u0275inj=he.cJS({imports:[[y.Bz.forChild(Ye)],y.Bz]}),ut})();var Xe=D(2458),nt=D(6627),Me=D(5384),Qe=D(7441),Qt=D(5396),hn=D(2789),Gt=D(2522);let Et=(()=>{class ut{}return ut.\u0275fac=function(ze){return new(ze||ut)},ut.\u0275mod=he.oAB({type:ut}),ut.\u0275inj=he.cJS({imports:[[m.ez,tt,_.UX,Gt.g0,Ee.c,De.QW,Me.Tx,nt.Ps,se.ot,hn.p0,Qt.rP,Qe.LD,Xe.Ng]]}),ut})()},5621:(In,mt,D)=>{"use strict";D.d(mt,{q:()=>Be});var _=D(1095),m=D(3738),y=D(2458),d=D(6627),he=D(9983),U=D(9992),De=D(5384),le=D(9692),Ee=D(7441),se=D(3017),Te=D(5396),oe=D(7716),nt=(D(9238),D(9490),D(6461),D(9765)),Qt=(D(6682),D(7238),D(8583));let jn=(()=>{class Pe{constructor(){this.changes=new nt.xQ}}return Pe.\u0275fac=function(ct){return new(ct||Pe)},Pe.\u0275prov=oe.Yz7({factory:function(){return new Pe},token:Pe,providedIn:"root"}),Pe})();const Gn={provide:jn,deps:[[new oe.FiY,new oe.tp0,jn]],useFactory:function(Pe){return Pe||new jn}};let Rt=(()=>{class Pe{}return Pe.\u0275fac=function(ct){return new(ct||Pe)},Pe.\u0275mod=oe.oAB({type:Pe}),Pe.\u0275inj=oe.cJS({providers:[Gn],imports:[[Qt.ez,y.BQ]]}),Pe})();var Zt=D(2789),Ae=D(2522),de=D(8590),te=D(1841);let Be=(()=>{class Pe{}return Pe.\u0275fac=function(ct){return new(ct||Pe)},Pe.\u0275mod=oe.oAB({type:Pe}),Pe.\u0275inj=oe.cJS({imports:[[_.ot,m.QW,d.Ps,he.c,U.ie,De.Tx,y.XK,le.TU,y.si,Ee.LD,se.SJ,Te.rP,Rt,Zt.p0,Ae.g0,de.AV,te.JF],_.ot,m.QW,d.Ps,he.c,U.ie,De.Tx,y.XK,le.TU,y.si,Ee.LD,se.SJ,Te.rP,Rt,Zt.p0,Ae.g0,de.AV]}),Pe})()},4466:(In,mt,D)=>{"use strict";D.d(mt,{m:()=>y});var _=D(8583),m=D(7716);let y=(()=>{class d{}return d.\u0275fac=function(U){return new(U||d)},d.\u0275mod=m.oAB({type:d}),d.\u0275inj=m.cJS({imports:[[_.ez]]}),d})()},7268:(In,mt,D)=>{"use strict";D.r(mt),D.d(mt,{StudentsModule:()=>ye});var _=D(8583),m=D(3679),y=D(9490),d=D(7716),he=D(2458),De=(D(6237),D(8553)),le=D(9238);let Et=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({}),$})(),ut=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[[he.si,he.BQ,De.Q8,Et],he.BQ,Et]}),$})();var Ke=D(625),ze=D(7636),be=D(1095),q=D(2692),ke=D(9765),yt=D(5319),Ot=D(6682),un=D(5917),Ut=D(6461),jn=D(5257),ii=D(9761),Gn=D(5435),Qn=D(521),kn=D(7238),Rt=D(8295),Zt=D(9983),Ae=D(946);const de=["mat-calendar-body",""];function te($,et){if(1&$&&(d.TgZ(0,"tr",2),d.TgZ(1,"td",3),d._uU(2),d.qZA(),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.Udp("padding-top",w._cellPadding)("padding-bottom",w._cellPadding),d.uIk("colspan",w.numCols),d.xp6(1),d.hij(" ",w.label," ")}}function Be($,et){if(1&$&&(d.TgZ(0,"td",3),d._uU(1),d.qZA()),2&$){const w=d.oxw(2);d.Udp("padding-top",w._cellPadding)("padding-bottom",w._cellPadding),d.uIk("colspan",w._firstRowOffset),d.xp6(1),d.hij(" ",w._firstRowOffset>=w.labelMinRequiredCells?w.label:""," ")}}function Pe($,et){if(1&$){const w=d.EpF();d.TgZ(0,"td",7),d.NdJ("click",function(fe){const wn=d.CHM(w).$implicit;return d.oxw(2)._cellClicked(wn,fe)}),d.TgZ(1,"div",8),d._uU(2),d.qZA(),d._UZ(3,"div",9),d.qZA()}if(2&$){const w=et.$implicit,V=et.index,fe=d.oxw().index,Ze=d.oxw();d.Udp("width",Ze._cellWidth)("padding-top",Ze._cellPadding)("padding-bottom",Ze._cellPadding),d.ekj("mat-calendar-body-disabled",!w.enabled)("mat-calendar-body-active",Ze._isActiveCell(fe,V))("mat-calendar-body-range-start",Ze._isRangeStart(w.compareValue))("mat-calendar-body-range-end",Ze._isRangeEnd(w.compareValue))("mat-calendar-body-in-range",Ze._isInRange(w.compareValue))("mat-calendar-body-comparison-bridge-start",Ze._isComparisonBridgeStart(w.compareValue,fe,V))("mat-calendar-body-comparison-bridge-end",Ze._isComparisonBridgeEnd(w.compareValue,fe,V))("mat-calendar-body-comparison-start",Ze._isComparisonStart(w.compareValue))("mat-calendar-body-comparison-end",Ze._isComparisonEnd(w.compareValue))("mat-calendar-body-in-comparison-range",Ze._isInComparisonRange(w.compareValue))("mat-calendar-body-preview-start",Ze._isPreviewStart(w.compareValue))("mat-calendar-body-preview-end",Ze._isPreviewEnd(w.compareValue))("mat-calendar-body-in-preview",Ze._isInPreview(w.compareValue)),d.Q6J("ngClass",w.cssClasses)("tabindex",Ze._isActiveCell(fe,V)?0:-1),d.uIk("data-mat-row",fe)("data-mat-col",V)("aria-label",w.ariaLabel)("aria-disabled",!w.enabled||null)("aria-selected",Ze._isSelected(w.compareValue)),d.xp6(1),d.ekj("mat-calendar-body-selected",Ze._isSelected(w.compareValue))("mat-calendar-body-comparison-identical",Ze._isComparisonIdentical(w.compareValue))("mat-calendar-body-today",Ze.todayValue===w.compareValue),d.xp6(1),d.hij(" ",w.displayValue," ")}}function bt($,et){if(1&$&&(d.TgZ(0,"tr",4),d.YNc(1,Be,2,6,"td",5),d.YNc(2,Pe,4,46,"td",6),d.qZA()),2&$){const w=et.$implicit,V=et.index,fe=d.oxw();d.xp6(1),d.Q6J("ngIf",0===V&&fe._firstRowOffset),d.xp6(1),d.Q6J("ngForOf",w)}}function ct($,et){if(1&$&&(d.TgZ(0,"th",5),d.TgZ(1,"abbr",6),d._uU(2),d.qZA(),d.qZA()),2&$){const w=et.$implicit;d.uIk("aria-label",w.long),d.xp6(1),d.uIk("title",w.long),d.xp6(1),d.Oqu(w.narrow)}}const Ft=["*"];function me($,et){}function rt($,et){if(1&$){const w=d.EpF();d.TgZ(0,"mat-month-view",5),d.NdJ("activeDateChange",function(fe){return d.CHM(w),d.oxw().activeDate=fe})("_userSelection",function(fe){return d.CHM(w),d.oxw()._dateSelected(fe)}),d.qZA()}if(2&$){const w=d.oxw();d.Q6J("activeDate",w.activeDate)("selected",w.selected)("dateFilter",w.dateFilter)("maxDate",w.maxDate)("minDate",w.minDate)("dateClass",w.dateClass)("comparisonStart",w.comparisonStart)("comparisonEnd",w.comparisonEnd)}}function je($,et){if(1&$){const w=d.EpF();d.TgZ(0,"mat-year-view",6),d.NdJ("activeDateChange",function(fe){return d.CHM(w),d.oxw().activeDate=fe})("monthSelected",function(fe){return d.CHM(w),d.oxw()._monthSelectedInYearView(fe)})("selectedChange",function(fe){return d.CHM(w),d.oxw()._goToDateInView(fe,"month")}),d.qZA()}if(2&$){const w=d.oxw();d.Q6J("activeDate",w.activeDate)("selected",w.selected)("dateFilter",w.dateFilter)("maxDate",w.maxDate)("minDate",w.minDate)("dateClass",w.dateClass)}}function We($,et){if(1&$){const w=d.EpF();d.TgZ(0,"mat-multi-year-view",7),d.NdJ("activeDateChange",function(fe){return d.CHM(w),d.oxw().activeDate=fe})("yearSelected",function(fe){return d.CHM(w),d.oxw()._yearSelectedInMultiYearView(fe)})("selectedChange",function(fe){return d.CHM(w),d.oxw()._goToDateInView(fe,"year")}),d.qZA()}if(2&$){const w=d.oxw();d.Q6J("activeDate",w.activeDate)("selected",w.selected)("dateFilter",w.dateFilter)("maxDate",w.maxDate)("minDate",w.minDate)("dateClass",w.dateClass)}}function at($,et){}const fn=["button"];function jt($,et){1&$&&(d.O4$(),d.TgZ(0,"svg",3),d._UZ(1,"path",4),d.qZA())}const cn=[[["","matDatepickerToggleIcon",""]]],Ln=["[matDatepickerToggleIcon]"];let ae=(()=>{class ${constructor(){this.changes=new ke.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(w,V){return`${w} \u2013 ${V}`}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275prov=d.Yz7({factory:function(){return new $},token:$,providedIn:"root"}),$})();class Le{constructor(et,w,V,fe,Ze={},wn=et,oi){this.value=et,this.displayValue=w,this.ariaLabel=V,this.enabled=fe,this.cssClasses=Ze,this.compareValue=wn,this.rawValue=oi}}let ge=(()=>{class ${constructor(w,V){this._elementRef=w,this._ngZone=V,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new d.vpe,this.previewChange=new d.vpe,this._enterHandler=fe=>{if(this._skipNextFocus&&"focus"===fe.type)this._skipNextFocus=!1;else if(fe.target&&this.isRange){const Ze=this._getCellFromElement(fe.target);Ze&&this._ngZone.run(()=>this.previewChange.emit({value:Ze.enabled?Ze:null,event:fe}))}},this._leaveHandler=fe=>{null!==this.previewEnd&&this.isRange&&fe.target&&Ue(fe.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:fe}))},V.runOutsideAngular(()=>{const fe=w.nativeElement;fe.addEventListener("mouseenter",this._enterHandler,!0),fe.addEventListener("focus",this._enterHandler,!0),fe.addEventListener("mouseleave",this._leaveHandler,!0),fe.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(w,V){w.enabled&&this.selectedValueChange.emit({value:w.value,event:V})}_isSelected(w){return this.startValue===w||this.endValue===w}ngOnChanges(w){const V=w.numCols,{rows:fe,numCols:Ze}=this;(w.rows||V)&&(this._firstRowOffset=fe&&fe.length&&fe[0].length?Ze-fe[0].length:0),(w.cellAspectRatio||V||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/Ze+"%"),(V||!this._cellWidth)&&(this._cellWidth=100/Ze+"%")}ngOnDestroy(){const w=this._elementRef.nativeElement;w.removeEventListener("mouseenter",this._enterHandler,!0),w.removeEventListener("focus",this._enterHandler,!0),w.removeEventListener("mouseleave",this._leaveHandler,!0),w.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(w,V){let fe=w*this.numCols+V;return w&&(fe-=this._firstRowOffset),fe==this.activeCell}_focusActiveCell(w=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,jn.q)(1)).subscribe(()=>{const V=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");V&&(w||(this._skipNextFocus=!0),V.focus())})})}_isRangeStart(w){return Bt(w,this.startValue,this.endValue)}_isRangeEnd(w){return an(w,this.startValue,this.endValue)}_isInRange(w){return Tn(w,this.startValue,this.endValue,this.isRange)}_isComparisonStart(w){return Bt(w,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(w,V,fe){if(!this._isComparisonStart(w)||this._isRangeStart(w)||!this._isInRange(w))return!1;let Ze=this.rows[V][fe-1];if(!Ze){const wn=this.rows[V-1];Ze=wn&&wn[wn.length-1]}return Ze&&!this._isRangeEnd(Ze.compareValue)}_isComparisonBridgeEnd(w,V,fe){if(!this._isComparisonEnd(w)||this._isRangeEnd(w)||!this._isInRange(w))return!1;let Ze=this.rows[V][fe+1];if(!Ze){const wn=this.rows[V+1];Ze=wn&&wn[0]}return Ze&&!this._isRangeStart(Ze.compareValue)}_isComparisonEnd(w){return an(w,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(w){return Tn(w,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(w){return this.comparisonStart===this.comparisonEnd&&w===this.comparisonStart}_isPreviewStart(w){return Bt(w,this.previewStart,this.previewEnd)}_isPreviewEnd(w){return an(w,this.previewStart,this.previewEnd)}_isInPreview(w){return Tn(w,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(w){let V;if(Ue(w)?V=w:Ue(w.parentNode)&&(V=w.parentNode),V){const fe=V.getAttribute("data-mat-row"),Ze=V.getAttribute("data-mat-col");if(fe&&Ze)return this.rows[parseInt(fe)][parseInt(Ze)]}return null}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(d.SBq),d.Y36(d.R0b))},$.\u0275cmp=d.Xpm({type:$,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[d.TTD],attrs:de,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(w,V){1&w&&(d.YNc(0,te,3,6,"tr",0),d.YNc(1,bt,3,2,"tr",1)),2&w&&(d.Q6J("ngIf",V._firstRowOffset<V.labelMinRequiredCells),d.xp6(1),d.Q6J("ngForOf",V.rows))},directives:[_.O5,_.sg,_.mk],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),$})();function Ue($){return"TD"===$.nodeName}function Bt($,et,w){return null!==w&&et!==w&&$<w&&$===et}function an($,et,w){return null!==et&&et!==w&&$>=et&&$===w}function Tn($,et,w,V){return V&&null!==et&&null!==w&&et!==w&&$>=et&&$<=w}class Nn{constructor(et,w){this.start=et,this.end=w}}let Pn=(()=>{class ${constructor(w,V){this.selection=w,this._adapter=V,this._selectionChanged=new ke.xQ,this.selectionChanged=this._selectionChanged,this.selection=w}updateSelection(w,V){const fe=this.selection;this.selection=w,this._selectionChanged.next({selection:w,source:V,oldValue:fe})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(w){return this._adapter.isDateInstance(w)&&this._adapter.isValid(w)}}return $.\u0275fac=function(w){return new(w||$)(d.LFG(void 0),d.LFG(he._A))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})(),ei=(()=>{class $ extends Pn{constructor(w){super(null,w)}add(w){super.updateSelection(w,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const w=new $(this._adapter);return w.updateSelection(this.selection,this),w}}return $.\u0275fac=function(w){return new(w||$)(d.LFG(he._A))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();const gt={provide:Pn,deps:[[new d.FiY,new d.tp0,Pn],he._A],useFactory:function($,et){return $||new ei(et)}},Ct=new d.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Nt=(()=>{class ${constructor(w,V,fe,Ze,wn){this._changeDetectorRef=w,this._dateFormats=V,this._dateAdapter=fe,this._dir=Ze,this._rangeStrategy=wn,this._rerenderSubscription=yt.w.EMPTY,this.selectedChange=new d.vpe,this._userSelection=new d.vpe,this.activeDateChange=new d.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(w){const V=this._activeDate,fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(fe,this.minDate,this.maxDate),this._hasSameMonthAndYear(V,this._activeDate)||this._init()}get selected(){return this._selected}set selected(w){this._selected=w instanceof Nn?w:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(w){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}get maxDate(){return this._maxDate}set maxDate(w){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ii.O)(null)).subscribe(()=>this._init())}ngOnChanges(w){const V=w.comparisonStart||w.comparisonEnd;V&&!V.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(w){const V=w.value,fe=this._dateAdapter.getYear(this.activeDate),Ze=this._dateAdapter.getMonth(this.activeDate),wn=this._dateAdapter.createDate(fe,Ze,V);let oi,rr;this._selected instanceof Nn?(oi=this._getDateInCurrentMonth(this._selected.start),rr=this._getDateInCurrentMonth(this._selected.end)):oi=rr=this._getDateInCurrentMonth(this._selected),(oi!==V||rr!==V)&&this.selectedChange.emit(wn),this._userSelection.emit({value:wn,event:w.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(w){const V=this._activeDate,fe=this._isRtl();switch(w.keyCode){case Ut.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,fe?1:-1);break;case Ut.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,fe?-1:1);break;case Ut.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Ut.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Ut.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Ut.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Ut.Ku:this.activeDate=w.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Ut.VM:this.activeDate=w.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Ut.K5:case Ut.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&w.preventDefault());case Ut.hY:return void(null!=this._previewEnd&&!(0,Ut.Vb)(w)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:w}),w.preventDefault(),w.stopPropagation()));default:return}this._dateAdapter.compareDate(V,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),w.preventDefault()}_handleCalendarBodyKeyup(w){(w.keyCode===Ut.L_||w.keyCode===Ut.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:w}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let w=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(w)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(w){this._matCalendarBody._focusActiveCell(w)}_previewChanged({event:w,value:V}){if(this._rangeStrategy){const Ze=this._rangeStrategy.createPreview(V?V.rawValue:null,this.selected,w);this._previewStart=this._getCellCompareValue(Ze.start),this._previewEnd=this._getCellCompareValue(Ze.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const w=this._dateAdapter.getFirstDayOfWeek(),V=this._dateAdapter.getDayOfWeekNames("narrow");let Ze=this._dateAdapter.getDayOfWeekNames("long").map((wn,oi)=>({long:wn,narrow:V[oi]}));this._weekdays=Ze.slice(w).concat(Ze.slice(0,w))}_createWeekCells(){const w=this._dateAdapter.getNumDaysInMonth(this.activeDate),V=this._dateAdapter.getDateNames();this._weeks=[[]];for(let fe=0,Ze=this._firstWeekOffset;fe<w;fe++,Ze++){7==Ze&&(this._weeks.push([]),Ze=0);const wn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),fe+1),oi=this._shouldEnableDate(wn),rr=this._dateAdapter.format(wn,this._dateFormats.display.dateA11yLabel),Xi=this.dateClass?this.dateClass(wn,"month"):void 0;this._weeks[this._weeks.length-1].push(new Le(fe+1,V[fe],rr,oi,Xi,this._getCellCompareValue(wn),wn))}}_shouldEnableDate(w){return!!w&&(!this.minDate||this._dateAdapter.compareDate(w,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(w,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(w))}_getDateInCurrentMonth(w){return w&&this._hasSameMonthAndYear(w,this.activeDate)?this._dateAdapter.getDate(w):null}_hasSameMonthAndYear(w,V){return!(!w||!V||this._dateAdapter.getMonth(w)!=this._dateAdapter.getMonth(V)||this._dateAdapter.getYear(w)!=this._dateAdapter.getYear(V))}_getCellCompareValue(w){if(w){const V=this._dateAdapter.getYear(w),fe=this._dateAdapter.getMonth(w),Ze=this._dateAdapter.getDate(w);return new Date(V,fe,Ze).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(w){w instanceof Nn?(this._rangeStart=this._getCellCompareValue(w.start),this._rangeEnd=this._getCellCompareValue(w.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(w),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(w){return!this.dateFilter||this.dateFilter(w)}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(d.sBO),d.Y36(he.sG,8),d.Y36(he._A,8),d.Y36(Ae.Is,8),d.Y36(Ct,8))},$.\u0275cmp=d.Xpm({type:$,selectors:[["mat-month-view"]],viewQuery:function(w,V){if(1&w&&d.Gf(ge,5),2&w){let fe;d.iGM(fe=d.CRH())&&(V._matCalendarBody=fe.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[d.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(w,V){1&w&&(d.TgZ(0,"table",0),d.TgZ(1,"thead",1),d.TgZ(2,"tr"),d.YNc(3,ct,3,3,"th",2),d.qZA(),d.TgZ(4,"tr"),d._UZ(5,"th",3),d.qZA(),d.qZA(),d.TgZ(6,"tbody",4),d.NdJ("selectedValueChange",function(Ze){return V._dateSelected(Ze)})("previewChange",function(Ze){return V._previewChanged(Ze)})("keyup",function(Ze){return V._handleCalendarBodyKeyup(Ze)})("keydown",function(Ze){return V._handleCalendarBodyKeydown(Ze)}),d.qZA(),d.qZA()),2&w&&(d.xp6(3),d.Q6J("ngForOf",V._weekdays),d.xp6(3),d.Q6J("label",V._monthLabel)("rows",V._weeks)("todayValue",V._todayDate)("startValue",V._rangeStart)("endValue",V._rangeEnd)("comparisonStart",V._comparisonRangeStart)("comparisonEnd",V._comparisonRangeEnd)("previewStart",V._previewStart)("previewEnd",V._previewEnd)("isRange",V._isRange)("labelMinRequiredCells",3)("activeCell",V._dateAdapter.getDate(V.activeDate)-1))},directives:[_.sg,ge],encapsulation:2,changeDetection:0}),$})(),Oe=(()=>{class ${constructor(w,V,fe){this._changeDetectorRef=w,this._dateAdapter=V,this._dir=fe,this._rerenderSubscription=yt.w.EMPTY,this.selectedChange=new d.vpe,this.yearSelected=new d.vpe,this.activeDateChange=new d.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(w){let V=this._activeDate;const fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(fe,this.minDate,this.maxDate),Tt(this._dateAdapter,V,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(w){this._selected=w instanceof Nn?w:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w)),this._setSelectedYear(w)}get minDate(){return this._minDate}set minDate(w){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}get maxDate(){return this._maxDate}set maxDate(w){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ii.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const V=this._dateAdapter.getYear(this._activeDate)-tn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let fe=0,Ze=[];fe<24;fe++)Ze.push(V+fe),4==Ze.length&&(this._years.push(Ze.map(wn=>this._createCellForYear(wn))),Ze=[]);this._changeDetectorRef.markForCheck()}_yearSelected(w){const V=w.value;this.yearSelected.emit(this._dateAdapter.createDate(V,0,1));let fe=this._dateAdapter.getMonth(this.activeDate),Ze=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(V,fe,1));this.selectedChange.emit(this._dateAdapter.createDate(V,fe,Math.min(this._dateAdapter.getDate(this.activeDate),Ze)))}_handleCalendarBodyKeydown(w){const V=this._activeDate,fe=this._isRtl();switch(w.keyCode){case Ut.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,fe?1:-1);break;case Ut.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,fe?-1:1);break;case Ut.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Ut.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Ut.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-tn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Ut.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-tn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Ut.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,w.altKey?-240:-24);break;case Ut.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,w.altKey?240:24);break;case Ut.K5:case Ut.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(V,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),w.preventDefault()}_handleCalendarBodyKeyup(w){(w.keyCode===Ut.L_||w.keyCode===Ut.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:w}),this._selectionKeyPressed=!1)}_getActiveCell(){return tn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(w){const V=this._dateAdapter.createDate(w,0,1),fe=this._dateAdapter.getYearName(V),Ze=this.dateClass?this.dateClass(V,"multi-year"):void 0;return new Le(w,fe,fe,this._shouldEnableYear(w),Ze)}_shouldEnableYear(w){if(null==w||this.maxDate&&w>this._dateAdapter.getYear(this.maxDate)||this.minDate&&w<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let fe=this._dateAdapter.createDate(w,0,1);this._dateAdapter.getYear(fe)==w;fe=this._dateAdapter.addCalendarDays(fe,1))if(this.dateFilter(fe))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(w){if(this._selectedYear=null,w instanceof Nn){const V=w.start||w.end;V&&(this._selectedYear=this._dateAdapter.getYear(V))}else w&&(this._selectedYear=this._dateAdapter.getYear(w))}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(d.sBO),d.Y36(he._A,8),d.Y36(Ae.Is,8))},$.\u0275cmp=d.Xpm({type:$,selectors:[["mat-multi-year-view"]],viewQuery:function(w,V){if(1&w&&d.Gf(ge,5),2&w){let fe;d.iGM(fe=d.CRH())&&(V._matCalendarBody=fe.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(w,V){1&w&&(d.TgZ(0,"table",0),d.TgZ(1,"thead",1),d.TgZ(2,"tr"),d._UZ(3,"th",2),d.qZA(),d.qZA(),d.TgZ(4,"tbody",3),d.NdJ("selectedValueChange",function(Ze){return V._yearSelected(Ze)})("keyup",function(Ze){return V._handleCalendarBodyKeyup(Ze)})("keydown",function(Ze){return V._handleCalendarBodyKeydown(Ze)}),d.qZA(),d.qZA()),2&w&&(d.xp6(4),d.Q6J("rows",V._years)("todayValue",V._todayYear)("startValue",V._selectedYear)("endValue",V._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",V._getActiveCell()))},directives:[ge],encapsulation:2,changeDetection:0}),$})();function Tt($,et,w,V,fe){const Ze=$.getYear(et),wn=$.getYear(w),oi=Wn($,V,fe);return Math.floor((Ze-oi)/24)===Math.floor((wn-oi)/24)}function tn($,et,w,V){return function($,et){return($%24+24)%24}($.getYear(et)-Wn($,w,V))}function Wn($,et,w){let V=0;return w?V=$.getYear(w)-24+1:et&&(V=$.getYear(et)),V}let xi=(()=>{class ${constructor(w,V,fe,Ze){this._changeDetectorRef=w,this._dateFormats=V,this._dateAdapter=fe,this._dir=Ze,this._rerenderSubscription=yt.w.EMPTY,this.selectedChange=new d.vpe,this.monthSelected=new d.vpe,this.activeDateChange=new d.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(w){let V=this._activeDate;const fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(fe,this.minDate,this.maxDate),this._dateAdapter.getYear(V)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(w){this._selected=w instanceof Nn?w:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w)),this._setSelectedMonth(w)}get minDate(){return this._minDate}set minDate(w){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}get maxDate(){return this._maxDate}set maxDate(w){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ii.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(w){const V=w.value,fe=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),V,1);this.monthSelected.emit(fe);const Ze=this._dateAdapter.getNumDaysInMonth(fe);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),V,Math.min(this._dateAdapter.getDate(this.activeDate),Ze)))}_handleCalendarBodyKeydown(w){const V=this._activeDate,fe=this._isRtl();switch(w.keyCode){case Ut.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,fe?1:-1);break;case Ut.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,fe?-1:1);break;case Ut.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Ut.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Ut.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Ut.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Ut.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,w.altKey?-10:-1);break;case Ut.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,w.altKey?10:1);break;case Ut.K5:case Ut.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(V,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),w.preventDefault()}_handleCalendarBodyKeyup(w){(w.keyCode===Ut.L_||w.keyCode===Ut.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:w}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let w=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(V=>V.map(fe=>this._createCellForMonth(fe,w[fe]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(w){return w&&this._dateAdapter.getYear(w)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(w):null}_createCellForMonth(w,V){const fe=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),w,1),Ze=this._dateAdapter.format(fe,this._dateFormats.display.monthYearA11yLabel),wn=this.dateClass?this.dateClass(fe,"year"):void 0;return new Le(w,V.toLocaleUpperCase(),Ze,this._shouldEnableMonth(w),wn)}_shouldEnableMonth(w){const V=this._dateAdapter.getYear(this.activeDate);if(null==w||this._isYearAndMonthAfterMaxDate(V,w)||this._isYearAndMonthBeforeMinDate(V,w))return!1;if(!this.dateFilter)return!0;for(let Ze=this._dateAdapter.createDate(V,w,1);this._dateAdapter.getMonth(Ze)==w;Ze=this._dateAdapter.addCalendarDays(Ze,1))if(this.dateFilter(Ze))return!0;return!1}_isYearAndMonthAfterMaxDate(w,V){if(this.maxDate){const fe=this._dateAdapter.getYear(this.maxDate),Ze=this._dateAdapter.getMonth(this.maxDate);return w>fe||w===fe&&V>Ze}return!1}_isYearAndMonthBeforeMinDate(w,V){if(this.minDate){const fe=this._dateAdapter.getYear(this.minDate),Ze=this._dateAdapter.getMonth(this.minDate);return w<fe||w===fe&&V<Ze}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(w){this._selectedMonth=w instanceof Nn?this._getMonthInCurrentYear(w.start)||this._getMonthInCurrentYear(w.end):this._getMonthInCurrentYear(w)}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(d.sBO),d.Y36(he.sG,8),d.Y36(he._A,8),d.Y36(Ae.Is,8))},$.\u0275cmp=d.Xpm({type:$,selectors:[["mat-year-view"]],viewQuery:function(w,V){if(1&w&&d.Gf(ge,5),2&w){let fe;d.iGM(fe=d.CRH())&&(V._matCalendarBody=fe.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(w,V){1&w&&(d.TgZ(0,"table",0),d.TgZ(1,"thead",1),d.TgZ(2,"tr"),d._UZ(3,"th",2),d.qZA(),d.qZA(),d.TgZ(4,"tbody",3),d.NdJ("selectedValueChange",function(Ze){return V._monthSelected(Ze)})("keyup",function(Ze){return V._handleCalendarBodyKeyup(Ze)})("keydown",function(Ze){return V._handleCalendarBodyKeydown(Ze)}),d.qZA(),d.qZA()),2&w&&(d.xp6(4),d.Q6J("label",V._yearLabel)("rows",V._months)("todayValue",V._todayMonth)("startValue",V._selectedMonth)("endValue",V._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",V._dateAdapter.getMonth(V.activeDate)))},directives:[ge],encapsulation:2,changeDetection:0}),$})(),Ui=0,Wi=(()=>{class ${constructor(w,V,fe,Ze,wn){this._intl=w,this.calendar=V,this._dateAdapter=fe,this._dateFormats=Ze,this._buttonDescriptionId="mat-calendar-button-"+Ui++,this.calendar.stateChanges.subscribe(()=>wn.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const V=this._dateAdapter.getYear(this.calendar.activeDate)-tn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),fe=V+24-1,Ze=this._dateAdapter.getYearName(this._dateAdapter.createDate(V,0,1)),wn=this._dateAdapter.getYearName(this._dateAdapter.createDate(fe,0,1));return this._intl.formatYearRange(Ze,wn)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(w,V){return"month"==this.calendar.currentView?this._dateAdapter.getYear(w)==this._dateAdapter.getYear(V)&&this._dateAdapter.getMonth(w)==this._dateAdapter.getMonth(V):"year"==this.calendar.currentView?this._dateAdapter.getYear(w)==this._dateAdapter.getYear(V):Tt(this._dateAdapter,w,V,this.calendar.minDate,this.calendar.maxDate)}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(ae),d.Y36((0,d.Gpc)(()=>Ai)),d.Y36(he._A,8),d.Y36(he.sG,8),d.Y36(d.sBO))},$.\u0275cmp=d.Xpm({type:$,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Ft,decls:10,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(w,V){1&w&&(d.F$t(),d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"button",2),d.NdJ("click",function(){return V.currentPeriodClicked()}),d.TgZ(3,"span"),d._uU(4),d.qZA(),d._UZ(5,"div",3),d.qZA(),d._UZ(6,"div",4),d.Hsn(7),d.TgZ(8,"button",5),d.NdJ("click",function(){return V.previousClicked()}),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return V.nextClicked()}),d.qZA(),d.qZA(),d.qZA()),2&w&&(d.xp6(2),d.uIk("aria-label",V.periodButtonLabel)("aria-describedby",V._buttonDescriptionId),d.xp6(1),d.uIk("id",V._buttonDescriptionId),d.xp6(1),d.Oqu(V.periodButtonText),d.xp6(1),d.ekj("mat-calendar-invert","month"!==V.calendar.currentView),d.xp6(3),d.Q6J("disabled",!V.previousEnabled()),d.uIk("aria-label",V.prevButtonLabel),d.xp6(1),d.Q6J("disabled",!V.nextEnabled()),d.uIk("aria-label",V.nextButtonLabel))},directives:[be.lW,le.Qr],encapsulation:2,changeDetection:0}),$})(),Ai=(()=>{class ${constructor(w,V,fe,Ze){this._dateAdapter=V,this._dateFormats=fe,this._changeDetectorRef=Ze,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new d.vpe,this.yearSelected=new d.vpe,this.monthSelected=new d.vpe,this.viewChanged=new d.vpe(!0),this._userSelection=new d.vpe,this.stateChanges=new ke.xQ,this._intlChanges=w.changes.subscribe(()=>{Ze.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(w){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}get selected(){return this._selected}set selected(w){this._selected=w instanceof Nn?w:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}get minDate(){return this._minDate}set minDate(w){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}get maxDate(){return this._maxDate}set maxDate(w){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}get activeDate(){return this._clampedActiveDate}set activeDate(w){this._clampedActiveDate=this._dateAdapter.clampDate(w,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(w){const V=this._currentView!==w?w:null;this._currentView=w,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),V&&this.viewChanged.emit(V)}ngAfterContentInit(){this._calendarHeaderPortal=new ze.C5(this.headerComponent||Wi),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(w){const V=w.minDate||w.maxDate||w.dateFilter;if(V&&!V.firstChange){const fe=this._getCurrentViewComponent();fe&&(this._changeDetectorRef.detectChanges(),fe._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(w){const V=w.value;(this.selected instanceof Nn||V&&!this._dateAdapter.sameDate(V,this.selected))&&this.selectedChange.emit(V),this._userSelection.emit(w)}_yearSelectedInMultiYearView(w){this.yearSelected.emit(w)}_monthSelectedInYearView(w){this.monthSelected.emit(w)}_goToDateInView(w,V){this.activeDate=w,this.currentView=V}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(ae),d.Y36(he._A,8),d.Y36(he.sG,8),d.Y36(d.sBO))},$.\u0275cmp=d.Xpm({type:$,selectors:[["mat-calendar"]],viewQuery:function(w,V){if(1&w&&(d.Gf(Nt,5),d.Gf(xi,5),d.Gf(Oe,5)),2&w){let fe;d.iGM(fe=d.CRH())&&(V.monthView=fe.first),d.iGM(fe=d.CRH())&&(V.yearView=fe.first),d.iGM(fe=d.CRH())&&(V.multiYearView=fe.first)}},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[d._Bn([gt]),d.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(w,V){1&w&&(d.YNc(0,me,0,0,"ng-template",0),d.TgZ(1,"div",1),d.YNc(2,rt,1,8,"mat-month-view",2),d.YNc(3,je,1,6,"mat-year-view",3),d.YNc(4,We,1,6,"mat-multi-year-view",4),d.qZA()),2&w&&(d.Q6J("cdkPortalOutlet",V._calendarHeaderPortal),d.xp6(1),d.Q6J("ngSwitch",V.currentView),d.xp6(1),d.Q6J("ngSwitchCase","month"),d.xp6(1),d.Q6J("ngSwitchCase","year"),d.xp6(1),d.Q6J("ngSwitchCase","multi-year"))},directives:[ze.Pl,le.kH,_.RF,_.n9,Nt,xi,Oe],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),$})();const Hi={transformPanel:(0,kn.X$)("transformPanel",[(0,kn.eR)("void => enter-dropdown",(0,kn.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,kn.F4)([(0,kn.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,kn.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,kn.eR)("void => enter-dialog",(0,kn.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,kn.F4)([(0,kn.oB)({opacity:0,transform:"scale(0.7)"}),(0,kn.oB)({transform:"none",opacity:1})]))),(0,kn.eR)("* => void",(0,kn.jt)("100ms linear",(0,kn.oB)({opacity:0})))]),fadeInCalendar:(0,kn.X$)("fadeInCalendar",[(0,kn.SB)("void",(0,kn.oB)({opacity:0})),(0,kn.SB)("enter",(0,kn.oB)({opacity:1})),(0,kn.eR)("void => *",(0,kn.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let vr=0;const qi=new d.OlP("mat-datepicker-scroll-strategy"),Li={provide:qi,deps:[Ke.aV],useFactory:function($){return()=>$.scrollStrategies.reposition()}},Kn=(0,he.pj)(class{constructor($){this._elementRef=$}});let si=(()=>{class $ extends Kn{constructor(w,V,fe,Ze,wn,oi){super(w),this._changeDetectorRef=V,this._globalModel=fe,this._dateAdapter=Ze,this._rangeSelectionStrategy=wn,this._subscriptions=new yt.w,this._animationDone=new ke.xQ,this._actionsPortal=null,this._closeButtonText=oi.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(w){const V=this._model.selection,fe=w.value,Ze=V instanceof Nn;if(Ze&&this._rangeSelectionStrategy){const wn=this._rangeSelectionStrategy.selectionFinished(fe,V,w.event);this._model.updateSelection(wn,this)}else fe&&(Ze||!this._dateAdapter.sameDate(fe,V))&&this._model.add(fe);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Pn),d.Y36(he._A),d.Y36(Ct,8),d.Y36(ae))},$.\u0275cmp=d.Xpm({type:$,selectors:[["mat-datepicker-content"]],viewQuery:function(w,V){if(1&w&&d.Gf(Ai,5),2&w){let fe;d.iGM(fe=d.CRH())&&(V._calendar=fe.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(w,V){1&w&&d.WFA("@transformPanel.done",function(){return V._animationDone.next()}),2&w&&(d.d8E("@transformPanel",V._animationState),d.ekj("mat-datepicker-content-touch",V.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[d.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(w,V){1&w&&(d.TgZ(0,"div",0),d.TgZ(1,"mat-calendar",1),d.NdJ("yearSelected",function(Ze){return V.datepicker._selectYear(Ze)})("monthSelected",function(Ze){return V.datepicker._selectMonth(Ze)})("viewChanged",function(Ze){return V.datepicker._viewChanged(Ze)})("_userSelection",function(Ze){return V._handleUserSelection(Ze)}),d.qZA(),d.YNc(2,at,0,0,"ng-template",2),d.TgZ(3,"button",3),d.NdJ("focus",function(){return V._closeButtonFocused=!0})("blur",function(){return V._closeButtonFocused=!1})("click",function(){return V.datepicker.close()}),d._uU(4),d.qZA(),d.qZA()),2&w&&(d.ekj("mat-datepicker-content-container-with-actions",V._actionsPortal),d.xp6(1),d.Q6J("id",V.datepicker.id)("ngClass",V.datepicker.panelClass)("startAt",V.datepicker.startAt)("startView",V.datepicker.startView)("minDate",V.datepicker._getMinDate())("maxDate",V.datepicker._getMaxDate())("dateFilter",V.datepicker._getDateFilter())("headerComponent",V.datepicker.calendarHeaderComponent)("selected",V._getSelected())("dateClass",V.datepicker.dateClass)("comparisonStart",V.comparisonStart)("comparisonEnd",V.comparisonEnd)("@fadeInCalendar","enter"),d.xp6(1),d.Q6J("cdkPortalOutlet",V._actionsPortal),d.xp6(1),d.ekj("cdk-visually-hidden",!V._closeButtonFocused),d.Q6J("color",V.color||"primary"),d.xp6(1),d.Oqu(V._closeButtonText))},directives:[le.mK,Ai,_.mk,ze.Pl,be.lW],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[Hi.transformPanel,Hi.fadeInCalendar]},changeDetection:0}),$})(),li=(()=>{class ${constructor(w,V,fe,Ze,wn,oi,rr,Xi,Bi){this._overlay=V,this._ngZone=fe,this._viewContainerRef=Ze,this._dateAdapter=oi,this._dir=rr,this._model=Bi,this._inputStateChanges=yt.w.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new d.vpe,this.monthSelected=new d.vpe,this.viewChanged=new d.vpe(!0),this.openedStream=new d.vpe,this.closedStream=new d.vpe,this._opened=!1,this.id="mat-datepicker-"+vr++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ke.xQ,this._scrollStrategy=wn}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(w){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(w){this._color=w}get touchUi(){return this._touchUi}set touchUi(w){this._touchUi=(0,y.Ig)(w)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(w){const V=(0,y.Ig)(w);V!==this._disabled&&(this._disabled=V,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(w){this._restoreFocus=(0,y.Ig)(w)}get panelClass(){return this._panelClass}set panelClass(w){this._panelClass=(0,y.du)(w)}get opened(){return this._opened}set opened(w){(0,y.Ig)(w)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(w){const V=w.xPosition||w.yPosition;if(V&&!V.firstChange&&this._overlayRef){const fe=this._overlayRef.getConfig().positionStrategy;fe instanceof Ke._G&&(this._setConnectedPositions(fe),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(w){this._model.add(w)}_selectYear(w){this.yearSelected.emit(w)}_selectMonth(w){this.monthSelected.emit(w)}_viewChanged(w){this.viewChanged.emit(w)}registerInput(w){return this._inputStateChanges.unsubscribe(),this.datepickerInput=w,this._inputStateChanges=w.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(w){this._actionsPortal=w}removeActions(w){w===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,Qn.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const V=this._componentRef.instance;V._startExitAnimation(),V._animationDone.pipe((0,jn.q)(1)).subscribe(()=>this._destroyOverlay())}const w=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(w)):w()}_applyPendingSelection(){var w,V;null===(V=null===(w=this._componentRef)||void 0===w?void 0:w.instance)||void 0===V||V._applyPendingSelection()}_forwardContentValues(w){w.datepicker=this,w.color=this.color,w._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const w=this.touchUi,V=this.datepickerInput.getOverlayLabelId(),fe=new ze.C5(si,this._viewContainerRef),Ze=this._overlayRef=this._overlay.create(new Ke.X_({positionStrategy:w?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[w?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:w?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(w?"dialog":"popup")})),wn=Ze.overlayElement;wn.setAttribute("role","dialog"),V&&wn.setAttribute("aria-labelledby",V),w&&wn.setAttribute("aria-modal","true"),this._getCloseStream(Ze).subscribe(oi=>{oi&&oi.preventDefault(),this.close()}),this._componentRef=Ze.attach(fe),this._forwardContentValues(this._componentRef.instance),w||this._ngZone.onStable.pipe((0,jn.q)(1)).subscribe(()=>Ze.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const w=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(w)}_setConnectedPositions(w){const V="end"===this.xPosition?"end":"start",fe="start"===V?"end":"start",Ze="above"===this.yPosition?"bottom":"top",wn="top"===Ze?"bottom":"top";return w.withPositions([{originX:V,originY:wn,overlayX:V,overlayY:Ze},{originX:V,originY:Ze,overlayX:V,overlayY:wn},{originX:fe,originY:wn,overlayX:fe,overlayY:Ze},{originX:fe,originY:Ze,overlayX:fe,overlayY:wn}])}_getCloseStream(w){return(0,Ot.T)(w.backdropClick(),w.detachments(),w.keydownEvents().pipe((0,Gn.h)(V=>V.keyCode===Ut.hY&&!(0,Ut.Vb)(V)||this.datepickerInput&&(0,Ut.Vb)(V,"altKey")&&V.keyCode===Ut.LH)))}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(d.SBq),d.Y36(Ke.aV),d.Y36(d.R0b),d.Y36(d.s_b),d.Y36(qi),d.Y36(he._A,8),d.Y36(Ae.Is,8),d.Y36(_.K0,8),d.Y36(Pn))},$.\u0275dir=d.lG2({type:$,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",restoreFocus:"restoreFocus",panelClass:"panelClass",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[d.TTD]}),$})(),yr=(()=>{class $ extends li{}return $.\u0275fac=function(){let et;return function(V){return(et||(et=d.n5z($)))(V||$)}}(),$.\u0275cmp=d.Xpm({type:$,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[d._Bn([gt,{provide:li,useExisting:$}]),d.qOj],decls:0,vars:0,template:function(w,V){},encapsulation:2,changeDetection:0}),$})();class $e{constructor(et,w){this.target=et,this.targetElement=w,this.value=this.target.value}}let Mt=(()=>{class ${constructor(w,V,fe){this._elementRef=w,this._dateAdapter=V,this._dateFormats=fe,this.dateChange=new d.vpe,this.dateInput=new d.vpe,this.stateChanges=new ke.xQ,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=yt.w.EMPTY,this._localeSubscription=yt.w.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=Ze=>{const wn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ze.value));return!wn||this._matchesFilter(wn)?null:{matDatepickerFilter:!0}},this._minValidator=Ze=>{const wn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ze.value)),oi=this._getMinDate();return!oi||!wn||this._dateAdapter.compareDate(oi,wn)<=0?null:{matDatepickerMin:{min:oi,actual:wn}}},this._maxValidator=Ze=>{const wn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ze.value)),oi=this._getMaxDate();return!oi||!wn||this._dateAdapter.compareDate(oi,wn)>=0?null:{matDatepickerMax:{max:oi,actual:wn}}},this._lastValueValid=!1,this._localeSubscription=V.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(w){this._assignValueProgrammatically(w)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(w){const V=(0,y.Ig)(w),fe=this._elementRef.nativeElement;this._disabled!==V&&(this._disabled=V,this.stateChanges.next(void 0)),V&&this._isInitialized&&fe.blur&&fe.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(w){this._model=w,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(V=>{if(this._shouldHandleChangeEvent(V)){const fe=this._getValueFromModel(V.selection);this._lastValueValid=this._isValidValue(fe),this._cvaOnChange(fe),this._onTouched(),this._formatValue(fe),this.dateInput.emit(new $e(this,this._elementRef.nativeElement)),this.dateChange.emit(new $e(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(w){(function($,et){const w=Object.keys($);for(let V of w){const{previousValue:fe,currentValue:Ze}=$[V];if(!et.isDateInstance(fe)||!et.isDateInstance(Ze))return!0;if(!et.sameDate(fe,Ze))return!0}return!1})(w,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(w){this._validatorOnChange=w}validate(w){return this._validator?this._validator(w):null}writeValue(w){this._assignValueProgrammatically(w)}registerOnChange(w){this._cvaOnChange=w}registerOnTouched(w){this._onTouched=w}setDisabledState(w){this.disabled=w}_onKeydown(w){w.altKey&&w.keyCode===Ut.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),w.preventDefault())}_onInput(w){const V=this._lastValueValid;let fe=this._dateAdapter.parse(w,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(fe),fe=this._dateAdapter.getValidDateOrNull(fe),this._dateAdapter.sameDate(fe,this.value)?(w&&!this.value&&this._cvaOnChange(fe),V!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(fe),this._cvaOnChange(fe),this.dateInput.emit(new $e(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new $e(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(w){this._elementRef.nativeElement.value=w?this._dateAdapter.format(w,this._dateFormats.display.dateInput):""}_assignValue(w){this._model?(this._assignValueToModel(w),this._pendingValue=null):this._pendingValue=w}_isValidValue(w){return!w||this._dateAdapter.isValid(w)}_parentDisabled(){return!1}_assignValueProgrammatically(w){w=this._dateAdapter.deserialize(w),this._lastValueValid=this._isValidValue(w),w=this._dateAdapter.getValidDateOrNull(w),this._assignValue(w),this._formatValue(w)}_matchesFilter(w){const V=this._getDateFilter();return!V||V(w)}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(d.SBq),d.Y36(he._A,8),d.Y36(he.sG,8))},$.\u0275dir=d.lG2({type:$,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[d.TTD]}),$})();const ht={provide:m.JU,useExisting:(0,d.Gpc)(()=>En),multi:!0},Xt={provide:m.Cf,useExisting:(0,d.Gpc)(()=>En),multi:!0};let En=(()=>{class $ extends Mt{constructor(w,V,fe,Ze){super(w,V,fe),this._formField=Ze,this._closedSubscription=yt.w.EMPTY,this._validator=m.kI.compose(super._getValidators())}set matDatepicker(w){w&&(this._datepicker=w,this._closedSubscription=w.closedStream.subscribe(()=>this._onTouched()),this._registerModel(w.registerInput(this)))}get min(){return this._min}set min(w){const V=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w));this._dateAdapter.sameDate(V,this._min)||(this._min=V,this._validatorOnChange())}get max(){return this._max}set max(w){const V=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w));this._dateAdapter.sameDate(V,this._max)||(this._max=V,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(w){const V=this._matchesFilter(this.value);this._dateFilter=w,this._matchesFilter(this.value)!==V&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(w){return w}_assignValueToModel(w){this._model&&this._model.updateSelection(w,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(w){return w.source!==this}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(d.SBq),d.Y36(he._A,8),d.Y36(he.sG,8),d.Y36(Rt.G_,8))},$.\u0275dir=d.lG2({type:$,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(w,V){1&w&&d.NdJ("input",function(Ze){return V._onInput(Ze.target.value)})("change",function(){return V._onChange()})("blur",function(){return V._onBlur()})("keydown",function(Ze){return V._onKeydown(Ze)}),2&w&&(d.Ikx("disabled",V.disabled),d.uIk("aria-haspopup",V._datepicker?"dialog":null)("aria-owns",(null==V._datepicker?null:V._datepicker.opened)&&V._datepicker.id||null)("min",V.min?V._dateAdapter.toIso8601(V.min):null)("max",V.max?V._dateAdapter.toIso8601(V.max):null)("data-mat-calendar",V._datepicker?V._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[d._Bn([ht,Xt,{provide:Zt.Jk,useExisting:$}]),d.qOj]}),$})(),xn=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275dir=d.lG2({type:$,selectors:[["","matDatepickerToggleIcon",""]]}),$})(),St=(()=>{class ${constructor(w,V,fe){this._intl=w,this._changeDetectorRef=V,this._stateChanges=yt.w.EMPTY;const Ze=Number(fe);this.tabIndex=Ze||0===Ze?Ze:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(w){this._disabled=(0,y.Ig)(w)}ngOnChanges(w){w.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(w){this.datepicker&&!this.disabled&&(this.datepicker.open(),w.stopPropagation())}_watchStateChanges(){const w=this.datepicker?this.datepicker.stateChanges:(0,un.of)(),V=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,un.of)(),fe=this.datepicker?(0,Ot.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,un.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Ot.T)(this._intl.changes,w,V,fe).subscribe(()=>this._changeDetectorRef.markForCheck())}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(ae),d.Y36(d.sBO),d.$8M("tabindex"))},$.\u0275cmp=d.Xpm({type:$,selectors:[["mat-datepicker-toggle"]],contentQueries:function(w,V,fe){if(1&w&&d.Suo(fe,xn,5),2&w){let Ze;d.iGM(Ze=d.CRH())&&(V._customIcon=Ze.first)}},viewQuery:function(w,V){if(1&w&&d.Gf(fn,5),2&w){let fe;d.iGM(fe=d.CRH())&&(V._button=fe.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(w,V){1&w&&d.NdJ("click",function(Ze){return V._open(Ze)}),2&w&&(d.uIk("tabindex",null)("data-mat-calendar",V.datepicker?V.datepicker.id:null),d.ekj("mat-datepicker-toggle-active",V.datepicker&&V.datepicker.opened)("mat-accent",V.datepicker&&"accent"===V.datepicker.color)("mat-warn",V.datepicker&&"warn"===V.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],ariaLabel:["aria-label","ariaLabel"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[d.TTD],ngContentSelectors:Ln,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(w,V){1&w&&(d.F$t(cn),d.TgZ(0,"button",0,1),d.YNc(2,jt,2,0,"svg",2),d.Hsn(3),d.qZA()),2&w&&(d.Q6J("disabled",V.disabled)("disableRipple",V.disableRipple),d.uIk("aria-haspopup",V.datepicker?"dialog":null)("aria-label",V.ariaLabel||V._intl.openCalendarLabel)("tabindex",V.disabled?-1:V.tabIndex),d.xp6(2),d.Q6J("ngIf",!V._customIcon))},directives:[be.lW,_.O5],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),$})(),Es=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({providers:[ae,Li],imports:[[_.ez,be.ot,Ke.U8,le.rt,ze.eL,he.BQ],q.ZD]}),$})();var Mr=D(2238),lr=D(2789),ss=D(5621),tr=D(4466),Yr=D(5987),ws=D(7574),nr=D(1841);let Ji=(()=>{class ${constructor(w){this.http=w}consultaCEP(w){return""!==(w=w.replace(/\D/g,""))&&/^[0-9]{8}$/.test(w)?this.http.get(`//viacep.com.br/ws/${w}/json`):(0,un.of)({})}}return $.\u0275fac=function(w){return new(w||$)(d.LFG(nr.eN))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();var os=D(4384);let Jr=(()=>{class ${constructor(w){this.db=w}AddStudent(w){return w.id=this.db.createId(),this.db.collection("Students").add(w)}GetStudent(w){return this.db.collection("Students").doc(w).snapshotChanges()}GetStudentsList(){return this.db.collection("/Students").snapshotChanges()}UpdateStudent(w,V){this.DeleteStudent(V),this.AddStudent(w)}DeleteStudent(w){return this.db.doc(`Students/${w}`).delete()}}return $.\u0275fac=function(w){return new(w||$)(d.LFG(os.ST))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();var ds=D(2290);function kr($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function mo($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Or($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.getErrorEmail()," ")}}function Kt($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function zt($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function rn($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function pn($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Mn($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Vn($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function ki($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.errorDayNumber()," ")}}let Ci=(()=>{class ${constructor(w,V,fe,Ze,wn){this.formBuilder=w,this.cepService=V,this.crudApi=fe,this.toastr=Ze,this.router=wn,this.titleAlert="Campo Obrigat\xf3rio",this.post=""}ngOnInit(){null==localStorage.getItem("user")&&this.router.navigate(["/"]),this.createForm(),this.setChangeValidate()}createForm(){this.formGroup=this.formBuilder.group({name:[null,m.kI.required],zipCode:[null,m.kI.required],street:[null,m.kI.required],number:[""],district:[null,m.kI.required],city:[null,m.kI.required],uf:[null,m.kI.required],registration:[Date.now().toString(),m.kI.required],email:[null,[m.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],phone:[null,m.kI.required],paymentDay:[null,m.kI.required],description:[null,[m.kI.maxLength(100)]],dueDate:[null]})}get name(){return this.formGroup.get("name")}get street(){return this.formGroup.get("street")}get number(){return this.formGroup.get("number")}get district(){return this.formGroup.get("district")}get city(){return this.formGroup.get("city")}get uf(){return this.formGroup.get("uf")}get phone(){return this.formGroup.get("phone")}get zipCode(){return this.formGroup.get("zipCode")}get email(){return this.formGroup.get("email")}get paymentDay(){return this.formGroup.get("paymentDay")}setChangeValidate(){var w;null===(w=this.formGroup.get("validate"))||void 0===w||w.valueChanges.subscribe(V=>{var fe,Ze,wn;"1"==V?(null===(fe=this.formGroup.get("name"))||void 0===fe||fe.setValidators([m.kI.required,m.kI.minLength(3)]),this.titleAlert="Nome precisa ter no min\xedmo 3 caracteres"):null===(Ze=this.formGroup.get("name"))||void 0===Ze||Ze.setValidators(m.kI.required),null===(wn=this.formGroup.get("name"))||void 0===wn||wn.updateValueAndValidity()})}checkInUseEmail(w){let V=["tony@gmail.com"];return new ws.y(fe=>{setTimeout(()=>{let Ze=-1!==V.indexOf(w.value)?{alreadyInUse:!0}:null;fe.next(Ze),fe.complete()},4e3)})}errorDayNumber(){var w,V,fe,Ze,wn;return(null===(w=this.formGroup.get("paymentDay"))||void 0===w?void 0:w.hasError("required"))?"Campo Obrigat\xf3rio":(null===(fe=null===(V=this.formGroup.get("paymentDay"))||void 0===V?void 0:V.errors)||void 0===fe?void 0:fe.min)||(null===(wn=null===(Ze=this.formGroup.get("paymentDay"))||void 0===Ze?void 0:Ze.errors)||void 0===wn?void 0:wn.max)?"Data escolhida n\xe3o existe":""}getErrorEmail(){var w,V,fe;return(null===(w=this.formGroup.get("email"))||void 0===w?void 0:w.hasError("required"))?"Campo obrigat\xf3rio":(null===(V=this.formGroup.get("email"))||void 0===V?void 0:V.hasError("pattern"))?"N\xe3o \xe9 um email v\xe1lido":(null===(fe=this.formGroup.get("email"))||void 0===fe?void 0:fe.hasError("alreadyInUse"))?"Email em uso":""}onSubmit(w){this.addDueDate(),this.submitStudentData()}ResetForm(){this.formGroup.reset()}submitStudentData(){this.crudApi.AddStudent(this.formGroup.value),this.toastr.success(this.formGroup.controls.name.value+" cadastrado(a) com sucesso!"),this.ResetForm(),this.router.navigate(["/"])}consultaCEP(w){null!=(w=w.replace(/\D/g,""))&&""!==w&&this.cepService.consultaCEP(w).subscribe(V=>this.populaDadosForm(V))}populaDadosForm(w){var V,fe,Ze,wn,oi;null===(V=this.formGroup.get("zipCode"))||void 0===V||V.setValue(w.cep),null===(fe=this.formGroup.get("street"))||void 0===fe||fe.setValue(w.logradouro),null===(Ze=this.formGroup.get("district"))||void 0===Ze||Ze.setValue(w.bairro),null===(wn=this.formGroup.get("city"))||void 0===wn||wn.setValue(w.localidade),null===(oi=this.formGroup.get("uf"))||void 0===oi||oi.setValue(w.uf)}formatPhoneNumber(w){var V;const fe=w.toString().replace(/\D/g,"");let Ze="";fe.length>12?Ze=fe.replace(/(\d{2})?(\d{2})?(\d{5})?(\d{4})/,"+$1 ($2) $3-$4"):fe.length>11?Ze=fe.replace(/(\d{2})?(\d{2})?(\d{4})?(\d{4})/,"+$1 ($2) $3-$4"):fe.length>10?Ze=fe.replace(/(\d{2})?(\d{5})?(\d{4})/,"($1) $2-$3"):fe.length>9?Ze=fe.replace(/(\d{2})?(\d{4})?(\d{4})/,"($1) $2-$3"):fe.length>5?Ze=fe.replace(/^(\d{2})?(\d{4})?(\d{0,4})/,"($1) $2-$3"):fe.length>1?Ze=fe.replace(/^(\d{2})?(\d{0,5})/,"($1) $2"):""!==w&&(Ze=fe.replace(/^(\d*)/,"($1")),null===(V=this.formGroup.get("phone"))||void 0===V||V.setValue(Ze)}addDueDate(){var w;let V=this.formGroup.get("paymentDay").value,fe=new Date;fe.setDate(V);let Ze=new Date(fe.setMonth(fe.getMonth()+1));null===(w=this.formGroup.get("dueDate"))||void 0===w||w.setValue(Ze)}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(m.qu),d.Y36(Ji),d.Y36(Jr),d.Y36(ds._W),d.Y36(Yr.F0))},$.\u0275cmp=d.Xpm({type:$,selectors:[["app-add-student"]],decls:48,vars:14,consts:[["novalidate","",1,"container"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-element"],["matInput","","placeholder","Nome","formControlName","name"],[4,"ngIf"],["type","tel","matInput","","placeholder","Telefone","formControlName","phone",3,"blur"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Cep","formControlName","zipCode",3,"blur"],[1,"street"],[1,"form-element","rua"],["matInput","","placeholder","Rua","formControlName","street"],[1,"form-element","numero"],["type","number","matInput","","placeholder","N\xfamero","formControlName","number"],["matInput","","placeholder","Bairro","formControlName","district"],["matInput","","placeholder","Cidade","formControlName","city"],["matInput","","placeholder","UF","formControlName","uf"],["matInput","","placeholder","Description","formControlName","description"],["type","number","matInput","","placeholder","Data de pagamento","formControlName","paymentDay","min","1","max","31"],["appearance","fill"],["formControlName","registration","matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["hidden","","formControlName","dueDate","type","date"],["mat-raised-button","","color","primary","type","submit",1,"button",3,"disabled"]],template:function(w,V){if(1&w&&(d.TgZ(0,"div",0),d.TgZ(1,"form",1),d.NdJ("ngSubmit",function(){return V.onSubmit(V.formGroup.value)}),d.TgZ(2,"h2"),d._uU(3,"Cadastro de Aluno"),d.qZA(),d.TgZ(4,"mat-form-field",2),d._UZ(5,"input",3),d.YNc(6,kr,2,1,"mat-error",4),d.qZA(),d.TgZ(7,"mat-form-field",2),d.TgZ(8,"input",5),d.NdJ("blur",function(Ze){return V.formatPhoneNumber(Ze.target.value)}),d.qZA(),d.YNc(9,mo,2,1,"mat-error",4),d.qZA(),d.TgZ(10,"mat-form-field",2),d._UZ(11,"input",6),d.YNc(12,Or,2,1,"mat-error",4),d.qZA(),d.TgZ(13,"mat-form-field",2),d.TgZ(14,"input",7),d.NdJ("blur",function(Ze){return V.consultaCEP(Ze.target.value)}),d.qZA(),d.YNc(15,Kt,2,1,"mat-error",4),d.qZA(),d.TgZ(16,"div",8),d.TgZ(17,"mat-form-field",9),d._UZ(18,"input",10),d.YNc(19,zt,2,1,"mat-error",4),d.qZA(),d.TgZ(20,"mat-form-field",11),d._UZ(21,"input",12),d.YNc(22,rn,2,1,"mat-error",4),d.qZA(),d.qZA(),d.TgZ(23,"mat-form-field",2),d._UZ(24,"input",13),d.YNc(25,pn,2,1,"mat-error",4),d.qZA(),d.TgZ(26,"mat-form-field",2),d._UZ(27,"input",14),d.YNc(28,Mn,2,1,"mat-error",4),d.qZA(),d.TgZ(29,"mat-form-field",2),d._UZ(30,"input",15),d.YNc(31,Vn,2,1,"mat-error",4),d.qZA(),d.TgZ(32,"mat-form-field",2),d._UZ(33,"textarea",16),d.qZA(),d.TgZ(34,"mat-form-field",2),d._UZ(35,"input",17),d.YNc(36,ki,2,1,"mat-error",4),d.qZA(),d.TgZ(37,"mat-form-field",18),d.TgZ(38,"mat-label"),d._uU(39,"Data de Matr\xedcula"),d.qZA(),d._UZ(40,"input",19),d._UZ(41,"mat-datepicker-toggle",20),d._UZ(42,"mat-datepicker",null,21),d.qZA(),d._UZ(44,"input",22),d.TgZ(45,"div",2),d.TgZ(46,"button",23),d._uU(47," Cadastrar "),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&w){const fe=d.MAs(43);d.xp6(1),d.Q6J("formGroup",V.formGroup),d.xp6(5),d.Q6J("ngIf",!V.name.valid&&V.name.touched),d.xp6(3),d.Q6J("ngIf",!V.phone.valid&&V.phone.touched),d.xp6(3),d.Q6J("ngIf",!V.email.valid&&V.email.touched),d.xp6(3),d.Q6J("ngIf",!V.zipCode.valid&&V.zipCode.touched),d.xp6(4),d.Q6J("ngIf",!V.street.valid&&V.street.touched),d.xp6(3),d.Q6J("ngIf",!V.number.valid&&V.number.touched),d.xp6(3),d.Q6J("ngIf",!V.district.valid&&V.district.touched),d.xp6(3),d.Q6J("ngIf",!V.city.valid&&V.city.touched),d.xp6(3),d.Q6J("ngIf",!V.uf.valid&&V.uf.touched),d.xp6(5),d.Q6J("ngIf",!V.paymentDay.valid&&V.paymentDay.touched),d.xp6(4),d.Q6J("matDatepicker",fe),d.xp6(1),d.Q6J("for",fe),d.xp6(5),d.Q6J("disabled",V.formGroup.invalid)}},directives:[m._Y,m.JL,m.sg,Rt.KE,Zt.Nt,m.Fj,m.JJ,m.u,_.O5,m.wV,m.qQ,m.Fd,Rt.hX,En,St,Rt.R9,yr,be.lW,Rt.TO],styles:[".container[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center}.form[_ngcontent-%COMP%]{min-width:150px;max-width:700px;width:100%}.form-element[_ngcontent-%COMP%]{padding:5px 0 25px 2px;width:100%}.button[_ngcontent-%COMP%]{width:100%}.street[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.numero[_ngcontent-%COMP%]{width:80px}.rua[_ngcontent-%COMP%]{width:550px}"]}),$})();var Ei=D(6830);function Br($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Ns($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Fs($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.getErrorEmail()," ")}}function ir($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Vi($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Ur($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function as($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Ss($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Pr($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.titleAlert," ")}}function Ls($,et){if(1&$&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&$){const w=d.oxw();d.xp6(1),d.hij(" ",w.errorDayNumber()," ")}}let go=(()=>{class ${constructor(w,V,fe,Ze,wn,oi,rr){this.formBuilder=w,this.cepService=V,this.crudApi=fe,this.toastr=Ze,this.router=wn,this.route=oi,this.db=rr,this.titleAlert="Campo Obrigat\xf3rio",this.post="",this.route.params.subscribe(Xi=>this.studentId=Xi.id),this.student=rr.list("/students",Xi=>Xi.orderByChild("id").equalTo(this.studentId))}ngOnInit(){null==localStorage.getItem("user")&&this.router.navigate(["/"]),this.createForm(),this.setChangeValidate(),this.setValuesForm()}setValuesForm(){this.crudApi.GetStudent(this.studentId).subscribe(w=>{this.currenteDayPayment=w.payload.data().paymentDay,this.currenteDayDueDate=w.payload.data().dueDate.toDate(),this.currenteDayRegistration=w.payload.data().registration.toDate(),this.formGroup.setValue({name:w.payload.data().name,zipCode:w.payload.data().zipCode,street:w.payload.data().street,number:w.payload.data().number,district:w.payload.data().district,city:w.payload.data().city,uf:w.payload.data().uf,registration:w.payload.data().registration.toDate(),email:w.payload.data().email,phone:w.payload.data().phone,paymentDay:w.payload.data().paymentDay,dueDate:w.payload.data().dueDate,description:w.payload.data().description})})}createForm(){this.formGroup=this.formBuilder.group({name:[null,m.kI.required],zipCode:[null,m.kI.required],street:[null,m.kI.required],number:[""],district:[null,m.kI.required],city:[null,m.kI.required],uf:[null,m.kI.required],registration:[Date.now().toString(),m.kI.required],email:[null,[m.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],phone:[null,m.kI.required],paymentDay:[null,m.kI.required],description:[null,[m.kI.maxLength(100)]],dueDate:[null]})}get name(){return this.formGroup.get("name")}get street(){return this.formGroup.get("street")}get number(){return this.formGroup.get("number")}get district(){return this.formGroup.get("district")}get city(){return this.formGroup.get("city")}get uf(){return this.formGroup.get("uf")}get phone(){return this.formGroup.get("phone")}get zipCode(){return this.formGroup.get("zipCode")}get email(){return this.formGroup.get("email")}get paymentDay(){return this.formGroup.get("paymentDay")}setChangeValidate(){var w;null===(w=this.formGroup.get("validate"))||void 0===w||w.valueChanges.subscribe(V=>{var fe,Ze,wn;"1"==V?(null===(fe=this.formGroup.get("name"))||void 0===fe||fe.setValidators([m.kI.required,m.kI.minLength(3)]),this.titleAlert="Nome precisa ter no min\xedmo 3 caracteres"):null===(Ze=this.formGroup.get("name"))||void 0===Ze||Ze.setValidators(m.kI.required),null===(wn=this.formGroup.get("name"))||void 0===wn||wn.updateValueAndValidity()})}checkInUseEmail(w){let V=["tony@gmail.com"];return new ws.y(fe=>{setTimeout(()=>{let Ze=-1!==V.indexOf(w.value)?{alreadyInUse:!0}:null;fe.next(Ze),fe.complete()},4e3)})}errorDayNumber(){var w,V,fe,Ze,wn;return(null===(w=this.formGroup.get("paymentDay"))||void 0===w?void 0:w.hasError("required"))?"Campo Obrigat\xf3rio":(null===(fe=null===(V=this.formGroup.get("paymentDay"))||void 0===V?void 0:V.errors)||void 0===fe?void 0:fe.min)||(null===(wn=null===(Ze=this.formGroup.get("paymentDay"))||void 0===Ze?void 0:Ze.errors)||void 0===wn?void 0:wn.max)?"Data escolhida n\xe3o existe":""}getErrorEmail(){var w,V,fe;return(null===(w=this.formGroup.get("email"))||void 0===w?void 0:w.hasError("required"))?"Campo obrigat\xf3rio":(null===(V=this.formGroup.get("email"))||void 0===V?void 0:V.hasError("pattern"))?"N\xe3o \xe9 um email v\xe1lido":(null===(fe=this.formGroup.get("email"))||void 0===fe?void 0:fe.hasError("alreadyInUse"))?"Email em uso":""}onSubmit(w){this.addDueDate(),this.submitStudentData()}ResetForm(){this.formGroup.reset()}submitStudentData(){this.crudApi.UpdateStudent(this.formGroup.value,this.studentId),this.toastr.success("Cadastro de"+this.formGroup.controls.name.value+" atualizado com sucesso!"),this.ResetForm(),this.router.navigate(["/"])}consultaCEP(w){null!=(w=w.replace(/\D/g,""))&&""!==w&&this.cepService.consultaCEP(w).subscribe(V=>this.populaDadosForm(V))}populaDadosForm(w){var V,fe,Ze,wn,oi;null===(V=this.formGroup.get("zipCode"))||void 0===V||V.setValue(w.cep),null===(fe=this.formGroup.get("street"))||void 0===fe||fe.setValue(w.logradouro),null===(Ze=this.formGroup.get("district"))||void 0===Ze||Ze.setValue(w.bairro),null===(wn=this.formGroup.get("city"))||void 0===wn||wn.setValue(w.localidade),null===(oi=this.formGroup.get("uf"))||void 0===oi||oi.setValue(w.uf)}formatPhoneNumber(w){var V;const fe=w.toString().replace(/\D/g,"");let Ze="";fe.length>12?Ze=fe.replace(/(\d{2})?(\d{2})?(\d{5})?(\d{4})/,"+$1 ($2) $3-$4"):fe.length>11?Ze=fe.replace(/(\d{2})?(\d{2})?(\d{4})?(\d{4})/,"+$1 ($2) $3-$4"):fe.length>10?Ze=fe.replace(/(\d{2})?(\d{5})?(\d{4})/,"($1) $2-$3"):fe.length>9?Ze=fe.replace(/(\d{2})?(\d{4})?(\d{4})/,"($1) $2-$3"):fe.length>5?Ze=fe.replace(/^(\d{2})?(\d{4})?(\d{0,4})/,"($1) $2-$3"):fe.length>1?Ze=fe.replace(/^(\d{2})?(\d{0,5})/,"($1) $2"):""!==w&&(Ze=fe.replace(/^(\d*)/,"($1")),null===(V=this.formGroup.get("phone"))||void 0===V||V.setValue(Ze)}addDueDate(){var w,V;let fe=this.formGroup.get("paymentDay").value,Ze=new Date;if(this.currenteDayPayment!=this.formGroup.get("paymentDay").value){let wn=this.formGroup.get("paymentDay").value,oi=this.currenteDayDueDate.getMonth(),rr=this.currenteDayDueDate.getFullYear();Ze=new Date(rr,oi,wn),null===(w=this.formGroup.get("dueDate"))||void 0===w||w.setValue(Ze)}else if(this.currenteDayRegistration!=this.formGroup.get("registration").value){Ze.setDate(fe);let wn=new Date(Ze.setMonth(Ze.getMonth()+1));null===(V=this.formGroup.get("dueDate"))||void 0===V||V.setValue(wn)}}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(m.qu),d.Y36(Ji),d.Y36(Jr),d.Y36(ds._W),d.Y36(Yr.F0),d.Y36(Yr.gz),d.Y36(Ei.KQ))},$.\u0275cmp=d.Xpm({type:$,selectors:[["app-edit-student"]],decls:48,vars:14,consts:[["novalidate","",1,"container"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-element"],["matInput","","placeholder","Nome","formControlName","name"],[4,"ngIf"],["type","tel","matInput","","placeholder","Telefone","formControlName","phone",3,"blur"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Cep","formControlName","zipCode",3,"blur"],[1,"street"],[1,"form-element","rua"],["matInput","","placeholder","Rua","formControlName","street"],[1,"form-element","numero"],["type","number","matInput","","placeholder","N\xfamero","formControlName","number"],["matInput","","placeholder","Bairro","formControlName","district"],["matInput","","placeholder","Cidade","formControlName","city"],["matInput","","placeholder","UF","formControlName","uf"],["matInput","","placeholder","Description","formControlName","description"],["type","number","matInput","","placeholder","Data de pagamento","formControlName","paymentDay","min","1","max","31"],["appearance","fill"],["formControlName","registration","matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["hidden","","formControlName","dueDate","type","date"],["mat-raised-button","","color","primary","type","submit",1,"button",3,"disabled"]],template:function(w,V){if(1&w&&(d.TgZ(0,"div",0),d.TgZ(1,"form",1),d.NdJ("ngSubmit",function(){return V.onSubmit(V.formGroup.value)}),d.TgZ(2,"h2"),d._uU(3,"Editar cadastro do Aluno(a)"),d.qZA(),d.TgZ(4,"mat-form-field",2),d._UZ(5,"input",3),d.YNc(6,Br,2,1,"mat-error",4),d.qZA(),d.TgZ(7,"mat-form-field",2),d.TgZ(8,"input",5),d.NdJ("blur",function(Ze){return V.formatPhoneNumber(Ze.target.value)}),d.qZA(),d.YNc(9,Ns,2,1,"mat-error",4),d.qZA(),d.TgZ(10,"mat-form-field",2),d._UZ(11,"input",6),d.YNc(12,Fs,2,1,"mat-error",4),d.qZA(),d.TgZ(13,"mat-form-field",2),d.TgZ(14,"input",7),d.NdJ("blur",function(Ze){return V.consultaCEP(Ze.target.value)}),d.qZA(),d.YNc(15,ir,2,1,"mat-error",4),d.qZA(),d.TgZ(16,"div",8),d.TgZ(17,"mat-form-field",9),d._UZ(18,"input",10),d.YNc(19,Vi,2,1,"mat-error",4),d.qZA(),d.TgZ(20,"mat-form-field",11),d._UZ(21,"input",12),d.YNc(22,Ur,2,1,"mat-error",4),d.qZA(),d.qZA(),d.TgZ(23,"mat-form-field",2),d._UZ(24,"input",13),d.YNc(25,as,2,1,"mat-error",4),d.qZA(),d.TgZ(26,"mat-form-field",2),d._UZ(27,"input",14),d.YNc(28,Ss,2,1,"mat-error",4),d.qZA(),d.TgZ(29,"mat-form-field",2),d._UZ(30,"input",15),d.YNc(31,Pr,2,1,"mat-error",4),d.qZA(),d.TgZ(32,"mat-form-field",2),d._UZ(33,"textarea",16),d.qZA(),d.TgZ(34,"mat-form-field",2),d._UZ(35,"input",17),d.YNc(36,Ls,2,1,"mat-error",4),d.qZA(),d.TgZ(37,"mat-form-field",18),d.TgZ(38,"mat-label"),d._uU(39,"Data de Matr\xedcula"),d.qZA(),d._UZ(40,"input",19),d._UZ(41,"mat-datepicker-toggle",20),d._UZ(42,"mat-datepicker",null,21),d.qZA(),d._UZ(44,"input",22),d.TgZ(45,"div",2),d.TgZ(46,"button",23),d._uU(47," Atualizar Cadastro "),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&w){const fe=d.MAs(43);d.xp6(1),d.Q6J("formGroup",V.formGroup),d.xp6(5),d.Q6J("ngIf",!V.name.valid&&V.name.touched),d.xp6(3),d.Q6J("ngIf",!V.phone.valid&&V.phone.touched),d.xp6(3),d.Q6J("ngIf",!V.email.valid&&V.email.touched),d.xp6(3),d.Q6J("ngIf",!V.zipCode.valid&&V.zipCode.touched),d.xp6(4),d.Q6J("ngIf",!V.street.valid&&V.street.touched),d.xp6(3),d.Q6J("ngIf",!V.number.valid&&V.number.touched),d.xp6(3),d.Q6J("ngIf",!V.district.valid&&V.district.touched),d.xp6(3),d.Q6J("ngIf",!V.city.valid&&V.city.touched),d.xp6(3),d.Q6J("ngIf",!V.uf.valid&&V.uf.touched),d.xp6(5),d.Q6J("ngIf",!V.paymentDay.valid&&V.paymentDay.touched),d.xp6(4),d.Q6J("matDatepicker",fe),d.xp6(1),d.Q6J("for",fe),d.xp6(5),d.Q6J("disabled",V.formGroup.invalid)}},directives:[m._Y,m.JL,m.sg,Rt.KE,Zt.Nt,m.Fj,m.JJ,m.u,_.O5,m.wV,m.qQ,m.Fd,Rt.hX,En,St,Rt.R9,yr,be.lW,Rt.TO],styles:[".container[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center}.form[_ngcontent-%COMP%]{min-width:150px;max-width:700px;width:100%}.form-element[_ngcontent-%COMP%]{padding:5px 0 25px 2px;width:100%}.button[_ngcontent-%COMP%]{width:100%}.street[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.numero[_ngcontent-%COMP%]{width:80px}.rua[_ngcontent-%COMP%]{width:550px}"]}),$})();var Ms=D(9692),jo=D(6627);let Ar=(()=>{class ${transform(w){if(w){const V=w.toString().replace(/\D/g,"");let fe="";return V.length>12?fe=V.replace(/(\d{2})?(\d{2})?(\d{5})?(\d{4})/,"+$1 ($2) $3-$4"):V.length>11?fe=V.replace(/(\d{2})?(\d{2})?(\d{4})?(\d{4})/,"+$1 ($2) $3-$4"):V.length>10?fe=V.replace(/(\d{2})?(\d{5})?(\d{4})/,"($1) $2-$3"):V.length>9?fe=V.replace(/(\d{2})?(\d{4})?(\d{4})/,"($1) $2-$3"):V.length>5?fe=V.replace(/^(\d{2})?(\d{4})?(\d{0,4})/,"($1) $2-$3"):V.length>1?fe=V.replace(/^(\d{2})?(\d{0,5})/,"($1) $2"):""!==w&&(fe=V.replace(/^(\d*)/,"($1")),fe}}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275pipe=d.Yjl({name:"phone",type:$,pure:!0}),$})();const hs=["modal"],fs=["modalDelete"];function hr($,et){1&$&&(d.TgZ(0,"th",21),d._uU(1,"Nome"),d.qZA())}function ns($,et){if(1&$&&(d.TgZ(0,"td",22),d._uU(1),d.qZA()),2&$){const w=et.$implicit;d.xp6(1),d.Oqu(w.name)}}function ps($,et){1&$&&(d.TgZ(0,"th",21),d._uU(1,"Vencimento"),d.qZA())}function Vs($,et){1&$&&(d.TgZ(0,"button",25),d.TgZ(1,"mat-icon"),d._uU(2,"error"),d.qZA(),d.qZA())}const Hr=function($){return{error:$}};function ao($,et){if(1&$){const w=d.EpF();d.TgZ(0,"td",23),d.NdJ("click",function(){const Ze=d.CHM(w).$implicit;return d.oxw().openDialog(Ze.dueDate.toDate(),Ze)}),d._uU(1),d.ALo(2,"date"),d.YNc(3,Vs,3,0,"button",24),d.qZA()}if(2&$){const w=et.$implicit,V=d.oxw();d.Q6J("ngClass",d.VKq(6,Hr,V.verifyDueDate(w.dueDate.toDate()))),d.xp6(1),d.hij(" ",d.xi3(2,3,w.dueDate.toDate(),"dd/MM/Y")," "),d.xp6(2),d.Q6J("ngIf",V.verifyDueDate(w.dueDate.toDate()))}}function jr($,et){1&$&&(d.TgZ(0,"th",26),d._uU(1,"Telefone"),d.qZA())}function cr($,et){if(1&$&&(d.TgZ(0,"td",27),d._uU(1),d.ALo(2,"phone"),d.qZA()),2&$){const w=et.$implicit;d.xp6(1),d.hij(" ",d.lcZ(2,1,w.phone)," ")}}function Ri($,et){1&$&&(d.TgZ(0,"th",21),d._uU(1,"A\xe7\xf5es"),d.qZA())}function yo($,et){if(1&$){const w=d.EpF();d.TgZ(0,"td",22),d.TgZ(1,"div"),d.TgZ(2,"button",28),d.NdJ("click",function(){const Ze=d.CHM(w).$implicit;return d.oxw().edit(Ze)}),d.TgZ(3,"mat-icon"),d._uU(4,"edit"),d.qZA(),d.qZA(),d.TgZ(5,"button",29),d.NdJ("click",function(){const Ze=d.CHM(w).$implicit;return d.oxw().openDialogDelete(Ze)}),d.TgZ(6,"mat-icon"),d._uU(7,"delete"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}}function Bs($,et){1&$&&d._UZ(0,"tr",30)}function Zr($,et){1&$&&d._UZ(0,"tr",31)}function Nr($,et){if(1&$&&(d.TgZ(0,"tr",32),d.TgZ(1,"td",33),d._uU(2),d.qZA(),d.qZA()),2&$){d.oxw();const w=d.MAs(5);d.xp6(2),d.hij(' Sem resultados para "',w.value,'" ')}}function K($,et){1&$&&(d.TgZ(0,"h2",34),d._uU(1,"Aluno(a) com pagamento pendente"),d.qZA(),d.TgZ(2,"mat-dialog-content",35),d.TgZ(3,"h3"),d._uU(4,"Deseja dar baixa no pagamento?"),d.qZA(),d.TgZ(5,"p"),d._uU(6," Ao dar baixa no pagamento o aluno(a) ser\xe1 liberado(a) para atividades. "),d.qZA(),d.qZA(),d.TgZ(7,"mat-dialog-actions",36),d.TgZ(8,"button",37),d._uU(9,"Cancelar"),d.qZA(),d.TgZ(10,"button",38),d._uU(11," Baixar Pagamento "),d.qZA(),d.qZA()),2&$&&(d.xp6(10),d.Q6J("mat-dialog-close",!0))}function Ve($,et){1&$&&(d.TgZ(0,"h2",34),d._uU(1,"Excluir Aluno(a)"),d.qZA(),d.TgZ(2,"mat-dialog-content",35),d.TgZ(3,"h3"),d._uU(4,"Deseja realmente excluir o aluno(a)?"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Ao excluir o aluno(a) n\xe3o ser\xe1 poss\xedvel restaurar o mesmo."),d.qZA(),d.qZA(),d.TgZ(7,"mat-dialog-actions",36),d.TgZ(8,"button",37),d._uU(9,"Cancelar"),d.qZA(),d.TgZ(10,"button",38),d._uU(11," Excluir "),d.qZA(),d.qZA()),2&$&&(d.xp6(10),d.Q6J("mat-dialog-close",!0))}const ne=function(){return[5,10,20]},N=[{path:"",redirectTo:"/view-students",pathMatch:"full"},{path:"register-student",component:Ci},{path:"view-students",component:(()=>{class ${constructor(w,V,fe,Ze){this.service=w,this.router=V,this.dialog=fe,this.toastr=Ze,this.displayedColumns=["name","dueDate","phone","actions"],this.studentList=[],this.dataSource=new lr.by}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){null==localStorage.getItem("user")&&this.router.navigate(["/"]),this.getAllStudents()}getAllStudents(){this.service.GetStudentsList().subscribe(w=>{this.studentList=w.map(V=>{const fe=V.payload.doc.data();return fe.id=V.payload.doc.id,fe}),this.dataSource=new lr.by(this.studentList),this.dataSource.paginator=this.paginator},w=>{console.error(w)})}applyFilter(w){this.dataSource.filter=w.target.value.trim().toLowerCase()}edit(w){this.router.navigate([`/edit-student/${w.id}`])}verifyDueDate(w){let V;return V=new Date,V.getMonth()>w.getMonth()||V.getFullYear()>w.getFullYear()}openDialog(w,V){if(this.verifyDueDate(w)){const fe=this.dialog.open(this.modal),Ze=new Date;fe.afterClosed().subscribe(wn=>{wn&&(V.dueDate=Ze,this.service.UpdateStudent(V,V.id),this.toastr.success("Baixa do pagamento realizado com sucesso!"))})}}openDialogDelete(w){this.dialog.open(this.modalDelete).afterClosed().subscribe(fe=>{fe&&(this.service.DeleteStudent(w.id),this.toastr.error("Aluno(a) excluido com sucesso!"))})}add(){this.router.navigate(["/register-student"])}}return $.\u0275fac=function(w){return new(w||$)(d.Y36(Jr),d.Y36(Yr.F0),d.Y36(Mr.uw),d.Y36(ds._W))},$.\u0275cmp=d.Xpm({type:$,selectors:[["app-students"]],viewQuery:function(w,V){if(1&w&&(d.Gf(hs,5),d.Gf(fs,5),d.Gf(Ms.NW,5)),2&w){let fe;d.iGM(fe=d.CRH())&&(V.modal=fe.first),d.iGM(fe=d.CRH())&&(V.modalDelete=fe.first),d.iGM(fe=d.CRH())&&(V.paginator=fe.first)}},decls:30,vars:5,consts:[[1,"container"],["appearance","standard"],["matInput","","placeholder","Nome",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dueDate"],["mat-cell","","mat-button","",3,"ngClass","click",4,"matCellDef"],["matColumnDef","phone"],["mat-header-cell","","class","visible",4,"matHeaderCellDef"],["class","visible","mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-fab","","color","primary",1,"fab",3,"click"],["modal",""],["modalDelete",""],["mat-header-cell",""],["mat-cell",""],["mat-cell","","mat-button","",3,"ngClass","click"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon",4,"ngIf"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon"],["mat-header-cell","",1,"visible"],["mat-cell","",1,"visible"],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",3,"click"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","","color","warn",3,"mat-dialog-close"]],template:function(w,V){1&w&&(d.TgZ(0,"div",0),d.TgZ(1,"mat-form-field",1),d.TgZ(2,"mat-label"),d._uU(3,"Pesquisa"),d.qZA(),d.TgZ(4,"input",2,3),d.NdJ("keyup",function(Ze){return V.applyFilter(Ze)}),d.qZA(),d.qZA(),d.TgZ(6,"table",4),d.ynx(7,5),d.YNc(8,hr,2,0,"th",6),d.YNc(9,ns,2,1,"td",7),d.BQk(),d.ynx(10,8),d.YNc(11,ps,2,0,"th",6),d.YNc(12,ao,4,8,"td",9),d.BQk(),d.ynx(13,10),d.YNc(14,jr,2,0,"th",11),d.YNc(15,cr,3,3,"td",12),d.BQk(),d.ynx(16,13),d.YNc(17,Ri,2,0,"th",6),d.YNc(18,yo,8,0,"td",7),d.BQk(),d.YNc(19,Bs,1,0,"tr",14),d.YNc(20,Zr,1,0,"tr",15),d.YNc(21,Nr,3,1,"tr",16),d.qZA(),d._UZ(22,"mat-paginator",17),d.TgZ(23,"button",18),d.NdJ("click",function(){return V.add()}),d.TgZ(24,"mat-icon"),d._uU(25,"add"),d.qZA(),d.qZA(),d.qZA(),d.YNc(26,K,12,1,"ng-template",null,19,d.W1O),d.YNc(28,Ve,12,1,"ng-template",null,20,d.W1O)),2&w&&(d.xp6(6),d.Q6J("dataSource",V.dataSource),d.xp6(13),d.Q6J("matHeaderRowDef",V.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",V.displayedColumns),d.xp6(2),d.Q6J("pageSizeOptions",d.DdM(4,ne)))},directives:[Rt.KE,Rt.hX,Zt.Nt,lr.BZ,lr.w1,lr.fO,lr.Dz,lr.as,lr.nj,lr.Ee,Ms.NW,be.lW,jo.Hw,lr.ge,lr.ev,_.mk,_.O5,lr.XQ,lr.Gk,Mr.uh,Mr.xY,Mr.H8,Mr.ZT],pipes:[_.uU,Ar],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{padding:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.error[_ngcontent-%COMP%]{color:red;font-weight:bold}.fab[_ngcontent-%COMP%]{position:absolute;bottom:35px;right:35px}@media screen and (max-width: 738px){.container[_ngcontent-%COMP%]{padding:0}.visible[_ngcontent-%COMP%]{display:none}}"]}),$})()},{path:"edit-student/:id",component:go}];let F=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[[Yr.Bz.forChild(N)],Yr.Bz]}),$})(),ye=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[[_.ez,F,m.UX,ss.q,tr.m,Es,lr.p0,ut,Mr.Is]]}),$})()},7521:(In,mt,D)=>{"use strict";var _=D(9075),m=D(7716),y=D(2458),d=D(6237),he=D(8239),U=D(3679),De=D(8951),le=D(5987),Ee=D(3738),se=D(8295),Te=D(9983),oe=D(8583),Ye=D(1095);function tt(Q,J){if(1&Q&&(m.TgZ(0,"mat-error"),m._uU(1),m.qZA()),2&Q){const Re=m.oxw();m.xp6(1),m.hij(" ",Re.getErrorEmail()," ")}}let Xe=(()=>{class Q{constructor(Re,it,kt){this.formBuilder=Re,this.authService=it,this.router=kt,this.isSignedIn=!1}ngOnInit(){null!==localStorage.getItem("user")?(this.isSignedIn=!0,this.router.navigate(["/home"])):this.isSignedIn=!1,this.createForm()}createForm(){this.formGroup=this.formBuilder.group({email:[null,[U.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],password:[null,U.kI.required]})}get email(){return this.formGroup.get("email")}get password(){return this.formGroup.get("password")}onSubmit(){var Re=this;return(0,he.Z)(function*(){let it=yield Re.authService.signin(Re.email.value,Re.password.value);console.log(it),Re.authService.isLogged&&(Re.isSignedIn=!0,Re.router.navigate(["home"]))})()}getErrorEmail(){var Re,it,kt;return(null===(Re=this.formGroup.get("email"))||void 0===Re?void 0:Re.hasError("required"))?"Campo obrigat\xf3rio":(null===(it=this.formGroup.get("email"))||void 0===it?void 0:it.hasError("pattern"))?"N\xe3o \xe9 um email v\xe1lido":(null===(kt=this.formGroup.get("email"))||void 0===kt?void 0:kt.hasError("alreadyInUse"))?"Email em uso":""}}return Q.\u0275fac=function(Re){return new(Re||Q)(m.Y36(U.qu),m.Y36(De.e),m.Y36(le.F0))},Q.\u0275cmp=m.Xpm({type:Q,selectors:[["app-login"]],decls:12,vars:3,consts:[[1,"center-page"],[3,"formGroup","ngSubmit"],["src","assets/logo.jpg","alt","logo"],["matInput","","placeholder","Email","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Senha","formControlName","password"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(Re,it){1&Re&&(m.TgZ(0,"div",0),m.TgZ(1,"mat-card"),m.TgZ(2,"mat-card-content"),m.TgZ(3,"form",1),m.NdJ("ngSubmit",function(){return it.onSubmit()}),m._UZ(4,"img",2),m.TgZ(5,"mat-form-field"),m._UZ(6,"input",3),m.YNc(7,tt,2,1,"mat-error",4),m.qZA(),m.TgZ(8,"mat-form-field"),m._UZ(9,"input",5),m.qZA(),m.TgZ(10,"button",6),m._uU(11," Entrar "),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&Re&&(m.xp6(3),m.Q6J("formGroup",it.formGroup),m.xp6(4),m.Q6J("ngIf",!it.email.valid&&it.email.touched),m.xp6(3),m.Q6J("disabled",!it.formGroup.valid))},directives:[Ee.a8,Ee.dn,U._Y,U.JL,U.sg,se.KE,Te.Nt,U.Fj,U.JJ,U.u,oe.O5,Ye.lW,se.TO],styles:[".center-page[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.center-page[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{max-width:400px;margin:auto;text-align:center;padding:20px;box-shadow:none}.center-page[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:10px;padding:10px}.center-page[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:20px 0;text-transform:uppercase;background-color:#63aaa2}"]}),Q})();var nt=D(4384);let Me=(()=>{class Q{constructor(Re){this.db=Re}GetStudentsList(){return this.db.collection("/Students").snapshotChanges()}GetClassList(){return this.db.collection("/Class").snapshotChanges()}}return Q.\u0275fac=function(Re){return new(Re||Q)(m.LFG(nt.ST))},Q.\u0275prov=m.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();const Qe=function(){return["/students"]},Qt=function(){return["/register-student"]};let hn=(()=>{class Q{constructor(Re,it){this.service=Re,this.router=it}ngOnInit(){null==localStorage.getItem("user")&&this.router.navigate(["/"]),this.getAllStudents()}getAllStudents(){this.service.GetStudentsList().subscribe(Re=>{this.studentList=Re.map(it=>{const kt=it.payload.doc.data();return kt.id=it.payload.doc.id,kt})},Re=>{console.error(Re)})}}return Q.\u0275fac=function(Re){return new(Re||Q)(m.Y36(Me),m.Y36(le.F0))},Q.\u0275cmp=m.Xpm({type:Q,selectors:[["app-card-students"]],decls:11,vars:5,consts:[[3,"routerLink"],[1,"material-icons","icon"],[1,"material-icons","icon-add"]],template:function(Re,it){1&Re&&(m.TgZ(0,"mat-card"),m.TgZ(1,"h2"),m._uU(2,"TOTAL DE ALUNOS"),m.qZA(),m.TgZ(3,"a",0),m.TgZ(4,"i",1),m._uU(5,"group"),m.qZA(),m.qZA(),m.TgZ(6,"a",0),m.TgZ(7,"i",2),m._uU(8,"add"),m.qZA(),m.qZA(),m.TgZ(9,"span"),m._uU(10),m.qZA(),m.qZA()),2&Re&&(m.xp6(3),m.Q6J("routerLink",m.DdM(3,Qe)),m.xp6(3),m.Q6J("routerLink",m.DdM(4,Qt)),m.xp6(4),m.Oqu(null==it.studentList?null:it.studentList.length))},directives:[Ee.a8,le.yS],styles:["mat-card[_ngcontent-%COMP%]{width:450px;height:200px;background-color:#008b8b}h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:80px}.icon[_ngcontent-%COMP%]{color:#fff3;position:absolute;font-size:100px;top:10px;right:10px;cursor:pointer}span[_ngcontent-%COMP%]{font-size:120px;color:#fff}.icon-add[_ngcontent-%COMP%]{color:#ffffff80;position:absolute;font-size:100px;bottom:30px;right:10px;cursor:pointer}@media screen and (max-width: 978px){mat-card[_ngcontent-%COMP%]{width:350px}}@media screen and (max-width: 810px){mat-card[_ngcontent-%COMP%]{width:320px;margin-top:20px}}"]}),Q})();var Gt=D(9047),Et=D(2290);const ut=function(){return["/class"]};let Ke=(()=>{class Q{constructor(Re,it,kt,on){this.service=Re,this.classService=it,this.router=kt,this.toastr=on}ngOnInit(){null==localStorage.getItem("user")&&this.router.navigate(["/"]),this.getAllClass()}getAllClass(){var Re=this;return(0,he.Z)(function*(){yield Re.service.GetClassList().subscribe(it=>{Re.classList=it.map(kt=>{const on=kt.payload.doc.data();return on.id=kt.payload.doc.id,on})},it=>{console.error(it)})})()}createClass(){var Re=this;return(0,he.Z)(function*(){yield Re.classService.AddClass(),Re.toastr.info("Nova turma criado com sucesso")})()}}return Q.\u0275fac=function(Re){return new(Re||Q)(m.Y36(Me),m.Y36(Gt.j),m.Y36(le.F0),m.Y36(Et._W))},Q.\u0275cmp=m.Xpm({type:Q,selectors:[["app-card-class"]],decls:11,vars:3,consts:[[3,"routerLink"],[1,"material-icons","icon"],[3,"click"],[1,"material-icons","icon-add"]],template:function(Re,it){1&Re&&(m.TgZ(0,"mat-card"),m.TgZ(1,"h2"),m._uU(2,"TOTAL DE TURMAS"),m.qZA(),m.TgZ(3,"a",0),m.TgZ(4,"i",1),m._uU(5,"class"),m.qZA(),m.qZA(),m.TgZ(6,"a",2),m.NdJ("click",function(){return it.createClass()}),m.TgZ(7,"i",3),m._uU(8,"add"),m.qZA(),m.qZA(),m.TgZ(9,"span"),m._uU(10),m.qZA(),m.qZA()),2&Re&&(m.xp6(3),m.Q6J("routerLink",m.DdM(2,ut)),m.xp6(7),m.Oqu(null==it.classList?null:it.classList.length))},directives:[Ee.a8,le.yS],styles:["mat-card[_ngcontent-%COMP%]{width:450px;height:200px;background-color:#6495ed}h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:80px}.icon[_ngcontent-%COMP%]{color:#fff3;position:absolute;font-size:100px;top:10px;right:10px;cursor:pointer}span[_ngcontent-%COMP%]{font-size:120px;color:#fff}.icon-add[_ngcontent-%COMP%]{color:#ffffff80;position:absolute;font-size:100px;bottom:30px;right:10px;cursor:pointer}@media screen and (max-width: 978px){mat-card[_ngcontent-%COMP%]{width:350px}}@media screen and (max-width: 810px){mat-card[_ngcontent-%COMP%]{width:320px;margin-top:20px}}"]}),Q})();const be=[{path:"",component:Xe},{path:"home",component:(()=>{class Q{constructor(Re,it){this.authService=Re,this.router=it,this.isLogout=new m.vpe}ngOnInit(){null===localStorage.getItem("user")&&this.router.navigate(["/"])}logout(){this.authService.logout(),this.isLogout.emit()}}return Q.\u0275fac=function(Re){return new(Re||Q)(m.Y36(De.e),m.Y36(le.F0))},Q.\u0275cmp=m.Xpm({type:Q,selectors:[["app-home"]],outputs:{isLogout:"isLogout"},decls:3,vars:0,consts:[[1,"container"]],template:function(Re,it){1&Re&&(m.TgZ(0,"div",0),m._UZ(1,"app-card-students"),m._UZ(2,"app-card-class"),m.qZA())},directives:[hn,Ke],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}@media screen and (max-width: 738px){.container[_ngcontent-%COMP%]{padding:0;flex-direction:column}}"]}),Q})()},{path:"students",loadChildren:()=>Promise.resolve().then(D.bind(D,7268)).then(Q=>Q.StudentsModule)},{path:"account",loadChildren:()=>Promise.resolve().then(D.bind(D,6758)).then(Q=>Q.CreateAccountModule)},{path:"class",loadChildren:()=>Promise.resolve().then(D.bind(D,3822)).then(Q=>Q.ClassModule)}];let q=(()=>{class Q{}return Q.\u0275fac=function(Re){return new(Re||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({imports:[[le.Bz.forRoot(be)],le.Bz]}),Q})();var ke=D(3017),yt=D(9992),Ot=D(6627);function un(Q,J){if(1&Q){const Re=m.EpF();m.TgZ(0,"mat-icon",14),m.NdJ("click",function(){return m.CHM(Re),m.oxw(),m.MAs(2).toggle()}),m._uU(1,"menu"),m.qZA()}}function Ut(Q,J){if(1&Q){const Re=m.EpF();m.TgZ(0,"mat-icon",14),m.NdJ("click",function(){return m.CHM(Re),m.oxw(),m.MAs(2).toggle()}),m._uU(1,"close"),m.qZA()}}let jn=(()=>{class Q{constructor(Re,it){this.auth=Re,this.router=it,this.events=[],this.opened=!1}ngOnInit(){localStorage.getItem("user")}logout(){this.auth.logout(),this.router.navigate(["/"])}}return Q.\u0275fac=function(Re){return new(Re||Q)(m.Y36(De.e),m.Y36(le.F0))},Q.\u0275cmp=m.Xpm({type:Q,selectors:[["app-nav"]],decls:32,vars:3,consts:[[1,"container"],["mode","side",1,"sidenav",3,"opened","openedChange"],["sidenav",""],["src","assets/logo.jpg","alt","logo",1,"logo"],[1,"nav-list"],["mat-list-item","","routerLink","/"],[1,"material-icons"],["mat-list-item","","routerLink","/students"],["mat-list-item","","routerLink","/class"],["mat-list-item","","routerLink","/account"],[1,"menu-nav"],["aria-hidden","false","aria-label","Example home icon",3,"click",4,"ngIf"],[1,"logout",3,"click"],[1,"content"],["aria-hidden","false","aria-label","Example home icon",3,"click"]],template:function(Re,it){1&Re&&(m.TgZ(0,"mat-sidenav-container",0),m.TgZ(1,"mat-sidenav",1,2),m.NdJ("openedChange",function(on){return it.opened=on}),m._UZ(3,"img",3),m.TgZ(4,"mat-nav-list",4),m.TgZ(5,"a",5),m.TgZ(6,"i",6),m._uU(7,"home"),m.qZA(),m._uU(8,"In\xedcio "),m.qZA(),m.TgZ(9,"a",7),m.TgZ(10,"i",6),m._uU(11,"group"),m.qZA(),m._uU(12,"Alunos "),m.qZA(),m.TgZ(13,"a",8),m.TgZ(14,"i",6),m._uU(15,"class"),m.qZA(),m._uU(16,"Turmas "),m.qZA(),m.TgZ(17,"a",9),m.TgZ(18,"i",6),m._uU(19,"settings"),m.qZA(),m._uU(20,"Admin "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(21,"mat-sidenav-content"),m.TgZ(22,"div",10),m.TgZ(23,"div"),m.YNc(24,un,2,0,"mat-icon",11),m.YNc(25,Ut,2,0,"mat-icon",11),m.qZA(),m.TgZ(26,"div",12),m.NdJ("click",function(){return it.logout()}),m.TgZ(27,"i",6),m._uU(28,"logout"),m.qZA(),m._uU(29,"Sair "),m.qZA(),m.qZA(),m.TgZ(30,"div",13),m._UZ(31,"router-outlet"),m.qZA(),m.qZA(),m.qZA()),2&Re&&(m.xp6(1),m.Q6J("opened",it.opened),m.xp6(23),m.Q6J("ngIf",!it.opened),m.xp6(1),m.Q6J("ngIf",it.opened))},directives:[ke.TM,ke.JX,yt.Hk,yt.Tg,le.yS,ke.Rh,oe.O5,le.lC,Ot.Hw],styles:[".container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.sidenav[_ngcontent-%COMP%]{background-color:#66aaa2;width:200px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.sidenav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:10px}.logo[_ngcontent-%COMP%]{width:100%}.menu-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#66aaa2;color:#fff;padding:0 10px 2px 0}.logout[_ngcontent-%COMP%]{cursor:pointer}.logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}.logout[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px}.content[_ngcontent-%COMP%]{padding:20px}mat-sidenav-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;margin:10px 0 0 10px}"]}),Q})(),ii=(()=>{class Q{constructor(){this.title="funcional-thai"}}return Q.\u0275fac=function(Re){return new(Re||Q)},Q.\u0275cmp=m.Xpm({type:Q,selectors:[["app-root"]],decls:1,vars:0,template:function(Re,it){1&Re&&m._UZ(0,"app-nav")},directives:[jn],styles:[""]}),Q})();var Gn=D(3822),Qn=D(6758);let kn=(()=>{class Q{}return Q.\u0275fac=function(Re){return new(Re||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({imports:[[oe.ez,le.Bz,ke.SJ,Ot.Ps,Ee.QW,yt.ie]]}),Q})();var Rt=D(2522),Zt=D(5384),Ae=D(2789),de=D(5396),te=D(7441);let Be=(()=>{class Q{}return Q.\u0275fac=function(Re){return new(Re||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({imports:[[oe.ez,U.u5,Rt.g0,Te.c,Ee.QW,Zt.Tx,Ot.Ps,Ye.ot,Ae.p0,de.rP,te.LD,y.Ng,U.UX]]}),Q})();var Pe=D(7268);let bt=(()=>{class Q{}return Q.\u0275fac=function(Re){return new(Re||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({imports:[[oe.ez,Ot.Ps,le.Bz,ke.SJ,yt.ie]]}),Q})();var ct=D(8939),Ft=D(3820),me=D(7574),rt=D(5917),je=D(4402),We=D(4395),at=D(8002),fn=D(3190),jt=D(2310),cn=D(3394),Ln=D(8026),pt=D(3854),ue=D(3910);const B="firebasestorage.googleapis.com",H="storageBucket";class ge extends pt.ZR{constructor(J,Re){super(Ue(J),`Firebase Storage: ${Re} (${Ue(J)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ge.prototype)}_codeEquals(J){return Ue(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Ue(Q){return"storage/"+Q}function Bt(){return new ge("unknown","An unknown error occurred, please check the error payload for server response.")}function ft(){return new ge("canceled","User canceled the upload/download.")}function Ct(){return new ge("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bn(Q){return new ge("invalid-argument",Q)}function _t(){return new ge("app-deleted","The Firebase app was deleted.")}function Nt(Q){return new ge("invalid-root-operation","The operation '"+Q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pe(Q,J){return new ge("invalid-format","String does not match format '"+Q+"': "+J)}function we(Q){throw new ge("internal-error","Internal error: "+Q)}class Oe{constructor(J,Re){this.bucket=J,this.path_=Re}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,Re){let it;try{it=Oe.makeFromUrl(J,Re)}catch(kt){return new Oe(J,"")}if(""===it.path)return it;throw new ge("invalid-default-bucket","Invalid default bucket '"+J+"'.")}static makeFromUrl(J,Re){let it=null;const kt="([A-Za-z0-9.\\-_]+)",ci=new RegExp("^gs://"+kt+"(/(.*))?$","i");function Di(Is){Is.path_=decodeURIComponent(Is.path)}const Ir=Re.replace(/[.]/g,"\\."),gs=[{regex:ci,indices:{bucket:1,path:3},postModify:function(Is){"/"===Is.path.charAt(Is.path.length-1)&&(Is.path_=Is.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ir}/v[A-Za-z0-9_]+/b/${kt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Di},{regex:new RegExp(`^https?://${Re===B?"(?:storage.googleapis.com|storage.cloud.google.com)":Re}/${kt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Di}];for(let Is=0;Is<gs.length;Is++){const Ko=gs[Is],Rr=Ko.regex.exec(J);if(Rr){let io=Rr[Ko.indices.path];io||(io=""),it=new Oe(Rr[Ko.indices.bucket],io),Ko.postModify(it);break}}if(null==it)throw new ge("invalid-url","Invalid URL '"+J+"'.");return it}}class Tt{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function Wi(Q){return"string"==typeof Q||Q instanceof String}function Ai(Q){return Hi()&&Q instanceof Blob}function Hi(){return"undefined"!=typeof Blob}function vr(Q,J,Re,it){if(it<J)throw Bn(`Invalid value for '${Q}'. Expected ${J} or greater.`);if(it>Re)throw Bn(`Invalid value for '${Q}'. Expected ${Re} or less.`)}function qi(Q,J,Re){let it=J;return null==Re&&(it=`https://${J}`),`${Re}://${it}/v0${Q}`}function $r(Q){const J=encodeURIComponent;let Re="?";for(const it in Q)Q.hasOwnProperty(it)&&(Re=Re+(J(it)+"=")+J(Q[it])+"&");return Re=Re.slice(0,-1),Re}var Li=(()=>{return(Q=Li||(Li={}))[Q.NO_ERROR=0]="NO_ERROR",Q[Q.NETWORK_ERROR=1]="NETWORK_ERROR",Q[Q.ABORT=2]="ABORT",Li;var Q})();class Kn{constructor(J,Re,it,kt,on,On,ci,ti,Di,or,Ir){this.url_=J,this.method_=Re,this.headers_=it,this.body_=kt,this.successCodes_=on,this.additionalRetryCodes_=On,this.callback_=ci,this.errorCallback_=ti,this.timeout_=Di,this.progressCallback_=or,this.connectionFactory_=Ir,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((zi,es)=>{this.resolve_=zi,this.reject_=es,this.start_()})}start_(){const Re=(it,kt)=>{const on=this.resolve_,On=this.reject_,ci=kt.connection;if(kt.wasSuccessCode)try{const ti=this.callback_(ci,ci.getResponse());void 0!==ti?on(ti):on()}catch(ti){On(ti)}else if(null!==ci){const ti=Bt();ti.serverResponse=ci.getErrorText(),On(this.errorCallback_?this.errorCallback_(ci,ti):ti)}else On(kt.canceled?this.appDelete_?_t():ft():new ge("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?Re(0,new si(!1,null,!0)):this.backoffId_=function(Q,J,Re){let it=1,kt=null,on=null,On=!1,ci=0;function ti(){return 2===ci}let Di=!1;function or(...ms){Di||(Di=!0,J.apply(null,ms))}function Ir(ms){kt=setTimeout(()=>{kt=null,Q(es,ti())},ms)}function zi(){on&&clearTimeout(on)}function es(ms,...Ts){if(Di)return void zi();if(ms)return zi(),void or.call(null,ms,...Ts);if(ti()||On)return zi(),void or.call(null,ms,...Ts);let gs;it<64&&(it*=2),1===ci?(ci=2,gs=0):gs=1e3*(it+Math.random()),Ir(gs)}let Ds=!1;function xs(ms){Ds||(Ds=!0,zi(),!Di&&(null!==kt?(ms||(ci=2),clearTimeout(kt),Ir(0)):ms||(ci=1)))}return Ir(0),on=setTimeout(()=>{On=!0,xs(!0)},Re),xs}((it,kt)=>{if(kt)return void it(!1,new si(!1,null,!0));const on=this.connectionFactory_();this.pendingConnection_=on;const On=ci=>{null!==this.progressCallback_&&this.progressCallback_(ci.loaded,ci.lengthComputable?ci.total:-1)};null!==this.progressCallback_&&on.addUploadProgressListener(On),on.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&on.removeUploadProgressListener(On),this.pendingConnection_=null;const ci=on.getErrorCode()===Li.NO_ERROR,ti=on.getStatus();if(!ci||this.isRetryStatusCode_(ti)){const or=on.getErrorCode()===Li.ABORT;return void it(!1,new si(!1,null,or))}const Di=-1!==this.successCodes_.indexOf(ti);it(!0,new si(Di,on))})},Re,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(J){const Re=J>=500&&J<600,kt=-1!==[408,429].indexOf(J),on=-1!==this.additionalRetryCodes_.indexOf(J);return Re||kt||on}}class si{constructor(J,Re,it){this.wasSuccessCode=J,this.connection=Re,this.canceled=!!it}}function Xt(...Q){const J="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==J){const Re=new J;for(let it=0;it<Q.length;it++)Re.append(Q[it]);return Re.getBlob()}if(Hi())return new Blob(Q);throw new ge("unsupported-environment","This browser doesn't seem to support creating Blobs")}const St={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vt{constructor(J,Re){this.data=J,this.contentType=Re||null}}function st(Q,J){switch(Q){case St.RAW:return new vt($t(J));case St.BASE64:case St.BASE64URL:return new vt($n(Q,J));case St.DATA_URL:return new vt(function(Q){const J=new pi(Q);return J.base64?$n(St.BASE64,J.rest):function(Q){let J;try{J=decodeURIComponent(Q)}catch(Re){throw pe(St.DATA_URL,"Malformed data URL.")}return $t(J)}(J.rest)}(J),function(Q){return new pi(Q).contentType}(J))}throw Bt()}function $t(Q){const J=[];for(let Re=0;Re<Q.length;Re++){let it=Q.charCodeAt(Re);it<=127?J.push(it):it<=2047?J.push(192|it>>6,128|63&it):55296==(64512&it)?Re<Q.length-1&&56320==(64512&Q.charCodeAt(Re+1))?(it=65536|(1023&it)<<10|1023&Q.charCodeAt(++Re),J.push(240|it>>18,128|it>>12&63,128|it>>6&63,128|63&it)):J.push(239,191,189):56320==(64512&it)?J.push(239,191,189):J.push(224|it>>12,128|it>>6&63,128|63&it)}return new Uint8Array(J)}function $n(Q,J){switch(Q){case St.BASE64:{const kt=-1!==J.indexOf("-"),on=-1!==J.indexOf("_");if(kt||on)throw pe(Q,"Invalid character '"+(kt?"-":"_")+"' found: is it base64url encoded?");break}case St.BASE64URL:{const kt=-1!==J.indexOf("+"),on=-1!==J.indexOf("/");if(kt||on)throw pe(Q,"Invalid character '"+(kt?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let Re;try{Re=function(Q){return atob(Q)}(J)}catch(kt){throw pe(Q,"Invalid character found")}const it=new Uint8Array(Re.length);for(let kt=0;kt<Re.length;kt++)it[kt]=Re.charCodeAt(kt);return it}class pi{constructor(J){this.base64=!1,this.contentType=null;const Re=J.match(/^data:([^,]+)?,/);if(null===Re)throw pe(St.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const it=Re[1]||null;null!=it&&(this.base64=function(Q,J){return Q.length>=J.length&&Q.substring(Q.length-J.length)===J}(it,";base64"),this.contentType=this.base64?it.substring(0,it.length-";base64".length):it),this.rest=J.substring(J.indexOf(",")+1)}}class mr{constructor(J,Re){let it=0,kt="";Ai(J)?(this.data_=J,it=J.size,kt=J.type):J instanceof ArrayBuffer?(Re?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),it=this.data_.length):J instanceof Uint8Array&&(Re?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),it=J.length),this.size_=it,this.type_=kt}size(){return this.size_}type(){return this.type_}slice(J,Re){if(Ai(this.data_)){const kt=function(Q,J,Re){return Q.webkitSlice?Q.webkitSlice(J,Re):Q.mozSlice?Q.mozSlice(J,Re):Q.slice?Q.slice(J,Re):null}(this.data_,J,Re);return null===kt?null:new mr(kt)}{const it=new Uint8Array(this.data_.buffer,J,Re-J);return new mr(it,!0)}}static getBlob(...J){if(Hi()){const Re=J.map(it=>it instanceof mr?it.data_:it);return new mr(Xt.apply(null,Re))}{const Re=J.map(On=>Wi(On)?st(St.RAW,On).data:On.data_);let it=0;Re.forEach(On=>{it+=On.byteLength});const kt=new Uint8Array(it);let on=0;return Re.forEach(On=>{for(let ci=0;ci<On.length;ci++)kt[on++]=On[ci]}),new mr(kt,!0)}}uploadData(){return this.data_}}function Wr(Q){let J;try{J=JSON.parse(Q)}catch(Re){return null}return function(Q){return"object"==typeof Q&&!Array.isArray(Q)}(J)?J:null}function lr(Q){const J=Q.lastIndexOf("/",Q.length-2);return-1===J?Q:Q.slice(J+1)}function ss(Q,J){return J}class tr{constructor(J,Re,it,kt){this.server=J,this.local=Re||J,this.writable=!!it,this.xform=kt||ss}}let Yr=null;function nr(){if(Yr)return Yr;const Q=[];Q.push(new tr("bucket")),Q.push(new tr("generation")),Q.push(new tr("metageneration")),Q.push(new tr("name","fullPath",!0));const Re=new tr("name");Re.xform=function(on,On){return function(Q){return!Wi(Q)||Q.length<2?Q:lr(Q)}(On)},Q.push(Re);const kt=new tr("size");return kt.xform=function(on,On){return void 0!==On?Number(On):On},Q.push(kt),Q.push(new tr("timeCreated")),Q.push(new tr("updated")),Q.push(new tr("md5Hash",null,!0)),Q.push(new tr("cacheControl",null,!0)),Q.push(new tr("contentDisposition",null,!0)),Q.push(new tr("contentEncoding",null,!0)),Q.push(new tr("contentLanguage",null,!0)),Q.push(new tr("contentType",null,!0)),Q.push(new tr("metadata","customMetadata",!0)),Yr=Q,Yr}function Jr(Q,J,Re){const it=Wr(J);return null===it?null:function(Q,J,Re){const it={type:"file"},kt=Re.length;for(let on=0;on<kt;on++){const On=Re[on];it[On.local]=On.xform(it,J[On.server])}return function(Q,J){Object.defineProperty(Q,"ref",{get:function(){const on=new Oe(Q.bucket,Q.fullPath);return J._makeStorageReference(on)}})}(it,Q),it}(Q,it,Re)}function kr(Q,J){const Re={},it=J.length;for(let kt=0;kt<it;kt++){const on=J[kt];on.writable&&(Re[on.server]=Q[on.local])}return JSON.stringify(Re)}const mo="prefixes";class rn{constructor(J,Re,it,kt){this.url=J,this.method=Re,this.handler=it,this.timeout=kt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pn(Q){if(!Q)throw Bt()}function Mn(Q,J){return function(it,kt){const on=Jr(Q,kt,J);return pn(null!==on),on}}function Ci(Q){return function(Re,it){let kt;return kt=401===Re.getStatus()?Re.getErrorText().includes("Firebase App Check token is invalid")?new ge("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ge("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===Re.getStatus()?function(Q){return new ge("quota-exceeded","Quota for bucket '"+Q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Q.bucket):403===Re.getStatus()?function(Q){return new ge("unauthorized","User does not have permission to access '"+Q+"'.")}(Q.path):it,kt.serverResponse=it.serverResponse,kt}}function Ei(Q){const J=Ci(Q);return function(it,kt){let on=J(it,kt);return 404===it.getStatus()&&(on=function(Q){return new ge("object-not-found","Object '"+Q+"' does not exist.")}(Q.path)),on.serverResponse=kt.serverResponse,on}}function Br(Q,J,Re){const kt=qi(J.fullServerUrl(),Q.host,Q._protocol),On=Q.maxOperationRetryTime,ci=new rn(kt,"GET",Mn(Q,Re),On);return ci.errorHandler=Ei(J),ci}function Ns(Q,J,Re,it,kt){const on={};on.prefix=J.isRoot?"":J.path+"/",Re&&Re.length>0&&(on.delimiter=Re),it&&(on.pageToken=it),kt&&(on.maxResults=kt);const ci=qi(J.bucketOnlyServerUrl(),Q.host,Q._protocol),Di=Q.maxOperationRetryTime,or=new rn(ci,"GET",function(Q,J){return function(it,kt){const on=function(Q,J,Re){const it=Wr(Re);return null===it?null:function(Q,J,Re){const it={prefixes:[],items:[],nextPageToken:Re.nextPageToken};if(Re[mo])for(const kt of Re[mo]){const on=kt.replace(/\/$/,""),On=Q._makeStorageReference(new Oe(J,on));it.prefixes.push(On)}if(Re.items)for(const kt of Re.items){const on=Q._makeStorageReference(new Oe(J,kt.name));it.items.push(on)}return it}(Q,J,it)}(Q,J,kt);return pn(null!==on),on}}(Q,J.bucket),Di);return or.urlParams=on,or.errorHandler=Ci(J),or}function Ss(Q,J,Re){const it=Object.assign({},Re);return it.fullPath=Q.path,it.size=J.size(),it.contentType||(it.contentType=function(Q,J){return J&&J.type()||"application/octet-stream"}(0,J)),it}class Ls{constructor(J,Re,it,kt){this.current=J,this.total=Re,this.finalized=!!it,this.metadata=kt||null}}function go(Q,J){let Re=null;try{Re=Q.getResponseHeader("X-Goog-Upload-Status")}catch(kt){pn(!1)}return pn(!!Re&&-1!==(J||["active"]).indexOf(Re)),Re}const fs={STATE_CHANGED:"state_changed"},hr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ns(Q){switch(Q){case"running":case"pausing":case"canceling":return hr.RUNNING;case"paused":return hr.PAUSED;case"success":return hr.SUCCESS;case"canceled":return hr.CANCELED;case"error":default:return hr.ERROR}}class ps{constructor(J,Re,it){if("function"==typeof J||null!=Re||null!=it)this.next=J,this.error=null!=Re?Re:void 0,this.complete=null!=it?it:void 0;else{const on=J;this.next=on.next,this.error=on.error,this.complete=on.complete}}}function Vs(Q){return(...J)=>{Promise.resolve().then(()=>Q(...J))}}class jr extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Li.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Li.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Li.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,Re,it,kt){if(this.sent_)throw we("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Re,J,!0),void 0!==kt)for(const on in kt)kt.hasOwnProperty(on)&&this.xhr_.setRequestHeader(on,kt[on].toString());return void 0!==it?this.xhr_.send(it):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw we("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw we("cannot .getStatus() before sending");try{return this.xhr_.status}catch(J){return-1}}getResponse(){if(!this.sent_)throw we("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw we("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}{initXhr(){this.xhr_.responseType="text"}}function cr(){return new jr}class Nr{constructor(J,Re,it=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=Re,this._metadata=it,this._mappings=nr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=kt=>{this._request=void 0,this._chunkMultiplier=1,kt._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=kt,this._transition("error"))},this._metadataErrorHandler=kt=>{this._request=void 0,kt._codeEquals("canceled")?this.completeTransitions_():(this._error=kt,this._transition("error"))},this._promise=new Promise((kt,on)=>{this._resolve=kt,this._reject=on,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const J=this._transferred;return Re=>this._updateProgress(J+Re)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Re,it])=>{switch(this._state){case"running":J(Re,it);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,Re)=>{const it=function(Q,J,Re,it,kt){const on=J.bucketOnlyServerUrl(),On=Ss(J,it,kt),ci={name:On.fullPath},ti=qi(on,Q.host,Q._protocol),or={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${it.size()}`,"X-Goog-Upload-Header-Content-Type":On.contentType,"Content-Type":"application/json; charset=utf-8"},Ir=kr(On,Re),Ds=new rn(ti,"POST",function(xs){let ms;go(xs);try{ms=xs.getResponseHeader("X-Goog-Upload-URL")}catch(Ts){pn(!1)}return pn(Wi(ms)),ms},Q.maxUploadRetryTime);return Ds.urlParams=ci,Ds.headers=or,Ds.body=Ir,Ds.errorHandler=Ci(J),Ds}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),kt=this._ref.storage._makeRequest(it,cr,J,Re);this._request=kt,kt.getPromise().then(on=>{this._request=void 0,this._uploadUrl=on,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((Re,it)=>{const kt=function(Q,J,Re,it){const ti=new rn(Re,"POST",function(Di){const or=go(Di,["active","final"]);let Ir=null;try{Ir=Di.getResponseHeader("X-Goog-Upload-Size-Received")}catch(es){pn(!1)}Ir||pn(!1);const zi=Number(Ir);return pn(!isNaN(zi)),new Ls(zi,it.size(),"final"===or)},Q.maxUploadRetryTime);return ti.headers={"X-Goog-Upload-Command":"query"},ti.errorHandler=Ci(J),ti}(this._ref.storage,this._ref._location,J,this._blob),on=this._ref.storage._makeRequest(kt,cr,Re,it);this._request=on,on.getPromise().then(On=>{On=On,this._request=void 0,this._updateProgress(On.current),this._needToFetchStatus=!1,On.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,Re=new Ls(this._transferred,this._blob.size()),it=this._uploadUrl;this._resolveToken((kt,on)=>{let On;try{On=function(Q,J,Re,it,kt,on,On,ci){const ti=new Ls(0,0);if(On?(ti.current=On.current,ti.total=On.total):(ti.current=0,ti.total=it.size()),it.size()!==ti.total)throw new ge("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const Di=ti.total-ti.current;let or=Di;kt>0&&(or=Math.min(or,kt));const Ir=ti.current,Ds={"X-Goog-Upload-Command":or===Di?"upload, finalize":"upload","X-Goog-Upload-Offset":`${ti.current}`},xs=it.slice(Ir,Ir+or);if(null===xs)throw Ct();const gs=new rn(Re,"POST",function(Is,Ko){const Rr=go(Is,["active","final"]),uo=ti.current+or,io=it.size();let Ha;return Ha="final"===Rr?Mn(J,on)(Is,Ko):null,new Ls(uo,io,"final"===Rr,Ha)},J.maxUploadRetryTime);return gs.headers=Ds,gs.body=xs.uploadData(),gs.progressCallback=ci||null,gs.errorHandler=Ci(Q),gs}(this._ref._location,this._ref.storage,it,this._blob,J,this._mappings,Re,this._makeProgressCallback())}catch(ti){return this._error=ti,void this._transition("error")}const ci=this._ref.storage._makeRequest(On,cr,kt,on);this._request=ci,ci.getPromise().then(ti=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ti.current),ti.finalized?(this._metadata=ti.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,Re)=>{const it=Br(this._ref.storage,this._ref._location,this._mappings),kt=this._ref.storage._makeRequest(it,cr,J,Re);this._request=kt,kt.getPromise().then(on=>{this._request=void 0,this._metadata=on,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,Re)=>{const it=function(Q,J,Re,it,kt){const on=J.bucketOnlyServerUrl(),On={"X-Goog-Upload-Protocol":"multipart"},ti=function(){let gs="";for(let Is=0;Is<2;Is++)gs+=Math.random().toString().slice(2);return gs}();On["Content-Type"]="multipart/related; boundary="+ti;const Di=Ss(J,it,kt),or=kr(Di,Re),es=mr.getBlob("--"+ti+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+or+"\r\n--"+ti+"\r\nContent-Type: "+Di.contentType+"\r\n\r\n",it,"\r\n--"+ti+"--");if(null===es)throw Ct();const Ds={name:Di.fullPath},xs=qi(on,Q.host,Q._protocol),Ts=Q.maxUploadRetryTime,no=new rn(xs,"POST",Mn(Q,Re),Ts);return no.urlParams=Ds,no.headers=On,no.body=es.uploadData(),no.errorHandler=Ci(J),no}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),kt=this._ref.storage._makeRequest(it,cr,J,Re);this._request=kt,kt.getPromise().then(on=>{this._request=void 0,this._metadata=on,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const Re=this._transferred;this._transferred=J,this._transferred!==Re&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request&&this._request.cancel();break;case"running":const Re="paused"===this._state;this._state=J,Re&&(this._notifyObservers(),this._start());break;case"paused":this._state=J,this._notifyObservers();break;case"canceled":this._error=ft(),this._state=J,this._notifyObservers();break;case"error":case"success":this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=ns(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,Re,it,kt){const on=new ps(Re||void 0,it||void 0,kt||void 0);return this._addObserver(on),()=>{this._removeObserver(on)}}then(J,Re){return this._promise.then(J,Re)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const Re=this._observers.indexOf(J);-1!==Re&&this._observers.splice(Re,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Re=>{this._notifyObserver(Re)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(ns(this._state)){case hr.SUCCESS:Vs(this._resolve.bind(null,this.snapshot))();break;case hr.CANCELED:case hr.ERROR:Vs(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(ns(this._state)){case hr.RUNNING:case hr.PAUSED:J.next&&Vs(J.next.bind(J,this.snapshot))();break;case hr.SUCCESS:J.complete&&Vs(J.complete.bind(J))();break;case hr.CANCELED:case hr.ERROR:J.error&&Vs(J.error.bind(J,this._error))();break;default:J.error&&Vs(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class K{constructor(J,Re){this._service=J,this._location=Re instanceof Oe?Re:Oe.makeFromUrl(Re,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,Re){return new K(J,Re)}get root(){const J=new Oe(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lr(this._location.path)}get storage(){return this._service}get parent(){const J=function(Q){if(0===Q.length)return null;const J=Q.lastIndexOf("/");return-1===J?"":Q.slice(0,J)}(this._location.path);if(null===J)return null;const Re=new Oe(this._location.bucket,J);return new K(this._service,Re)}_throwIfRoot(J){if(""===this._location.path)throw Nt(J)}}function $(Q,J,Re){return et.apply(this,arguments)}function et(){return(et=(0,he.Z)(function*(Q,J,Re){const kt=yield w(Q,{pageToken:Re});J.prefixes.push(...kt.prefixes),J.items.push(...kt.items),null!=kt.nextPageToken&&(yield $(Q,J,kt.nextPageToken))})).apply(this,arguments)}function w(Q,J){null!=J&&"number"==typeof J.maxResults&&vr("options.maxResults",1,1e3,J.maxResults);const Re=J||{},it=Ns(Q.storage,Q._location,"/",Re.pageToken,Re.maxResults);return Q.storage.makeRequestWithTokens(it,cr)}function Ze(Q){Q._throwIfRoot("getDownloadURL");const J=function(Q,J,Re){const kt=qi(J.fullServerUrl(),Q.host,Q._protocol),On=Q.maxOperationRetryTime,ci=new rn(kt,"GET",function(Q,J){return function(it,kt){const on=Jr(Q,kt,J);return pn(null!==on),function(Q,J,Re,it){const kt=Wr(J);if(null===kt||!Wi(kt.downloadTokens))return null;const on=kt.downloadTokens;if(0===on.length)return null;const On=encodeURIComponent;return on.split(",").map(Di=>{const Ir=Q.fullPath;return qi("/b/"+On(Q.bucket)+"/o/"+On(Ir),Re,it)+$r({alt:"media",token:Di})})[0]}(on,kt,Q.host,Q._protocol)}}(Q,Re),On);return ci.errorHandler=Ei(J),ci}(Q.storage,Q._location,nr());return Q.storage.makeRequestWithTokens(J,cr).then(Re=>{if(null===Re)throw new ge("no-download-url","The given file does not have any download URLs.");return Re})}function oi(Q,J){const Re=function(Q,J){const Re=J.split("/").filter(it=>it.length>0).join("/");return 0===Q.length?Re:Q+"/"+Re}(Q._location.path,J),it=new Oe(Q._location.bucket,Re);return new K(Q.storage,it)}function Bi(Q,J){if(Q instanceof Fo){const Re=Q;if(null==Re._bucket)throw new ge("no-default-bucket","No default bucket found. Did you set the '"+H+"' property when initializing the app?");const it=new K(Re,Re._bucket);return null!=J?Bi(it,J):it}return void 0!==J?oi(Q,J):Q}function ur(Q,J){if(J&&function(Q){return/^[A-Za-z]+:\/\//.test(Q)}(J)){if(Q instanceof Fo)return function(Q,J){return new K(Q,J)}(Q,J);throw Bn("To use ref(service, url), the first argument must be a Storage instance.")}return Bi(Q,J)}function vi(Q,J){const Re=null==J?void 0:J[H];return null==Re?null:Oe.makeFromBucketSpec(Re,Q)}class Fo{constructor(J,Re,it,kt,on){this.app=J,this._authProvider=Re,this._appCheckProvider=it,this._url=kt,this._firebaseVersion=on,this._bucket=null,this._host=B,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=kt?Oe.makeFromBucketSpec(kt,this._host):vi(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?Oe.makeFromBucketSpec(this._url,J):vi(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){vr("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){vr("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,he.Z)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const Re=J._authProvider.getImmediate({optional:!0});if(Re){const it=yield Re.getToken();if(null!==it)return it.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,he.Z)(function*(){const Re=J._appCheckProvider.getImmediate({optional:!0});return Re?(yield Re.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new K(this,J)}_makeRequest(J,Re,it,kt){if(this._deleted)return new Tt(_t());{const on=function(Q,J,Re,it,kt,on){const On=$r(Q.urlParams),ci=Q.url+On,ti=Object.assign({},Q.headers);return function(Q,J){J&&(Q["X-Firebase-GMPID"]=J)}(ti,J),function(Q,J){null!==J&&J.length>0&&(Q.Authorization="Firebase "+J)}(ti,Re),function(Q,J){Q["X-Firebase-Storage-Version"]="webjs/"+(null!=J?J:"AppManager")}(ti,on),function(Q,J){null!==J&&(Q["X-Firebase-AppCheck"]=J)}(ti,it),new Kn(ci,Q.method,ti,Q.body,Q.successCodes,Q.additionalRetryCodes,Q.handler,Q.errorHandler,Q.timeout,Q.progressCallback,kt)}(J,this._appId,it,kt,Re,this._firebaseVersion);return this._requests.add(on),on.getPromise().then(()=>this._requests.delete(on),()=>this._requests.delete(on)),on}}makeRequestWithTokens(J,Re){var it=this;return(0,he.Z)(function*(){const[kt,on]=yield Promise.all([it._getAuthToken(),it._getAppCheckToken()]);return it._makeRequest(J,Re,kt,on).getPromise()})()}}const vo="@firebase/storage";function S(Q,J){return ur(Q=(0,pt.m9)(Q),J)}(0,Ln._registerComponent)(new ue.wA("storage",function(Q,{instanceIdentifier:J}){const Re=Q.getProvider("app").getImmediate(),it=Q.getProvider("auth-internal"),kt=Q.getProvider("app-check-internal");return new Fo(Re,it,kt,J,Ln.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ln.registerVersion)(vo,"0.9.6",""),(0,Ln.registerVersion)(vo,"0.9.6","esm2017");class gn{constructor(J,Re,it){this._delegate=J,this.task=Re,this.ref=it}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Zn{constructor(J,Re){this._delegate=J,this._ref=Re,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new gn(this._delegate.snapshot,this,this._ref)}then(J,Re){return this._delegate.then(it=>{if(J)return J(new gn(it,this,this._ref))},Re)}on(J,Re,it,kt){let on;return Re&&(on="function"==typeof Re?On=>Re(new gn(On,this,this._ref)):{next:Re.next?On=>Re.next(new gn(On,this,this._ref)):void 0,complete:Re.complete||void 0,error:Re.error||void 0}),this._delegate.on(J,on,it||void 0,kt||void 0)}}class di{constructor(J,Re){this._delegate=J,this._service=Re}get prefixes(){return this._delegate.prefixes.map(J=>new bi(J,this._service))}get items(){return this._delegate.items.map(J=>new bi(J,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class bi{constructor(J,Re){this._delegate=J,this.storage=Re}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(J){const Re=function(Q,J){return oi(Q,J)}(this._delegate,J);return new bi(Re,this.storage)}get root(){return new bi(this._delegate.root,this.storage)}get parent(){const J=this._delegate.parent;return null==J?null:new bi(J,this.storage)}put(J,Re){return this._throwIfRoot("put"),new Zn(function(Q,J,Re){return function(Q,J,Re){return Q._throwIfRoot("uploadBytesResumable"),new Nr(Q,new mr(J),Re)}(Q=(0,pt.m9)(Q),J,Re)}(this._delegate,J,Re),this)}putString(J,Re=St.RAW,it){this._throwIfRoot("putString");const kt=st(Re,J),on=Object.assign({},it);return null==on.contentType&&null!=kt.contentType&&(on.contentType=kt.contentType),new Zn(new Nr(this._delegate,new mr(kt.data,!0),on),this)}listAll(){return(Q=this._delegate,function(Q){const J={prefixes:[],items:[]};return $(Q,J).then(()=>J)}(Q=(0,pt.m9)(Q))).then(J=>new di(J,this.storage));var Q}list(J){return function(Q,J){return w(Q=(0,pt.m9)(Q),J)}(this._delegate,J||void 0).then(Re=>new di(Re,this.storage))}getMetadata(){return function(Q){Q._throwIfRoot("getMetadata");const J=Br(Q.storage,Q._location,nr());return Q.storage.makeRequestWithTokens(J,cr)}((0,pt.m9)(this._delegate))}updateMetadata(J){return function(Q,J){return function(Q,J){Q._throwIfRoot("updateMetadata");const Re=function(Q,J,Re,it){const on=qi(J.fullServerUrl(),Q.host,Q._protocol),ci=kr(Re,it),Di=Q.maxOperationRetryTime,or=new rn(on,"PATCH",Mn(Q,it),Di);return or.headers={"Content-Type":"application/json; charset=utf-8"},or.body=ci,or.errorHandler=Ei(J),or}(Q.storage,Q._location,J,nr());return Q.storage.makeRequestWithTokens(Re,cr)}(Q=(0,pt.m9)(Q),J)}(this._delegate,J)}getDownloadURL(){return Ze((0,pt.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(Q){Q._throwIfRoot("deleteObject");const J=function(Q,J){const it=qi(J.fullServerUrl(),Q.host,Q._protocol),ci=new rn(it,"DELETE",function(ti,Di){},Q.maxOperationRetryTime);return ci.successCodes=[200,204],ci.errorHandler=Ei(J),ci}(Q.storage,Q._location);return Q.storage.makeRequestWithTokens(J,cr)}((0,pt.m9)(this._delegate))}_throwIfRoot(J){if(""===this._delegate._location.path)throw Nt(J)}}class er{constructor(J,Re){this.app=J,this._delegate=Re}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(J){if(wi(J))throw Bn("ref() expected a child path but got a URL, use refFromURL instead.");return new bi(S(this._delegate,J),this)}refFromURL(J){if(!wi(J))throw Bn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Oe.makeFromUrl(J,this._delegate.host)}catch(Re){throw Bn("refFromUrl() expected a valid full URL but got an invalid one.")}return new bi(S(this._delegate,J),this)}setMaxUploadRetryTime(J){this._delegate.maxUploadRetryTime=J}setMaxOperationRetryTime(J){this._delegate.maxOperationRetryTime=J}useEmulator(J,Re,it={}){!function(Q,J,Re,it={}){!function(Q,J,Re,it={}){Q.host=`${J}:${Re}`,Q._protocol="http";const{mockUserToken:kt}=it;kt&&(Q._overrideAuthToken="string"==typeof kt?kt:(0,pt.Sg)(kt,Q.app.options.projectId))}(Q,J,Re,it)}(this._delegate,J,Re,it)}}function wi(Q){return/^[A-Za-z]+:\/\//.test(Q)}function Fr(Q,{instanceIdentifier:J}){const Re=Q.getProvider("app-compat").getImmediate(),it=Q.getProvider("storage").getImmediate({identifier:J});return new er(Re,it)}!function(Q){const J={TaskState:hr,TaskEvent:fs,StringFormat:St,Storage:er,Reference:bi};Q.INTERNAL.registerComponent(new ue.wA("storage-compat",Fr,"PUBLIC").setServiceProps(J).setMultipleInstances(!0)),Q.registerVersion("@firebase/storage-compat","0.1.14")}(cn.Z);var br=D(6256),lo=D(7841);function zr(Q){const J=function(Q){return new me.y(J=>{const Re=On=>J.next(On);Re(Q.snapshot);const on=Q.on("state_changed",Re);return Q.then(On=>{Re(On),J.complete()},On=>{Re(Q.snapshot),(On=>{J.error(On)})(On)}),function(){on()}}).pipe((0,We.b)(0))}(Q);return{task:Q,then:Q.then.bind(Q),catch:Q.catch.bind(Q),pause:Q.pause.bind(Q),cancel:Q.cancel.bind(Q),resume:Q.resume.bind(Q),snapshotChanges:()=>J,percentageChanges:()=>J.pipe((0,at.U)(Re=>Re.bytesTransferred/Re.totalBytes*100))}}function As(Q){return{getDownloadURL:()=>(0,rt.of)(void 0).pipe(jt.fc,(0,fn.w)(()=>Q.getDownloadURL()),jt.iC),getMetadata:()=>(0,rt.of)(void 0).pipe(jt.fc,(0,fn.w)(()=>Q.getMetadata()),jt.iC),delete:()=>(0,je.D)(Q.delete()),child:J=>As(Q.child(J)),updateMetadata:J=>(0,je.D)(Q.updateMetadata(J)),put:(J,Re)=>zr(Q.put(J,Re)),putString:(J,Re,it)=>zr(Q.putString(J,Re,it)),list:J=>(0,je.D)(Q.list(J)),listAll:()=>(0,je.D)(Q.listAll())}}const js=new m.OlP("angularfire2.storageBucket"),Zs=new m.OlP("angularfire2.storage.maxUploadRetryTime"),Zo=new m.OlP("angularfire2.storage.maxOperationRetryTime"),Ks=new m.OlP("angularfire2.storage.use-emulator");let Xr=(()=>{class Q{constructor(Re,it,kt,on,On,ci,ti,Di,or,Ir){const zi=(0,ct.on)(Re,On,it);this.storage=(0,ct.cc)(`${zi.name}.storage.${kt}`,"AngularFireStorage",zi.name,()=>{const es=On.runOutsideAngular(()=>zi.storage(kt||void 0)),Ds=or;return Ds&&es.useEmulator(...Ds),ti&&es.setMaxUploadRetryTime(ti),Di&&es.setMaxOperationRetryTime(Di),es},[ti,Di])}ref(Re){return As(this.storage.ref(Re))}refFromURL(Re){return As(this.storage.refFromURL(Re))}upload(Re,it,kt){return As(this.storage.ref(Re)).put(it,kt)}}return Q.\u0275fac=function(Re){return new(Re||Q)(m.LFG(ct.Dh),m.LFG(ct.xv,8),m.LFG(js,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(jt.HU),m.LFG(Zs,8),m.LFG(Zo,8),m.LFG(Ks,8),m.LFG(br.nm,8))},Q.\u0275prov=m.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"any"}),Q})(),sr=(()=>{class Q{}return Q.\u0275fac=function(Re){return new(Re||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({}),Q})(),fi=(()=>{class Q{constructor(){lo.Z.registerVersion("angularfire",jt.q4.full,"gcs-compat")}}return Q.\u0275fac=function(Re){return new(Re||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({providers:[Xr],imports:[sr]}),Q})();var _i=D(6830);const Pi_firebaseConfig={apiKey:"AIzaSyDaNDp7MerTOIj7rqiQT67HLbxojs2TpEs",authDomain:"funcionalthai-9f90a.firebaseapp.com",projectId:"funcionalthai-9f90a",storageBucket:"funcionalthai-9f90a.appspot.com",messagingSenderId:"736715042627",appId:"1:736715042627:web:d2c5e8d694ef283808c9f6",measurementId:"G-WT4N3GRNN3"};let Ki=(()=>{class Q{}return Q.\u0275fac=function(Re){return new(Re||Q)},Q.\u0275mod=m.oAB({type:Q,bootstrap:[ii]}),Q.\u0275inj=m.cJS({providers:[{provide:y.Ad,useValue:"pt-BR"}],imports:[[_.b2,q,d.PW,Be,Pe.StudentsModule,kn,Gn.ClassModule,Qn.CreateAccountModule,bt,ct.hO.initializeApp(Pi_firebaseConfig),Ft.ww,nt.yb,fi,_i.JS,Ft.ww,Et.Rh.forRoot()]]}),Q})();(0,m.G48)(),_.q6().bootstrapModule(Ki).catch(Q=>console.error(Q))},3394:(In,mt,D)=>{"use strict";D.d(mt,{Z:()=>Xe});var _=D(3854),m=D(3910),y=D(8026),d=D(5422);class he{constructor(Me,Qe){this._delegate=Me,this.firebase=Qe,(0,y._addComponent)(Me,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,y.deleteApp)(this._delegate)))}_getService(Me,Qe=y._DEFAULT_ENTRY_NAME){var Qt;this._delegate.checkDestroyed();const hn=this._delegate.container.getProvider(Me);return!hn.isInitialized()&&"EXPLICIT"===(null===(Qt=hn.getComponent())||void 0===Qt?void 0:Qt.instantiationMode)&&hn.initialize(),hn.getImmediate({identifier:Qe})}_removeServiceInstance(Me,Qe=y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(Qe)}_addComponent(Me){(0,y._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,y._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Ee(){const nt=function(nt){const Me={},Qe={__esModule:!0,initializeApp:function(ze,be={}){const q=y.initializeApp(ze,be);if((0,_.r3)(Me,q.name))return Me[q.name];const ke=new nt(q,Qe);return Me[q.name]=ke,ke},app:hn,registerVersion:y.registerVersion,setLogLevel:y.setLogLevel,onLog:y.onLog,apps:null,SDK_VERSION:y.SDK_VERSION,INTERNAL:{registerComponent:function(ze){const be=ze.name,q=be.replace("-compat","");if(y._registerComponent(ze)&&"PUBLIC"===ze.type){const ke=(yt=hn())=>{if("function"!=typeof yt[q])throw De.create("invalid-app-argument",{appName:be});return yt[q]()};void 0!==ze.serviceProps&&(0,_.ZB)(ke,ze.serviceProps),Qe[q]=ke,nt.prototype[q]=function(...yt){return this._getService.bind(this,be).apply(this,ze.multipleInstances?yt:[])}}return"PUBLIC"===ze.type?Qe[q]:null},removeApp:function(ze){delete Me[ze]},useAsService:function(ze,be){return"serverAuth"===be?null:be},modularAPIs:y}};function hn(ze){if(!(0,_.r3)(Me,ze=ze||y._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:ze});return Me[ze]}return Qe.default=Qe,Object.defineProperty(Qe,"apps",{get:function(){return Object.keys(Me).map(ze=>Me[ze])}}),hn.App=nt,Qe}(he);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function(Qe){(0,_.ZB)(nt,Qe)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),nt}(),Te=new d.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){Te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&Te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=se;(0,y.registerVersion)("@firebase/app-compat","0.1.25",undefined)},8026:(In,mt,D)=>{"use strict";D.r(mt),D.d(mt,{FirebaseError:()=>d.ZR,SDK_VERSION:()=>rt,_DEFAULT_ENTRY_NAME:()=>Qn,_addComponent:()=>Ae,_addOrOverwriteComponent:()=>de,_apps:()=>Rt,_clearComponents:()=>bt,_components:()=>Zt,_getProvider:()=>Be,_registerComponent:()=>te,_removeServiceInstance:()=>Pe,deleteApp:()=>fn,getApp:()=>We,getApps:()=>at,initializeApp:()=>je,onLog:()=>Ln,registerVersion:()=>cn,setLogLevel:()=>pt});var _=D(8239),m=D(3910),y=D(5422),d=D(3854),he=D(6904);class U{constructor(nn){this.container=nn}getPlatformInfoString(){return this.container.getProviders().map(Rn=>{if(function(Ct){const nn=Ct.getComponent();return"VERSION"===(null==nn?void 0:nn.type)}(Rn)){const Bn=Rn.getImmediate();return`${Bn.library}/${Bn.version}`}return null}).filter(Rn=>Rn).join(" ")}}const le="@firebase/app",se=new y.Yd("@firebase/app"),Qn="[DEFAULT]",kn={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,Zt=new Map;function Ae(Ct,nn){try{Ct.container.addComponent(nn)}catch(Rn){se.debug(`Component ${nn.name} failed to register with FirebaseApp ${Ct.name}`,Rn)}}function de(Ct,nn){Ct.container.addOrOverwriteComponent(nn)}function te(Ct){const nn=Ct.name;if(Zt.has(nn))return se.debug(`There were multiple attempts to register component ${nn}.`),!1;Zt.set(nn,Ct);for(const Rn of Rt.values())Ae(Rn,Ct);return!0}function Be(Ct,nn){const Rn=Ct.container.getProvider("heartbeat").getImmediate({optional:!0});return Rn&&Rn.triggerHeartbeat(),Ct.container.getProvider(nn)}function Pe(Ct,nn,Rn=Qn){Be(Ct,nn).clearInstance(Rn)}function bt(){Zt.clear()}const Ft=new d.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class me{constructor(nn,Rn,Bn){this._isDeleted=!1,this._options=Object.assign({},nn),this._config=Object.assign({},Rn),this._name=Rn.name,this._automaticDataCollectionEnabled=Rn.automaticDataCollectionEnabled,this._container=Bn,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nn){this.checkDestroyed(),this._automaticDataCollectionEnabled=nn}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nn){this._isDeleted=nn}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const rt="9.8.1";function je(Ct,nn={}){"object"!=typeof nn&&(nn={name:nn});const Rn=Object.assign({name:Qn,automaticDataCollectionEnabled:!1},nn),Bn=Rn.name;if("string"!=typeof Bn||!Bn)throw Ft.create("bad-app-name",{appName:String(Bn)});const _t=Rt.get(Bn);if(_t){if((0,d.vZ)(Ct,_t.options)&&(0,d.vZ)(Rn,_t.config))return _t;throw Ft.create("duplicate-app",{appName:Bn})}const Nt=new m.H0(Bn);for(const we of Zt.values())Nt.addComponent(we);const pe=new me(Ct,Rn,Nt);return Rt.set(Bn,pe),pe}function We(Ct=Qn){const nn=Rt.get(Ct);if(!nn)throw Ft.create("no-app",{appName:Ct});return nn}function at(){return Array.from(Rt.values())}function fn(Ct){return jt.apply(this,arguments)}function jt(){return(jt=(0,_.Z)(function*(Ct){const nn=Ct.name;Rt.has(nn)&&(Rt.delete(nn),yield Promise.all(Ct.container.getProviders().map(Rn=>Rn.delete())),Ct.isDeleted=!0)})).apply(this,arguments)}function cn(Ct,nn,Rn){var Bn;let _t=null!==(Bn=kn[Ct])&&void 0!==Bn?Bn:Ct;Rn&&(_t+=`-${Rn}`);const Nt=_t.match(/\s|\//),pe=nn.match(/\s|\//);if(Nt||pe){const we=[`Unable to register library "${_t}" with version "${nn}":`];return Nt&&we.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),Nt&&pe&&we.push("and"),pe&&we.push(`version name "${nn}" contains illegal characters (whitespace or "/")`),void se.warn(we.join(" "))}te(new m.wA(`${_t}-version`,()=>({library:_t,version:nn}),"VERSION"))}function Ln(Ct,nn){if(null!==Ct&&"function"!=typeof Ct)throw Ft.create("invalid-log-argument");(0,y.Am)(Ct,nn)}function pt(Ct){(0,y.Ub)(Ct)}const H="firebase-heartbeat-store";let ae=null;function Le(){return ae||(ae=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(Ct,nn)=>{switch(nn){case 0:Ct.createObjectStore(H)}}}).catch(Ct=>{throw Ft.create("storage-open",{originalErrorMessage:Ct.message})})),ae}function Ue(){return(Ue=(0,_.Z)(function*(Ct){try{return(yield Le()).transaction(H).objectStore(H).get(Tn(Ct))}catch(nn){throw Ft.create("storage-get",{originalErrorMessage:nn.message})}})).apply(this,arguments)}function Bt(Ct,nn){return an.apply(this,arguments)}function an(){return(an=(0,_.Z)(function*(Ct,nn){try{const Bn=(yield Le()).transaction(H,"readwrite");return yield Bn.objectStore(H).put(nn,Tn(Ct)),Bn.done}catch(Rn){throw Ft.create("storage-set",{originalErrorMessage:Rn.message})}})).apply(this,arguments)}function Tn(Ct){return`${Ct.name}!${Ct.options.appId}`}class ei{constructor(nn){this.container=nn,this._heartbeatsCache=null;const Rn=this.container.getProvider("app").getImmediate();this._storage=new gt(Rn),this._heartbeatsCachePromise=this._storage.read().then(Bn=>(this._heartbeatsCache=Bn,Bn))}triggerHeartbeat(){var nn=this;return(0,_.Z)(function*(){const Bn=nn.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=Jn();if(null===nn._heartbeatsCache&&(nn._heartbeatsCache=yield nn._heartbeatsCachePromise),nn._heartbeatsCache.lastSentHeartbeatDate!==_t&&!nn._heartbeatsCache.heartbeats.some(Nt=>Nt.date===_t))return nn._heartbeatsCache.heartbeats.push({date:_t,agent:Bn}),nn._heartbeatsCache.heartbeats=nn._heartbeatsCache.heartbeats.filter(Nt=>{const pe=new Date(Nt.date).valueOf();return Date.now()-pe<=2592e6}),nn._storage.overwrite(nn._heartbeatsCache)})()}getHeartbeatsHeader(){var nn=this;return(0,_.Z)(function*(){if(null===nn._heartbeatsCache&&(yield nn._heartbeatsCachePromise),null===nn._heartbeatsCache||0===nn._heartbeatsCache.heartbeats.length)return"";const Rn=Jn(),{heartbeatsToSend:Bn,unsentEntries:_t}=function(Ct,nn=1024){const Rn=[];let Bn=Ct.slice();for(const _t of Ct){const Nt=Rn.find(pe=>pe.agent===_t.agent);if(Nt){if(Nt.dates.push(_t.date),wt(Rn)>nn){Nt.dates.pop();break}}else if(Rn.push({agent:_t.agent,dates:[_t.date]}),wt(Rn)>nn){Rn.pop();break}Bn=Bn.slice(1)}return{heartbeatsToSend:Rn,unsentEntries:Bn}}(nn._heartbeatsCache.heartbeats),Nt=(0,d.L)(JSON.stringify({version:2,heartbeats:Bn}));return nn._heartbeatsCache.lastSentHeartbeatDate=Rn,_t.length>0?(nn._heartbeatsCache.heartbeats=_t,yield nn._storage.overwrite(nn._heartbeatsCache)):(nn._heartbeatsCache.heartbeats=[],nn._storage.overwrite(nn._heartbeatsCache)),Nt})()}}function Jn(){return(new Date).toISOString().substring(0,10)}class gt{constructor(nn){this.app=nn,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,d.hl)()&&(0,d.eu)().then(()=>!0).catch(()=>!1)})()}read(){var nn=this;return(0,_.Z)(function*(){return(yield nn._canUseIndexedDBPromise)&&(yield function(Ct){return Ue.apply(this,arguments)}(nn.app))||{heartbeats:[]}})()}overwrite(nn){var Rn=this;return(0,_.Z)(function*(){var Bn;if(yield Rn._canUseIndexedDBPromise){const Nt=yield Rn.read();return Bt(Rn.app,{lastSentHeartbeatDate:null!==(Bn=nn.lastSentHeartbeatDate)&&void 0!==Bn?Bn:Nt.lastSentHeartbeatDate,heartbeats:nn.heartbeats})}})()}add(nn){var Rn=this;return(0,_.Z)(function*(){var Bn;if(yield Rn._canUseIndexedDBPromise){const Nt=yield Rn.read();return Bt(Rn.app,{lastSentHeartbeatDate:null!==(Bn=nn.lastSentHeartbeatDate)&&void 0!==Bn?Bn:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...nn.heartbeats]})}})()}}function wt(Ct){return(0,d.L)(JSON.stringify({version:2,heartbeats:Ct})).length}te(new m.wA("platform-logger",nn=>new U(nn),"PRIVATE")),te(new m.wA("heartbeat",nn=>new ei(nn),"PRIVATE")),cn(le,"0.7.24",""),cn(le,"0.7.24","esm2017"),cn("fire-js","")},3910:(In,mt,D)=>{"use strict";D.d(mt,{wA:()=>y,H0:()=>le,zt:()=>he});var _=D(8239),m=D(3854);class y{constructor(se,Te,oe){this.name=se,this.instanceFactory=Te,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const d="[DEFAULT]";class he{constructor(se,Te){this.name=se,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const Te=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(Te)){const oe=new m.BH;if(this.instancesDeferred.set(Te,oe),this.isInitialized(Te)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:Te});Ye&&oe.resolve(Ye)}catch(Ye){}}return this.instancesDeferred.get(Te).promise}getImmediate(se){var Te;const oe=this.normalizeInstanceIdentifier(null==se?void 0:se.identifier),Ye=null!==(Te=null==se?void 0:se.optional)&&void 0!==Te&&Te;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(tt){if(Ye)return null;throw tt}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if("EAGER"===se.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:d})}catch(Te){}for(const[Te,oe]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(Te);try{const tt=this.getOrInitializeService({instanceIdentifier:Ye});oe.resolve(tt)}catch(tt){}}}}clearInstance(se=d){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,_.Z)(function*(){const Te=Array.from(se.instances.values());yield Promise.all([...Te.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...Te.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=d){return this.instances.has(se)}getOptions(se=d){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:Te={}}=se,oe=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:oe,options:Te});for(const[tt,Xe]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(tt)&&Xe.resolve(Ye);return Ye}onInit(se,Te){var oe;const Ye=this.normalizeInstanceIdentifier(Te),tt=null!==(oe=this.onInitCallbacks.get(Ye))&&void 0!==oe?oe:new Set;tt.add(se),this.onInitCallbacks.set(Ye,tt);const Xe=this.instances.get(Ye);return Xe&&se(Xe,Ye),()=>{tt.delete(se)}}invokeOnInitCallbacks(se,Te){const oe=this.onInitCallbacks.get(Te);if(oe)for(const Ye of oe)try{Ye(se,Te)}catch(tt){}}getOrInitializeService({instanceIdentifier:se,options:Te={}}){let oe=this.instances.get(se);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=se,Ee===d?void 0:Ee),options:Te}),this.instances.set(se,oe),this.instancesOptions.set(se,Te),this.invokeOnInitCallbacks(oe,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,oe)}catch(Ye){}var Ee;return oe||null}normalizeInstanceIdentifier(se=d){return this.component?this.component.multipleInstances?se:d:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const Te=this.getProvider(se.name);if(Te.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);Te.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const Te=new he(se,this);return this.providers.set(se,Te),Te}getProviders(){return Array.from(this.providers.values())}}},5422:(In,mt,D)=>{"use strict";D.d(mt,{in:()=>m,Yd:()=>De,Ub:()=>le,Am:()=>Ee});const _=[];var m=(()=>{return(se=m||(m={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",m;var se})();const y={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},d=m.INFO,he={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},U=(se,Te,...oe)=>{if(Te<se.logLevel)return;const Ye=(new Date).toISOString(),tt=he[Te];if(!tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[tt](`[${Ye}]  ${se.name}:`,...oe)};class De{constructor(Te){this.name=Te,this._logLevel=d,this._logHandler=U,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in m))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?y[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...Te),this._logHandler(this,m.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...Te),this._logHandler(this,m.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,m.INFO,...Te),this._logHandler(this,m.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,m.WARN,...Te),this._logHandler(this,m.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...Te),this._logHandler(this,m.ERROR,...Te)}}function le(se){_.forEach(Te=>{Te.setLogLevel(se)})}function Ee(se,Te){for(const oe of _){let Ye=null;Te&&Te.level&&(Ye=y[Te.level]),oe.userLogHandler=null===se?null:(tt,Xe,...nt)=>{const Me=nt.map(Qe=>{if(null==Qe)return null;if("string"==typeof Qe)return Qe;if("number"==typeof Qe||"boolean"==typeof Qe)return Qe.toString();if(Qe instanceof Error)return Qe.message;try{return JSON.stringify(Qe)}catch(Qt){return null}}).filter(Qe=>Qe).join(" ");Xe>=(null!=Ye?Ye:tt.logLevel)&&se({level:m[Xe].toLowerCase(),message:Me,args:nt,type:tt.name})}}}},6904:(In,mt,D)=>{"use strict";D.d(mt,{Lj:()=>Gt,X3:()=>hn});var _=D(8239);let y,d;const De=new WeakMap,le=new WeakMap,Ee=new WeakMap,se=new WeakMap,Te=new WeakMap;let tt={get(be,q,ke){if(be instanceof IDBTransaction){if("done"===q)return le.get(be);if("objectStoreNames"===q)return be.objectStoreNames||Ee.get(be);if("store"===q)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return Qe(be[q])},set:(be,q,ke)=>(be[q]=ke,!0),has:(be,q)=>be instanceof IDBTransaction&&("done"===q||"store"===q)||q in be};function Me(be){return"function"==typeof be?function(be){return be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(d||(d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(be)?function(...q){return be.apply(Qt(this),q),Qe(De.get(this))}:function(...q){return Qe(be.apply(Qt(this),q))}:function(q,...ke){const yt=be.call(Qt(this),q,...ke);return Ee.set(yt,q.sort?q.sort():[q]),Qe(yt)}}(be):(be instanceof IDBTransaction&&function(be){if(le.has(be))return;const q=new Promise((ke,yt)=>{const Ot=()=>{be.removeEventListener("complete",un),be.removeEventListener("error",Ut),be.removeEventListener("abort",Ut)},un=()=>{ke(),Ot()},Ut=()=>{yt(be.error||new DOMException("AbortError","AbortError")),Ot()};be.addEventListener("complete",un),be.addEventListener("error",Ut),be.addEventListener("abort",Ut)});le.set(be,q)}(be),((be,q)=>q.some(ke=>be instanceof ke))(be,y||(y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(be,tt):be)}function Qe(be){if(be instanceof IDBRequest)return function(be){const q=new Promise((ke,yt)=>{const Ot=()=>{be.removeEventListener("success",un),be.removeEventListener("error",Ut)},un=()=>{ke(Qe(be.result)),Ot()},Ut=()=>{yt(be.error),Ot()};be.addEventListener("success",un),be.addEventListener("error",Ut)});return q.then(ke=>{ke instanceof IDBCursor&&De.set(ke,be)}).catch(()=>{}),Te.set(q,be),q}(be);if(se.has(be))return se.get(be);const q=Me(be);return q!==be&&(se.set(be,q),Te.set(q,be)),q}const Qt=be=>Te.get(be);function hn(be,q,{blocked:ke,upgrade:yt,blocking:Ot,terminated:un}={}){const Ut=indexedDB.open(be,q),jn=Qe(Ut);return yt&&Ut.addEventListener("upgradeneeded",ii=>{yt(Qe(Ut.result),ii.oldVersion,ii.newVersion,Qe(Ut.transaction))}),ke&&Ut.addEventListener("blocked",()=>ke()),jn.then(ii=>{un&&ii.addEventListener("close",()=>un()),Ot&&ii.addEventListener("versionchange",()=>Ot())}).catch(()=>{}),jn}function Gt(be,{blocked:q}={}){const ke=indexedDB.deleteDatabase(be);return q&&ke.addEventListener("blocked",()=>q()),Qe(ke).then(()=>{})}const Et=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],Ke=new Map;function ze(be,q){if(!(be instanceof IDBDatabase)||q in be||"string"!=typeof q)return;if(Ke.get(q))return Ke.get(q);const ke=q.replace(/FromIndex$/,""),yt=q!==ke,Ot=ut.includes(ke);if(!(ke in(yt?IDBIndex:IDBObjectStore).prototype)||!Ot&&!Et.includes(ke))return;const un=function(){var Ut=(0,_.Z)(function*(jn,...ii){const Gn=this.transaction(jn,Ot?"readwrite":"readonly");let Qn=Gn.store;return yt&&(Qn=Qn.index(ii.shift())),(yield Promise.all([Qn[ke](...ii),Ot&&Gn.done]))[0]});return function(ii){return Ut.apply(this,arguments)}}();return Ke.set(q,un),un}var be;tt=yw(_w({},be=tt),{get:(q,ke,yt)=>ze(q,ke)||be.get(q,ke,yt),has:(q,ke)=>!!ze(q,ke)||be.has(q,ke)})},2290:(In,mt,D)=>{"use strict";D.d(mt,{Rh:()=>Gn,_W:()=>Ut});var _=D(7716),m=D(7238),y=D(9765),d=D(8583),he=D(9075);const U=["toast-component",""];function De(Ae,de){if(1&Ae){const te=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){return _.CHM(te),_.oxw().remove()}),_.TgZ(1,"span",6),_._uU(2,"\xd7"),_.qZA(),_.qZA()}}function le(Ae,de){if(1&Ae&&(_.ynx(0),_._uU(1),_.BQk()),2&Ae){const te=_.oxw(2);_.xp6(1),_.hij("[",te.duplicatesCount+1,"]")}}function Ee(Ae,de){if(1&Ae&&(_.TgZ(0,"div"),_._uU(1),_.YNc(2,le,2,1,"ng-container",4),_.qZA()),2&Ae){const te=_.oxw();_.Tol(te.options.titleClass),_.uIk("aria-label",te.title),_.xp6(1),_.hij(" ",te.title," "),_.xp6(1),_.Q6J("ngIf",te.duplicatesCount)}}function se(Ae,de){if(1&Ae&&_._UZ(0,"div",7),2&Ae){const te=_.oxw();_.Tol(te.options.messageClass),_.Q6J("innerHTML",te.message,_.oJD)}}function Te(Ae,de){if(1&Ae&&(_.TgZ(0,"div",8),_._uU(1),_.qZA()),2&Ae){const te=_.oxw();_.Tol(te.options.messageClass),_.uIk("aria-label",te.message),_.xp6(1),_.hij(" ",te.message," ")}}function oe(Ae,de){if(1&Ae&&(_.TgZ(0,"div"),_._UZ(1,"div",9),_.qZA()),2&Ae){const te=_.oxw();_.xp6(1),_.Udp("width",te.width+"%")}}function Ye(Ae,de){if(1&Ae){const te=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){return _.CHM(te),_.oxw().remove()}),_.TgZ(1,"span",6),_._uU(2,"\xd7"),_.qZA(),_.qZA()}}function tt(Ae,de){if(1&Ae&&(_.ynx(0),_._uU(1),_.BQk()),2&Ae){const te=_.oxw(2);_.xp6(1),_.hij("[",te.duplicatesCount+1,"]")}}function Xe(Ae,de){if(1&Ae&&(_.TgZ(0,"div"),_._uU(1),_.YNc(2,tt,2,1,"ng-container",4),_.qZA()),2&Ae){const te=_.oxw();_.Tol(te.options.titleClass),_.uIk("aria-label",te.title),_.xp6(1),_.hij(" ",te.title," "),_.xp6(1),_.Q6J("ngIf",te.duplicatesCount)}}function nt(Ae,de){if(1&Ae&&_._UZ(0,"div",7),2&Ae){const te=_.oxw();_.Tol(te.options.messageClass),_.Q6J("innerHTML",te.message,_.oJD)}}function Me(Ae,de){if(1&Ae&&(_.TgZ(0,"div",8),_._uU(1),_.qZA()),2&Ae){const te=_.oxw();_.Tol(te.options.messageClass),_.uIk("aria-label",te.message),_.xp6(1),_.hij(" ",te.message," ")}}function Qe(Ae,de){if(1&Ae&&(_.TgZ(0,"div"),_._UZ(1,"div",9),_.qZA()),2&Ae){const te=_.oxw();_.xp6(1),_.Udp("width",te.width+"%")}}class Gt{constructor(de,te){this.component=de,this.injector=te}attach(de,te){return this._attachedHost=de,de.attach(this,te)}detach(){const de=this._attachedHost;if(de)return this._attachedHost=void 0,de.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(de){this._attachedHost=de}}class ut{constructor(de,te,Be,Pe,bt,ct){this.toastId=de,this.config=te,this.message=Be,this.title=Pe,this.toastType=bt,this.toastRef=ct,this._onTap=new y.xQ,this._onAction=new y.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(de){this._onAction.next(de)}onAction(){return this._onAction.asObservable()}}const Ke={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},ze=new _.OlP("ToastConfig");class be{constructor(de){this._overlayRef=de,this.duplicatesCount=0,this._afterClosed=new y.xQ,this._activate=new y.xQ,this._manualClose=new y.xQ,this._resetTimeout=new y.xQ,this._countDuplicate=new y.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(de,te){de&&this._resetTimeout.next(),te&&this._countDuplicate.next(++this.duplicatesCount)}}class q{constructor(de,te){this._toastPackage=de,this._parentInjector=te}get(de,te,Be){return de===ut?this._toastPackage:this._parentInjector.get(de,te,Be)}}class ke extends class{attach(de,te){return this._attachedPortal=de,this.attachComponentPortal(de,te)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(de){this._disposeFn=de}}{constructor(de,te,Be){super(),this._hostDomElement=de,this._componentFactoryResolver=te,this._appRef=Be}attachComponentPortal(de,te){const Be=this._componentFactoryResolver.resolveComponentFactory(de.component);let Pe;return Pe=Be.create(de.injector),this._appRef.attachView(Pe.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Pe.hostView),Pe.destroy()}),te?this._hostDomElement.insertBefore(this._getComponentRootNode(Pe),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Pe)),Pe}_getComponentRootNode(de){return de.hostView.rootNodes[0]}}class yt{constructor(de){this._portalHost=de}attach(de,te=!0){return this._portalHost.attach(de,te)}detach(){return this._portalHost.detach()}}let Ot=(()=>{class Ae{constructor(te){this._document=te}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const te=this._document.createElement("div");te.classList.add("overlay-container"),te.setAttribute("aria-live","polite"),this._document.body.appendChild(te),this._containerElement=te}}return Ae.\u0275fac=function(te){return new(te||Ae)(_.LFG(d.K0))},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),un=(()=>{class Ae{constructor(te,Be,Pe,bt){this._overlayContainer=te,this._componentFactoryResolver=Be,this._appRef=Pe,this._document=bt,this._paneElements=new Map}create(te,Be){return this._createOverlayRef(this.getPaneElement(te,Be))}getPaneElement(te="",Be){return this._paneElements.get(Be)||this._paneElements.set(Be,{}),this._paneElements.get(Be)[te]||(this._paneElements.get(Be)[te]=this._createPaneElement(te,Be)),this._paneElements.get(Be)[te]}_createPaneElement(te,Be){const Pe=this._document.createElement("div");return Pe.id="toast-container",Pe.classList.add(te),Pe.classList.add("toast-container"),Be?Be.getContainerElement().appendChild(Pe):this._overlayContainer.getContainerElement().appendChild(Pe),Pe}_createPortalHost(te){return new ke(te,this._componentFactoryResolver,this._appRef)}_createOverlayRef(te){return new yt(this._createPortalHost(te))}}return Ae.\u0275fac=function(te){return new(te||Ae)(_.LFG(Ot),_.LFG(_._Vd),_.LFG(_.z2F),_.LFG(d.K0))},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),Ut=(()=>{class Ae{constructor(te,Be,Pe,bt,ct){this.overlay=Be,this._injector=Pe,this.sanitizer=bt,this.ngZone=ct,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},te.default),te.config),te.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},te.default.iconClasses),te.config.iconClasses))}show(te,Be,Pe={},bt=""){return this._preBuildNotification(bt,te,Be,this.applyConfig(Pe))}success(te,Be,Pe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",te,Be,this.applyConfig(Pe))}error(te,Be,Pe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",te,Be,this.applyConfig(Pe))}info(te,Be,Pe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",te,Be,this.applyConfig(Pe))}warning(te,Be,Pe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",te,Be,this.applyConfig(Pe))}clear(te){for(const Be of this.toasts)if(void 0!==te){if(Be.toastId===te)return void Be.toastRef.manualClose()}else Be.toastRef.manualClose()}remove(te){const Be=this._findToast(te);if(!Be||(Be.activeToast.toastRef.close(),this.toasts.splice(Be.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Pe=this.toasts[this.currentlyActive].toastRef;Pe.isInactive()||(this.currentlyActive=this.currentlyActive+1,Pe.activate())}return!0}findDuplicate(te="",Be="",Pe,bt){const{includeTitleDuplicates:ct}=this.toastrConfig;for(const Ft of this.toasts){const me=ct&&Ft.title===te;if((!ct||me)&&Ft.message===Be)return Ft.toastRef.onDuplicate(Pe,bt),Ft}return null}applyConfig(te={}){return Object.assign(Object.assign({},this.toastrConfig),te)}_findToast(te){for(let Be=0;Be<this.toasts.length;Be++)if(this.toasts[Be].toastId===te)return{index:Be,activeToast:this.toasts[Be]};return null}_preBuildNotification(te,Be,Pe,bt){return bt.onActivateTick?this.ngZone.run(()=>this._buildNotification(te,Be,Pe,bt)):this._buildNotification(te,Be,Pe,bt)}_buildNotification(te,Be,Pe,bt){if(!bt.toastComponent)throw new Error("toastComponent required");const ct=this.findDuplicate(Pe,Be,this.toastrConfig.resetTimeoutOnDuplicate&&bt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Pe||Be)&&this.toastrConfig.preventDuplicates&&null!==ct)return ct;this.previousToastMessage=Be;let Ft=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Ft=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const me=this.overlay.create(bt.positionClass,this.overlayContainer);this.index=this.index+1;let rt=Be;Be&&bt.enableHtml&&(rt=this.sanitizer.sanitize(_.q3G.HTML,Be));const je=new be(me),We=new ut(this.index,bt,rt,Pe,te,je),at=new q(We,this._injector),fn=new Gt(bt.toastComponent,at),jt=me.attach(fn,this.toastrConfig.newestOnTop);je.componentInstance=jt.instance;const cn={toastId:this.index,title:Pe||"",message:Be||"",toastRef:je,onShown:je.afterActivate(),onHidden:je.afterClosed(),onTap:We.onTap(),onAction:We.onAction(),portal:jt};return Ft||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{cn.toastRef.activate()})),this.toasts.push(cn),cn}}return Ae.\u0275fac=function(te){return new(te||Ae)(_.LFG(ze),_.LFG(un),_.LFG(_.zs3),_.LFG(he.H7),_.LFG(_.R0b))},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),jn=(()=>{class Ae{constructor(te,Be,Pe){this.toastrService=te,this.toastPackage=Be,this.ngZone=Pe,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Be.message,this.title=Be.title,this.options=Be.config,this.originalTimeout=Be.config.timeOut,this.toastClasses=`${Be.toastType} ${Be.config.toastClass}`,this.sub=Be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Be.toastRef.countDuplicate().subscribe(bt=>{this.duplicatesCount=bt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const te=(new Date).getTime();this.width=(this.hideTime-te)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(te,Be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(te),Be)):this.timeout=setTimeout(()=>te(),Be)}outsideInterval(te,Be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(te),Be)):this.intervalId=setInterval(()=>te(),Be)}runInsideAngular(te){this.ngZone?this.ngZone.run(()=>te()):te()}}return Ae.\u0275fac=function(te){return new(te||Ae)(_.Y36(Ut),_.Y36(ut),_.Y36(_.R0b))},Ae.\u0275cmp=_.Xpm({type:Ae,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(te,Be){1&te&&_.NdJ("click",function(){return Be.tapToast()})("mouseenter",function(){return Be.stickAround()})("mouseleave",function(){return Be.delayedHideToast()}),2&te&&(_.d8E("@flyInOut",Be.state),_.Tol(Be.toastClasses),_.Udp("display",Be.displayStyle))},attrs:U,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(te,Be){1&te&&(_.YNc(0,De,3,0,"button",0),_.YNc(1,Ee,3,5,"div",1),_.YNc(2,se,1,3,"div",2),_.YNc(3,Te,2,4,"div",3),_.YNc(4,oe,2,2,"div",4)),2&te&&(_.Q6J("ngIf",Be.options.closeButton),_.xp6(1),_.Q6J("ngIf",Be.title),_.xp6(1),_.Q6J("ngIf",Be.message&&Be.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Be.message&&!Be.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Be.options.progressBar))},directives:[d.O5],encapsulation:2,data:{animation:[(0,m.X$)("flyInOut",[(0,m.SB)("inactive",(0,m.oB)({opacity:0})),(0,m.SB)("active",(0,m.oB)({opacity:1})),(0,m.SB)("removed",(0,m.oB)({opacity:0})),(0,m.eR)("inactive => active",(0,m.jt)("{{ easeTime }}ms {{ easing }}")),(0,m.eR)("active => removed",(0,m.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Ae})();const ii=Object.assign(Object.assign({},Ke),{toastComponent:jn});let Gn=(()=>{class Ae{static forRoot(te={}){return{ngModule:Ae,providers:[{provide:ze,useValue:{default:ii,config:te}}]}}}return Ae.\u0275fac=function(te){return new(te||Ae)},Ae.\u0275mod=_.oAB({type:Ae}),Ae.\u0275inj=_.cJS({imports:[[d.ez]]}),Ae})(),kn=(()=>{class Ae{constructor(te,Be,Pe){this.toastrService=te,this.toastPackage=Be,this.appRef=Pe,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Be.message,this.title=Be.title,this.options=Be.config,this.originalTimeout=Be.config.timeOut,this.toastClasses=`${Be.toastType} ${Be.config.toastClass}`,this.sub=Be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Be.toastRef.countDuplicate().subscribe(bt=>{this.duplicatesCount=bt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const te=(new Date).getTime();this.width=(this.hideTime-te)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return Ae.\u0275fac=function(te){return new(te||Ae)(_.Y36(Ut),_.Y36(ut),_.Y36(_.z2F))},Ae.\u0275cmp=_.Xpm({type:Ae,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(te,Be){1&te&&_.NdJ("click",function(){return Be.tapToast()})("mouseenter",function(){return Be.stickAround()})("mouseleave",function(){return Be.delayedHideToast()}),2&te&&(_.Tol(Be.toastClasses),_.Udp("display",Be.displayStyle))},attrs:U,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(te,Be){1&te&&(_.YNc(0,Ye,3,0,"button",0),_.YNc(1,Xe,3,5,"div",1),_.YNc(2,nt,1,3,"div",2),_.YNc(3,Me,2,4,"div",3),_.YNc(4,Qe,2,2,"div",4)),2&te&&(_.Q6J("ngIf",Be.options.closeButton),_.xp6(1),_.Q6J("ngIf",Be.title),_.xp6(1),_.Q6J("ngIf",Be.message&&Be.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Be.message&&!Be.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Be.options.progressBar))},directives:[d.O5],encapsulation:2}),Ae})();Object.assign(Object.assign({},Ke),{toastComponent:kn})},8239:(In,mt,D)=>{"use strict";function _(y,d,he,U,De,le,Ee){try{var se=y[le](Ee),Te=se.value}catch(oe){return void he(oe)}se.done?d(Te):Promise.resolve(Te).then(U,De)}function m(y){return function(){var d=this,he=arguments;return new Promise(function(U,De){var le=y.apply(d,he);function Ee(Te){_(le,U,De,Ee,se,"next",Te)}function se(Te){_(le,U,De,Ee,se,"throw",Te)}Ee(void 0)})}}D.d(mt,{Z:()=>m})}},In=>{In(In.s=7521)}]);